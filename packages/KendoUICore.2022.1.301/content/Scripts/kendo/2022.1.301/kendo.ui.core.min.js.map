{"version":3,"file":"kendo.ui.core.min.js","sources":["kendo.ui.core.js"],"sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function(f, define){\n    define('kendo.core',['jquery'], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"core\",\n    name: \"Core\",\n    category: \"framework\",\n    description: \"The core of the Kendo framework.\"\n};\n\n/*jshint eqnull: true, loopfunc: true, evil: true, boss: true, freeze: false*/\n(function($, window, undefined) {\n    var kendo = window.kendo = window.kendo || { cultures: {} },\n        extend = $.extend,\n        each = $.each,\n        isArray = Array.isArray,\n        proxy = $.proxy,\n        noop = $.noop,\n        math = Math,\n        Template,\n        JSON = window.JSON || {},\n        support = {},\n        percentRegExp = /%/,\n        formatRegExp = /\\{(\\d+)(:[^\\}]+)?\\}/g,\n        boxShadowRegExp = /(\\d+(?:\\.?)\\d*)px\\s*(\\d+(?:\\.?)\\d*)px\\s*(\\d+(?:\\.?)\\d*)px\\s*(\\d+)?/i,\n        numberRegExp = /^(\\+|-?)\\d+(\\.?)\\d*$/,\n        FUNCTION = \"function\",\n        STRING = \"string\",\n        NUMBER = \"number\",\n        OBJECT = \"object\",\n        NULL = \"null\",\n        BOOLEAN = \"boolean\",\n        UNDEFINED = \"undefined\",\n        PREFIX = \"prefix\",\n        getterCache = {},\n        setterCache = {},\n        slice = [].slice,\n        cssPropertiesNames = [ \"themeColor\", \"fillMode\", \"shape\", \"size\", \"rounded\", \"positionMode\" ],\n        // avoid extending the depricated properties in latest verions of jQuery\n        noDepricateExtend = function() {\n            var src, copyIsArray, copy, name, options, clone,\n                target = arguments[ 0 ] || {},\n                i = 1,\n                length = arguments.length,\n                deep = false;\n\n            // Handle a deep copy situation\n            if ( typeof target === \"boolean\" ) {\n                deep = target;\n\n                // skip the boolean and the target\n                target = arguments[ i ] || {};\n                i++;\n            }\n\n            // Handle case when target is a string or something (possible in deep copy)\n            if ( typeof target !== \"object\" && typeof target !== \"function\") {\n                target = {};\n            }\n\n            // extend jQuery itself if only one argument is passed\n            if ( i === length ) {\n                target = this;\n                i--;\n            }\n\n            for ( ; i < length; i++ ) {\n\n                // Only deal with non-null/undefined values\n                if ( ( options = arguments[ i ] ) != null ) {\n\n                    // Extend the base object\n                    for ( name in options ) {\n                        // filters, concat and : properties are depricated in the jQuery 3.3.0\n                        // accessing these properties throw a warning when jQuery migrate is included\n                        if (name == \"filters\" || name == \"concat\" || name == \":\") {\n                            continue;\n                        }\n                        src = target[ name ];\n                        copy = options[ name ];\n\n                        // Prevent never-ending loop\n                        if ( target === copy ) {\n                            continue;\n                        }\n\n                        // Recurse if we're merging plain objects or arrays\n                        if ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n                            ( copyIsArray = Array.isArray( copy ) ) ) ) {\n\n                            if ( copyIsArray ) {\n                                copyIsArray = false;\n                                clone = src && Array.isArray( src ) ? src : [];\n\n                            } else {\n                                clone = src && jQuery.isPlainObject( src ) ? src : {};\n                            }\n\n                            // Never move original objects, clone them\n                            target[ name ] = noDepricateExtend( deep, clone, copy );\n\n                        // Don't bring in undefined values\n                        } else if ( copy !== undefined ) {\n                            target[ name ] = copy;\n                        }\n                    }\n                }\n            }\n\n            // Return the modified object\n            return target;\n        };\n\n    kendo.version = \"2022.1.301\".replace(/^\\s+|\\s+$/g, '');\n\n    function Class() {}\n\n    Class.extend = function(proto) {\n        var base = function() {},\n            member,\n            that = this,\n            subclass = proto && proto.init ? proto.init : function () {\n                that.apply(this, arguments);\n            },\n            fn;\n\n        base.prototype = that.prototype;\n        fn = subclass.fn = subclass.prototype = new base();\n\n        for (member in proto) {\n            if (proto[member] != null && proto[member].constructor === Object) {\n                // Merge object members\n                fn[member] = extend(true, {}, base.prototype[member], proto[member]);\n            } else {\n                fn[member] = proto[member];\n            }\n        }\n\n        fn.constructor = subclass;\n        subclass.extend = that.extend;\n\n        return subclass;\n    };\n\n    Class.prototype._initOptions = function(options) {\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    var isFunction = kendo.isFunction = function(fn) {\n        return typeof fn === \"function\";\n    };\n\n    var preventDefault = function() {\n        this._defaultPrevented = true;\n    };\n\n    var isDefaultPrevented = function() {\n        return this._defaultPrevented === true;\n    };\n\n    var Observable = Class.extend({\n        init: function() {\n            this._events = {};\n        },\n\n        bind: function(eventName, handlers, one) {\n            var that = this,\n                idx,\n                eventNames = typeof eventName === STRING ? [eventName] : eventName,\n                length,\n                original,\n                handler,\n                handlersIsFunction = typeof handlers === FUNCTION,\n                events;\n\n            if (handlers === undefined) {\n                for (idx in eventName) {\n                    that.bind(idx, eventName[idx]);\n                }\n                return that;\n            }\n\n            for (idx = 0, length = eventNames.length; idx < length; idx++) {\n                eventName = eventNames[idx];\n\n                handler = handlersIsFunction ? handlers : handlers[eventName];\n\n                if (handler) {\n                    if (one) {\n                        original = handler;\n                        handler = function() {\n                            that.unbind(eventName, handler);\n                            original.apply(that, arguments);\n                        };\n                        handler.original = original;\n                    }\n                    events = that._events[eventName] = that._events[eventName] || [];\n                    events.push(handler);\n                }\n            }\n\n            return that;\n        },\n\n        one: function(eventNames, handlers) {\n            return this.bind(eventNames, handlers, true);\n        },\n\n        first: function(eventName, handlers) {\n            var that = this,\n                idx,\n                eventNames = typeof eventName === STRING ? [eventName] : eventName,\n                length,\n                handler,\n                handlersIsFunction = typeof handlers === FUNCTION,\n                events;\n\n            for (idx = 0, length = eventNames.length; idx < length; idx++) {\n                eventName = eventNames[idx];\n\n                handler = handlersIsFunction ? handlers : handlers[eventName];\n\n                if (handler) {\n                    events = that._events[eventName] = that._events[eventName] || [];\n                    events.unshift(handler);\n                }\n            }\n\n            return that;\n        },\n\n        trigger: function(eventName, e) {\n            var that = this,\n                events = that._events[eventName],\n                idx,\n                length;\n\n            if (events) {\n                e = e || {};\n\n                e.sender = that;\n\n                e._defaultPrevented = false;\n\n                e.preventDefault = preventDefault;\n\n                e.isDefaultPrevented = isDefaultPrevented;\n\n                events = events.slice();\n\n                for (idx = 0, length = events.length; idx < length; idx++) {\n                    events[idx].call(that, e);\n                }\n\n                return e._defaultPrevented === true;\n            }\n\n            return false;\n        },\n\n        unbind: function(eventName, handler) {\n            var that = this,\n                events = that._events[eventName],\n                idx;\n\n            if (eventName === undefined) {\n                that._events = {};\n            } else if (events) {\n                if (handler) {\n                    for (idx = events.length - 1; idx >= 0; idx--) {\n                        if (events[idx] === handler || events[idx].original === handler) {\n                            events.splice(idx, 1);\n                        }\n                    }\n                } else {\n                    that._events[eventName] = [];\n                }\n            }\n\n            return that;\n        }\n    });\n\n\n     function compilePart(part, stringPart) {\n         if (stringPart) {\n             return \"'\" +\n                 part.split(\"'\").join(\"\\\\'\")\n                     .split('\\\\\"').join('\\\\\\\\\\\\\"')\n                     .replace(/\\n/g, \"\\\\n\")\n                     .replace(/\\r/g, \"\\\\r\")\n                     .replace(/\\t/g, \"\\\\t\") + \"'\";\n         } else {\n             var first = part.charAt(0),\n                 rest = part.substring(1);\n\n             if (first === \"=\") {\n                 return \"+(\" + rest + \")+\";\n             } else if (first === \":\") {\n                 return \"+$kendoHtmlEncode(\" + rest + \")+\";\n             } else {\n                 return \";\" + part + \";$kendoOutput+=\";\n             }\n         }\n     }\n\n    var argumentNameRegExp = /^\\w+/,\n        encodeRegExp = /\\$\\{([^}]*)\\}/g,\n        escapedCurlyRegExp = /\\\\\\}/g,\n        curlyRegExp = /__CURLY__/g,\n        escapedSharpRegExp = /\\\\#/g,\n        sharpRegExp = /__SHARP__/g,\n        zeros = [\"\", \"0\", \"00\", \"000\", \"0000\"];\n\n    Template = {\n        paramName: \"data\", // name of the parameter of the generated template\n        useWithBlock: true, // whether to wrap the template in a with() block\n        render: function(template, data) {\n            var idx,\n                length,\n                html = \"\";\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                html += template(data[idx]);\n            }\n\n            return html;\n        },\n        compile: function(template, options) {\n            var settings = extend({}, this, options),\n                paramName = settings.paramName,\n                argumentName = paramName.match(argumentNameRegExp)[0],\n                useWithBlock = settings.useWithBlock,\n                functionBody = \"var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;\",\n                fn,\n                parts,\n                idx;\n\n            if (isFunction(template)) {\n                return template;\n            }\n\n            functionBody += useWithBlock ? \"with(\" + paramName + \"){\" : \"\";\n\n            functionBody += \"$kendoOutput=\";\n\n            parts = template\n                .replace(escapedCurlyRegExp, \"__CURLY__\")\n                .replace(encodeRegExp, \"#=$kendoHtmlEncode($1)#\")\n                .replace(curlyRegExp, \"}\")\n                .replace(escapedSharpRegExp, \"__SHARP__\")\n                .split(\"#\");\n\n            for (idx = 0; idx < parts.length; idx ++) {\n                functionBody += compilePart(parts[idx], idx % 2 === 0);\n            }\n\n            functionBody += useWithBlock ? \";}\" : \";\";\n\n            functionBody += \"return $kendoOutput;\";\n\n            functionBody = functionBody.replace(sharpRegExp, \"#\");\n\n            try {\n                fn = new Function(argumentName, functionBody);\n                fn._slotCount = Math.floor(parts.length / 2);\n                return fn;\n            } catch(e) {\n                throw new Error(kendo.format(\"Invalid template:'{0}' Generated code:'{1}'\", template, functionBody));\n            }\n        }\n    };\n\nfunction pad(number, digits, end) {\n    number = number + \"\";\n    digits = digits || 2;\n    end = digits - number.length;\n\n    if (end) {\n        return zeros[digits].substring(0, end) + number;\n    }\n\n    return number;\n}\n\n    //JSON stringify\n(function() {\n    var escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        gap,\n        indent,\n        meta = {\n            \"\\b\": \"\\\\b\",\n            \"\\t\": \"\\\\t\",\n            \"\\n\": \"\\\\n\",\n            \"\\f\": \"\\\\f\",\n            \"\\r\": \"\\\\r\",\n            \"\\\"\" : '\\\\\"',\n            \"\\\\\": \"\\\\\\\\\"\n        },\n        rep,\n        toString = {}.toString;\n\n\n    if (typeof Date.prototype.toJSON !== FUNCTION) {\n\n        Date.prototype.toJSON = function () {\n            var that = this;\n\n            return isFinite(that.valueOf()) ?\n                pad(that.getUTCFullYear(), 4) + \"-\" +\n                pad(that.getUTCMonth() + 1)   + \"-\" +\n                pad(that.getUTCDate())        + \"T\" +\n                pad(that.getUTCHours())       + \":\" +\n                pad(that.getUTCMinutes())     + \":\" +\n                pad(that.getUTCSeconds())     + \"Z\" : null;\n        };\n\n        String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function () {\n            return this.valueOf();\n        };\n    }\n\n    function quote(string) {\n        escapable.lastIndex = 0;\n        return escapable.test(string) ? \"\\\"\" + string.replace(escapable, function (a) {\n            var c = meta[a];\n            return typeof c === STRING ? c :\n                \"\\\\u\" + (\"0000\" + a.charCodeAt(0).toString(16)).slice(-4);\n        }) + \"\\\"\" : \"\\\"\" + string + \"\\\"\";\n    }\n\n    function str(key, holder) {\n        var i,\n            k,\n            v,\n            length,\n            mind = gap,\n            partial,\n            value = holder[key],\n            type;\n\n        if (value && typeof value === OBJECT && typeof value.toJSON === FUNCTION) {\n            value = value.toJSON(key);\n        }\n\n        if (typeof rep === FUNCTION) {\n            value = rep.call(holder, key, value);\n        }\n\n        type = typeof value;\n        if (type === STRING) {\n            return quote(value);\n        } else if (type === NUMBER) {\n            return isFinite(value) ? String(value) : NULL;\n        } else if (type === BOOLEAN || type === NULL) {\n            return String(value);\n        } else if (type === OBJECT) {\n            if (!value) {\n                return NULL;\n            }\n            gap += indent;\n            partial = [];\n            if (toString.apply(value) === \"[object Array]\") {\n                length = value.length;\n                for (i = 0; i < length; i++) {\n                    partial[i] = str(i, value) || NULL;\n                }\n                v = partial.length === 0 ? \"[]\" : gap ?\n                    \"[\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"]\" :\n                    \"[\" + partial.join(\",\") + \"]\";\n                gap = mind;\n                return v;\n            }\n            if (rep && typeof rep === OBJECT) {\n                length = rep.length;\n                for (i = 0; i < length; i++) {\n                    if (typeof rep[i] === STRING) {\n                        k = rep[i];\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? \": \" : \":\") + v);\n                        }\n                    }\n                }\n            } else {\n                for (k in value) {\n                    if (Object.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? \": \" : \":\") + v);\n                        }\n                    }\n                }\n            }\n\n            v = partial.length === 0 ? \"{}\" : gap ?\n                \"{\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"}\" :\n                \"{\" + partial.join(\",\") + \"}\";\n            gap = mind;\n            return v;\n        }\n    }\n\n    if (typeof JSON.stringify !== FUNCTION) {\n        JSON.stringify = function (value, replacer, space) {\n            var i;\n            gap = \"\";\n            indent = \"\";\n\n            if (typeof space === NUMBER) {\n                for (i = 0; i < space; i += 1) {\n                    indent += \" \";\n                }\n\n            } else if (typeof space === STRING) {\n                indent = space;\n            }\n\n            rep = replacer;\n            if (replacer && typeof replacer !== FUNCTION && (typeof replacer !== OBJECT || typeof replacer.length !== NUMBER)) {\n                throw new Error(\"JSON.stringify\");\n            }\n\n            return str(\"\", {\"\": value});\n        };\n    }\n})();\n\n// Date and Number formatting\n(function() {\n    var dateFormatRegExp = /dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|\"[^\"]*\"|'[^']*'/g,\n        standardFormatRegExp =  /^(n|c|p|e)(\\d*)$/i,\n        literalRegExp = /(\\\\.)|(['][^']*[']?)|([\"][^\"]*[\"]?)/g,\n        commaRegExp = /\\,/g,\n        EMPTY = \"\",\n        POINT = \".\",\n        COMMA = \",\",\n        SHARP = \"#\",\n        ZERO = \"0\",\n        PLACEHOLDER = \"??\",\n        EN = \"en-US\",\n        objectToString = {}.toString;\n\n    //cultures\n    kendo.cultures[\"en-US\"] = {\n        name: EN,\n        numberFormat: {\n            pattern: [\"-n\"],\n            decimals: 2,\n            \",\": \",\",\n            \".\": \".\",\n            groupSize: [3],\n            percent: {\n                pattern: [\"-n %\", \"n %\"],\n                decimals: 2,\n                \",\": \",\",\n                \".\": \".\",\n                groupSize: [3],\n                symbol: \"%\"\n            },\n            currency: {\n                name: \"US Dollar\",\n                abbr: \"USD\",\n                pattern: [\"($n)\", \"$n\"],\n                decimals: 2,\n                \",\": \",\",\n                \".\": \".\",\n                groupSize: [3],\n                symbol: \"$\"\n            }\n        },\n        calendars: {\n            standard: {\n                days: {\n                    names: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n                    namesAbbr: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n                    namesShort: [ \"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\" ]\n                },\n                months: {\n                    names: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n                    namesAbbr: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n                },\n                AM: [ \"AM\", \"am\", \"AM\" ],\n                PM: [ \"PM\", \"pm\", \"PM\" ],\n                patterns: {\n                    d: \"M/d/yyyy\",\n                    D: \"dddd, MMMM dd, yyyy\",\n                    F: \"dddd, MMMM dd, yyyy h:mm:ss tt\",\n                    g: \"M/d/yyyy h:mm tt\",\n                    G: \"M/d/yyyy h:mm:ss tt\",\n                    m: \"MMMM dd\",\n                    M: \"MMMM dd\",\n                    s: \"yyyy'-'MM'-'ddTHH':'mm':'ss\",\n                    t: \"h:mm tt\",\n                    T: \"h:mm:ss tt\",\n                    u: \"yyyy'-'MM'-'dd HH':'mm':'ss'Z'\",\n                    y: \"MMMM, yyyy\",\n                    Y: \"MMMM, yyyy\"\n                },\n                \"/\": \"/\",\n                \":\": \":\",\n                firstDay: 0,\n                twoDigitYearMax: 2029\n            }\n        }\n    };\n\n\n     function findCulture(culture) {\n        if (culture) {\n            if (culture.numberFormat) {\n                return culture;\n            }\n\n            if (typeof culture === STRING) {\n                var cultures = kendo.cultures;\n                return cultures[culture] || cultures[culture.split(\"-\")[0]] || null;\n            }\n\n            return null;\n        }\n\n        return null;\n    }\n\n    function getCulture(culture) {\n        if (culture) {\n            culture = findCulture(culture);\n        }\n\n        return culture || kendo.cultures.current;\n    }\n\n    kendo.culture = function(cultureName) {\n        var cultures = kendo.cultures, culture;\n\n        if (cultureName !== undefined) {\n            culture = findCulture(cultureName) || cultures[EN];\n            culture.calendar = culture.calendars.standard;\n            cultures.current = culture;\n        } else {\n            return cultures.current;\n        }\n    };\n\n    kendo.findCulture = findCulture;\n    kendo.getCulture = getCulture;\n\n    //set current culture to en-US.\n    kendo.culture(EN);\n\n    function formatDate(date, format, culture) {\n        culture = getCulture(culture);\n\n        var calendar = culture.calendars.standard,\n            days = calendar.days,\n            months = calendar.months;\n\n        format = calendar.patterns[format] || format;\n\n        return format.replace(dateFormatRegExp, function (match) {\n            var minutes;\n            var result;\n            var sign;\n\n            if (match === \"d\") {\n                result = date.getDate();\n            } else if (match === \"dd\") {\n                result = pad(date.getDate());\n            } else if (match === \"ddd\") {\n                result = days.namesAbbr[date.getDay()];\n            } else if (match === \"dddd\") {\n                result = days.names[date.getDay()];\n            } else if (match === \"M\") {\n                result = date.getMonth() + 1;\n            } else if (match === \"MM\") {\n                result = pad(date.getMonth() + 1);\n            } else if (match === \"MMM\") {\n                result = months.namesAbbr[date.getMonth()];\n            } else if (match === \"MMMM\") {\n                result = months.names[date.getMonth()];\n            } else if (match === \"yy\") {\n                result = pad(date.getFullYear() % 100);\n            } else if (match === \"yyyy\") {\n                result = pad(date.getFullYear(), 4);\n            } else if (match === \"h\" ) {\n                result = date.getHours() % 12 || 12;\n            } else if (match === \"hh\") {\n                result = pad(date.getHours() % 12 || 12);\n            } else if (match === \"H\") {\n                result = date.getHours();\n            } else if (match === \"HH\") {\n                result = pad(date.getHours());\n            } else if (match === \"m\") {\n                result = date.getMinutes();\n            } else if (match === \"mm\") {\n                result = pad(date.getMinutes());\n            } else if (match === \"s\") {\n                result = date.getSeconds();\n            } else if (match === \"ss\") {\n                result = pad(date.getSeconds());\n            } else if (match === \"f\") {\n                result = math.floor(date.getMilliseconds() / 100);\n            } else if (match === \"ff\") {\n                result = date.getMilliseconds();\n                if (result > 99) {\n                    result = math.floor(result / 10);\n                }\n                result = pad(result);\n            } else if (match === \"fff\") {\n                result = pad(date.getMilliseconds(), 3);\n            } else if (match === \"tt\") {\n                result = date.getHours() < 12 ? calendar.AM[0] : calendar.PM[0];\n            } else if (match === \"zzz\") {\n                minutes = date.getTimezoneOffset();\n                sign = minutes < 0;\n\n                result = math.abs(minutes / 60).toString().split(\".\")[0];\n                minutes = math.abs(minutes) - (result * 60);\n\n                result = (sign ? \"+\" : \"-\") + pad(result);\n                result += \":\" + pad(minutes);\n            } else if (match === \"zz\" || match === \"z\") {\n                result = date.getTimezoneOffset() / 60;\n                sign = result < 0;\n\n                result = math.abs(result).toString().split(\".\")[0];\n                result = (sign ? \"+\" : \"-\") + (match === \"zz\" ? pad(result) : result);\n            }\n\n            return result !== undefined ? result : match.slice(1, match.length - 1);\n        });\n    }\n\n    //number formatting\n    function formatNumber(number, format, culture) {\n        culture = getCulture(culture);\n\n        var numberFormat = culture.numberFormat,\n            decimal = numberFormat[POINT],\n            precision = numberFormat.decimals,\n            pattern = numberFormat.pattern[0],\n            literals = [],\n            symbol,\n            isCurrency, isPercent,\n            customPrecision,\n            formatAndPrecision,\n            negative = number < 0,\n            integer,\n            fraction,\n            integerLength,\n            fractionLength,\n            replacement = EMPTY,\n            value = EMPTY,\n            idx,\n            length,\n            ch,\n            hasGroup,\n            hasNegativeFormat,\n            decimalIndex,\n            sharpIndex,\n            zeroIndex,\n            hasZero, hasSharp,\n            percentIndex,\n            currencyIndex,\n            startZeroIndex,\n            start = -1,\n            end;\n\n        //return empty string if no number\n        if (number === undefined) {\n            return EMPTY;\n        }\n\n        if (!isFinite(number)) {\n            return number;\n        }\n\n        //if no format then return number.toString() or number.toLocaleString() if culture.name is not defined\n        if (!format) {\n            return culture.name.length ? number.toLocaleString() : number.toString();\n        }\n\n        formatAndPrecision = standardFormatRegExp.exec(format);\n\n        // standard formatting\n        if (formatAndPrecision) {\n            format = formatAndPrecision[1].toLowerCase();\n\n            isCurrency = format === \"c\";\n            isPercent = format === \"p\";\n\n            if (isCurrency || isPercent) {\n                //get specific number format information if format is currency or percent\n                numberFormat = isCurrency ? numberFormat.currency : numberFormat.percent;\n                decimal = numberFormat[POINT];\n                precision = numberFormat.decimals;\n                symbol = numberFormat.symbol;\n                pattern = numberFormat.pattern[negative ? 0 : 1];\n            }\n\n            customPrecision = formatAndPrecision[2];\n\n            if (customPrecision) {\n                precision = +customPrecision;\n            }\n\n            //return number in exponential format\n            if (format === \"e\") {\n                var exp = customPrecision ? number.toExponential(precision) : number.toExponential(); // toExponential() and toExponential(undefined) differ in FF #653438.\n\n                return exp.replace(POINT, numberFormat[POINT]);\n            }\n\n            // multiply if format is percent\n            if (isPercent) {\n                number *= 100;\n            }\n\n            number = round(number, precision);\n            negative = number < 0;\n            number = number.split(POINT);\n\n            integer = number[0];\n            fraction = number[1];\n\n            //exclude \"-\" if number is negative.\n            if (negative) {\n                integer = integer.substring(1);\n            }\n\n            value = groupInteger(integer, 0, integer.length, numberFormat);\n\n            if (fraction) {\n                value += decimal + fraction;\n            }\n\n            if (format === \"n\" && !negative) {\n                return value;\n            }\n\n            number = EMPTY;\n\n            for (idx = 0, length = pattern.length; idx < length; idx++) {\n                ch = pattern.charAt(idx);\n\n                if (ch === \"n\") {\n                    number += value;\n                } else if (ch === \"$\" || ch === \"%\") {\n                    number += symbol;\n                } else {\n                    number += ch;\n                }\n            }\n\n            return number;\n        }\n\n        //custom formatting\n        //\n        //separate format by sections.\n\n        if (format.indexOf(\"'\") > -1 || format.indexOf(\"\\\"\") > -1 || format.indexOf(\"\\\\\") > -1) {\n            format = format.replace(literalRegExp, function (match) {\n                var quoteChar = match.charAt(0).replace(\"\\\\\", \"\"),\n                    literal = match.slice(1).replace(quoteChar, \"\");\n\n                literals.push(literal);\n\n                return PLACEHOLDER;\n            });\n        }\n\n        format = format.split(\";\");\n        if (negative && format[1]) {\n            //get negative format\n            format = format[1];\n            hasNegativeFormat = true;\n        } else if (number === 0 && format[2]) {\n            //format for zeros\n            format = format[2];\n            if (format.indexOf(SHARP) == -1 && format.indexOf(ZERO) == -1) {\n                //return format if it is string constant.\n                return format;\n            }\n        } else {\n            format = format[0];\n        }\n\n        percentIndex = format.indexOf(\"%\");\n        currencyIndex = format.indexOf(\"$\");\n\n        isPercent = percentIndex != -1;\n        isCurrency = currencyIndex != -1;\n\n        //multiply number if the format has percent\n        if (isPercent) {\n            number *= 100;\n        }\n\n        if (isCurrency && format[currencyIndex - 1] === \"\\\\\") {\n            format = format.split(\"\\\\\").join(\"\");\n            isCurrency = false;\n        }\n\n        if (isCurrency || isPercent) {\n            //get specific number format information if format is currency or percent\n            numberFormat = isCurrency ? numberFormat.currency : numberFormat.percent;\n            decimal = numberFormat[POINT];\n            precision = numberFormat.decimals;\n            symbol = numberFormat.symbol;\n        }\n\n        hasGroup = format.indexOf(COMMA) > -1;\n        if (hasGroup) {\n            format = format.replace(commaRegExp, EMPTY);\n        }\n\n        decimalIndex = format.indexOf(POINT);\n        length = format.length;\n\n        if (decimalIndex != -1) {\n            fraction = number.toString().split(\"e\");\n            if (fraction[1]) {\n                fraction = round(number, Math.abs(fraction[1]));\n            } else {\n                fraction = fraction[0];\n            }\n            fraction = fraction.split(POINT)[1] || EMPTY;\n            zeroIndex = format.lastIndexOf(ZERO) - decimalIndex;\n            sharpIndex = format.lastIndexOf(SHARP) - decimalIndex;\n            hasZero = zeroIndex > -1;\n            hasSharp = sharpIndex > -1;\n            idx = fraction.length;\n\n            if (!hasZero && !hasSharp) {\n                format = format.substring(0, decimalIndex) + format.substring(decimalIndex + 1);\n                length = format.length;\n                decimalIndex = -1;\n                idx = 0;\n            }\n\n            if (hasZero && zeroIndex > sharpIndex) {\n                idx = zeroIndex;\n            } else if (sharpIndex > zeroIndex) {\n                if (hasSharp && idx > sharpIndex) {\n                    var rounded = round(number, sharpIndex, negative);\n\n                    while (rounded.charAt(rounded.length - 1) === ZERO && sharpIndex > 0 && sharpIndex > zeroIndex) {\n                        sharpIndex--;\n\n                        rounded = round(number, sharpIndex, negative);\n                    }\n\n                    idx = sharpIndex;\n                } else if (hasZero && idx < zeroIndex) {\n                    idx = zeroIndex;\n                }\n            }\n        }\n\n        number = round(number, idx, negative);\n\n        sharpIndex = format.indexOf(SHARP);\n        startZeroIndex = zeroIndex = format.indexOf(ZERO);\n\n        //define the index of the first digit placeholder\n        if (sharpIndex == -1 && zeroIndex != -1) {\n            start = zeroIndex;\n        } else if (sharpIndex != -1 && zeroIndex == -1) {\n            start = sharpIndex;\n        } else {\n            start = sharpIndex > zeroIndex ? zeroIndex : sharpIndex;\n        }\n\n        sharpIndex = format.lastIndexOf(SHARP);\n        zeroIndex = format.lastIndexOf(ZERO);\n\n        //define the index of the last digit placeholder\n        if (sharpIndex == -1 && zeroIndex != -1) {\n            end = zeroIndex;\n        } else if (sharpIndex != -1 && zeroIndex == -1) {\n            end = sharpIndex;\n        } else {\n            end = sharpIndex > zeroIndex ? sharpIndex : zeroIndex;\n        }\n\n        if (start == length) {\n            end = start;\n        }\n\n        if (start != -1) {\n            value = number.toString().split(POINT);\n            integer = value[0];\n            fraction = value[1] || EMPTY;\n\n            integerLength = integer.length;\n            fractionLength = fraction.length;\n\n            if (negative && (number * -1) >= 0) {\n                negative = false;\n            }\n\n            number = format.substring(0, start);\n\n            if (negative && !hasNegativeFormat) {\n                number += \"-\";\n            }\n\n            for (idx = start; idx < length; idx++) {\n                ch = format.charAt(idx);\n\n                if (decimalIndex == -1) {\n                    if (end - idx < integerLength) {\n                        number += integer;\n                        break;\n                    }\n                } else {\n                    if (zeroIndex != -1 && zeroIndex < idx) {\n                        replacement = EMPTY;\n                    }\n\n                    if ((decimalIndex - idx) <= integerLength && decimalIndex - idx > -1) {\n                        number += integer;\n                        idx = decimalIndex;\n                    }\n\n                    if (decimalIndex === idx) {\n                        number += (fraction ? decimal : EMPTY) + fraction;\n                        idx += end - decimalIndex + 1;\n                        continue;\n                    }\n                }\n\n                if (ch === ZERO) {\n                    number += ch;\n                    replacement = ch;\n                } else if (ch === SHARP) {\n                    number += replacement;\n                }\n            }\n\n            if (hasGroup) {\n                number = groupInteger(number, start + (negative && !hasNegativeFormat ? 1 : 0), Math.max(end, (integerLength + start)), numberFormat);\n            }\n\n            if (end >= start) {\n                number += format.substring(end + 1);\n            }\n\n            //replace symbol placeholders\n            if (isCurrency || isPercent) {\n                value = EMPTY;\n                for (idx = 0, length = number.length; idx < length; idx++) {\n                    ch = number.charAt(idx);\n                    value += (ch === \"$\" || ch === \"%\") ? symbol : ch;\n                }\n                number = value;\n            }\n\n            length = literals.length;\n\n            if (length) {\n                for (idx = 0; idx < length; idx++) {\n                    number = number.replace(PLACEHOLDER, literals[idx]);\n                }\n            }\n        }\n\n        return number;\n    }\n\n    var groupInteger = function(number, start, end, numberFormat) {\n        var decimalIndex = number.indexOf(numberFormat[POINT]);\n        var groupSizes = numberFormat.groupSize.slice();\n        var groupSize = groupSizes.shift();\n        var integer, integerLength;\n        var idx, parts, value;\n        var newGroupSize;\n\n        end = decimalIndex !== -1 ? decimalIndex : end + 1;\n\n        integer = number.substring(start, end);\n        integerLength = integer.length;\n\n        if (integerLength >= groupSize) {\n            idx = integerLength;\n            parts = [];\n\n            while (idx > -1) {\n                value = integer.substring(idx - groupSize, idx);\n                if (value) {\n                    parts.push(value);\n                }\n                idx -= groupSize;\n                newGroupSize = groupSizes.shift();\n                groupSize = newGroupSize !== undefined ? newGroupSize : groupSize;\n\n                if (groupSize === 0) {\n                    if (idx > 0) {\n                        parts.push(integer.substring(0, idx));\n                    }\n                    break;\n                }\n            }\n\n            integer = parts.reverse().join(numberFormat[COMMA]);\n            number = number.substring(0, start) + integer + number.substring(end);\n        }\n\n        return number;\n    };\n\n    var round = function(value, precision, negative) {\n        precision = precision || 0;\n\n        value = value.toString().split('e');\n        value = Math.round(+(value[0] + 'e' + (value[1] ? (+value[1] + precision) : precision)));\n\n        if (negative) {\n            value = -value;\n        }\n\n        value = value.toString().split('e');\n        value = +(value[0] + 'e' + (value[1] ? (+value[1] - precision) : -precision));\n\n        return value.toFixed(Math.min(precision, 20));\n    };\n\n    var toString = function(value, fmt, culture) {\n        if (fmt) {\n            if (objectToString.call(value) === \"[object Date]\") {\n                return formatDate(value, fmt, culture);\n            } else if (typeof value === NUMBER) {\n                return formatNumber(value, fmt, culture);\n            }\n        }\n\n        return value !== undefined ? value : \"\";\n    };\n\n    kendo.format = function(fmt) {\n        var values = arguments;\n\n        return fmt.replace(formatRegExp, function(match, index, placeholderFormat) {\n            var value = values[parseInt(index, 10) + 1];\n\n            return toString(value, placeholderFormat ? placeholderFormat.substring(1) : \"\");\n        });\n    };\n\n    kendo._extractFormat = function (format) {\n        if (format.slice(0,3) === \"{0:\") {\n            format = format.slice(3, format.length - 1);\n        }\n\n        return format;\n    };\n\n    kendo._activeElement = function() {\n        try {\n            return document.activeElement;\n        } catch(e) {\n            return document.documentElement.activeElement;\n        }\n    };\n\n    kendo._round = round;\n    kendo._outerWidth = function (element, includeMargin) { return $(element).outerWidth(includeMargin || false) || 0; };\n    kendo._outerHeight = function (element, includeMargin) { return $(element).outerHeight(includeMargin || false) || 0; };\n    kendo.toString = toString;\n})();\n\n\n(function() {\n    var nonBreakingSpaceRegExp = /\\u00A0/g,\n        spaceRegExp = /\\s/g,\n        exponentRegExp = /[eE][\\-+]?[0-9]+/,\n        shortTimeZoneRegExp = /[+|\\-]\\d{1,2}/,\n        longTimeZoneRegExp = /[+|\\-]\\d{1,2}:?\\d{2}/,\n        dateRegExp = /^\\/Date\\((.*?)\\)\\/$/,\n        offsetRegExp = /[+-]\\d*/,\n        FORMATS_SEQUENCE = [ [], [ \"G\", \"g\", \"F\" ], [ \"D\", \"d\", \"y\", \"m\", \"T\", \"t\" ] ],\n        STANDARD_FORMATS = [\n            [\n            \"yyyy-MM-ddTHH:mm:ss.fffffffzzz\",\n            \"yyyy-MM-ddTHH:mm:ss.fffffff\",\n            \"yyyy-MM-ddTHH:mm:ss.fffzzz\",\n            \"yyyy-MM-ddTHH:mm:ss.fff\",\n            \"ddd MMM dd yyyy HH:mm:ss\",\n            \"yyyy-MM-ddTHH:mm:sszzz\",\n            \"yyyy-MM-ddTHH:mmzzz\",\n            \"yyyy-MM-ddTHH:mmzz\",\n            \"yyyy-MM-ddTHH:mm:ss\",\n            \"yyyy-MM-dd HH:mm:ss\",\n            \"yyyy/MM/dd HH:mm:ss\"\n            ], [\n            \"yyyy-MM-ddTHH:mm\",\n            \"yyyy-MM-dd HH:mm\",\n            \"yyyy/MM/dd HH:mm\"\n            ], [\n            \"yyyy/MM/dd\",\n            \"yyyy-MM-dd\",\n            \"HH:mm:ss\",\n            \"HH:mm\"\n            ]\n        ],\n        numberRegExp = {\n            2: /^\\d{1,2}/,\n            3: /^\\d{1,3}/,\n            4: /^\\d{4}/\n        },\n        objectToString = {}.toString;\n\n    function outOfRange(value, start, end) {\n        return !(value >= start && value <= end);\n    }\n\n    function designatorPredicate(designator) {\n        return designator.charAt(0);\n    }\n\n    function mapDesignators(designators) {\n        return $.map(designators, designatorPredicate);\n    }\n\n    //if date's day is different than the typed one - adjust\n    function adjustDST(date, hours) {\n        if (!hours && date.getHours() === 23) {\n            date.setHours(date.getHours() + 2);\n        }\n    }\n\n    function lowerArray(data) {\n        var idx = 0,\n            length = data.length,\n            array = [];\n\n        for (; idx < length; idx++) {\n            array[idx] = (data[idx] + \"\").toLowerCase();\n        }\n\n        return array;\n    }\n\n    function lowerLocalInfo(localInfo) {\n        var newLocalInfo = {}, property;\n\n        for (property in localInfo) {\n            newLocalInfo[property] = lowerArray(localInfo[property]);\n        }\n\n        return newLocalInfo;\n    }\n\n    function parseExact(value, format, culture, strict) {\n        if (!value) {\n            return null;\n        }\n\n        var lookAhead = function (match) {\n                var i = 0;\n                while (format[idx] === match) {\n                    i++;\n                    idx++;\n                }\n                if (i > 0) {\n                    idx -= 1;\n                }\n                return i;\n            },\n            getNumber = function(size) {\n                var rg = numberRegExp[size] || new RegExp('^\\\\d{1,' + size + '}'),\n                    match = value.substr(valueIdx, size).match(rg);\n\n                if (match) {\n                    match = match[0];\n                    valueIdx += match.length;\n                    return parseInt(match, 10);\n                }\n                return null;\n            },\n            getIndexByName = function (names, lower) {\n                var i = 0,\n                    length = names.length,\n                    name, nameLength,\n                    matchLength = 0,\n                    matchIdx = 0,\n                    subValue;\n\n                for (; i < length; i++) {\n                    name = names[i];\n                    nameLength = name.length;\n                    subValue = value.substr(valueIdx, nameLength);\n\n                    if (lower) {\n                        subValue = subValue.toLowerCase();\n                    }\n\n                    if (subValue == name && nameLength > matchLength) {\n                        matchLength = nameLength;\n                        matchIdx = i;\n                    }\n                }\n\n                if (matchLength) {\n                    valueIdx += matchLength;\n                    return matchIdx + 1;\n                }\n\n                return null;\n            },\n            checkLiteral = function() {\n                var result = false;\n                if (value.charAt(valueIdx) === format[idx]) {\n                    valueIdx++;\n                    result = true;\n                }\n                return result;\n            },\n            calendar = culture.calendars.standard,\n            year = null,\n            month = null,\n            day = null,\n            hours = null,\n            minutes = null,\n            seconds = null,\n            milliseconds = null,\n            idx = 0,\n            valueIdx = 0,\n            literal = false,\n            date = new Date(),\n            twoDigitYearMax = calendar.twoDigitYearMax || 2029,\n            defaultYear = date.getFullYear(),\n            ch, count, length, pattern,\n            pmHour, UTC, matches,\n            amDesignators, pmDesignators,\n            hoursOffset, minutesOffset,\n            hasTime, match;\n\n        if (!format) {\n            format = \"d\"; //shord date format\n        }\n\n        //if format is part of the patterns get real format\n        pattern = calendar.patterns[format];\n        if (pattern) {\n            format = pattern;\n        }\n\n        format = format.split(\"\");\n        length = format.length;\n\n        for (; idx < length; idx++) {\n            ch = format[idx];\n\n            if (literal) {\n                if (ch === \"'\") {\n                    literal = false;\n                } else {\n                    checkLiteral();\n                }\n            } else {\n                if (ch === \"d\") {\n                    count = lookAhead(\"d\");\n                    if (!calendar._lowerDays) {\n                        calendar._lowerDays = lowerLocalInfo(calendar.days);\n                    }\n\n                    if (day !== null && count > 2) {\n                        continue;\n                    }\n\n                    day = count < 3 ? getNumber(2) : getIndexByName(calendar._lowerDays[count == 3 ? \"namesAbbr\" : \"names\"], true);\n\n                    if (day === null || outOfRange(day, 1, 31)) {\n                        return null;\n                    }\n                } else if (ch === \"M\") {\n                    count = lookAhead(\"M\");\n                    if (!calendar._lowerMonths) {\n                        calendar._lowerMonths = lowerLocalInfo(calendar.months);\n                    }\n                    month = count < 3 ? getNumber(2) : getIndexByName(calendar._lowerMonths[count == 3 ? 'namesAbbr' : 'names'], true);\n\n                    if (month === null || outOfRange(month, 1, 12)) {\n                        return null;\n                    }\n                    month -= 1; //because month is zero based\n                } else if (ch === \"y\") {\n                    count = lookAhead(\"y\");\n                    year = getNumber(count);\n\n                    if (year === null) {\n                        return null;\n                    }\n\n                    if (count == 2) {\n                        if (typeof twoDigitYearMax === \"string\") {\n                            twoDigitYearMax = defaultYear + parseInt(twoDigitYearMax, 10);\n                        }\n\n                        year = (defaultYear - defaultYear % 100) + year;\n                        if (year > twoDigitYearMax) {\n                            year -= 100;\n                        }\n                    }\n                } else if (ch === \"h\" ) {\n                    lookAhead(\"h\");\n                    hours = getNumber(2);\n                    if (hours == 12) {\n                        hours = 0;\n                    }\n                    if (hours === null || outOfRange(hours, 0, 11)) {\n                        return null;\n                    }\n                } else if (ch === \"H\") {\n                    lookAhead(\"H\");\n                    hours = getNumber(2);\n                    if (hours === null || outOfRange(hours, 0, 23)) {\n                        return null;\n                    }\n                } else if (ch === \"m\") {\n                    lookAhead(\"m\");\n                    minutes = getNumber(2);\n                    if (minutes === null || outOfRange(minutes, 0, 59)) {\n                        return null;\n                    }\n                } else if (ch === \"s\") {\n                    lookAhead(\"s\");\n                    seconds = getNumber(2);\n                    if (seconds === null || outOfRange(seconds, 0, 59)) {\n                        return null;\n                    }\n                } else if (ch === \"f\") {\n                    count = lookAhead(\"f\");\n\n                    match = value.substr(valueIdx, count).match(numberRegExp[3]);\n                    milliseconds = getNumber(count); //move value index position\n\n                    if (milliseconds !== null) {\n                        milliseconds = parseFloat(\"0.\" + match[0], 10);\n                        milliseconds = kendo._round(milliseconds, 3);\n                        milliseconds *= 1000;\n                    }\n\n                    if (milliseconds === null || outOfRange(milliseconds, 0, 999)) {\n                        return null;\n                    }\n\n                } else if (ch === \"t\") {\n                    count = lookAhead(\"t\");\n                    amDesignators = calendar.AM;\n                    pmDesignators = calendar.PM;\n\n                    if (count === 1) {\n                        amDesignators = mapDesignators(amDesignators);\n                        pmDesignators = mapDesignators(pmDesignators);\n                    }\n\n                    pmHour = getIndexByName(pmDesignators);\n                    if (!pmHour && !getIndexByName(amDesignators)) {\n                        return null;\n                    }\n                }\n                else if (ch === \"z\") {\n                    UTC = true;\n                    count = lookAhead(\"z\");\n\n                    if (value.substr(valueIdx, 1) === \"Z\") {\n                        checkLiteral();\n                        continue;\n                    }\n\n                    matches = value.substr(valueIdx, 6)\n                                   .match(count > 2 ? longTimeZoneRegExp : shortTimeZoneRegExp);\n\n                    if (!matches) {\n                        return null;\n                    }\n\n                    matches = matches[0].split(\":\");\n\n                    hoursOffset = matches[0];\n                    minutesOffset = matches[1];\n\n                    if (!minutesOffset && hoursOffset.length > 3) { //(+|-)[hh][mm] format is used\n                        valueIdx = hoursOffset.length - 2;\n                        minutesOffset = hoursOffset.substring(valueIdx);\n                        hoursOffset = hoursOffset.substring(0, valueIdx);\n                    }\n\n                    hoursOffset = parseInt(hoursOffset, 10);\n                    if (outOfRange(hoursOffset, -12, 13)) {\n                        return null;\n                    }\n\n                    if (count > 2) {\n                        minutesOffset = matches[0][0] + minutesOffset;\n                        minutesOffset = parseInt(minutesOffset, 10);\n                        if (isNaN(minutesOffset) || outOfRange(minutesOffset, -59, 59)) {\n                            return null;\n                        }\n                    }\n                } else if (ch === \"'\") {\n                    literal = true;\n                    checkLiteral();\n                } else if (!checkLiteral()) {\n                    return null;\n                }\n            }\n        }\n\n        // if more characters follow, assume wrong format\n        // https://github.com/telerik/kendo-ui-core/issues/3476\n        if (strict && !/^\\s*$/.test(value.substr(valueIdx))) {\n            return null;\n        }\n\n        hasTime = hours !== null || minutes !== null || seconds || null;\n\n        if (year === null && month === null && day === null && hasTime) {\n            year = defaultYear;\n            month = date.getMonth();\n            day = date.getDate();\n        } else {\n            if (year === null) {\n                year = defaultYear;\n            }\n\n            if (day === null) {\n                day = 1;\n            }\n        }\n\n        if (pmHour && hours < 12) {\n            hours += 12;\n        }\n\n        if (UTC) {\n            if (hoursOffset) {\n                hours += -hoursOffset;\n            }\n\n            if (minutesOffset) {\n                minutes += -minutesOffset;\n            }\n\n            value = new Date(Date.UTC(year, month, day, hours, minutes, seconds, milliseconds));\n        } else {\n            value = new Date(year, month, day, hours, minutes, seconds, milliseconds);\n            adjustDST(value, hours);\n        }\n\n        if (year < 100) {\n            value.setFullYear(year);\n        }\n\n        if (value.getDate() !== day && UTC === undefined) {\n            return null;\n        }\n\n        return value;\n    }\n\n    function parseMicrosoftFormatOffset(offset) {\n        var sign = offset.substr(0, 1) === \"-\" ? -1 : 1;\n\n        offset = offset.substring(1);\n        offset = (parseInt(offset.substr(0, 2), 10) * 60) + parseInt(offset.substring(2), 10);\n\n        return sign * offset;\n    }\n\n    function getDefaultFormats(culture) {\n        var length = math.max(FORMATS_SEQUENCE.length, STANDARD_FORMATS.length);\n        var calendar = culture.calendar || culture.calendars.standard;\n        var patterns = calendar.patterns;\n        var cultureFormats, formatIdx, idx;\n        var formats = [];\n\n        for (idx = 0; idx < length; idx++) {\n            cultureFormats = FORMATS_SEQUENCE[idx];\n            for (formatIdx = 0; formatIdx < cultureFormats.length; formatIdx++) {\n                formats.push(patterns[cultureFormats[formatIdx]]);\n            }\n            formats = formats.concat(STANDARD_FORMATS[idx]);\n        }\n\n        return formats;\n    }\n\n    function internalParseDate(value, formats, culture, strict) {\n        if (objectToString.call(value) === \"[object Date]\") {\n            return value;\n        }\n\n        var idx = 0;\n        var date = null;\n        var length;\n        var tzoffset;\n\n        if (value && value.indexOf(\"/D\") === 0) {\n            date = dateRegExp.exec(value);\n            if (date) {\n                date = date[1];\n                tzoffset = offsetRegExp.exec(date.substring(1));\n\n                date = new Date(parseInt(date, 10));\n\n                if (tzoffset) {\n                    tzoffset = parseMicrosoftFormatOffset(tzoffset[0]);\n                    date = kendo.timezone.apply(date, 0);\n                    date = kendo.timezone.convert(date, 0, -1 * tzoffset);\n                }\n\n                return date;\n            }\n        }\n\n        culture = kendo.getCulture(culture);\n\n        if (!formats) {\n            formats = getDefaultFormats(culture);\n        }\n\n        formats = isArray(formats) ? formats: [formats];\n        length = formats.length;\n\n        for (; idx < length; idx++) {\n            date = parseExact(value, formats[idx], culture, strict);\n            if (date) {\n                return date;\n            }\n        }\n\n        return date;\n    }\n\n    kendo.parseDate = function(value, formats, culture) {\n        return internalParseDate(value, formats, culture, false);\n    };\n\n    kendo.parseExactDate = function(value, formats, culture) {\n        return internalParseDate(value, formats, culture, true);\n    };\n\n    kendo.parseInt = function(value, culture) {\n        var result = kendo.parseFloat(value, culture);\n        if (result) {\n            result = result | 0;\n        }\n        return result;\n    };\n\n    kendo.parseFloat = function(value, culture, format) {\n        if (!value && value !== 0) {\n           return null;\n        }\n\n        if (typeof value === NUMBER) {\n           return value;\n        }\n\n        value = value.toString();\n        culture = kendo.getCulture(culture);\n\n        var number = culture.numberFormat,\n            percent = number.percent,\n            currency = number.currency,\n            symbol = currency.symbol,\n            percentSymbol = percent.symbol,\n            negative = value.indexOf(\"-\"),\n            parts, isPercent;\n\n        //handle exponential number\n        if (exponentRegExp.test(value)) {\n            value = parseFloat(value.replace(number[\".\"], \".\"));\n            if (isNaN(value)) {\n                value = null;\n            }\n            return value;\n        }\n\n        if (negative > 0) {\n            return null;\n        } else {\n            negative = negative > -1;\n        }\n\n        if (value.indexOf(symbol) > -1 || (format && format.toLowerCase().indexOf(\"c\") > -1)) {\n            number = currency;\n            parts = number.pattern[0].replace(\"$\", symbol).split(\"n\");\n            if (value.indexOf(parts[0]) > -1 && value.indexOf(parts[1]) > -1) {\n                value = value.replace(parts[0], \"\").replace(parts[1], \"\");\n                negative = true;\n            }\n        } else if (value.indexOf(percentSymbol) > -1) {\n            isPercent = true;\n            number = percent;\n            symbol = percentSymbol;\n        }\n\n        value = value.replace(\"-\", \"\")\n                     .replace(symbol, \"\")\n                     .replace(nonBreakingSpaceRegExp, \" \")\n                     .split(number[\",\"].replace(nonBreakingSpaceRegExp, \" \")).join(\"\")\n                     .replace(spaceRegExp, \"\")\n                     .replace(number[\".\"], \".\");\n\n        value = parseFloat(value);\n\n        if (isNaN(value)) {\n            value = null;\n        } else if (negative) {\n            value *= -1;\n        }\n\n        if (value && isPercent) {\n            value /= 100;\n        }\n\n        return value;\n    };\n})();\n\n    function getShadows(element) {\n        var shadow = element.css(kendo.support.transitions.css + \"box-shadow\") || element.css(\"box-shadow\"),\n            radius = shadow ? shadow.match(boxShadowRegExp) || [ 0, 0, 0, 0, 0 ] : [ 0, 0, 0, 0, 0 ],\n            blur = math.max((+radius[3]), +(radius[4] || 0));\n\n        return {\n            left: (-radius[1]) + blur,\n            right: (+radius[1]) + blur,\n            bottom: (+radius[2]) + blur\n        };\n    }\n\n    function wrap(element, autosize) {\n        var percentage,\n            outerWidth = kendo._outerWidth,\n            outerHeight = kendo._outerHeight,\n            parent = element.parent(),\n            windowOuterWidth = outerWidth(window);\n\n        parent.removeClass(\"k-animation-container-sm\");\n\n        if (!parent.hasClass(\"k-animation-container\")) {\n            var width = element[0].style.width,\n                height = element[0].style.height,\n                percentWidth = percentRegExp.test(width),\n                percentHeight = percentRegExp.test(height),\n                forceWidth = element.hasClass(\"k-tooltip\") || element.is(\".k-menu-horizontal.k-context-menu\");\n\n            percentage = percentWidth || percentHeight;\n\n            if (!percentWidth && (!autosize || (autosize && width) || forceWidth)) { width = autosize ? outerWidth(element) + 1 : outerWidth(element); }\n            if (!percentHeight && (!autosize || (autosize && height)) || element.is(\".k-menu-horizontal.k-context-menu\")) { height = outerHeight(element); }\n\n            element.wrap(\n                         $(\"<div/>\")\n                         .addClass(\"k-animation-container\")\n                         .css({\n                             width: width,\n                             height: height\n                         }));\n            parent = element.parent();\n\n            if (percentage) {\n                element.css({\n                    width: \"100%\",\n                    height: \"100%\",\n                    boxSizing: \"border-box\",\n                    mozBoxSizing: \"border-box\",\n                    webkitBoxSizing: \"border-box\"\n                });\n            }\n        } else {\n            wrapResize(element, autosize);\n        }\n\n        if(windowOuterWidth < outerWidth(parent)){\n            parent.addClass(\"k-animation-container-sm\");\n\n            wrapResize(element, autosize);\n        }\n\n        return parent;\n    }\n\n    function wrapResize(element, autosize) {\n        var percentage,\n            outerWidth = kendo._outerWidth,\n            outerHeight = kendo._outerHeight,\n            wrapper = element.parent(\".k-animation-container\"),\n            wrapperStyle = wrapper[0].style;\n\n        if (wrapper.is(\":hidden\")) {\n            wrapper.css({\n                display: \"\",\n                position: \"\"\n            });\n        }\n\n        percentage = percentRegExp.test(wrapperStyle.width) || percentRegExp.test(wrapperStyle.height);\n\n        if (!percentage) {\n            wrapper.css({\n                width: autosize ? outerWidth(element) + 1 : outerWidth(element),\n                height: outerHeight(element),\n                boxSizing: \"content-box\",\n                mozBoxSizing: \"content-box\",\n                webkitBoxSizing: \"content-box\"\n            });\n        }\n    }\n\n    function deepExtend(destination) {\n        var i = 1,\n            length = arguments.length;\n\n        for (i = 1; i < length; i++) {\n            deepExtendOne(destination, arguments[i]);\n        }\n\n        return destination;\n    }\n\n    function deepExtendOne(destination, source) {\n        var ObservableArray = kendo.data.ObservableArray,\n            LazyObservableArray = kendo.data.LazyObservableArray,\n            DataSource = kendo.data.DataSource,\n            HierarchicalDataSource = kendo.data.HierarchicalDataSource,\n            property,\n            propValue,\n            propType,\n            propInit,\n            destProp;\n\n        for (property in source) {\n            propValue = source[property];\n            propType = typeof propValue;\n\n            if (propType === OBJECT && propValue !== null) {\n                propInit = propValue.constructor;\n            } else {\n                propInit = null;\n            }\n\n            if (propInit &&\n                propInit !== Array && propInit !== ObservableArray && propInit !== LazyObservableArray &&\n                propInit !== DataSource && propInit !== HierarchicalDataSource && propInit !== RegExp &&\n                (!kendo.isFunction(window.ArrayBuffer) || propInit !== ArrayBuffer)) {\n\n                if (propValue instanceof Date) {\n                    destination[property] = new Date(propValue.getTime());\n                } else if (isFunction(propValue.clone)) {\n                    destination[property] = propValue.clone();\n                } else {\n                    destProp = destination[property];\n                    if (typeof (destProp) === OBJECT) {\n                        destination[property] = destProp || {};\n                    } else {\n                        destination[property] = {};\n                    }\n                    deepExtendOne(destination[property], propValue);\n                }\n            } else if (propType !== UNDEFINED) {\n                destination[property] = propValue;\n            }\n        }\n\n        return destination;\n    }\n\n    function testRx(agent, rxs, dflt) {\n        for (var rx in rxs) {\n            if (rxs.hasOwnProperty(rx) && rxs[rx].test(agent)) {\n                return rx;\n            }\n        }\n        return dflt !== undefined ? dflt : agent;\n    }\n\n    function toHyphens(str) {\n        return str.replace(/([a-z][A-Z])/g, function (g) {\n            return g.charAt(0) + '-' + g.charAt(1).toLowerCase();\n        });\n    }\n\n    function toCamelCase(str) {\n        return str.replace(/\\-(\\w)/g, function (strMatch, g1) {\n            return g1.toUpperCase();\n        });\n    }\n\n    function getComputedStyles(element, properties) {\n        var styles = {}, computedStyle;\n\n        if (document.defaultView && document.defaultView.getComputedStyle) {\n            computedStyle = document.defaultView.getComputedStyle(element, \"\");\n\n            if (properties) {\n                $.each(properties, function(idx, value) {\n                    styles[value] = computedStyle.getPropertyValue(value);\n                });\n            }\n        } else {\n            computedStyle = element.currentStyle;\n\n            if (properties) {\n                $.each(properties, function(idx, value) {\n                    styles[value] = computedStyle[toCamelCase(value)];\n                });\n            }\n        }\n\n        if (!kendo.size(styles)) {\n            styles = computedStyle;\n        }\n\n        return styles;\n    }\n\n    function isScrollable(element) {\n        if (element && element.className && typeof(element.className) === \"string\" && element.className.indexOf(\"k-auto-scrollable\") > -1) {\n            return true;\n        }\n\n        var overflow = getComputedStyles(element, [\"overflow\"]).overflow;\n        return overflow.indexOf(\"auto\") > -1 || overflow.indexOf(\"scroll\") > -1;\n    }\n\n    function scrollLeft(element, value) {\n        var webkit = support.browser.webkit;\n        var mozila = support.browser.mozilla;\n        var browserVersion = support.browser.version;\n        var el, isRtl;\n\n        if(element instanceof $ && value !== undefined) {\n            element.each(function(i, e) {\n                scrollLeft(e, value);\n            });\n\n            return;\n        } else {\n            el = element instanceof $ ? element[0] : element;\n        }\n\n        if (!el) {\n            return;\n        }\n\n        isRtl = support.isRtl(element);\n\n        // After updating browser detection,\n        // Test in which if should the Safari browsers go\n        if (value !== undefined) {\n            if (isRtl && webkit && (browserVersion < 85 || support.browser.safari)) {\n                el.scrollLeft = el.scrollWidth - el.clientWidth - value;\n            } else if (isRtl && (mozila || webkit) && value > 0) {\n                el.scrollLeft = -value;\n            } else {\n                el.scrollLeft = value;\n            }\n        } else {\n            if (isRtl && webkit && (browserVersion < 85 || support.browser.safari)) {\n                return el.scrollWidth - el.clientWidth - el.scrollLeft;\n            } else {\n                return Math.abs(el.scrollLeft);\n            }\n        }\n    }\n\n    (function () {\n        support._scrollbar = undefined;\n\n        support.scrollbar = function (refresh) {\n            if (!isNaN(support._scrollbar) && !refresh) {\n                return support._scrollbar;\n            } else {\n                var div = document.createElement(\"div\"),\n                    result;\n\n                div.style.cssText = \"overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block\";\n                div.innerHTML = \"&nbsp;\";\n                document.body.appendChild(div);\n\n                support._scrollbar = result = div.offsetWidth - div.scrollWidth;\n\n                document.body.removeChild(div);\n\n                return result;\n            }\n        };\n\n        support.isRtl = function(element) {\n            return $(element).closest(\".k-rtl\").length > 0;\n        };\n\n        var table = document.createElement(\"table\");\n\n        // Internet Explorer does not support setting the innerHTML of TBODY and TABLE elements\n        try {\n            table.innerHTML = \"<tr><td></td></tr>\";\n\n            support.tbodyInnerHtml = true;\n        } catch (e) {\n            support.tbodyInnerHtml = false;\n        }\n\n        support.touch = \"ontouchstart\" in window;\n\n        var docStyle = document.documentElement.style;\n        var transitions = support.transitions = false,\n            transforms = support.transforms = false,\n            elementProto = \"HTMLElement\" in window ? HTMLElement.prototype : [];\n\n        support.hasHW3D = (\"WebKitCSSMatrix\" in window && \"m11\" in new window.WebKitCSSMatrix()) || \"MozPerspective\" in docStyle || \"msPerspective\" in docStyle;\n        support.cssFlexbox = (\"flexWrap\" in docStyle) || (\"WebkitFlexWrap\" in docStyle) || (\"msFlexWrap\" in docStyle);\n\n        each([ \"Moz\", \"webkit\", \"O\", \"ms\" ], function () {\n            var prefix = this.toString(),\n                hasTransitions = typeof table.style[prefix + \"Transition\"] === STRING;\n\n            if (hasTransitions || typeof table.style[prefix + \"Transform\"] === STRING) {\n                var lowPrefix = prefix.toLowerCase();\n\n                transforms = {\n                    css: (lowPrefix != \"ms\") ? \"-\" + lowPrefix + \"-\" : \"\",\n                    prefix: prefix,\n                    event: (lowPrefix === \"o\" || lowPrefix === \"webkit\") ? lowPrefix : \"\"\n                };\n\n                if (hasTransitions) {\n                    transitions = transforms;\n                    transitions.event = transitions.event ? transitions.event + \"TransitionEnd\" : \"transitionend\";\n                }\n\n                return false;\n            }\n        });\n\n        table = null;\n\n        support.transforms = transforms;\n        support.transitions = transitions;\n\n        support.devicePixelRatio = window.devicePixelRatio === undefined ? 1 : window.devicePixelRatio;\n\n        try {\n            support.screenWidth = window.outerWidth || window.screen ? window.screen.availWidth : window.innerWidth;\n            support.screenHeight = window.outerHeight || window.screen ? window.screen.availHeight : window.innerHeight;\n        } catch(e) {\n            //window.outerWidth throws error when in IE showModalDialog.\n            support.screenWidth = window.screen.availWidth;\n            support.screenHeight = window.screen.availHeight;\n        }\n\n        support.detectOS = function (ua) {\n            var os = false, minorVersion, match = [],\n                notAndroidPhone = !/mobile safari/i.test(ua),\n                agentRxs = {\n                    wp: /(Windows Phone(?: OS)?)\\s(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    fire: /(Silk)\\/(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    android: /(Android|Android.*(?:Opera|Firefox).*?\\/)\\s*(\\d+)\\.?(\\d+(\\.\\d+)?)?/,\n                    iphone: /(iPhone|iPod).*OS\\s+(\\d+)[\\._]([\\d\\._]+)/,\n                    ipad: /(iPad).*OS\\s+(\\d+)[\\._]([\\d_]+)/,\n                    meego: /(MeeGo).+NokiaBrowser\\/(\\d+)\\.([\\d\\._]+)/,\n                    webos: /(webOS)\\/(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    blackberry: /(BlackBerry|BB10).*?Version\\/(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    playbook: /(PlayBook).*?Tablet\\s*OS\\s*(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    windows: /(MSIE)\\s+(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    tizen: /(tizen).*?Version\\/(\\d+)\\.(\\d+(\\.\\d+)?)/i,\n                    sailfish: /(sailfish).*rv:(\\d+)\\.(\\d+(\\.\\d+)?).*firefox/i,\n                    ffos: /(Mobile).*rv:(\\d+)\\.(\\d+(\\.\\d+)?).*Firefox/\n                },\n                osRxs = {\n                    ios: /^i(phone|pad|pod)$/i,\n                    android: /^android|fire$/i,\n                    blackberry: /^blackberry|playbook/i,\n                    windows: /windows/,\n                    wp: /wp/,\n                    flat: /sailfish|ffos|tizen/i,\n                    meego: /meego/\n                },\n                formFactorRxs = {\n                    tablet: /playbook|ipad|fire/i\n                },\n                browserRxs = {\n                    omini: /Opera\\sMini/i,\n                    omobile: /Opera\\sMobi/i,\n                    firefox: /Firefox|Fennec/i,\n                    mobilesafari: /version\\/.*safari/i,\n                    ie: /MSIE|Windows\\sPhone/i,\n                    chrome: /chrome|crios/i,\n                    webkit: /webkit/i\n                };\n\n            for (var agent in agentRxs) {\n                if (agentRxs.hasOwnProperty(agent)) {\n                    match = ua.match(agentRxs[agent]);\n                    if (match) {\n                        if (agent == \"windows\" && \"plugins\" in navigator) { return false; } // Break if not Metro/Mobile Windows\n\n                        os = {};\n                        os.device = agent;\n                        os.tablet = testRx(agent, formFactorRxs, false);\n                        os.browser = testRx(ua, browserRxs, \"default\");\n                        os.name = testRx(agent, osRxs);\n                        os[os.name] = true;\n                        os.majorVersion = match[2];\n                        os.minorVersion = (match[3] || \"0\").replace(\"_\", \".\");\n                        minorVersion = os.minorVersion.replace(\".\", \"\").substr(0, 2);\n                        os.flatVersion = os.majorVersion + minorVersion + (new Array(3 - (minorVersion.length < 3 ? minorVersion.length : 2)).join(\"0\"));\n                        os.cordova = typeof window.PhoneGap !== UNDEFINED || typeof window.cordova !== UNDEFINED; // Use file protocol to detect appModes.\n                        os.appMode = window.navigator.standalone || (/file|local|wmapp/).test(window.location.protocol) || os.cordova; // Use file protocol to detect appModes.\n\n                        if (os.android && (support.devicePixelRatio < 1.5 && os.flatVersion < 400 || notAndroidPhone) && (support.screenWidth > 800 || support.screenHeight > 800)) {\n                            os.tablet = agent;\n                        }\n\n                        break;\n                    }\n                }\n            }\n            return os;\n        };\n\n        var mobileOS = support.mobileOS = support.detectOS(navigator.userAgent);\n\n        support.wpDevicePixelRatio = mobileOS.wp ? screen.width / 320 : 0;\n\n        support.hasNativeScrolling = false;\n\n        if (mobileOS.ios || (mobileOS.android && mobileOS.majorVersion > 2) || mobileOS.wp) {\n            support.hasNativeScrolling = mobileOS;\n        }\n\n        support.delayedClick = function() {\n\n            // only the mobile devices with touch events do this.\n            if (support.touch) {\n                // All iOS devices so far (by the time I am writing this, iOS 9.0.2 is the latest),\n                // delay their click events.\n                if (mobileOS.ios) {\n                    return true;\n                }\n\n                if (mobileOS.android) {\n\n                    if (!support.browser.chrome) { // older webkits and webviews delay the click\n                        return true;\n                    }\n\n                    // from here on, we deal with Chrome on Android.\n                    if (support.browser.version < 32) {\n                        return false;\n                    }\n\n                    // Chrome 32+ does conditional fast clicks if the view port is not user scalable.\n                    return !($(\"meta[name=viewport]\").attr(\"content\") || \"\").match(/user-scalable=no/i);\n                }\n            }\n\n            return false;\n        };\n\n        support.mouseAndTouchPresent = support.touch && !(support.mobileOS.ios || support.mobileOS.android);\n\n        support.detectBrowser = function(ua) {\n            var browser = false,\n                match = [],\n                chromiumEdgeMatch = [],\n                browserRxs = {\n                    edge: /(edge)[ \\/]([\\w.]+)/i,\n                    webkit: /(chrome|crios)[ \\/]([\\w.]+)/i,\n                    safari: /(webkit)[ \\/]([\\w.]+)/i,\n                    opera: /(opera)(?:.*version|)[ \\/]([\\w.]+)/i,\n                    msie: /(msie\\s|trident.*? rv:)([\\w.]+)/i,\n                    mozilla: /(mozilla)(?:.*? rv:([\\w.]+)|)/i\n                };\n\n            for (var agent in browserRxs) {\n                if (browserRxs.hasOwnProperty(agent)) {\n                    match = ua.match(browserRxs[agent]);\n                    if (match) {\n                        browser = {};\n                        browser[agent] = true;\n                        browser[match[1].toLowerCase().split(\" \")[0].split(\"/\")[0]] = true;\n                        browser.version = parseInt(document.documentMode || match[2], 10);\n\n                        if (browser.chrome) {\n                            chromiumEdgeMatch = ua.match(/(edg)[ \\/]([\\w.]+)/i);\n\n                            if(chromiumEdgeMatch) {\n                                browser.chromiumEdge = true;\n                            }\n                        }\n\n                        break;\n                    }\n                }\n            }\n\n            return browser;\n        };\n\n        support.browser = support.detectBrowser(navigator.userAgent);\n\n        if (!mobileOS && support.touch && support.browser.safari) {\n            mobileOS = support.mobileOS = {\n                ios: true,\n                tablet: \"tablet\",\n                device: \"ipad\"\n            };\n        }\n\n        support.detectClipboardAccess = function() {\n            var commands = {\n                copy: document.queryCommandSupported ? document.queryCommandSupported(\"copy\") : false,\n                cut: document.queryCommandSupported ? document.queryCommandSupported(\"cut\") : false,\n                paste : document.queryCommandSupported ? document.queryCommandSupported(\"paste\") : false\n            };\n\n            if (support.browser.chrome) {\n                //not using queryCommandSupported due to chromium issues 476508 and 542948\n                commands.paste = false;\n                if(support.browser.version >= 43) {\n                    commands.copy = true;\n                    commands.cut = true;\n                }\n            }\n\n            return commands;\n        };\n\n        support.clipboard = support.detectClipboardAccess();\n\n        support.zoomLevel = function() {\n            try {\n                var browser = support.browser;\n                var ie11WidthCorrection = 0;\n                var docEl = document.documentElement;\n\n                if (browser.msie && browser.version == 11 && docEl.scrollHeight > docEl.clientHeight && !support.touch) {\n                    ie11WidthCorrection = support.scrollbar();\n                }\n\n                return support.touch ? (docEl.clientWidth / window.innerWidth) :\n                       browser.msie && browser.version >= 10 ? (((top || window).document.documentElement.offsetWidth + ie11WidthCorrection) / (top || window).innerWidth) : 1;\n            } catch(e) {\n                return 1;\n            }\n        };\n\n        (function(browser) {\n            // add browser-specific CSS class\n            var cssClass = \"\",\n                docElement = $(document.documentElement),\n                majorVersion = parseInt(browser.version, 10);\n\n            if (browser.msie) {\n                cssClass = \"ie\";\n            } else if (browser.mozilla) {\n                cssClass = \"ff\";\n            } else if (browser.safari) {\n                cssClass = \"safari\";\n            } else if (browser.webkit) {\n                cssClass = \"webkit\";\n            } else if (browser.opera) {\n                cssClass = \"opera\";\n            } else if (browser.edge) {\n                cssClass = \"edge\";\n            }\n\n            if (cssClass) {\n                cssClass = \"k-\" + cssClass + \" k-\" + cssClass + majorVersion;\n            }\n            if (support.mobileOS) {\n                cssClass += \" k-mobile\";\n            }\n\n            if (!support.cssFlexbox) {\n                cssClass += \" k-no-flexbox\";\n            }\n\n            docElement.addClass(cssClass);\n        })(support.browser);\n\n        support.eventCapture = document.documentElement.addEventListener;\n\n        var input = document.createElement(\"input\");\n\n        support.placeholder = \"placeholder\" in input;\n        support.propertyChangeEvent = \"onpropertychange\" in input;\n\n        support.input = (function() {\n            var types = [\"number\", \"date\", \"time\", \"month\", \"week\", \"datetime\", \"datetime-local\"];\n            var length = types.length;\n            var value = \"test\";\n            var result = {};\n            var idx = 0;\n            var type;\n\n            for (;idx < length; idx++) {\n                type = types[idx];\n                input.setAttribute(\"type\", type);\n                input.value = value;\n\n                result[type.replace(\"-\", \"\")] = input.type !== \"text\" && input.value !== value;\n            }\n\n            return result;\n        })();\n\n        input.style.cssText = \"float:left;\";\n\n        support.cssFloat = !!input.style.cssFloat;\n\n        input = null;\n\n        support.stableSort = (function() {\n            // Chrome sort is not stable for more than *10* items\n            // IE9+ sort is not stable for than *512* items\n            var threshold = 513;\n\n            var sorted = [{\n                index: 0,\n                field: \"b\"\n            }];\n\n            for (var i = 1; i < threshold; i++) {\n                sorted.push({\n                    index: i,\n                    field: \"a\"\n                });\n            }\n\n            sorted.sort(function(a, b) {\n                return a.field > b.field ? 1 : (a.field < b.field ? -1 : 0);\n            });\n\n            return sorted[0].index === 1;\n        })();\n\n        support.matchesSelector = elementProto.webkitMatchesSelector || elementProto.mozMatchesSelector ||\n                                  elementProto.msMatchesSelector || elementProto.oMatchesSelector ||\n                                  elementProto.matchesSelector || elementProto.matches ||\n          function( selector ) {\n              var nodeList = document.querySelectorAll ? ( this.parentNode || document ).querySelectorAll( selector ) || [] : $(selector),\n                  i = nodeList.length;\n\n              while (i--) {\n                  if (nodeList[i] == this) {\n                      return true;\n                  }\n              }\n\n              return false;\n          };\n\n        support.matchMedia = \"matchMedia\" in window;\n\n        support.pushState = window.history && window.history.pushState;\n\n        support.hashChange = \"onhashchange\" in window;\n\n        support.customElements = \"registerElement\" in window.document;\n\n        var chrome = support.browser.chrome,\n            mobileChrome = support.browser.crios,\n            mozilla = support.browser.mozilla,\n            safari = support.browser.safari;\n        support.msPointers = !chrome && window.MSPointerEvent;\n        support.pointers = !chrome && !mobileChrome && !mozilla && !safari && window.PointerEvent;\n        support.kineticScrollNeeded = mobileOS && (support.touch || support.msPointers || support.pointers);\n    })();\n\n\n    function size(obj) {\n        var result = 0, key;\n        for (key in obj) {\n            if (obj.hasOwnProperty(key) && key != \"toJSON\") { // Ignore fake IE7 toJSON.\n                result++;\n            }\n        }\n\n        return result;\n    }\n\n    function getOffset(element, type, positioned) {\n        if (!type) {\n            type = \"offset\";\n        }\n\n        var offset = element[type]();\n        // clone ClientRect object to JS object (jQuery3)\n        var result = {\n            top: offset.top,\n            right: offset.right,\n            bottom: offset.bottom,\n            left: offset.left\n        };\n\n        // IE10 touch zoom is living in a separate viewport\n        if (support.browser.msie && (support.pointers || support.msPointers) && !positioned) {\n            var sign = support.isRtl(element) ? 1 : -1;\n\n            result.top -= (window.pageYOffset - (document.documentElement.scrollTop));\n            result.left -= (window.pageXOffset + (sign * document.documentElement.scrollLeft));\n        }\n\n        return result;\n    }\n\n    var directions = {\n        left: { reverse: \"right\" },\n        right: { reverse: \"left\" },\n        down: { reverse: \"up\" },\n        up: { reverse: \"down\" },\n        top: { reverse: \"bottom\" },\n        bottom: { reverse: \"top\" },\n        \"in\": { reverse: \"out\" },\n        out: { reverse: \"in\" }\n    };\n\n    function parseEffects(input) {\n        var effects = {};\n\n        each((typeof input === \"string\" ? input.split(\" \") : input), function(idx) {\n            effects[idx] = this;\n        });\n\n        return effects;\n    }\n\n    function fx(element) {\n        return new kendo.effects.Element(element);\n    }\n\n    var effects = {};\n\n    $.extend(effects, {\n        enabled: true,\n        Element: function(element) {\n            this.element = $(element);\n        },\n\n        promise: function(element, options) {\n            if (!element.is(\":visible\")) {\n                element.css({ display: element.data(\"olddisplay\") || \"block\" }).css(\"display\");\n            }\n\n            if (options.hide) {\n                element.data(\"olddisplay\", element.css(\"display\")).hide();\n            }\n\n            if (options.init) {\n                options.init();\n            }\n\n            if (options.completeCallback) {\n                options.completeCallback(element); // call the external complete callback with the element\n            }\n\n            element.dequeue();\n        },\n\n        disable: function() {\n            this.enabled = false;\n            this.promise = this.promiseShim;\n        },\n\n        enable: function() {\n            this.enabled = true;\n            this.promise = this.animatedPromise;\n        }\n    });\n\n    effects.promiseShim = effects.promise;\n\n    function prepareAnimationOptions(options, duration, reverse, complete) {\n        if (typeof options === STRING) {\n            // options is the list of effect names separated by space e.g. animate(element, \"fadeIn slideDown\")\n\n            // only callback is provided e.g. animate(element, options, function() {});\n            if (isFunction(duration)) {\n                complete = duration;\n                duration = 400;\n                reverse = false;\n            }\n\n            if (isFunction(reverse)) {\n                complete = reverse;\n                reverse = false;\n            }\n\n            if (typeof duration === BOOLEAN){\n                reverse = duration;\n                duration = 400;\n            }\n\n            options = {\n                effects: options,\n                duration: duration,\n                reverse: reverse,\n                complete: complete\n            };\n        }\n\n        return extend({\n            //default options\n            effects: {},\n            duration: 400, //jQuery default duration\n            reverse: false,\n            init: noop,\n            teardown: noop,\n            hide: false\n        }, options, { completeCallback: options.complete, complete: noop }); // Move external complete callback, so deferred.resolve can be always executed.\n\n    }\n\n    function animate(element, options, duration, reverse, complete) {\n        var idx = 0,\n            length = element.length,\n            instance;\n\n        for (; idx < length; idx ++) {\n            instance = $(element[idx]);\n            instance.queue(function() {\n                effects.promise(instance, prepareAnimationOptions(options, duration, reverse, complete));\n            });\n        }\n\n        return element;\n    }\n\n    function toggleClass(element, classes, options, add) {\n        if (classes) {\n            classes = classes.split(\" \");\n\n            each(classes, function(idx, value) {\n                element.toggleClass(value, add);\n            });\n        }\n\n        return element;\n    }\n\n    if (!(\"kendoAnimate\" in $.fn)) {\n        extend($.fn, {\n            kendoStop: function(clearQueue, gotoEnd) {\n                return this.stop(clearQueue, gotoEnd);\n            },\n\n            kendoAnimate: function(options, duration, reverse, complete) {\n                return animate(this, options, duration, reverse, complete);\n            },\n\n            kendoAddClass: function(classes, options){\n                return kendo.toggleClass(this, classes, options, true);\n            },\n\n            kendoRemoveClass: function(classes, options){\n                return kendo.toggleClass(this, classes, options, false);\n            },\n            kendoToggleClass: function(classes, options, toggle){\n                return kendo.toggleClass(this, classes, options, toggle);\n            }\n        });\n    }\n\n    var ampRegExp = /&/g,\n        ltRegExp = /</g,\n        quoteRegExp = /\"/g,\n        aposRegExp = /'/g,\n        gtRegExp = />/g;\n    function htmlEncode(value) {\n        return (\"\" + value).replace(ampRegExp, \"&amp;\").replace(ltRegExp, \"&lt;\").replace(gtRegExp, \"&gt;\").replace(quoteRegExp, \"&quot;\").replace(aposRegExp, \"&#39;\");\n    }\n\n    function unescape(value) {\n        var template;\n\n        try {\n            template = window.decodeURIComponent(value);\n        } catch(error) {\n            // If the string contains Unicode characters\n            // the decodeURIComponent() will throw an error.\n            // Therefore: convert to UTF-8 character\n            template = value.replace(/%u([\\dA-F]{4})|%([\\dA-F]{2})/gi, function(_, m1, m2) {\n                return String.fromCharCode(parseInt(\"0x\" + (m1 || m2), 16));\n            });\n        }\n\n        return template;\n    }\n\n    var eventTarget = function (e) {\n        return e.target;\n    };\n\n    if (support.touch) {\n\n        eventTarget = function(e) {\n            var touches = \"originalEvent\" in e ? e.originalEvent.changedTouches : \"changedTouches\" in e ? e.changedTouches : null;\n\n            return touches ? document.elementFromPoint(touches[0].clientX, touches[0].clientY) : e.target;\n        };\n\n        each([\"swipe\", \"swipeLeft\", \"swipeRight\", \"swipeUp\", \"swipeDown\", \"doubleTap\", \"tap\"], function(m, value) {\n            $.fn[value] = function(callback) {\n                return this.on(value, callback);\n            };\n        });\n    }\n\n    if (support.touch) {\n        if (!support.mobileOS) {\n            support.mousedown = \"mousedown touchstart\";\n            support.mouseup = \"mouseup touchend\";\n            support.mousemove = \"mousemove touchmove\";\n            support.mousecancel = \"mouseleave touchcancel\";\n            support.click = \"click\";\n            support.resize = \"resize\";\n        } else {\n            support.mousedown = \"touchstart\";\n            support.mouseup = \"touchend\";\n            support.mousemove = \"touchmove\";\n            support.mousecancel = \"touchcancel\";\n            support.click = \"touchend\";\n            support.resize = \"orientationchange\";\n        }\n    } else if (support.pointers) {\n        support.mousemove = \"pointermove\";\n        support.mousedown = \"pointerdown\";\n        support.mouseup = \"pointerup\";\n        support.mousecancel = \"pointercancel\";\n        support.click = \"pointerup\";\n        support.resize = \"orientationchange resize\";\n    } else if (support.msPointers) {\n        support.mousemove = \"MSPointerMove\";\n        support.mousedown = \"MSPointerDown\";\n        support.mouseup = \"MSPointerUp\";\n        support.mousecancel = \"MSPointerCancel\";\n        support.click = \"MSPointerUp\";\n        support.resize = \"orientationchange resize\";\n    } else {\n        support.mousemove = \"mousemove\";\n        support.mousedown = \"mousedown\";\n        support.mouseup = \"mouseup\";\n        support.mousecancel = \"mouseleave\";\n        support.click = \"click\";\n        support.resize = \"resize\";\n    }\n\n    var wrapExpression = function(members, paramName) {\n        var result = paramName || \"d\",\n            index,\n            idx,\n            length,\n            member,\n            count = 1;\n\n        for (idx = 0, length = members.length; idx < length; idx++) {\n            member = members[idx];\n            if (member !== \"\") {\n                index = member.indexOf(\"[\");\n\n                if (index !== 0) {\n                    if (index == -1) {\n                        member = \".\" + member;\n                    } else {\n                        count++;\n                        member = \".\" + member.substring(0, index) + \" || {})\" + member.substring(index);\n                    }\n                }\n\n                count++;\n                result += member + ((idx < length - 1) ? \" || {})\" : \")\");\n            }\n        }\n        return new Array(count).join(\"(\") + result;\n    },\n    localUrlRe = /^([a-z]+:)?\\/\\//i;\n\n    extend(kendo, {\n        widgets: [],\n        _widgetRegisteredCallbacks: [],\n        ui: kendo.ui || {},\n        fx: kendo.fx || fx,\n        effects: kendo.effects || effects,\n        mobile: kendo.mobile || { },\n        data: kendo.data || {},\n        dataviz: kendo.dataviz || {},\n        drawing: kendo.drawing || {},\n        spreadsheet: { messages: {} },\n        keys: {\n            INSERT: 45,\n            DELETE: 46,\n            BACKSPACE: 8,\n            TAB: 9,\n            ENTER: 13,\n            ESC: 27,\n            LEFT: 37,\n            UP: 38,\n            RIGHT: 39,\n            DOWN: 40,\n            END: 35,\n            HOME: 36,\n            SPACEBAR: 32,\n            PAGEUP: 33,\n            PAGEDOWN: 34,\n            F2: 113,\n            F10: 121,\n            F12: 123,\n            NUMPAD_PLUS: 107,\n            NUMPAD_MINUS: 109,\n            NUMPAD_DOT: 110\n        },\n        support: kendo.support || support,\n        animate: kendo.animate || animate,\n        ns: \"\",\n        attr: function(value) {\n            return \"data-\" + kendo.ns + value;\n        },\n        getShadows: getShadows,\n        wrap: wrap,\n        deepExtend: deepExtend,\n        getComputedStyles: getComputedStyles,\n        isScrollable: isScrollable,\n        scrollLeft: scrollLeft,\n        size: size,\n        toCamelCase: toCamelCase,\n        toHyphens: toHyphens,\n        getOffset: kendo.getOffset || getOffset,\n        parseEffects: kendo.parseEffects || parseEffects,\n        toggleClass: kendo.toggleClass || toggleClass,\n        directions: kendo.directions || directions,\n        Observable: Observable,\n        Class: Class,\n        Template: Template,\n        template: proxy(Template.compile, Template),\n        render: proxy(Template.render, Template),\n        stringify: proxy(JSON.stringify, JSON),\n        eventTarget: eventTarget,\n        htmlEncode: htmlEncode,\n        unescape: unescape,\n        isLocalUrl: function(url) {\n            return url && !localUrlRe.test(url);\n        },\n\n        expr: function(expression, safe, paramName) {\n            expression = expression || \"\";\n\n            if (typeof safe == STRING) {\n                paramName = safe;\n                safe = false;\n            }\n\n            paramName = paramName || \"d\";\n\n            if (expression && expression.charAt(0) !== \"[\") {\n                expression = \".\" + expression;\n            }\n\n            if (safe) {\n                expression = expression.replace(/\"([^.]*)\\.([^\"]*)\"/g,'\"$1_$DOT$_$2\"');\n                expression = expression.replace(/'([^.]*)\\.([^']*)'/g,\"'$1_$DOT$_$2'\");\n                expression = wrapExpression(expression.split(\".\"), paramName);\n                expression = expression.replace(/_\\$DOT\\$_/g, \".\");\n            } else {\n                expression = paramName + expression;\n            }\n\n            return expression;\n        },\n\n        getter: function(expression, safe) {\n            var key = expression + safe;\n            return getterCache[key] = getterCache[key] || new Function(\"d\", \"return \" + kendo.expr(expression, safe));\n        },\n\n        setter: function(expression) {\n            return setterCache[expression] = setterCache[expression] || new Function(\"d,value\", kendo.expr(expression) + \"=value\");\n        },\n\n        accessor: function(expression) {\n            return {\n                get: kendo.getter(expression),\n                set: kendo.setter(expression)\n            };\n        },\n\n        guid: function() {\n            var id = \"\", i, random, chars = \"abcdef\";\n\n            id += chars[Math.floor(Math.random() * Math.floor(chars.length))];\n\n            for (i = 1; i < 32; i++) {\n                random = math.random() * 16 | 0;\n\n                if (i == 8 || i == 12 || i == 16 || i == 20) {\n                    id += \"-\";\n                }\n                id += (i == 12 ? 4 : (i == 16 ? (random & 3 | 8) : random)).toString(16);\n            }\n\n            return id;\n        },\n\n        roleSelector: function(role) {\n            return role.replace(/(\\S+)/g, \"[\" + kendo.attr(\"role\") + \"=$1],\").slice(0, -1);\n        },\n\n        directiveSelector: function(directives) {\n            var selectors = directives.split(\" \");\n\n            if (selectors) {\n                for (var i = 0; i < selectors.length; i++) {\n                    if (selectors[i] != \"view\") {\n                        selectors[i] = selectors[i].replace(/(\\w*)(view|bar|strip|over)$/, \"$1-$2\");\n                    }\n                }\n            }\n\n            return selectors.join(\" \").replace(/(\\S+)/g, \"kendo-mobile-$1,\").slice(0, -1);\n        },\n\n        triggeredByInput: function(e) {\n            return (/^(label|input|textarea|select)$/i).test(e.target.tagName);\n        },\n\n        onWidgetRegistered: function(callback) {\n            for (var i = 0, len = kendo.widgets.length; i < len; i++) {\n                callback(kendo.widgets[i]);\n            }\n\n            kendo._widgetRegisteredCallbacks.push(callback);\n        },\n\n        logToConsole: function(message, type) {\n            var console = window.console;\n\n            if (!kendo.suppressLog && typeof(console) != \"undefined\" && console.log) {\n                console[type || \"log\"](message);\n            }\n        }\n    });\n\n    var Widget = Observable.extend( {\n        init: function(element, options) {\n            var that = this;\n\n            that.element = kendo.jQuery(element).handler(that);\n\n            that.angular(\"init\", options);\n\n            Observable.fn.init.call(that);\n\n            var dataSource = options ? options.dataSource : null;\n            var props;\n\n            if (options) {\n                props = (that.componentTypes || {})[(options || {}).componentType];\n            }\n\n            if (dataSource) {\n                // avoid deep cloning the data source\n                options = extend({}, options, { dataSource: {} });\n            }\n\n            options = that.options = extend(true, {}, that.options, that.defaults, props || {}, options);\n\n            if (dataSource) {\n                options.dataSource = dataSource;\n            }\n\n            if (!that.element.attr(kendo.attr(\"role\"))) {\n                that.element.attr(kendo.attr(\"role\"), (options.name || \"\").toLowerCase());\n            }\n\n            that.element.data(\"kendo\" + options.prefix + options.name, that);\n\n            that.bind(that.events, options);\n        },\n\n        events: [],\n\n        options: {\n            prefix: \"\"\n        },\n\n        _hasBindingTarget: function() {\n            return !!this.element[0].kendoBindingTarget;\n        },\n\n        _tabindex: function(target) {\n            target = target || this.wrapper;\n\n            var element = this.element,\n                TABINDEX = \"tabindex\",\n                tabindex = target.attr(TABINDEX) || element.attr(TABINDEX);\n\n            element.removeAttr(TABINDEX);\n\n            target.attr(TABINDEX, !isNaN(tabindex) ? tabindex : 0);\n        },\n\n        setOptions: function(options) {\n            this._clearCssClasses(options);\n            this._setEvents(options);\n            $.extend(this.options, options);\n            this._applyCssClasses();\n        },\n\n        _setEvents: function(options) {\n            var that = this,\n                idx = 0,\n                length = that.events.length,\n                e;\n\n            for (; idx < length; idx ++) {\n                e = that.events[idx];\n                if (that.options[e] && options[e]) {\n                    that.unbind(e, that.options[e]);\n                    if (that._events && that._events[e]) {\n                        delete that._events[e];\n                    }\n                }\n            }\n\n            that.bind(that.events, options);\n        },\n\n        resize: function(force) {\n            var size = this.getSize(),\n                currentSize = this._size;\n\n            if (force || (size.width > 0 || size.height > 0) && (!currentSize || size.width !== currentSize.width || size.height !== currentSize.height)) {\n                this._size = size;\n                this._resize(size, force);\n                this.trigger(\"resize\", size);\n            }\n        },\n\n        getSize: function() {\n            return kendo.dimensions(this.element);\n        },\n\n        size: function(size) {\n            if (!size) {\n                return this.getSize();\n            } else {\n                this.setSize(size);\n            }\n        },\n\n        setSize: $.noop,\n        _resize: $.noop,\n\n        destroy: function() {\n            var that = this;\n\n            that.element.removeData(\"kendo\" + that.options.prefix + that.options.name);\n            that.element.removeData(\"handler\");\n            that.unbind();\n        },\n        _destroy: function() {\n            this.destroy();\n        },\n        angular: function(){},\n\n        _muteAngularRebind: function(callback) {\n            this._muteRebind = true;\n\n            callback.call(this);\n\n            this._muteRebind = false;\n        },\n\n        _applyCssClasses: function(element) {\n            var protoOptions = this.__proto__.options, // jshint ignore:line\n                options = this.options,\n                el = element || this.wrapper || this.element,\n                classes = [],\n                i, prop, validFill, widgetName;\n\n            if (!kendo.cssProperties.propertyDictionary[protoOptions.name]) {\n                return;\n            }\n\n            for (i = 0; i < cssPropertiesNames.length; i++) {\n                prop = cssPropertiesNames[i];\n                widgetName = this.options._altname || protoOptions.name;\n\n                if (protoOptions.hasOwnProperty(prop)) {\n                    if (prop === \"themeColor\") {\n                        validFill = kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: \"fillMode\",\n                            value: options.fillMode\n                        });\n\n                        if (validFill && validFill.length) {\n                            classes.push(kendo.cssProperties.getValidClass({\n                                widget: widgetName,\n                                propName: prop,\n                                value: options[prop],\n                                fill: options.fillMode\n                            }));\n                        }\n                    } else {\n                        classes.push(kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: prop,\n                            value: options[prop]\n                        }));\n                    }\n                }\n            }\n\n            el.addClass(classes.join(\" \"));\n        },\n\n        _clearCssClasses: function(newOptions, element) {\n            var protoOptions = this.__proto__.options, // jshint ignore:line\n                currentOptions = this.options,\n                el = element || this.wrapper || this.element,\n                i, prop, widgetName;\n\n            if(!kendo.cssProperties.propertyDictionary[protoOptions.name]) {\n                return;\n            }\n\n            for(i = 0; i < cssPropertiesNames.length; i++) {\n                prop = cssPropertiesNames[i];\n                widgetName = this.options._altname || protoOptions.name;\n\n                if(protoOptions.hasOwnProperty(prop) && newOptions.hasOwnProperty(prop)) {\n                    if (prop === \"themeColor\") {\n                        el.removeClass(kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: prop,\n                            value: currentOptions[prop],\n                            fill: currentOptions.fillMode\n                        }));\n                    } else {\n                        if (prop === \"fillMode\") {\n                            el.removeClass(kendo.cssProperties.getValidClass({\n                                widget: widgetName,\n                                propName: \"themeColor\",\n                                value: currentOptions.themeColor,\n                                fill: currentOptions.fillMode\n                            }));\n                        }\n\n                        el.removeClass(kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: prop,\n                            value: currentOptions[prop]\n                        }));\n                    }\n                }\n            }\n        }\n    });\n\n    var DataBoundWidget = Widget.extend({\n        // Angular consumes these.\n        dataItems: function() {\n            return this.dataSource.flatView();\n        },\n\n        _angularItems: function(cmd) {\n            var that = this;\n            that.angular(cmd, function(){\n                return {\n                    elements: that.items(),\n                    data: $.map(that.dataItems(), function(dataItem){\n                        return { dataItem: dataItem };\n                    })\n                };\n            });\n        }\n    });\n\n    kendo.dimensions = function(element, dimensions) {\n        var domElement = element[0];\n\n        if (dimensions) {\n            element.css(dimensions);\n        }\n\n        return { width: domElement.offsetWidth, height: domElement.offsetHeight };\n    };\n\n    kendo.notify = noop;\n\n    var templateRegExp = /template$/i,\n        jsonRegExp = /^\\s*(?:\\{(?:.|\\r\\n|\\n)*\\}|\\[(?:.|\\r\\n|\\n)*\\])\\s*$/,\n        jsonFormatRegExp = /^\\{(\\d+)(:[^\\}]+)?\\}|^\\[[A-Za-z_]+\\]$/,\n        dashRegExp = /([A-Z])/g;\n\n    function parseOption(element, option) {\n        var value;\n\n        if (option.indexOf(\"data\") === 0) {\n            option = option.substring(4);\n            option = option.charAt(0).toLowerCase() + option.substring(1);\n        }\n\n        option = option.replace(dashRegExp, \"-$1\");\n        value = element.getAttribute(\"data-\" + kendo.ns + option);\n\n        if (value === null) {\n            value = undefined;\n        } else if (value === \"null\") {\n            value = null;\n        } else if (value === \"true\") {\n            value = true;\n        } else if (value === \"false\") {\n            value = false;\n        } else if (numberRegExp.test(value) && option != \"mask\" && option != \"format\") {\n            value = parseFloat(value);\n        } else if (jsonRegExp.test(value) && !jsonFormatRegExp.test(value)) {\n            value = new Function(\"return (\" + value + \")\")();\n        }\n\n        return value;\n    }\n\n    function parseOptions(element, options, source) {\n        var result = {},\n            option,\n            value,\n            role = element.getAttribute(\"data-\" + kendo.ns + \"role\");\n\n        for (option in options) {\n            value = parseOption(element, option);\n\n            if (value !== undefined) {\n\n                if (templateRegExp.test(option) && role != \"drawer\") {\n                    if(typeof value === \"string\") {\n                        if($(\"#\" + value).length){\n                            value = kendo.template($(\"#\" + value).html());\n                        }else if (source){\n                            value = kendo.template(source[value]);\n                        }\n                    } else {\n                        value = element.getAttribute(option);\n                    }\n                }\n\n                result[option] = value;\n            }\n        }\n\n        return result;\n    }\n\n    kendo.initWidget = function(element, options, roles) {\n        var result,\n            option,\n            widget,\n            idx,\n            length,\n            role,\n            value,\n            dataSource,\n            fullPath,\n            widgetKeyRegExp;\n\n        // Preserve backwards compatibility with (element, options, namespace) signature, where namespace was kendo.ui\n        if (!roles) {\n            roles = kendo.ui.roles;\n        } else if (roles.roles) {\n            roles = roles.roles;\n        }\n\n        element = element.nodeType ? element : element[0];\n\n        role = element.getAttribute(\"data-\" + kendo.ns + \"role\");\n\n        if (!role) {\n            return;\n        }\n\n        fullPath = role.indexOf(\".\") === -1;\n\n        // look for any widget that may be already instantiated based on this role.\n        // The prefix used is unknown, hence the regexp\n        //\n\n        if (fullPath) {\n            widget = roles[role];\n        } else { // full namespace path - like kendo.ui.Widget\n            widget = kendo.getter(role)(window);\n        }\n\n        var data = $(element).data(),\n            widgetKey = widget ? \"kendo\" + widget.fn.options.prefix + widget.fn.options.name : \"\";\n\n        if (fullPath) {\n            widgetKeyRegExp = new RegExp(\"^kendo.*\" + role + \"$\", \"i\");\n        } else { // full namespace path - like kendo.ui.Widget\n            widgetKeyRegExp = new RegExp(\"^\" + widgetKey + \"$\", \"i\");\n        }\n\n        for(var key in data) {\n            if (key.match(widgetKeyRegExp)) {\n                // we have detected a widget of the same kind - save its reference, we will set its options\n                if (key === widgetKey) {\n                    result = data[key];\n                } else {\n                    return data[key];\n                }\n            }\n        }\n\n        if (!widget) {\n            return;\n        }\n\n        dataSource = parseOption(element, \"dataSource\");\n\n        options = $.extend({}, parseOptions(element, $.extend({}, widget.fn.options, widget.fn.defaults) ), options);\n\n        if (dataSource) {\n            if (typeof dataSource === STRING) {\n                options.dataSource = kendo.getter(dataSource)(window);\n            } else {\n                options.dataSource = dataSource;\n            }\n        }\n\n        for (idx = 0, length = widget.fn.events.length; idx < length; idx++) {\n            option = widget.fn.events[idx];\n\n            value = parseOption(element, option);\n\n            if (value !== undefined) {\n                options[option] = kendo.getter(value)(window);\n            }\n        }\n\n        if (!result) {\n            result = new widget(element, options);\n        } else if (!$.isEmptyObject(options)) {\n            result.setOptions(options);\n        }\n\n        return result;\n    };\n\n    kendo.rolesFromNamespaces = function(namespaces) {\n        var roles = [],\n            idx,\n            length;\n\n        if (!namespaces[0]) {\n            namespaces = [kendo.ui, kendo.dataviz.ui];\n        }\n\n        for (idx = 0, length = namespaces.length; idx < length; idx ++) {\n            roles[idx] = namespaces[idx].roles;\n        }\n\n        return extend.apply(null, [{}].concat(roles.reverse()));\n    };\n\n    kendo.init = function(element) {\n        var roles = kendo.rolesFromNamespaces(slice.call(arguments, 1));\n\n        $(element).find(\"[data-\" + kendo.ns + \"role]\").addBack().each(function(){\n            kendo.initWidget(this, {}, roles);\n        });\n    };\n\n    kendo.destroy = function(element) {\n        $(element).find(\"[data-\" + kendo.ns + \"role]\").addBack().each(function(){\n            var data = $(this).data();\n\n            for (var key in data) {\n                if (key.indexOf(\"kendo\") === 0 && typeof data[key].destroy === FUNCTION) {\n                    data[key].destroy();\n                }\n            }\n        });\n    };\n\n    function containmentComparer(a, b) {\n        return $.contains(a, b) ? -1 : 1;\n    }\n\n    function resizableWidget() {\n        var widget = $(this);\n        return ($.inArray(widget.attr(\"data-\" + kendo.ns + \"role\"), [\"slider\", \"rangeslider\", \"breadcrumb\"]) > -1) || widget.is(\":visible\");\n    }\n\n    kendo.resize = function(element, force) {\n        var widgets = $(element).find(\"[data-\" + kendo.ns + \"role]\").addBack().filter(resizableWidget);\n\n        if (!widgets.length) {\n            return;\n        }\n\n        // sort widgets based on their parent-child relation\n        var widgetsArray = $.makeArray(widgets);\n        widgetsArray.sort(containmentComparer);\n\n        // resize widgets\n        $.each(widgetsArray, function () {\n            var widget = kendo.widgetInstance($(this));\n            if (widget) {\n                widget.resize(force);\n            }\n        });\n    };\n\n    kendo.parseOptions = parseOptions;\n\n    extend(kendo.ui, {\n        Widget: Widget,\n        DataBoundWidget: DataBoundWidget,\n        roles: {},\n        progress: function(container, toggle, options) {\n            var mask = container.find(\".k-loading-mask\"),\n                support = kendo.support,\n                browser = support.browser,\n                isRtl, leftRight, webkitCorrection, containerScrollLeft, cssClass;\n\n                options = $.extend({}, {\n                    width: \"100%\",\n                    height: \"100%\",\n                    top: container.scrollTop(),\n                    opacity: false\n                }, options);\n\n                cssClass = options.opacity ? 'k-loading-mask k-opaque' : 'k-loading-mask';\n\n            if (toggle) {\n                if (!mask.length) {\n                    isRtl = support.isRtl(container);\n                    leftRight = isRtl ? \"right\" : \"left\";\n                    containerScrollLeft = kendo.scrollLeft(container);\n                    webkitCorrection = browser.webkit ? (!isRtl ? 0 : container[0].scrollWidth - container.width() - 2 * containerScrollLeft) : 0;\n\n                    mask = $(kendo.format(\"<div class='{0}'><span role='alert' aria-live='polite' class='k-loading-text'>{1}</span><div class='k-loading-image'></div><div class='k-loading-color'></div></div>\", cssClass, kendo.ui.progress.messages.loading))\n                        .width(options.width).height(options.height)\n                        .css(\"top\", options.top)\n                        .css(leftRight, Math.abs(containerScrollLeft) + webkitCorrection)\n                        .prependTo(container);\n                }\n            } else if (mask) {\n                mask.remove();\n            }\n        },\n        plugin: function(widget, register, prefix) {\n            var name = widget.fn.options.name,\n                getter;\n\n            register = register || kendo.ui;\n            prefix = prefix || \"\";\n\n            register[name] = widget;\n\n            register.roles[name.toLowerCase()] = widget;\n\n            getter = \"getKendo\" + prefix + name;\n            name = \"kendo\" + prefix + name;\n\n            var widgetEntry = { name: name, widget: widget, prefix: prefix || \"\" };\n            kendo.widgets.push(widgetEntry);\n\n            for (var i = 0, len = kendo._widgetRegisteredCallbacks.length; i < len; i++) {\n                kendo._widgetRegisteredCallbacks[i](widgetEntry);\n            }\n\n            $.fn[name] = function(options) {\n                var value = this,\n                    args;\n\n                if (typeof options === STRING) {\n                    args = slice.call(arguments, 1);\n\n                    this.each(function(){\n                        var widget = $.data(this, name),\n                            method,\n                            result;\n\n                        if (!widget) {\n                            throw new Error(kendo.format(\"Cannot call method '{0}' of {1} before it is initialized\", options, name));\n                        }\n\n                        method = widget[options];\n\n                        if (typeof method !== FUNCTION) {\n                            throw new Error(kendo.format(\"Cannot find method '{0}' of {1}\", options, name));\n                        }\n\n                        result = method.apply(widget, args);\n\n                        if (result !== undefined) {\n                            value = result;\n                            return false;\n                        }\n                    });\n                } else {\n                    this.each(function() {\n                        return new widget(this, options);\n                    });\n                }\n\n                return value;\n            };\n\n            $.fn[name].widget = widget;\n\n            $.fn[getter] = function() {\n                return this.data(name);\n            };\n        }\n    });\n\n    kendo.ui.progress.messages = {\n        loading: \"Loading...\"\n    };\n\n    var ContainerNullObject = { bind: function () { return this; }, nullObject: true, options: {} };\n\n    var MobileWidget = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n            this.element.autoApplyNS();\n            this.wrapper = this.element;\n            this.element.addClass(\"km-widget\");\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.element.kendoDestroy();\n        },\n\n        options: {\n            prefix: \"Mobile\"\n        },\n\n        events: [],\n\n        view: function() {\n            var viewElement = this.element.closest(kendo.roleSelector(\"view splitview modalview drawer\"));\n            return kendo.widgetInstance(viewElement, kendo.mobile.ui) || ContainerNullObject;\n        },\n\n        viewHasNativeScrolling: function() {\n            var view = this.view();\n            return view && view.options.useNativeScrolling;\n        },\n\n        container: function() {\n            var element = this.element.closest(kendo.roleSelector(\"view layout modalview drawer splitview\"));\n            return kendo.widgetInstance(element.eq(0), kendo.mobile.ui) || ContainerNullObject;\n        }\n    });\n\n    extend(kendo.mobile, {\n        init: function(element) {\n            kendo.init(element, kendo.mobile.ui, kendo.ui, kendo.dataviz.ui);\n        },\n\n        appLevelNativeScrolling: function() {\n            return kendo.mobile.application && kendo.mobile.application.options && kendo.mobile.application.options.useNativeScrolling;\n        },\n\n        roles: {},\n\n        ui: {\n            Widget: MobileWidget,\n            DataBoundWidget: DataBoundWidget.extend(MobileWidget.prototype),\n            roles: {},\n            plugin: function(widget) {\n                kendo.ui.plugin(widget, kendo.mobile.ui, \"Mobile\");\n            }\n        }\n    });\n\n    deepExtend(kendo.dataviz, {\n        init: function(element) {\n            kendo.init(element, kendo.dataviz.ui);\n        },\n        ui: {\n            roles: {},\n            themes: {},\n            views: [],\n            plugin: function(widget) {\n                kendo.ui.plugin(widget, kendo.dataviz.ui);\n            }\n        },\n        roles: {}\n    });\n\n    kendo.touchScroller = function(elements, options) {\n        // return the first touch scroller\n        if (!options){ options = {}; }\n\n        options.useNative = true;\n\n        return $(elements).map(function(idx, element) {\n            element = $(element);\n            if (support.kineticScrollNeeded && kendo.mobile.ui.Scroller && !element.data(\"kendoMobileScroller\")) {\n                element.kendoMobileScroller(options);\n                return element.data(\"kendoMobileScroller\");\n            } else {\n                return false;\n            }\n        })[0];\n    };\n\n    kendo.preventDefault = function(e) {\n        e.preventDefault();\n    };\n\n    kendo.widgetInstance = function(element, suites) {\n        var role = element.data(kendo.ns + \"role\"),\n            widgets = [], i, length,\n            elementData = element.data(\"kendoView\");\n\n        if (role) {\n            // HACK!!! mobile view scroller widgets are instantiated on data-role=\"content\" elements. We need to discover them when resizing.\n            if (role === \"content\") {\n                role = \"scroller\";\n            }\n\n            // kendoEditorToolbar is not a public plugin, thus it does not exist in kendo.ui.roles.\n            // Therefore, this is needed in order to be resized when placed in Kendo Window.\n            if (role === \"editortoolbar\") {\n                var editorToolbar = element.data(\"kendoEditorToolbar\");\n                if (editorToolbar) {\n                    return editorToolbar;\n                }\n            }\n\n            // kendo.View is not a ui plugin\n\n            if (role === \"view\" && elementData) {\n                return elementData;\n            }\n\n            if (suites) {\n                if (suites[0]) {\n                    for (i = 0, length = suites.length; i < length; i ++) {\n                        widgets.push(suites[i].roles[role]);\n                    }\n                } else {\n                    widgets.push(suites.roles[role]);\n                }\n            }\n            else {\n                widgets = [ kendo.ui.roles[role], kendo.dataviz.ui.roles[role],  kendo.mobile.ui.roles[role] ];\n            }\n\n            if (role.indexOf(\".\") >= 0) {\n                widgets = [ kendo.getter(role)(window) ];\n            }\n\n            for (i = 0, length = widgets.length; i < length; i ++) {\n                var widget = widgets[i];\n                if (widget) {\n                    var instance = element.data(\"kendo\" + widget.fn.options.prefix + widget.fn.options.name);\n                    if (instance) {\n                        return instance;\n                    }\n                }\n            }\n        }\n    };\n\n    kendo.onResize = function(callback) {\n        var handler = callback;\n        if (support.mobileOS.android) {\n            handler = function() { setTimeout(callback, 600); };\n        }\n\n        $(window).on(support.resize, handler);\n        return handler;\n    };\n\n    kendo.unbindResize = function(callback) {\n        $(window).off(support.resize, callback);\n    };\n\n    kendo.attrValue = function(element, key) {\n        return element.data(kendo.ns + key);\n    };\n\n    kendo.days = {\n        Sunday: 0,\n        Monday: 1,\n        Tuesday: 2,\n        Wednesday: 3,\n        Thursday: 4,\n        Friday: 5,\n        Saturday: 6\n    };\n\n    function focusable(element, isTabIndexNotNaN) {\n        var nodeName = element.nodeName.toLowerCase();\n\n        return (/input|select|textarea|button|object/.test(nodeName) ?\n                !element.disabled :\n                \"a\" === nodeName ?\n                element.href || isTabIndexNotNaN :\n                isTabIndexNotNaN\n               ) &&\n            visible(element);\n    }\n\n    function visible(element) {\n        return $.expr.pseudos.visible(element) &&\n            !$(element).parents().addBack().filter(function() {\n                return $.css(this,\"visibility\") === \"hidden\";\n            }).length;\n    }\n\n    $.extend($.expr.pseudos, {\n        kendoFocusable: function(element) {\n            var idx = $.attr(element, \"tabindex\");\n            return focusable(element, !isNaN(idx) && idx > -1);\n        }\n    });\n\n    var MOUSE_EVENTS = [\"mousedown\", \"mousemove\", \"mouseenter\", \"mouseleave\", \"mouseover\", \"mouseout\", \"mouseup\", \"click\"];\n    var EXCLUDE_BUST_CLICK_SELECTOR = \"label, input, [data-rel=external]\";\n\n    var MouseEventNormalizer = {\n        setupMouseMute: function() {\n            var idx = 0,\n                length = MOUSE_EVENTS.length,\n                element = document.documentElement;\n\n            if (MouseEventNormalizer.mouseTrap || !support.eventCapture) {\n                return;\n            }\n\n            MouseEventNormalizer.mouseTrap = true;\n\n            MouseEventNormalizer.bustClick = false;\n            MouseEventNormalizer.captureMouse = false;\n\n            var handler = function(e) {\n                if (MouseEventNormalizer.captureMouse) {\n                    if (e.type === \"click\") {\n                        if (MouseEventNormalizer.bustClick && !$(e.target).is(EXCLUDE_BUST_CLICK_SELECTOR)) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                        }\n                    } else {\n                        e.stopPropagation();\n                    }\n                }\n            };\n\n            for (; idx < length; idx++) {\n                element.addEventListener(MOUSE_EVENTS[idx], handler, true);\n            }\n        },\n\n        muteMouse: function(e) {\n            MouseEventNormalizer.captureMouse = true;\n            if (e.data.bustClick) {\n                MouseEventNormalizer.bustClick = true;\n            }\n            clearTimeout(MouseEventNormalizer.mouseTrapTimeoutID);\n        },\n\n        unMuteMouse: function() {\n            clearTimeout(MouseEventNormalizer.mouseTrapTimeoutID);\n            MouseEventNormalizer.mouseTrapTimeoutID = setTimeout(function() {\n                MouseEventNormalizer.captureMouse = false;\n                MouseEventNormalizer.bustClick = false;\n            }, 400);\n        }\n    };\n\n    var eventMap = {\n        down: \"touchstart mousedown\",\n        move: \"mousemove touchmove\",\n        up: \"mouseup touchend touchcancel\",\n        cancel: \"mouseleave touchcancel\"\n    };\n\n    if (support.touch && (support.mobileOS.ios || support.mobileOS.android)) {\n        eventMap = {\n            down: \"touchstart\",\n            move: \"touchmove\",\n            up: \"touchend touchcancel\",\n            cancel: \"touchcancel\"\n        };\n    } else if (support.pointers) {\n        eventMap = {\n            down: \"pointerdown\",\n            move: \"pointermove\",\n            up: \"pointerup\",\n            cancel: \"pointercancel pointerleave\"\n        };\n    } else if (support.msPointers) {\n        eventMap = {\n            down: \"MSPointerDown\",\n            move: \"MSPointerMove\",\n            up: \"MSPointerUp\",\n            cancel: \"MSPointerCancel MSPointerLeave\"\n        };\n    }\n\n    if (support.msPointers && !(\"onmspointerenter\" in window)) { // IE10\n        // Create MSPointerEnter/MSPointerLeave events using mouseover/out and event-time checks\n        $.each({\n            MSPointerEnter: \"MSPointerOver\",\n            MSPointerLeave: \"MSPointerOut\"\n        }, function( orig, fix ) {\n            $.event.special[ orig ] = {\n                delegateType: fix,\n                bindType: fix,\n\n                handle: function( event ) {\n                    var ret,\n                        target = this,\n                        related = event.relatedTarget,\n                        handleObj = event.handleObj;\n\n                    // For mousenter/leave call the handler if related is outside the target.\n                    // NB: No relatedTarget if the mouse left/entered the browser window\n                    if ( !related || (related !== target && !$.contains( target, related )) ) {\n                        event.type = handleObj.origType;\n                        ret = handleObj.handler.apply( this, arguments );\n                        event.type = fix;\n                    }\n                    return ret;\n                }\n            };\n        });\n    }\n\n\n    var getEventMap = function(e) { return (eventMap[e] || e); },\n        eventRegEx = /([^ ]+)/g;\n\n    kendo.applyEventMap = function(events, ns) {\n        events = events.replace(eventRegEx, getEventMap);\n\n        if (ns) {\n            events = events.replace(eventRegEx, \"$1.\" + ns);\n        }\n\n        return events;\n    };\n\n    kendo.keyDownHandler = function(e, widget) {\n        var events = widget._events.kendoKeydown;\n\n        if(!events){\n            return true;\n        }\n\n        events = events.slice();\n        e.sender = widget;\n        e.preventKendoKeydown = false;\n        for (var idx = 0, length = events.length; idx < length; idx++) {\n            events[idx].call(widget, e);\n        }\n\n        return !e.preventKendoKeydown;\n    };\n\n    var on = $.fn.on;\n\n    function kendoJQuery(selector, context) {\n        return new kendoJQuery.fn.init(selector, context);\n    }\n\n    noDepricateExtend(true, kendoJQuery, $);\n\n    kendoJQuery.fn = kendoJQuery.prototype = new $();\n\n    kendoJQuery.fn.constructor = kendoJQuery;\n\n    kendoJQuery.fn.init = function(selector, context) {\n        if (context && context instanceof $ && !(context instanceof kendoJQuery)) {\n            context = kendoJQuery(context);\n        }\n\n        return $.fn.init.call(this, selector, context, rootjQuery);\n    };\n\n    kendoJQuery.fn.init.prototype = kendoJQuery.fn;\n\n    var rootjQuery = kendoJQuery(document);\n\n    extend(kendoJQuery.fn, {\n        handler: function(handler) {\n            this.data(\"handler\", handler);\n            return this;\n        },\n\n        autoApplyNS: function(ns) {\n            this.data(\"kendoNS\", ns || kendo.guid());\n            return this;\n        },\n\n        on: function() {\n            var that = this,\n                ns = that.data(\"kendoNS\");\n\n            // support for event map signature\n            if (arguments.length === 1) {\n                return on.call(that, arguments[0]);\n            }\n\n            var context = that,\n                args = slice.call(arguments);\n\n            if (typeof args[args.length -1] === UNDEFINED) {\n                args.pop();\n            }\n\n            var callback =  args[args.length - 1],\n                events = kendo.applyEventMap(args[0], ns);\n\n            // setup mouse trap\n            if (support.mouseAndTouchPresent && events.search(/mouse|click/) > -1 && this[0] !== document.documentElement) {\n                MouseEventNormalizer.setupMouseMute();\n\n                var selector = args.length === 2 ? null : args[1],\n                    bustClick = events.indexOf(\"click\") > -1 && events.indexOf(\"touchend\") > -1;\n\n                on.call(this,\n                    {\n                        touchstart: MouseEventNormalizer.muteMouse,\n                        touchend: MouseEventNormalizer.unMuteMouse\n                    },\n                    selector,\n                    {\n                        bustClick: bustClick\n                    });\n            }\n\n            if(arguments[0].indexOf(\"keydown\") !== -1 && args[1] && args[1].options){\n                args[0] = events;\n                var widget = args[1];\n                var keyDownCallBack = args[args.length - 1];\n                args[args.length - 1]= function(e){\n                    if(kendo.keyDownHandler(e, widget)){\n                       return keyDownCallBack.apply(this, [e]);\n                    }\n                };\n                on.apply(that, args);\n                return that;\n            }\n\n            if (typeof callback === STRING) {\n                context = that.data(\"handler\");\n                callback = context[callback];\n\n                args[args.length - 1] = function(e) {\n                    callback.call(context, e);\n                };\n            }\n\n            args[0] = events;\n\n            on.apply(that, args);\n\n            return that;\n        },\n\n        kendoDestroy: function(ns) {\n            ns = ns || this.data(\"kendoNS\");\n\n            if (ns) {\n                this.off(\".\" + ns);\n            }\n\n            return this;\n        }\n    });\n\n    kendo.jQuery = kendoJQuery;\n    kendo.eventMap = eventMap;\n\n    kendo.timezone = (function(){\n        var months =  { Jan: 0, Feb: 1, Mar: 2, Apr: 3, May: 4, Jun: 5, Jul: 6, Aug: 7, Sep: 8, Oct: 9, Nov: 10, Dec: 11 };\n        var days = { Sun: 0, Mon: 1, Tue: 2, Wed: 3, Thu: 4, Fri: 5, Sat: 6 };\n\n        function ruleToDate(year, rule) {\n            var date;\n            var targetDay;\n            var ourDay;\n            var month = rule[3];\n            var on = rule[4];\n            var time = rule[5];\n            var cache = rule[8];\n\n            if (!cache) {\n                rule[8] = cache = {};\n            }\n\n            if (cache[year]) {\n                return cache[year];\n            }\n\n            if (!isNaN(on)) {\n                date = new Date(Date.UTC(year, months[month], on, time[0], time[1], time[2], 0));\n            } else if (on.indexOf(\"last\") === 0) {\n                date = new Date(Date.UTC(year, months[month] + 1, 1, time[0] - 24, time[1], time[2], 0));\n\n                targetDay = days[on.substr(4, 3)];\n                ourDay = date.getUTCDay();\n\n                date.setUTCDate(date.getUTCDate() + targetDay - ourDay - (targetDay > ourDay ? 7 : 0));\n            } else if (on.indexOf(\">=\") >= 0) {\n                date = new Date(Date.UTC(year, months[month], on.substr(5), time[0], time[1], time[2], 0));\n\n                targetDay = days[on.substr(0, 3)];\n                ourDay = date.getUTCDay();\n\n                date.setUTCDate(date.getUTCDate() + targetDay - ourDay + (targetDay < ourDay ? 7 : 0));\n            } else if (on.indexOf(\"<=\") >= 0) {\n                date = new Date(Date.UTC(year, months[month], on.substr(5), time[0], time[1], time[2], 0));\n\n                targetDay = days[on.substr(0, 3)];\n                ourDay = date.getUTCDay();\n\n                date.setUTCDate(date.getUTCDate() + targetDay - ourDay - (targetDay > ourDay ? 7 : 0));\n            }\n\n            return cache[year] = date;\n        }\n\n        function findRule(utcTime, rules, zone) {\n            rules = rules[zone];\n\n            if (!rules) {\n                var time = zone.split(\":\");\n                var offset = 0;\n\n                if (time.length > 1) {\n                    offset = time[0] * 60 + Number(time[1]);\n                }\n\n                return [-1000000, 'max', '-', 'Jan', 1, [0, 0, 0], offset, '-'];\n            }\n\n            var year = new Date(utcTime).getUTCFullYear();\n\n            rules = jQuery.grep(rules, function(rule) {\n                var from = rule[0];\n                var to = rule[1];\n\n                return from <= year && (to >= year || (from == year && to == \"only\") || to == \"max\");\n            });\n\n            rules.push(utcTime);\n\n            rules.sort(function(a, b) {\n                if (typeof a != \"number\") {\n                    a = Number(ruleToDate(year, a));\n                }\n\n                if (typeof b != \"number\") {\n                    b = Number(ruleToDate(year, b));\n                }\n\n                return a - b;\n            });\n\n            var rule = rules[jQuery.inArray(utcTime, rules) - 1] || rules[rules.length - 1];\n\n            return isNaN(rule) ? rule : null;\n        }\n\n        function findZone(utcTime, zones, timezone) {\n            var zoneRules = zones[timezone];\n\n            if (typeof zoneRules === \"string\") {\n                zoneRules = zones[zoneRules];\n            }\n\n            if (!zoneRules) {\n                throw new Error('Timezone \"' + timezone + '\" is either incorrect, or kendo.timezones.min.js is not included.');\n            }\n\n            for (var idx = zoneRules.length - 1; idx >= 0; idx--) {\n                var until = zoneRules[idx][3];\n\n                if (until && utcTime > until) {\n                    break;\n                }\n            }\n\n            var zone = zoneRules[idx + 1];\n\n            if (!zone) {\n                throw new Error('Timezone \"' + timezone + '\" not found on ' + utcTime + \".\");\n            }\n\n            return zone;\n        }\n\n        function zoneAndRule(utcTime, zones, rules, timezone) {\n            if (typeof utcTime != NUMBER) {\n                utcTime = Date.UTC(utcTime.getFullYear(), utcTime.getMonth(),\n                    utcTime.getDate(), utcTime.getHours(), utcTime.getMinutes(),\n                    utcTime.getSeconds(), utcTime.getMilliseconds());\n            }\n\n            var zone = findZone(utcTime, zones, timezone);\n\n            return {\n                zone: zone,\n                rule: findRule(utcTime, rules, zone[1])\n            };\n        }\n\n        function offset(utcTime, timezone) {\n            if (timezone == \"Etc/UTC\" || timezone == \"Etc/GMT\") {\n                return 0;\n            }\n\n            var info = zoneAndRule(utcTime, this.zones, this.rules, timezone);\n            var zone = info.zone;\n            var rule = info.rule;\n\n            return kendo.parseFloat(rule? zone[0] - rule[6] : zone[0]);\n        }\n\n        function abbr(utcTime, timezone) {\n            var info = zoneAndRule(utcTime, this.zones, this.rules, timezone);\n            var zone = info.zone;\n            var rule = info.rule;\n\n            var base = zone[2];\n\n            if (base.indexOf(\"/\") >= 0) {\n                return base.split(\"/\")[rule && +rule[6] ? 1 : 0];\n            } else if (base.indexOf(\"%s\") >= 0) {\n                return base.replace(\"%s\", (!rule || rule[7] == \"-\") ? '' : rule[7]);\n            }\n\n            return base;\n        }\n\n        function convert(date, fromOffset, toOffset) {\n            var tempToOffset = toOffset;\n            var diff;\n\n            if (typeof fromOffset == STRING) {\n                fromOffset = this.offset(date, fromOffset);\n            }\n\n            if (typeof toOffset == STRING) {\n                toOffset = this.offset(date, toOffset);\n            }\n\n            var fromLocalOffset = date.getTimezoneOffset();\n\n            date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n\n            var toLocalOffset = date.getTimezoneOffset();\n\n            if (typeof tempToOffset == STRING) {\n                tempToOffset = this.offset(date, tempToOffset);\n            }\n\n            diff = (toLocalOffset - fromLocalOffset) + (toOffset - tempToOffset);\n\n            return new Date(date.getTime() + diff * 60000);\n        }\n\n        function apply(date, timezone) {\n           return this.convert(date, date.getTimezoneOffset(), timezone);\n        }\n\n        function remove(date, timezone) {\n           return this.convert(date, timezone, date.getTimezoneOffset());\n        }\n\n        function toLocalDate(time) {\n            return this.apply(new Date(time), \"Etc/UTC\");\n        }\n\n        return {\n           zones: {},\n           rules: {},\n           offset: offset,\n           convert: convert,\n           apply: apply,\n           remove: remove,\n           abbr: abbr,\n           toLocalDate: toLocalDate\n        };\n    })();\n\n    kendo.date = (function(){\n        var MS_PER_MINUTE = 60000,\n            MS_PER_DAY = 86400000;\n\n        function adjustDST(date, hours) {\n            if (hours === 0 && date.getHours() === 23) {\n                date.setHours(date.getHours() + 2);\n                return true;\n            }\n\n            return false;\n        }\n\n        function setDayOfWeek(date, day, dir) {\n            var hours = date.getHours();\n\n            dir = dir || 1;\n            day = ((day - date.getDay()) + (7 * dir)) % 7;\n\n            date.setDate(date.getDate() + day);\n            adjustDST(date, hours);\n        }\n\n        function dayOfWeek(date, day, dir) {\n            date = new Date(date);\n            setDayOfWeek(date, day, dir);\n            return date;\n        }\n\n        function firstDayOfMonth(date) {\n            return new Date(\n                date.getFullYear(),\n                date.getMonth(),\n                1\n            );\n        }\n\n        function lastDayOfMonth(date) {\n            var last = new Date(date.getFullYear(), date.getMonth() + 1, 0),\n                first = firstDayOfMonth(date),\n                timeOffset = Math.abs(last.getTimezoneOffset() - first.getTimezoneOffset());\n\n            if (timeOffset) {\n                last.setHours(first.getHours() + (timeOffset / 60));\n            }\n\n            return last;\n        }\n\n        function firstDayOfYear(date) {\n            return new Date(date.getFullYear(), 0, 1);\n        }\n\n        function lastDayOfYear(date) {\n            return new Date(date.getFullYear(), 11, 31);\n        }\n\n        function moveDateToWeekStart(date, weekStartDay) {\n            if (weekStartDay !== 1) {\n                return addDays(dayOfWeek(date, weekStartDay, -1), 4);\n            }\n\n            return addDays(date, (4 - (date.getDay() || 7)));\n        }\n\n        function calcWeekInYear(date, weekStartDay) {\n            var firstWeekInYear = new Date(date.getFullYear(), 0, 1, -6);\n\n            var newDate = moveDateToWeekStart(date, weekStartDay);\n\n            var diffInMS = newDate.getTime() - firstWeekInYear.getTime();\n\n            var days = Math.floor(diffInMS / MS_PER_DAY);\n\n            return 1 + Math.floor(days / 7);\n        }\n\n        function weekInYear(date, weekStartDay) {\n            if(weekStartDay === undefined) {\n                weekStartDay = kendo.culture().calendar.firstDay;\n            }\n\n            var prevWeekDate = addDays(date, -7);\n            var nextWeekDate = addDays(date, 7);\n\n            var weekNumber = calcWeekInYear(date, weekStartDay);\n\n            if (weekNumber === 0) {\n                return calcWeekInYear(prevWeekDate, weekStartDay) + 1;\n            }\n\n            if (weekNumber === 53 && calcWeekInYear(nextWeekDate, weekStartDay) > 1) {\n                return 1;\n            }\n\n            return weekNumber;\n        }\n\n        function getDate(date) {\n            date = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n            adjustDST(date, 0);\n            return date;\n        }\n\n        function toUtcTime(date) {\n            return Date.UTC(date.getFullYear(), date.getMonth(),\n                        date.getDate(), date.getHours(), date.getMinutes(),\n                        date.getSeconds(), date.getMilliseconds());\n        }\n\n        function getMilliseconds(date) {\n            return toInvariantTime(date).getTime() - getDate(toInvariantTime(date));\n        }\n\n        function isInTimeRange(value, min, max) {\n            var msMin = getMilliseconds(min),\n                msMax = getMilliseconds(max),\n                msValue;\n\n            if (!value || msMin == msMax) {\n                return true;\n            }\n\n            if (min >= max) {\n                max += MS_PER_DAY;\n            }\n\n            msValue = getMilliseconds(value);\n\n            if (msMin > msValue) {\n                msValue += MS_PER_DAY;\n            }\n\n            if (msMax < msMin) {\n                msMax += MS_PER_DAY;\n            }\n\n            return msValue >= msMin && msValue <= msMax;\n        }\n\n        function isInDateRange(value, min, max) {\n            var msMin = min.getTime(),\n                msMax = max.getTime(),\n                msValue;\n\n            if (msMin >= msMax) {\n                msMax += MS_PER_DAY;\n            }\n\n            msValue = value.getTime();\n\n            return msValue >= msMin && msValue <= msMax;\n        }\n\n        function addDays(date, offset) {\n            var hours = date.getHours();\n                date = new Date(date);\n\n            setTime(date, offset * MS_PER_DAY);\n            adjustDST(date, hours);\n            return date;\n        }\n\n        function setTime(date, milliseconds, ignoreDST) {\n            var offset = date.getTimezoneOffset();\n            var difference;\n\n            date.setTime(date.getTime() + milliseconds);\n\n            if (!ignoreDST) {\n                difference = date.getTimezoneOffset() - offset;\n                date.setTime(date.getTime() + difference * MS_PER_MINUTE);\n            }\n        }\n\n        function setHours(date, time) {\n            date = new Date(date.getFullYear(), date.getMonth(), date.getDate(), time.getHours(), time.getMinutes(), time.getSeconds(), time.getMilliseconds());\n            adjustDST(date, time.getHours());\n            return date;\n        }\n\n        function today() {\n            return getDate(new Date());\n        }\n\n        function isToday(date) {\n           return getDate(date).getTime() == today().getTime();\n        }\n\n        function toInvariantTime(date) {\n            var staticDate = new Date(1980, 1, 1, 0, 0, 0);\n\n            if (date) {\n                staticDate.setHours(date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds());\n            }\n\n            return staticDate;\n        }\n\n        function addYear(date, offset) {\n            var currentDate = new Date(date);\n\n            return new Date(currentDate.setFullYear(currentDate.getFullYear() + offset));\n        }\n\n        return {\n            adjustDST: adjustDST,\n            dayOfWeek: dayOfWeek,\n            setDayOfWeek: setDayOfWeek,\n            getDate: getDate,\n            isInDateRange: isInDateRange,\n            isInTimeRange: isInTimeRange,\n            isToday: isToday,\n            nextDay: function(date) {\n                return addDays(date, 1);\n            },\n            previousDay: function(date) {\n                return addDays(date, -1);\n            },\n            toUtcTime: toUtcTime,\n            MS_PER_DAY: MS_PER_DAY,\n            MS_PER_HOUR: 60 * MS_PER_MINUTE,\n            MS_PER_MINUTE: MS_PER_MINUTE,\n            setTime: setTime,\n            setHours: setHours,\n            addDays: addDays,\n            today: today,\n            toInvariantTime: toInvariantTime,\n            firstDayOfMonth: firstDayOfMonth,\n            lastDayOfMonth: lastDayOfMonth,\n            weekInYear: weekInYear,\n            getMilliseconds: getMilliseconds,\n            firstDayOfYear: firstDayOfYear,\n            lastDayOfYear: lastDayOfYear,\n            nextYear: function(date) {\n                return addYear(date, 1);\n            },\n            previousYear: function(date) {\n                return addYear(date, -1);\n            }\n        };\n    })();\n\n\n    kendo.stripWhitespace = function(element) {\n        if (document.createNodeIterator) {\n            var iterator = document.createNodeIterator(element, NodeFilter.SHOW_TEXT, function(node) {\n                    return node.parentNode == element ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT;\n                }, false);\n\n            while (iterator.nextNode()) {\n                if (iterator.referenceNode && !iterator.referenceNode.textContent.trim()) {\n                    iterator.referenceNode.parentNode.removeChild(iterator.referenceNode);\n                }\n            }\n        } else { // IE7/8 support\n            for (var i = 0; i < element.childNodes.length; i++) {\n                var child = element.childNodes[i];\n\n                if (child.nodeType == 3 && !/\\S/.test(child.nodeValue)) {\n                    element.removeChild(child);\n                    i--;\n                }\n\n                if (child.nodeType == 1) {\n                    kendo.stripWhitespace(child);\n                }\n            }\n        }\n    };\n\n    var animationFrame  = window.requestAnimationFrame       ||\n                          window.webkitRequestAnimationFrame ||\n                          window.mozRequestAnimationFrame    ||\n                          window.oRequestAnimationFrame      ||\n                          window.msRequestAnimationFrame     ||\n                          function(callback){ setTimeout(callback, 1000 / 60); };\n\n    kendo.animationFrame = function(callback) {\n        animationFrame.call(window, callback);\n    };\n\n    var animationQueue = [];\n\n    kendo.queueAnimation = function(callback) {\n        animationQueue[animationQueue.length] = callback;\n        if (animationQueue.length === 1) {\n            kendo.runNextAnimation();\n        }\n    };\n\n    kendo.runNextAnimation = function() {\n        kendo.animationFrame(function() {\n            if (animationQueue[0]) {\n                animationQueue.shift()();\n                if (animationQueue[0]) {\n                    kendo.runNextAnimation();\n                }\n            }\n        });\n    };\n\n    kendo.parseQueryStringParams = function(url) {\n        var queryString = url.split('?')[1] || \"\",\n            params = {},\n            paramParts = queryString.split(/&|=/),\n            length = paramParts.length,\n            idx = 0;\n\n        for (; idx < length; idx += 2) {\n            if(paramParts[idx] !== \"\") {\n                params[decodeURIComponent(paramParts[idx])] = decodeURIComponent(paramParts[idx + 1]);\n            }\n        }\n\n        return params;\n    };\n\n    kendo.elementUnderCursor = function(e) {\n        if (typeof e.x.client != \"undefined\") {\n            return document.elementFromPoint(e.x.client, e.y.client);\n        }\n    };\n\n    kendo.wheelDeltaY = function(jQueryEvent) {\n        var e = jQueryEvent.originalEvent,\n            deltaY = e.wheelDeltaY,\n            delta;\n\n            if (e.wheelDelta) { // Webkit and IE\n                if (deltaY === undefined || deltaY) { // IE does not have deltaY, thus always scroll (horizontal scrolling is treated as vertical)\n                    delta = e.wheelDelta;\n                }\n            } else if (e.detail && e.axis === e.VERTICAL_AXIS) { // Firefox and Opera\n                delta = (-e.detail) * 10;\n            }\n\n        return delta;\n    };\n\n    kendo.throttle = function(fn, delay) {\n        var timeout;\n        var lastExecTime = 0;\n\n        if (!delay || delay <= 0) {\n            return fn;\n        }\n\n        var throttled = function() {\n            var that = this;\n            var elapsed = +new Date() - lastExecTime;\n            var args = arguments;\n\n            function exec() {\n                fn.apply(that, args);\n                lastExecTime = +new Date();\n            }\n\n            // first execution\n            if (!lastExecTime) {\n                return exec();\n            }\n\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n\n            if (elapsed > delay) {\n                exec();\n            } else {\n                timeout = setTimeout(exec, delay - elapsed);\n            }\n        };\n\n        throttled.cancel = function() {\n            clearTimeout(timeout);\n        };\n\n        return throttled;\n    };\n\n\n    kendo.caret = function (element, start, end) {\n        var rangeElement;\n        var isPosition = start !== undefined;\n\n        if (end === undefined) {\n            end = start;\n        }\n\n        if (element[0]) {\n            element = element[0];\n        }\n\n        if (isPosition && element.disabled) {\n            return;\n        }\n\n        try {\n            if (element.selectionStart !== undefined) {\n                if (isPosition) {\n                    element.focus();\n                    var mobile = support.mobileOS;\n                    if(mobile.wp || mobile.android) {// without the timeout the caret is at the end of the input\n                        setTimeout(function() { element.setSelectionRange(start, end); }, 0);\n                    }\n                    else {\n                        element.setSelectionRange(start, end);\n                    }\n                } else {\n                    start = [element.selectionStart, element.selectionEnd];\n                }\n            } else if (document.selection) {\n                if ($(element).is(\":visible\")) {\n                    element.focus();\n                }\n\n                rangeElement = element.createTextRange();\n\n                if (isPosition) {\n                    rangeElement.collapse(true);\n                    rangeElement.moveStart(\"character\", start);\n                    rangeElement.moveEnd(\"character\", end - start);\n                    rangeElement.select();\n                } else {\n                    var rangeDuplicated = rangeElement.duplicate(),\n                        selectionStart, selectionEnd;\n\n                        rangeElement.moveToBookmark(document.selection.createRange().getBookmark());\n                        rangeDuplicated.setEndPoint('EndToStart', rangeElement);\n                        selectionStart = rangeDuplicated.text.length;\n                        selectionEnd = selectionStart + rangeElement.text.length;\n\n                    start = [selectionStart, selectionEnd];\n                }\n            }\n        } catch(e) {\n            /* element is not focused or it is not in the DOM */\n            start = [];\n        }\n\n        return start;\n    };\n\n    kendo.compileMobileDirective = function(element, scope) {\n        var angular = window.angular;\n\n        element.attr(\"data-\" + kendo.ns + \"role\", element[0].tagName.toLowerCase().replace('kendo-mobile-', '').replace('-', ''));\n\n        angular.element(element).injector().invoke([\"$compile\", function($compile) {\n            $compile(element)(scope);\n\n            if (!/^\\$(digest|apply)$/.test(scope.$$phase)) {\n                scope.$digest();\n            }\n        }]);\n\n        return kendo.widgetInstance(element, kendo.mobile.ui);\n    };\n\n    kendo.antiForgeryTokens = function() {\n        var tokens = { },\n            csrf_token = $(\"meta[name=csrf-token],meta[name=_csrf]\").attr(\"content\"),\n            csrf_param = $(\"meta[name=csrf-param],meta[name=_csrf_header]\").attr(\"content\");\n\n        $(\"input[name^='__RequestVerificationToken']\").each(function() {\n            tokens[this.name] = this.value;\n        });\n\n        if (csrf_param !== undefined && csrf_token !== undefined) {\n          tokens[csrf_param] = csrf_token;\n        }\n\n        return tokens;\n    };\n\n    kendo.cycleForm = function(form) {\n        var firstElement = form.find(\"input, .k-widget\").first();\n        var lastElement = form.find(\"button, .k-button\").last();\n\n        function focus(el) {\n            var widget = kendo.widgetInstance(el);\n\n            if (widget && widget.focus) {\n              widget.focus();\n            } else {\n              el.trigger(\"focus\");\n            }\n        }\n\n        lastElement.on(\"keydown\", function(e) {\n          if (e.keyCode == kendo.keys.TAB && !e.shiftKey) {\n            e.preventDefault();\n            focus(firstElement);\n          }\n        });\n\n        firstElement.on(\"keydown\", function(e) {\n          if (e.keyCode == kendo.keys.TAB && e.shiftKey) {\n            e.preventDefault();\n            focus(lastElement);\n          }\n        });\n    };\n\n    kendo.focusElement = function(element) {\n        var scrollTopPositions = [];\n        var scrollableParents = element.parentsUntil(\"body\")\n                .filter(function(index, element) {\n                    var computedStyle = kendo.getComputedStyles(element, [\"overflow\"]);\n                    return computedStyle.overflow !== \"visible\";\n                })\n                .add(window);\n\n        scrollableParents.each(function(index, parent) {\n            scrollTopPositions[index] = $(parent).scrollTop();\n        });\n\n        try {\n            //The setActive method does not cause the document to scroll to the active object in the current page\n            element[0].setActive();\n        } catch (e) {\n            element[0].focus();\n        }\n\n        scrollableParents.each(function(index, parent) {\n            $(parent).scrollTop(scrollTopPositions[index]);\n        });\n    };\n\n    kendo.focusNextElement = function () {\n        if (document.activeElement) {\n            var focussable = $(\":kendoFocusable\");\n            var index = focussable.index(document.activeElement);\n\n            if(index > -1) {\n               var nextElement = focussable[index + 1] || focussable[0];\n               nextElement.focus();\n            }\n        }\n    };\n\n    kendo.trim = function(value) {\n        if(!!value) {\n            return value.toString().trim();\n        } else {\n            return \"\";\n        }\n    };\n\n    kendo.getWidgetFocusableElement = function(element) {\n        var nextFocusable = element.closest(\":kendoFocusable\"),\n            widgetInstance = kendo.widgetInstance(element),\n            target;\n\n        if (nextFocusable.length) {\n            target = nextFocusable;\n        } else if (widgetInstance) {\n            target = widgetInstance.options.name === 'Editor' ?\n                $(widgetInstance.body) :\n                widgetInstance.wrapper.find(\":kendoFocusable\").first();\n        } else {\n            target = element;\n        }\n\n        return target;\n    };\n\n    kendo.addAttribute =  function(element, attribute, value) {\n        var current = element.attr(attribute) || \"\";\n\n        if (current.indexOf(value) < 0) {\n            element.attr(attribute, (current + \" \" + value).trim());\n        }\n    };\n\n    kendo.removeAttribute = function(element, attribute, value) {\n        var current = element.attr(attribute) || \"\";\n\n        element.attr(attribute, current.replace(value, \"\").trim());\n    };\n\n    kendo.toggleAttribute = function(element, attribute, value) {\n        var current = element.attr(attribute) || \"\";\n\n        if (current.indexOf(value) < 0) {\n            kendo.addAttribute(element, attribute, value);\n        } else {\n            kendo.removeAttribute(element, attribute, value);\n        }\n    };\n\n    kendo.matchesMedia = function(mediaQuery) {\n        var media = kendo._bootstrapToMedia(mediaQuery) || mediaQuery;\n        return support.matchMedia && window.matchMedia(media).matches;\n    };\n\n    kendo._bootstrapToMedia = function(bootstrapMedia) {\n        return {\n            \"xs\": \"(max-width: 576px)\",\n            \"sm\": \"(min-width: 576px)\",\n            \"md\": \"(min-width: 768px)\",\n            \"lg\": \"(min-width: 992px)\",\n            \"xl\": \"(min-width: 1200px)\"\n        }[bootstrapMedia];\n    };\n\n    kendo.fileGroupMap = {\n        audio: [\".aif\", \".iff\", \".m3u\", \".m4a\", \".mid\", \".mp3\", \".mpa\", \".wav\", \".wma\", \".ogg\", \".wav\", \".wma\", \".wpl\"],\n        video: [\".3g2\", \".3gp\", \".avi\", \".asf\", \".flv\", \".m4u\", \".rm\", \".h264\", \".m4v\", \".mkv\", \".mov\", \".mp4\", \".mpg\",\n                \".rm\", \".swf\", \".vob\", \".wmv\"],\n        image: [\".ai\", \".dds\", \".heic\", \".jpe\", \"jfif\", \".jif\", \".jp2\", \".jps\", \".eps\", \".bmp\", \".gif\", \".jpeg\",\n                \".jpg\", \".png\", \".ps\", \".psd\", \".svg\", \".svgz\", \".tif\", \".tiff\"],\n        txt: [\".doc\", \".docx\", \".log\", \".pages\", \".tex\", \".wpd\", \".wps\", \".odt\", \".rtf\", \".text\", \".txt\", \".wks\"],\n        presentation: [\".key\", \".odp\", \".pps\", \".ppt\", \".pptx\"],\n        data: [\".xlr\", \".xls\", \".xlsx\"],\n        programming: [\".tmp\", \".bak\", \".msi\", \".cab\", \".cpl\", \".cur\", \".dll\", \".dmp\", \".drv\", \".icns\", \".ico\", \".link\",\n                      \".sys\", \".cfg\", \".ini\", \".asp\", \".aspx\", \".cer\", \".csr\", \".css\", \".dcr\", \".htm\", \".html\", \".js\",\n                      \".php\", \".rss\", \".xhtml\"],\n        pdf: [\".pdf\"],\n        config: [\".apk\", \".app\", \".bat\", \".cgi\", \".com\", \".exe\", \".gadget\", \".jar\", \".wsf\"],\n        zip: [\".7z\", \".cbr\", \".gz\", \".sitx\", \".arj\", \".deb\", \".pkg\", \".rar\", \".rpm\", \".tar.gz\", \".z\", \".zip\", \".zipx\"],\n        \"disc-image\": [\".dmg\", \".iso\", \".toast\", \".vcd\", \".bin\", \".cue\", \".mdf\"]\n    };\n\n    kendo.getFileGroup = function(extension, withPrefix) {\n        var fileTypeMap = kendo.fileGroupMap;\n        var groups = Object.keys(fileTypeMap);\n        var type = \"file\";\n\n        if (extension === undefined || !extension.length) {\n            return type;\n        }\n\n        for (var i = 0; i < groups.length; i += 1) {\n            var extensions = fileTypeMap[groups[i]];\n\n            if (extensions.indexOf(extension.toLowerCase()) > -1) {\n               return withPrefix ? \"file-\" + groups[i] : groups[i];\n            }\n        }\n\n        return type;\n    };\n\n    kendo.getFileSizeMessage = function(size) {\n        var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n\n        if (size === 0) {\n            return '0 Byte';\n        }\n\n        var i = parseInt(Math.floor(Math.log(size) / Math.log(1024)), 10);\n        return Math.round(size / Math.pow(1024, i), 2) + ' ' + sizes[i];\n    };\n\n    kendo.selectorFromClasses = function(classes) {\n        return \".\"+classes.split(\" \").join(\".\");\n    };\n\n    // Standardized Properties and CSS classes\n\n    var themeColorValues = ['base', 'primary', 'secondary', 'tertiary', 'inherit', 'info', 'success', 'warning', 'error', 'dark', 'light', 'inverse'];\n    var fillValues = ['solid', 'outline', 'flat'];\n    //var postitionValues = ['edge', 'outside', 'inside'];\n    var shapeValues = ['rectangle', 'square'];\n    var sizeValues = [ ['small', 'sm'], ['medium', 'md'], ['large', 'lg'] ];\n    var roundedValues = [ ['small', 'sm'], ['medium', 'md'], ['large', 'lg'] ];\n    //var alignValues = [ ['top start', 'top-start'], ['top end', 'top-end'], ['bottom start', 'bottom-start'], ['bottom end', 'bottom-end'] ];\n    var positionModeValues = [ 'fixed', 'static', 'sticky', 'absolute' ];\n    var resizeValues = [ 'both', 'horizontal', 'vertical' ];\n    var overflowValues = [ 'auto', 'hidden', 'visible', 'scroll', 'clip' ];\n\n    kendo.cssProperties = (function() {\n        var defaultValues = {},\n            propertyDictionary = {};\n\n        function registerPrefix(widget, prefix) {\n            var dict = kendo.cssProperties.propertyDictionary;\n\n            if (!dict[widget]) {\n                dict[widget] = {};\n            }\n\n            dict[widget][PREFIX] = prefix;\n        }\n\n        function registerValues(widget, args) {\n            var dict = kendo.cssProperties.propertyDictionary,\n                i, j, prop, values, newValues, currentValue;\n\n            for (i = 0; i < args.length; i++) {\n                prop = args[i].prop;\n                newValues = args[i].values;\n\n                if(!dict[widget][prop]) {\n                    dict[widget][prop] = {};\n                }\n\n                values = dict[widget][prop];\n\n                for (j = 0; j < newValues.length; j++) {\n                    currentValue = newValues[j];\n\n                    if (isArray(newValues[j])) {\n                        values[currentValue[0]] = currentValue[1];\n                    } else {\n                        values[currentValue] = currentValue;\n                    }\n                }\n            }\n        }\n\n        function registerCssClass(propName, value, shorthand) {\n            if (!defaultValues[propName]) {\n                defaultValues[propName] = {};\n            }\n\n            defaultValues[propName][value] = shorthand || value;\n        }\n\n        function registerCssClasses(propName, arr) {\n            for (var i = 0; i < arr.length; i++) {\n                if (isArray(arr[i])) {\n                    registerCssClass(propName, arr[i][0], arr[i][1]);\n                } else {\n                    registerCssClass(propName, arr[i]);\n                }\n            }\n        }\n\n        function getValidClass(args) {\n            var widget = args.widget,\n                propName = args.propName,\n                value = args.value,\n                fill = args.fill,\n                cssProperties = kendo.cssProperties,\n                defaultValues = cssProperties.defaultValues[propName],\n                widgetProperties = cssProperties.propertyDictionary[widget],\n                widgetValues, validValue, prefix;\n\n            if(!widgetProperties) {\n                return \"\";\n            }\n\n            widgetValues = widgetProperties[propName];\n            validValue = widgetValues ? widgetValues[value] || defaultValues[value] : defaultValues[value];\n\n            if (validValue) {\n                if (propName === \"themeColor\") {\n                    prefix = widgetProperties[PREFIX] + fill + \"-\";\n                } else if (propName === \"positionMode\") {\n                    prefix = \"k-pos-\";\n                } else if (propName === \"rounded\") {\n                    prefix = \"k-rounded-\";\n                } else if (propName === \"resize\") {\n                    prefix = \"k-resize-\";\n                } else if (propName === \"overflow\") {\n                    prefix = \"k-overflow-\";\n                } else {\n                    prefix = widgetProperties[PREFIX];\n                }\n\n                return prefix + validValue;\n            } else {\n                return \"\";\n            }\n        }\n\n        registerCssClasses(\"themeColor\", themeColorValues);\n        registerCssClasses(\"fillMode\", fillValues);\n        registerCssClasses(\"shape\", shapeValues);\n        registerCssClasses(\"size\", sizeValues);\n        registerCssClasses(\"positionMode\", positionModeValues);\n        registerCssClasses(\"rounded\", roundedValues);\n        registerCssClasses(\"resize\", resizeValues);\n        registerCssClasses(\"overflow\", overflowValues);\n\n        return {\n            positionModeValues: positionModeValues,\n            roundedValues: roundedValues,\n            sizeValues: sizeValues,\n            shapeValues: shapeValues,\n            fillModeValues: fillValues,\n            themeColorValues: themeColorValues,\n\n            defaultValues: defaultValues,\n            propertyDictionary: propertyDictionary,\n\n            registerValues: registerValues,\n            getValidClass: getValidClass,\n            registerPrefix: registerPrefix\n        };\n    }());\n\n    //To do: delete below after implementing new styles and classes for BottomNavigation\n    kendo.registerCssClass = function (propName, value, shorthand) {\n        if (!kendo.propertyToCssClassMap[propName]) {\n            kendo.propertyToCssClassMap[propName] = {};\n        }\n\n        kendo.propertyToCssClassMap[propName][value] = shorthand || value;\n    };\n\n    kendo.registerCssClasses = function (propName, arr) {\n        for (var i = 0; i < arr.length; i++) {\n            if (isArray(arr[i])) {\n                kendo.registerCssClass(propName, arr[i][0], arr[i][1]);\n            } else {\n                kendo.registerCssClass(propName, arr[i]);\n            }\n        }\n    };\n\n    kendo.getValidCssClass = function (prefix, propName, value) {\n        var validValue = kendo.propertyToCssClassMap[propName][value];\n\n        if (validValue) {\n            return prefix + validValue;\n        }\n    };\n\n    kendo.propertyToCssClassMap = {};\n\n    kendo.registerCssClasses(\"themeColor\", themeColorValues);\n    kendo.registerCssClasses(\"fill\", fillValues);\n    //kendo.registerCssClasses(\"postition\", postitionValues);\n    kendo.registerCssClasses(\"shape\", shapeValues);\n    kendo.registerCssClasses(\"size\", sizeValues);\n    //kendo.registerCssClasses(\"align\", alignValues);\n    kendo.registerCssClasses(\"positionMode\", positionModeValues);\n\n    // jQuery deferred helpers\n\n    // influenced from: https://gist.github.com/fearphage/4341799\n    kendo.whenAll = function(array) {\n        var resolveValues = arguments.length == 1 && Array.isArray(array) ? array : Array.prototype.slice.call(arguments),\n            length = resolveValues.length,\n            remaining = length,\n            deferred = $.Deferred(),\n            i = 0,\n            failed = 0,\n            rejectContexts = Array(length),\n            rejectValues = Array(length),\n            resolveContexts = Array(length),\n            value;\n\n        function updateFunc (index, contexts, values) {\n            return function() {\n                if(values != resolveValues) {\n                    failed++;\n                }\n\n                deferred.notifyWith(\n                    contexts[index] = this,\n                    values[index] = Array.prototype.slice.call(arguments)\n                );\n\n                if (!(--remaining)) {\n                    deferred[(!failed ? 'resolve' : 'reject') + 'With'](contexts, values);\n                }\n            };\n        }\n\n        for (; i < length; i++) {\n            if ((value = resolveValues[i]) && kendo.isFunction(value.promise)) {\n                value.promise()\n                    .done(updateFunc(i, resolveContexts, resolveValues))\n                    .fail(updateFunc(i, rejectContexts, rejectValues));\n            }\n\n            else {\n                deferred.notifyWith(this, value);\n                --remaining;\n            }\n        }\n\n        if (!remaining) {\n            deferred.resolveWith(resolveContexts, resolveValues);\n        }\n\n        return deferred.promise();\n    };\n\n    // kendo.saveAs -----------------------------------------------\n    (function() {\n        function postToProxy(dataURI, fileName, proxyURL, proxyTarget) {\n            var form = $(\"<form>\").attr({\n                action: proxyURL,\n                method: \"POST\",\n                target: proxyTarget\n            });\n\n            var data = kendo.antiForgeryTokens();\n            data.fileName = fileName;\n\n            var parts = dataURI.split(\";base64,\");\n            data.contentType = parts[0].replace(\"data:\", \"\");\n            data.base64 = parts[1];\n\n            for (var name in data) {\n                if (data.hasOwnProperty(name)) {\n                    $('<input>').attr({\n                        value: data[name],\n                        name: name,\n                        type: \"hidden\"\n                    }).appendTo(form);\n                }\n            }\n\n            form.appendTo(\"body\").submit().remove();\n        }\n\n        var fileSaver = document.createElement(\"a\");\n        var downloadAttribute = \"download\" in fileSaver && !kendo.support.browser.edge;\n\n        function saveAsBlob(dataURI, fileName) {\n            var blob = dataURI; // could be a Blob object\n\n            if (typeof dataURI == \"string\") {\n                var parts = dataURI.split(\";base64,\");\n                var contentType = parts[0];\n                var base64 = atob(parts[1]);\n                var array = new Uint8Array(base64.length);\n\n                for (var idx = 0; idx < base64.length; idx++) {\n                    array[idx] = base64.charCodeAt(idx);\n                }\n                blob = new Blob([array.buffer], { type: contentType });\n            }\n\n            navigator.msSaveBlob(blob, fileName);\n        }\n\n        function saveAsDataURI(dataURI, fileName) {\n            if (window.Blob && dataURI instanceof Blob) {\n                dataURI = URL.createObjectURL(dataURI);\n            }\n\n            fileSaver.download = fileName;\n            fileSaver.href = dataURI;\n\n            var e = document.createEvent(\"MouseEvents\");\n            e.initMouseEvent(\"click\", true, false, window,\n                0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\n            fileSaver.dispatchEvent(e);\n            setTimeout(function(){\n                URL.revokeObjectURL(dataURI);\n            });\n        }\n\n        kendo.saveAs = function(options) {\n            var save = postToProxy;\n\n            if (!options.forceProxy) {\n                if (downloadAttribute) {\n                    save = saveAsDataURI;\n                } else if (navigator.msSaveBlob) {\n                    save = saveAsBlob;\n                }\n            }\n\n            save(options.dataURI, options.fileName, options.proxyURL, options.proxyTarget);\n        };\n    })();\n\n    // kendo proxySetters\n    kendo.proxyModelSetters = function proxyModelSetters(data) {\n        var observable = {};\n\n        Object.keys(data || {}).forEach(function(property) {\n          Object.defineProperty(observable, property, {\n            get: function() {\n              return data[property];\n            },\n            set: function(value) {\n              data[property] = value;\n              data.dirty = true;\n            }\n          });\n        });\n\n        return observable;\n    };\n\n    kendo.getSeriesColors = function() {\n        var seriesColorsTemplate = '<div class=\"k-var--series-a\"></div>' +\n                '<div class=\"k-var--series-b\"></div>' +\n                '<div class=\"k-var--series-c\"></div>' +\n                '<div class=\"k-var--series-d\"></div>' +\n                '<div class=\"k-var--series-e\"></div>' +\n                '<div class=\"k-var--series-f\"></div>',\n            series = $(seriesColorsTemplate),\n            colors = [];\n\n        series.appendTo($('body'));\n\n        series.each(function(i, item) {\n            colors.push($(item).css(\"background-color\"));\n        });\n\n        series.remove();\n\n        return colors;\n    };\n\n    kendo.isElement = function(element) {\n        return element instanceof Element || element instanceof HTMLDocument; // jshint ignore:line\n    };\n\n    // Kendo defaults\n    (function() {\n\n        kendo.defaults = kendo.defaults || {};\n        kendo.setDefaults = function(key, value) {\n            var path = key.split(\".\");\n            var curr = kendo.defaults;\n\n            key = path.pop();\n\n            path.forEach(function(part) {\n                if (curr[part] === undefined) {\n                    curr[part] = {};\n                }\n\n                curr = curr[part];\n            });\n\n            if (value.constructor === Object) {\n                curr[key] = deepExtend({}, curr[key], value);\n            } else {\n                curr[key] = value;\n            }\n        };\n\n    })();\n\n    // Implement type() as it has been depricated in jQuery\n    (function() {\n        kendo.class2type = {};\n\n        jQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\n            function( _i, name ) {\n                kendo.class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n            } );\n\n        kendo.type = function(obj) {\n            if ( obj == null ) {\n                return obj + \"\";\n            }\n\n            // Support: Android <=2.3 only (functionish RegExp)\n            return typeof obj === \"object\" || typeof obj === \"function\" ?\n                kendo.class2type[Object.prototype.toString.call(obj)] || \"object\" :\n                typeof obj;\n        };\n    }());\n\n})(jQuery, window);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.router',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"router\",\n    name: \"Router\",\n    category: \"framework\",\n    description: \"The Router class is responsible for tracking the application state and navigating between the application states.\",\n    depends: [ \"core\" ],\n    hidden: false\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        CHANGE = \"change\",\n        BACK = \"back\",\n        SAME = \"same\",\n        support = kendo.support,\n        location = window.location,\n        history = window.history,\n        CHECK_URL_INTERVAL = 50,\n        BROKEN_BACK_NAV = kendo.support.browser.msie,\n        hashStrip = /^#*/,\n        document = window.document;\n\n    function absoluteURL(path, pathPrefix) {\n        if (!pathPrefix) {\n            return path;\n        }\n\n        if (path + \"/\" === pathPrefix) {\n            path = pathPrefix;\n        }\n\n        var regEx = new RegExp(\"^\" + pathPrefix, \"i\");\n\n        if (!regEx.test(path)) {\n            path = pathPrefix + \"/\" + path;\n        }\n\n        return location.protocol + '//' + (location.host + \"/\" + path).replace(/\\/\\/+/g, '/');\n    }\n\n    function hashDelimiter(bang) {\n        return bang ? \"#!\" : \"#\";\n    }\n\n    function locationHash(hashDelimiter) {\n        var href = location.href;\n\n        // ignore normal anchors if in hashbang mode - however, still return \"\" if no hash present\n        if (hashDelimiter === \"#!\" && href.indexOf(\"#\") > -1 && href.indexOf(\"#!\") < 0) {\n            return null;\n        }\n\n        return href.split(hashDelimiter)[1] || \"\";\n    }\n\n    function stripRoot(root, url) {\n        if (url.indexOf(root) === 0) {\n            return (url.substr(root.length)).replace(/\\/\\//g, '/');\n        } else {\n            return url;\n        }\n    }\n\n    var HistoryAdapter = kendo.Class.extend({\n        back: function() {\n            if (BROKEN_BACK_NAV) {\n                setTimeout(function() { history.back(); });\n            } else {\n                history.back();\n            }\n        },\n\n        forward: function() {\n            if (BROKEN_BACK_NAV) {\n                setTimeout(function() { history.forward(); });\n            } else {\n                history.forward();\n            }\n        },\n\n        length: function() {\n            return history.length;\n        },\n\n        replaceLocation: function(url) {\n            location.replace(url);\n        }\n    });\n\n    var PushStateAdapter = HistoryAdapter.extend({\n        init: function(root) {\n            this.root = root;\n        },\n\n        navigate: function(to) {\n            history.pushState({}, document.title, absoluteURL(to, this.root));\n        },\n\n        replace: function(to) {\n            history.replaceState({}, document.title, absoluteURL(to, this.root));\n        },\n\n        normalize: function(url) {\n            return stripRoot(this.root, url);\n        },\n\n        current: function() {\n            var current = location.pathname;\n\n            if (location.search) {\n                current += location.search;\n            }\n\n            return stripRoot(this.root, current);\n        },\n\n        change: function(callback) {\n            $(window).bind(\"popstate.kendo\", callback);\n        },\n\n        stop: function() {\n            $(window).unbind(\"popstate.kendo\");\n        },\n\n        normalizeCurrent: function(options) {\n            var fixedUrl,\n                root = options.root,\n                pathname = location.pathname,\n                hash = locationHash(hashDelimiter(options.hashBang));\n\n            if (root === pathname + \"/\") {\n                fixedUrl = root;\n            }\n\n            if (root === pathname && hash) {\n                fixedUrl = absoluteURL(hash.replace(hashStrip, ''), root);\n            }\n\n            if (fixedUrl) {\n                history.pushState({}, document.title, fixedUrl);\n            }\n        }\n    });\n\n    function fixHash(url) {\n        return url.replace(/^(#)?/, \"#\");\n    }\n\n    function fixBang(url) {\n        return url.replace(/^(#(!)?)?/, \"#!\");\n    }\n\n    var HashAdapter = HistoryAdapter.extend({\n        init: function(bang) {\n            this._id = kendo.guid();\n            this.prefix = hashDelimiter(bang);\n            this.fix = bang ? fixBang : fixHash;\n        },\n\n        navigate: function(to) {\n            location.hash = this.fix(to);\n        },\n\n        replace: function(to) {\n            this.replaceLocation(this.fix(to));\n        },\n\n        normalize: function(url) {\n            if (url.indexOf(this.prefix) < 0) {\n               return url;\n            } else {\n                return url.split(this.prefix)[1];\n            }\n        },\n\n        change: function(callback) {\n            if (support.hashChange) {\n                $(window).on(\"hashchange.\" + this._id, callback);\n            } else {\n                this._interval = setInterval(callback, CHECK_URL_INTERVAL);\n            }\n        },\n\n        stop: function() {\n            $(window).off(\"hashchange.\" + this._id);\n            clearInterval(this._interval);\n        },\n\n        current: function() {\n            return locationHash(this.prefix);\n        },\n\n        normalizeCurrent: function(options) {\n            var pathname = location.pathname,\n                root = options.root;\n\n            if (options.pushState && root !== pathname) {\n                this.replaceLocation(root + this.prefix + stripRoot(root, pathname));\n                return true; // browser will reload at this point.\n            }\n\n            return false;\n        }\n    });\n\n    var History = kendo.Observable.extend({\n        start: function(options) {\n            options = options || {};\n\n            this.bind([CHANGE, BACK, SAME], options);\n\n            if (this._started) {\n                return;\n            }\n\n            this._started = true;\n\n            options.root = options.root || \"/\";\n\n            var adapter = this.createAdapter(options),\n                current;\n\n            // adapter may reload the document\n            if (adapter.normalizeCurrent(options)) {\n                return;\n            }\n\n            current = adapter.current();\n\n            $.extend(this, {\n                adapter: adapter,\n                root: options.root,\n                historyLength: adapter.length(),\n                current: current,\n                locations: [current]\n            });\n\n            adapter.change($.proxy(this, \"_checkUrl\"));\n        },\n\n        createAdapter:function(options) {\n           return support.pushState && options.pushState ? new PushStateAdapter(options.root) : new HashAdapter(options.hashBang);\n        },\n\n        stop: function() {\n            if (!this._started) {\n                return;\n            }\n            this.adapter.stop();\n            this.unbind(CHANGE);\n            this._started = false;\n        },\n\n        change: function(callback) {\n            this.bind(CHANGE, callback);\n        },\n\n        replace: function(to, silent) {\n\n            this._navigate(to, silent, function(adapter) {\n                adapter.replace(to);\n                this.locations[this.locations.length - 1] = this.current;\n            });\n        },\n\n        navigate: function(to, silent) {\n            if (to === \"#:back\") {\n                this.backCalled = true;\n                this.adapter.back();\n                return;\n            }\n\n            this._navigate(to, silent, function(adapter) {\n                adapter.navigate(to);\n                this.locations.push(this.current);\n            });\n        },\n\n        _navigate: function(to, silent, callback) {\n            var adapter = this.adapter;\n\n            to = adapter.normalize(to);\n\n            if (this.current === to || this.current === decodeURIComponent(to)) {\n                this.trigger(SAME);\n                return;\n            }\n\n            if (!silent) {\n                if (this.trigger(CHANGE, { url: to, decode: false })) {\n                    return;\n                }\n            }\n\n            this.current = to;\n\n            callback.call(this, adapter);\n\n            this.historyLength = adapter.length();\n        },\n\n        _checkUrl: function() {\n            var adapter = this.adapter,\n                current = adapter.current(),\n                newLength = adapter.length(),\n                navigatingInExisting = this.historyLength === newLength,\n                back = current === this.locations[this.locations.length - 2] && navigatingInExisting,\n                backCalled = this.backCalled,\n                prev = this.current;\n\n            if (current === null || this.current === current || this.current === decodeURIComponent(current)) {\n                return true;\n            }\n\n            this.historyLength = newLength;\n            this.backCalled = false;\n\n            this.current = current;\n\n            if (back && this.trigger(\"back\", { url: prev, to: current })) {\n                adapter.forward();\n                this.current = prev;\n                return;\n            }\n\n            if (this.trigger(CHANGE, { url: current, backButtonPressed: !backCalled })) {\n                if (back) {\n                    adapter.forward();\n                } else {\n                    adapter.back();\n                    this.historyLength --;\n                }\n                this.current = prev;\n                return;\n            }\n\n            if (back) {\n                this.locations.pop();\n            } else {\n                this.locations.push(current);\n            }\n        }\n    });\n\n    kendo.History = History;\n    kendo.History.HistoryAdapter = HistoryAdapter;\n    kendo.History.HashAdapter = HashAdapter;\n    kendo.History.PushStateAdapter = PushStateAdapter;\n    kendo.absoluteURL = absoluteURL;\n    kendo.history = new History();\n})(window.kendo.jQuery);\n\n(function() {\n    var kendo = window.kendo,\n        history = kendo.history,\n        Observable = kendo.Observable,\n        INIT = \"init\",\n        ROUTE_MISSING = \"routeMissing\",\n        CHANGE = \"change\",\n        BACK = \"back\",\n        SAME = \"same\",\n        optionalParam = /\\((.*?)\\)/g,\n        namedParam = /(\\(\\?)?:\\w+/g,\n        splatParam = /\\*\\w+/g,\n        escapeRegExp = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n\n    function namedParamReplace(match, optional) {\n        return optional ? match : '([^\\/]+)';\n    }\n\n    function routeToRegExp(route, ignoreCase) {\n        return new RegExp('^' + route\n            .replace(escapeRegExp, '\\\\$&')\n            .replace(optionalParam, '(?:$1)?')\n            .replace(namedParam, namedParamReplace)\n            .replace(splatParam, '(.*?)') + '$', ignoreCase ? \"i\" : \"\");\n    }\n\n    function stripUrl(url) {\n        return url.replace(/(\\?.*)|(#.*)/g, \"\");\n    }\n\n    var Route = kendo.Class.extend({\n        init: function(route, callback, ignoreCase) {\n            if (!(route instanceof RegExp)) {\n                route = routeToRegExp(route, ignoreCase);\n            }\n\n            this.route = route;\n            this._callback = callback;\n        },\n\n        callback: function(url, back, decode) {\n            var params,\n                idx = 0,\n                length,\n                queryStringParams = kendo.parseQueryStringParams(url);\n                queryStringParams._back = back;\n\n            url = stripUrl(url);\n            params = this.route.exec(url).slice(1);\n            length = params.length;\n\n            if (decode) {\n                for (; idx < length; idx ++) {\n                    if (typeof params[idx] !== 'undefined') {\n                        params[idx] = decodeURIComponent(params[idx]);\n                    }\n                }\n            }\n\n            params.push(queryStringParams);\n\n            this._callback.apply(null, params);\n        },\n\n        worksWith: function(url, back, decode) {\n            if (this.route.test(stripUrl(url))) {\n                this.callback(url, back, decode);\n                return true;\n            } else {\n                return false;\n            }\n        }\n    });\n\n    var Router = Observable.extend({\n        init: function(options) {\n            if (!options) {\n                options = {};\n            }\n\n            Observable.fn.init.call(this);\n\n            this.routes = [];\n            this.pushState = options.pushState;\n            this.hashBang = options.hashBang;\n            this.root = options.root;\n            this.ignoreCase = options.ignoreCase !== false;\n\n            this.bind([INIT, ROUTE_MISSING, CHANGE, SAME, BACK], options);\n        },\n\n        destroy: function() {\n            history.unbind(CHANGE, this._urlChangedProxy);\n            history.unbind(SAME, this._sameProxy);\n            history.unbind(BACK, this._backProxy);\n            this.unbind();\n        },\n\n        start: function() {\n            var that = this,\n                sameProxy = function() { that._same(); },\n                backProxy = function(e) { that._back(e); },\n                urlChangedProxy = function(e) { that._urlChanged(e); };\n\n            history.start({\n                same: sameProxy,\n                change: urlChangedProxy,\n                back: backProxy,\n                pushState: that.pushState,\n                hashBang: that.hashBang,\n                root: that.root\n            });\n\n            var initEventObject = { url: history.current || \"/\", preventDefault: $.noop };\n\n            if (!that.trigger(INIT, initEventObject)) {\n                that._urlChanged(initEventObject);\n            }\n\n            this._urlChangedProxy = urlChangedProxy;\n            this._backProxy = backProxy;\n        },\n\n        route: function(route, callback) {\n            this.routes.push(new Route(route, callback, this.ignoreCase));\n        },\n\n        navigate: function(url, silent) {\n            kendo.history.navigate(url, silent);\n        },\n\n        replace: function(url, silent) {\n            kendo.history.replace(url, silent);\n        },\n\n        _back: function(e) {\n            if (this.trigger(BACK, { url: e.url, to: e.to })) {\n                e.preventDefault();\n            }\n        },\n\n        _same: function() {\n            this.trigger(SAME);\n        },\n\n        _urlChanged: function(e) {\n            var url = e.url;\n            var decode = !!e.decode;\n            var back = e.backButtonPressed;\n\n            if (!url) {\n                url = \"/\";\n            }\n\n            if (this.trigger(CHANGE, { url: e.url, params: kendo.parseQueryStringParams(e.url), backButtonPressed: back })) {\n                e.preventDefault();\n                return;\n            }\n\n            var idx = 0,\n                routes = this.routes,\n                route,\n                length = routes.length;\n\n            for (; idx < length; idx ++) {\n                 route = routes[idx];\n\n                 if (route.worksWith(url, back, decode)) {\n                    return;\n                 }\n            }\n\n            if (this.trigger(ROUTE_MISSING, { url: url, params: kendo.parseQueryStringParams(url), backButtonPressed: back })) {\n                e.preventDefault();\n            }\n        }\n    });\n\n    kendo.Router = Router;\n})();\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.userevents',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"userevents\",\n    name: \"User Events\",\n    category: \"framework\",\n    depends: [ \"core\" ],\n    hidden: true\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        Class = kendo.Class,\n        Observable = kendo.Observable,\n        now = Date.now,\n        extend = $.extend,\n        OS = support.mobileOS,\n        invalidZeroEvents = OS && OS.android,\n        DEFAULT_MIN_HOLD = 800,\n        CLICK_DELAY = 300,\n        DEFAULT_THRESHOLD = support.browser.msie ? 5 : 0, // WP8 and W8 are very sensitive and always report move.\n\n        // UserEvents events\n        PRESS = \"press\",\n        HOLD = \"hold\",\n        SELECT = \"select\",\n        START = \"start\",\n        MOVE = \"move\",\n        END = \"end\",\n        CANCEL = \"cancel\",\n        TAP = \"tap\",\n        DOUBLETAP = \"doubleTap\",\n        RELEASE = \"release\",\n        GESTURESTART = \"gesturestart\",\n        GESTURECHANGE = \"gesturechange\",\n        GESTUREEND = \"gestureend\",\n        GESTURETAP = \"gesturetap\";\n\n    var THRESHOLD = {\n        \"api\": 0,\n        \"touch\": 0,\n        \"mouse\": 9,\n        \"pointer\": 9\n    };\n\n    var ENABLE_GLOBAL_SURFACE = (!support.touch || support.mouseAndTouchPresent);\n\n    function touchDelta(touch1, touch2) {\n        var x1 = touch1.x.location,\n            y1 = touch1.y.location,\n            x2 = touch2.x.location,\n            y2 = touch2.y.location,\n            dx = x1 - x2,\n            dy = y1 - y2;\n\n        return {\n            center: {\n               x: (x1 + x2) / 2,\n               y: (y1 + y2) / 2\n            },\n\n            distance: Math.sqrt(dx*dx + dy*dy)\n        };\n    }\n\n    function getTouches(e) {\n        var touches = [],\n            originalEvent = e.originalEvent,\n            currentTarget = e.currentTarget,\n            idx = 0, length,\n            changedTouches,\n            touch;\n\n        if (e.api) {\n            touches.push({\n                id: 2,  // hardcoded ID for API call;\n                event: e,\n                target: e.target,\n                currentTarget: e.target,\n                location: e,\n                type: \"api\"\n            });\n        }\n        else if (e.type.match(/touch/)) {\n            changedTouches = originalEvent ? originalEvent.changedTouches : [];\n            for (length = changedTouches.length; idx < length; idx ++) {\n                touch = changedTouches[idx];\n                touches.push({\n                    location: touch,\n                    event: e,\n                    target: touch.target,\n                    currentTarget: currentTarget,\n                    id: touch.identifier,\n                    type: \"touch\"\n                });\n            }\n        }\n        else if (support.pointers || support.msPointers) {\n            touches.push({\n                location: originalEvent,\n                event: e,\n                target: e.target,\n                currentTarget: currentTarget,\n                id: originalEvent.pointerId,\n                type: \"pointer\"\n            });\n        } else {\n            touches.push({\n                id: 1, // hardcoded ID for mouse event;\n                event: e,\n                target: e.target,\n                currentTarget: currentTarget,\n                location: e,\n                type: \"mouse\"\n            });\n        }\n\n        return touches;\n    }\n\n    var TouchAxis = Class.extend({\n        init: function(axis, location) {\n            var that = this;\n\n            that.axis = axis;\n\n            that._updateLocationData(location);\n\n            that.startLocation = that.location;\n            that.velocity = that.delta = 0;\n            that.timeStamp = now();\n        },\n\n        move: function(location) {\n            var that = this,\n                offset = location[\"page\" + that.axis],\n                timeStamp = now(),\n                timeDelta = (timeStamp - that.timeStamp) || 1; // Firing manually events in tests can make this 0;\n\n            if (!offset && invalidZeroEvents) {\n                return;\n            }\n\n            that.delta = offset - that.location;\n\n            that._updateLocationData(location);\n\n            that.initialDelta = offset - that.startLocation;\n            that.velocity = that.delta / timeDelta;\n            that.timeStamp = timeStamp;\n        },\n\n        _updateLocationData: function(location) {\n            var that = this, axis = that.axis;\n\n            that.location = location[\"page\" + axis];\n            that.client = location[\"client\" + axis];\n            that.screen = location[\"screen\" + axis];\n        }\n    });\n\n    var Touch = Class.extend({\n        init: function(userEvents, target, touchInfo) {\n            extend(this, {\n                x: new TouchAxis(\"X\", touchInfo.location),\n                y: new TouchAxis(\"Y\", touchInfo.location),\n                type: touchInfo.type,\n                useClickAsTap: userEvents.useClickAsTap,\n                threshold: userEvents.threshold || THRESHOLD[touchInfo.type],\n                userEvents: userEvents,\n                target: target,\n                currentTarget: touchInfo.currentTarget,\n                initialTouch: touchInfo.target,\n                id: touchInfo.id,\n                pressEvent: touchInfo,\n                _clicks: userEvents._clicks,\n                supportDoubleTap: userEvents.supportDoubleTap,\n                _moved: false,\n                _finished: false\n            });\n        },\n\n        press: function() {\n            this._holdTimeout = setTimeout($.proxy(this, \"_hold\"), this.userEvents.minHold);\n            this._trigger(PRESS, this.pressEvent);\n        },\n\n        _tap: function(touchInfo) {\n            var that = this;\n            that.userEvents._clicks++;\n            if (that.userEvents._clicks == 1) {\n                that._clickTimeout = setTimeout(function() {\n                    if (that.userEvents._clicks == 1) {\n                        that._trigger(TAP, touchInfo);\n                    }\n                    else {\n                        that._trigger(DOUBLETAP, touchInfo);\n                    }\n                    that.userEvents._clicks = 0;\n                }, CLICK_DELAY);\n            }\n        },\n\n        _hold: function() {\n            this._trigger(HOLD, this.pressEvent);\n        },\n\n        move: function(touchInfo) {\n            var that = this;\n            var preventMove = touchInfo.type !== \"api\" && that.userEvents._shouldNotMove;\n\n            if (that._finished || preventMove) { return; }\n\n            that.x.move(touchInfo.location);\n            that.y.move(touchInfo.location);\n\n            if (!that._moved) {\n                if (that._withinIgnoreThreshold()) {\n                    return;\n                }\n\n                if (!UserEvents.current || UserEvents.current === that.userEvents) {\n                    that._start(touchInfo);\n                } else {\n                    return that.dispose();\n                }\n            }\n\n            // Event handlers may cancel the drag in the START event handler, hence the double check for pressed.\n            if (!that._finished) {\n                that._trigger(MOVE, touchInfo);\n            }\n        },\n\n        end: function(touchInfo) {\n            this.endTime = now();\n\n            if (this._finished) { return; }\n\n            // Mark the object as finished if there are blocking operations in the event handlers (alert/confirm)\n            this._finished = true;\n\n            this._trigger(RELEASE, touchInfo); // Release should be fired before TAP (as click is after mouseup/touchend)\n\n            if (this._moved) {\n                this._trigger(END, touchInfo);\n            } else {\n                if (!this.useClickAsTap) {\n                    if (this.supportDoubleTap) {\n                        this._tap(touchInfo);\n                    }\n                    else {\n                        this._trigger(TAP, touchInfo);\n                    }\n                }\n            }\n\n            clearTimeout(this._holdTimeout);\n\n            this.dispose();\n        },\n\n        dispose: function() {\n            var userEvents = this.userEvents,\n                activeTouches = userEvents.touches;\n\n            this._finished = true;\n            this.pressEvent = null;\n            clearTimeout(this._holdTimeout);\n\n            activeTouches.splice($.inArray(this, activeTouches), 1);\n        },\n\n        skip: function() {\n            this.dispose();\n        },\n\n        cancel: function() {\n            this.dispose();\n        },\n\n        isMoved: function() {\n            return this._moved;\n        },\n\n        _start: function(touchInfo) {\n            clearTimeout(this._holdTimeout);\n\n            this.startTime = now();\n            this._moved = true;\n            this._trigger(START, touchInfo);\n        },\n\n        _trigger: function(name, touchInfo) {\n            var that = this,\n                jQueryEvent = touchInfo.event,\n                data = {\n                    touch: that,\n                    x: that.x,\n                    y: that.y,\n                    target: that.target,\n                    event: jQueryEvent\n                };\n\n            if(that.userEvents.notify(name, data)) {\n                jQueryEvent.preventDefault();\n            }\n        },\n\n        _withinIgnoreThreshold: function() {\n            var xDelta = this.x.initialDelta,\n                yDelta = this.y.initialDelta;\n\n            return Math.sqrt(xDelta * xDelta + yDelta * yDelta) <= this.threshold;\n        }\n    });\n\n    function withEachUpEvent(callback) {\n        var downEvents = kendo.eventMap.up.split(\" \"),\n            idx = 0,\n            length = downEvents.length;\n\n        for(; idx < length; idx ++) {\n            callback(downEvents[idx]);\n        }\n    }\n\n    var UserEvents = Observable.extend({\n        init: function(element, options) {\n            var that = this,\n                filter,\n                ns = kendo.guid();\n\n            options = options || {};\n            filter = that.filter = options.filter;\n            that.threshold = options.threshold || DEFAULT_THRESHOLD;\n            that.minHold = options.minHold || DEFAULT_MIN_HOLD;\n            that.touches = [];\n            that._maxTouches = options.multiTouch ? 2 : 1;\n            that.allowSelection = options.allowSelection;\n            that.captureUpIfMoved = options.captureUpIfMoved;\n            that.useClickAsTap = !options.fastTap && !support.delayedClick();\n            that.eventNS = ns;\n            that._clicks = 0;\n            that.supportDoubleTap = options.supportDoubleTap;\n\n            element = $(element).handler(that);\n            Observable.fn.init.call(that);\n\n            extend(that, {\n                element: element,\n                // the touch events lock to the element anyway, so no need for the global setting\n                surface: options.global && ENABLE_GLOBAL_SURFACE ? $(element[0].ownerDocument.documentElement) : $(options.surface || element),\n                stopPropagation: options.stopPropagation,\n                pressed: false\n            });\n\n            that.surface.handler(that)\n                .on(kendo.applyEventMap(\"move\", ns), \"_move\")\n                .on(kendo.applyEventMap(\"up cancel\", ns), \"_end\");\n\n            element.on(kendo.applyEventMap(\"down\", ns), filter, \"_start\");\n\n            if (that.useClickAsTap) {\n                element.on(kendo.applyEventMap(\"click\", ns), filter, \"_click\");\n            }\n\n            if (support.pointers || support.msPointers) {\n                //touch-action:none will not work for IE10\n                if (support.browser.version < 11) {\n                    var defaultAction = \"pinch-zoom double-tap-zoom\";\n                    element.css(\"-ms-touch-action\", options.touchAction && options.touchAction != \"none\" ? defaultAction + \" \" + options.touchAction : defaultAction);\n                } else {\n                    element.css(\"touch-action\", options.touchAction || \"none\");\n                }\n            }\n\n            if (options.preventDragEvent) {\n                element.on(kendo.applyEventMap(\"dragstart\", ns), kendo.preventDefault);\n            }\n\n            element.on(kendo.applyEventMap(\"mousedown\", ns), filter, { root: element }, \"_select\");\n\n            if (that.captureUpIfMoved && support.eventCapture) {\n                var surfaceElement = that.surface[0],\n                    preventIfMovingProxy = $.proxy(that.preventIfMoving, that);\n\n                withEachUpEvent(function(eventName) {\n                    surfaceElement.addEventListener(eventName, preventIfMovingProxy, true);\n                });\n            }\n\n            that.bind([\n            PRESS,\n            HOLD,\n            TAP,\n            DOUBLETAP,\n            START,\n            MOVE,\n            END,\n            RELEASE,\n            CANCEL,\n            GESTURESTART,\n            GESTURECHANGE,\n            GESTUREEND,\n            GESTURETAP,\n            SELECT\n            ], options);\n        },\n\n        preventIfMoving: function(e) {\n            if (this._isMoved()) {\n                e.preventDefault();\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that._destroyed) {\n                return;\n            }\n\n            that._destroyed = true;\n\n            if (that.captureUpIfMoved && support.eventCapture) {\n                var surfaceElement = that.surface[0];\n                withEachUpEvent(function(eventName) {\n                    surfaceElement.removeEventListener(eventName, that.preventIfMoving);\n                });\n            }\n\n            that.element.kendoDestroy(that.eventNS);\n            that.surface.kendoDestroy(that.eventNS);\n            that.element.removeData(\"handler\");\n            that.surface.removeData(\"handler\");\n            that._disposeAll();\n\n            that.unbind();\n            delete that.surface;\n            delete that.element;\n            delete that.currentTarget;\n        },\n\n        capture: function() {\n            UserEvents.current = this;\n        },\n\n        cancel: function() {\n            this._disposeAll();\n            this.trigger(CANCEL);\n        },\n\n        notify: function(eventName, data) {\n            var that = this,\n                touches = that.touches;\n\n            if (this._isMultiTouch()) {\n                switch(eventName) {\n                    case MOVE:\n                        eventName = GESTURECHANGE;\n                        break;\n                    case END:\n                        eventName = GESTUREEND;\n                        break;\n                    case TAP:\n                        eventName = GESTURETAP;\n                        break;\n                }\n\n                extend(data, {touches: touches}, touchDelta(touches[0], touches[1]));\n            }\n\n            return this.trigger(eventName, extend(data, {type: eventName}));\n        },\n\n        // API\n        press: function(x, y, target) {\n            this._apiCall(\"_start\", x, y, target);\n        },\n\n        move: function(x, y) {\n            this._apiCall(\"_move\", x, y);\n        },\n\n        end: function(x, y) {\n            this._apiCall(\"_end\", x, y);\n        },\n\n        _isMultiTouch: function() {\n            return this.touches.length > 1;\n        },\n\n        _maxTouchesReached: function() {\n            return this.touches.length >= this._maxTouches;\n        },\n\n        _disposeAll: function() {\n            var touches = this.touches;\n            while (touches.length > 0) {\n                touches.pop().dispose();\n            }\n        },\n\n        _isMoved: function() {\n            return $.grep(this.touches, function(touch) {\n                return touch.isMoved();\n            }).length;\n        },\n\n        _select: function(e) {\n           if (!this.allowSelection || this.trigger(SELECT, { event: e })) {\n               e.preventDefault();\n           }\n        },\n\n        _start: function(e) {\n            var that = this,\n                idx = 0,\n                filter = that.filter,\n                target,\n                touches = getTouches(e),\n                length = touches.length,\n                touch,\n                which = e.which;\n\n            if ((which && which > 1) || (that._maxTouchesReached())){\n                return;\n            }\n\n            UserEvents.current = null;\n\n            that.currentTarget = e.currentTarget;\n\n            if (that.stopPropagation) {\n                e.stopPropagation();\n            }\n\n            for (; idx < length; idx ++) {\n                if (that._maxTouchesReached()) {\n                    break;\n                }\n\n                touch = touches[idx];\n\n                if (filter) {\n                    target = $(touch.currentTarget); // target.is(filter) ? target : target.closest(filter, that.element);\n                } else {\n                    target = that.element;\n                }\n\n                if (!target.length) {\n                    continue;\n                }\n\n                touch = new Touch(that, target, touch);\n                that.touches.push(touch);\n                touch.press();\n\n                if (that._isMultiTouch()) {\n                    that.notify(\"gesturestart\", {});\n                }\n            }\n        },\n\n        _move: function(e) {\n            this._eachTouch(\"move\", e);\n        },\n\n        _end: function(e) {\n            this._eachTouch(\"end\", e);\n        },\n\n        _click: function(e) {\n            var data = {\n                touch: {\n                    initialTouch: e.target,\n                    target: $(e.currentTarget),\n                    endTime: now(),\n                    x: {\n                        location: e.pageX,\n                        client: e.clientX\n                    },\n                    y: {\n                        location: e.pageY,\n                        client: e.clientY\n                    }\n                },\n                x: e.pageX,\n                y: e.pageY,\n                target: $(e.currentTarget),\n                event: e,\n                type: \"tap\"\n            };\n\n            if (this.trigger(\"tap\", data)) {\n                e.preventDefault();\n            }\n        },\n\n        _eachTouch: function(methodName, e) {\n            var that = this,\n                dict = {},\n                touches = getTouches(e),\n                activeTouches = that.touches,\n                idx,\n                touch,\n                touchInfo,\n                matchingTouch;\n\n            for (idx = 0; idx < activeTouches.length; idx ++) {\n                touch = activeTouches[idx];\n                dict[touch.id] = touch;\n            }\n\n            for (idx = 0; idx < touches.length; idx ++) {\n                touchInfo = touches[idx];\n                matchingTouch = dict[touchInfo.id];\n\n                if (matchingTouch) {\n                    matchingTouch[methodName](touchInfo);\n                }\n            }\n        },\n\n        _apiCall: function(type, x, y, target) {\n            this[type]({\n                api: true,\n                pageX: x,\n                pageY: y,\n                clientX: x,\n                clientY: y,\n                target: $(target || this.element)[0],\n                stopPropagation: $.noop,\n                preventDefault: $.noop\n            });\n        }\n    });\n\n    UserEvents.defaultThreshold = function(value) {\n        DEFAULT_THRESHOLD = value;\n    };\n\n    UserEvents.minHold = function(value) {\n        DEFAULT_MIN_HOLD = value;\n    };\n\n    kendo.getTouches = getTouches;\n    kendo.touchDelta = touchDelta;\n    kendo.UserEvents = UserEvents;\n })(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\r\n    define('kendo.touch',[ \"./kendo.core\", \"./kendo.userevents\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"touch\",\r\n    name: \"Touch\",\r\n    category: \"mobile\",\r\n    description: \"The kendo Touch widget provides a cross-platform compatible API for handling user-initiated touch events, multi-touch gestures and event sequences (drag, swipe, etc.). \",\r\n    depends: [ \"core\", \"userevents\" ]\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        Widget = kendo.ui.Widget,\r\n        proxy = $.proxy,\r\n        abs = Math.abs,\r\n        MAX_DOUBLE_TAP_DISTANCE = 20;\r\n\r\n    var Touch = Widget.extend({\r\n        init: function(element, options) {\r\n            var that = this;\r\n\r\n            Widget.fn.init.call(that, element, options);\r\n            options = that.options;\r\n\r\n            element = that.element;\r\n            that.wrapper = element;\r\n\r\n            function eventProxy(name) {\r\n                return function(e) {\r\n                    that._triggerTouch(name, e);\r\n                };\r\n            }\r\n\r\n            function gestureEventProxy(name) {\r\n                return function(e) {\r\n                    that.trigger(name, { touches: e.touches, distance: e.distance, center: e.center, event: e.event });\r\n                };\r\n            }\r\n\r\n            that.events = new kendo.UserEvents(element, {\r\n                filter: options.filter,\r\n                surface: options.surface,\r\n                minHold: options.minHold,\r\n                multiTouch: options.multiTouch,\r\n                allowSelection: true,\r\n                fastTap: options.fastTap,\r\n                press: eventProxy(\"touchstart\"),\r\n                hold: eventProxy(\"hold\"),\r\n                tap: proxy(that, \"_tap\"),\r\n                gesturestart: gestureEventProxy(\"gesturestart\"),\r\n                gesturechange: gestureEventProxy(\"gesturechange\"),\r\n                gestureend: gestureEventProxy(\"gestureend\")\r\n            });\r\n\r\n            if (options.enableSwipe) {\r\n                that.events.bind(\"start\", proxy(that, \"_swipestart\"));\r\n                that.events.bind(\"move\", proxy(that, \"_swipemove\"));\r\n            } else {\r\n                that.events.bind(\"start\", proxy(that, \"_dragstart\"));\r\n                that.events.bind(\"move\", eventProxy(\"drag\"));\r\n                that.events.bind(\"end\", eventProxy(\"dragend\"));\r\n            }\r\n\r\n            kendo.notify(that);\r\n        },\r\n\r\n        events: [\r\n            \"touchstart\",\r\n            \"dragstart\",\r\n            \"drag\",\r\n            \"dragend\",\r\n            \"tap\",\r\n            \"doubletap\",\r\n            \"hold\",\r\n            \"swipe\",\r\n            \"gesturestart\",\r\n            \"gesturechange\",\r\n            \"gestureend\"\r\n        ],\r\n\r\n        options: {\r\n            name: \"Touch\",\r\n            surface: null,\r\n            global: false,\r\n            fastTap: false,\r\n            filter: null,\r\n            multiTouch: false,\r\n            enableSwipe: false,\r\n            minXDelta: 30,\r\n            maxYDelta: 20,\r\n            maxDuration: 1000,\r\n            minHold: 800,\r\n            doubleTapTimeout: 800\r\n        },\r\n\r\n        cancel: function() {\r\n            this.events.cancel();\r\n        },\r\n\r\n        destroy: function() {\r\n            Widget.fn.destroy.call(this);\r\n\r\n            this.events.destroy();\r\n        },\r\n\r\n        _triggerTouch: function(type, e) {\r\n            if (this.trigger(type, { touch: e.touch, event: e.event })) {\r\n                e.preventDefault();\r\n            }\r\n        },\r\n\r\n        _tap: function(e) {\r\n            var that = this,\r\n                lastTap = that.lastTap,\r\n                touch = e.touch;\r\n\r\n            if (lastTap &&\r\n                (touch.endTime - lastTap.endTime < that.options.doubleTapTimeout) &&\r\n                kendo.touchDelta(touch, lastTap).distance < MAX_DOUBLE_TAP_DISTANCE\r\n                ) {\r\n\r\n               that._triggerTouch(\"doubletap\", e);\r\n               that.lastTap = null;\r\n            } else {\r\n                that._triggerTouch(\"tap\", e);\r\n                that.lastTap = touch;\r\n            }\r\n        },\r\n\r\n        _dragstart: function(e) {\r\n            this._triggerTouch(\"dragstart\", e);\r\n        },\r\n\r\n        _swipestart: function(e) {\r\n            if (abs(e.x.velocity) * 2 >= abs(e.y.velocity)) {\r\n                e.sender.capture();\r\n            }\r\n        },\r\n\r\n        _swipemove: function(e) {\r\n            var that = this,\r\n                options = that.options,\r\n                touch = e.touch,\r\n                duration = e.event.timeStamp - touch.startTime,\r\n                direction = touch.x.initialDelta > 0 ? \"right\" : \"left\";\r\n\r\n            if (\r\n                abs(touch.x.initialDelta) >= options.minXDelta &&\r\n                abs(touch.y.initialDelta) < options.maxYDelta &&\r\n                duration < options.maxDuration\r\n                )\r\n            {\r\n                that.trigger(\"swipe\", {\r\n                    direction: direction,\r\n                    touch: e.touch\r\n                });\r\n\r\n                touch.cancel();\r\n            }\r\n        }\r\n    });\r\n\r\n    kendo.ui.plugin(Touch);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\n    define('kendo.data.odata',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"data.odata\",\n    name: \"OData\",\n    category: \"framework\",\n    depends: [ \"core\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        extend = $.extend,\n        NEWLINE = \"\\r\\n\",\n        DOUBLELINE = \"\\r\\n\\r\\n\",\n        isFunction = kendo.isFunction,\n        odataFilters = {\n            eq: \"eq\",\n            neq: \"ne\",\n            gt: \"gt\",\n            gte: \"ge\",\n            lt: \"lt\",\n            lte: \"le\",\n            contains : \"substringof\",\n            doesnotcontain: \"substringof\",\n            endswith: \"endswith\",\n            startswith: \"startswith\",\n            isnull: \"eq\",\n            isnotnull: \"ne\",\n            isnullorempty: \"eq\",\n            isnotnullorempty: \"ne\",\n            isempty: \"eq\",\n            isnotempty: \"ne\"\n        },\n        odataFiltersVersionFour = extend({}, odataFilters, {\n            contains: \"contains\"\n        }),\n        mappers = {\n            pageSize: $.noop,\n            page: $.noop,\n            filter: function(params, filter, useVersionFour) {\n                if (filter) {\n                    filter = toOdataFilter(filter, useVersionFour);\n                    if (filter) {\n                        params.$filter = filter;\n                    }\n                }\n            },\n            sort: function(params, orderby) {\n                var expr = $.map(orderby, function(value) {\n                    var order = value.field.replace(/\\./g, \"/\");\n\n                    if (value.dir === \"desc\") {\n                        order += \" desc\";\n                    }\n\n                    return order;\n                }).join(\",\");\n\n                if (expr) {\n                    params.$orderby = expr;\n                }\n            },\n            skip: function(params, skip) {\n                if (skip) {\n                    params.$skip = skip;\n                }\n            },\n            take: function(params, take) {\n                if (take) {\n                    params.$top = take;\n                }\n            }\n        },\n        defaultDataType = {\n            read: {\n                dataType: \"jsonp\"\n            }\n        };\n\n    function toOdataFilter(filter, useOdataFour) {\n        var result = [],\n            logic = filter.logic || \"and\",\n            idx,\n            length,\n            field,\n            type,\n            format,\n            operator,\n            value,\n            ignoreCase,\n            filters = filter.filters;\n\n        for (idx = 0, length = filters.length; idx < length; idx++) {\n            filter = filters[idx];\n            field = filter.field;\n            value = filter.value;\n            operator = filter.operator;\n\n            if (filter.filters) {\n                filter = toOdataFilter(filter, useOdataFour);\n            } else {\n                ignoreCase = filter.ignoreCase;\n                field = field.replace(/\\./g, \"/\");\n                filter = odataFilters[operator];\n                if (useOdataFour) {\n                    filter = odataFiltersVersionFour[operator];\n                }\n\n                if (operator === \"isnullorempty\") {\n                    filter = kendo.format(\"{0} {1} null or {0} {1} ''\", field, filter);\n                } else if(operator === \"isnotnullorempty\") {\n                    filter = kendo.format(\"{0} {1} null and {0} {1} ''\", field, filter);\n                } else if (operator === \"isnull\" || operator === \"isnotnull\") {\n                    filter = kendo.format(\"{0} {1} null\", field, filter);\n                } else if (operator === \"isempty\" || operator === \"isnotempty\") {\n                    filter = kendo.format(\"{0} {1} ''\", field, filter);\n                } else if (filter && value !== undefined) {\n                    type = kendo.type(value);\n                    if (type === \"string\") {\n                        format = \"'{1}'\";\n                        value = value.replace(/'/g, \"''\");\n\n                        if (ignoreCase === true) {\n                            field = \"tolower(\" + field + \")\";\n                        }\n\n                    } else if (type === \"date\") {\n                        if (useOdataFour) {\n                            format = \"{1:yyyy-MM-ddTHH:mm:ss+00:00}\";\n                            value = kendo.timezone.apply(value, 'Etc/UTC');\n                        } else {\n                            format = \"datetime'{1:yyyy-MM-ddTHH:mm:ss}'\";\n                        }\n                    } else {\n                        format = \"{1}\";\n                    }\n\n                    if (filter.length > 3) {\n                        if (filter !== \"substringof\") {\n                            format = \"{0}({2},\" + format + \")\";\n                        } else {\n                            format = \"{0}(\" + format + \",{2})\";\n                            if (operator === \"doesnotcontain\") {\n                                if (useOdataFour) {\n                                    format = \"{0}({2},'{1}') eq -1\";\n                                    filter = \"indexof\";\n                                } else {\n                                    format += \" eq false\";\n                                }\n                            }\n                        }\n                    } else {\n                        format = \"{2} {0} \" + format;\n                    }\n\n                    filter = kendo.format(format, filter, value, field);\n                }\n            }\n\n            result.push(filter);\n        }\n\n        filter = result.join(\" \" + logic + \" \");\n\n        if (result.length > 1) {\n            filter = \"(\" + filter + \")\";\n        }\n\n        return filter;\n    }\n\n    function stripMetadata(obj) {\n        for (var name in obj) {\n            if(name.indexOf(\"@odata\") === 0) {\n                delete obj[name];\n            }\n        }\n    }\n\n    function hex16() {\n        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substr(1);\n    }\n\n    function createBoundary(prefix) {\n        return prefix + hex16() + '-' + hex16() + '-' + hex16();\n    }\n\n    function createDelimeter(boundary, close) {\n        var result = NEWLINE + \"--\" + boundary;\n\n        if (close) {\n            result += \"--\";\n        }\n\n        return result;\n    }\n\n    function createCommand(transport, item, httpVerb, command) {\n         var transportUrl = transport.options[command].url;\n         var commandPrefix = kendo.format(\"{0} \", httpVerb);\n\n         if (isFunction(transportUrl)) {\n             return commandPrefix + transportUrl(item);\n         } else {\n             return commandPrefix + transportUrl;\n         }\n    }\n\n    function getOperationHeader(changeset, changeId) {\n        var header = \"\";\n\n        header += createDelimeter(changeset, false);\n        header += NEWLINE + 'Content-Type: application/http';\n        header += NEWLINE + 'Content-Transfer-Encoding: binary';\n        header += NEWLINE + 'Content-ID: ' + changeId;\n\n        return header;\n    }\n\n    function getOperationContent(item) {\n        var content = \"\";\n\n        content += NEWLINE + \"Content-Type: application/json;odata=minimalmetadata\";\n        content += NEWLINE + \"Prefer: return=representation\";\n        content += DOUBLELINE + kendo.stringify(item);\n\n        return content;\n    }\n\n    function getOperations(collection, changeset, changeId, command, transport, skipContent) {\n        var requestBody = \"\";\n\n        for (var i = 0; i < collection.length; i++) {\n            requestBody += getOperationHeader(changeset, changeId);\n            requestBody += DOUBLELINE + createCommand(transport, collection[i], transport.options[command].type, command) + ' HTTP/1.1';\n            if (!skipContent) {\n                requestBody += getOperationContent(collection[i]);\n            }\n            requestBody += NEWLINE;\n            changeId++;\n        }\n\n        return requestBody;\n    }\n\n    function processCollection(colection, boundary, changeset, changeId, transport, command, skipContent) {\n        var requestBody = \"\";\n\n        requestBody += getBoundary(boundary, changeset);\n        requestBody += getOperations(colection, changeset, changeId, command, transport, skipContent);\n        requestBody += createDelimeter(changeset, true);\n        requestBody += NEWLINE;\n\n        return requestBody;\n    }\n\n    function getBoundary(boundary,changeset) {\n        var requestBody = \"\";\n\n        requestBody += \"--\" + boundary + NEWLINE;\n        requestBody += \"Content-Type: multipart/mixed; boundary=\" + changeset + NEWLINE;\n\n        return requestBody;\n    }\n\n    function createBatchRequest(transport, colections) {\n\t\tvar options = extend({}, transport.options.batch);\n        var boundary = createBoundary(\"sf_batch_\");\n        var requestBody = \"\";\n        var changeId = 0;\n        var batchURL = transport.options.batch.url;\n        var changeset = createBoundary(\"sf_changeset_\");\n\n        options.type = transport.options.batch.type;\n        options.url = isFunction(batchURL) ? batchURL() : batchURL;\n\t\toptions.headers = extend(options.headers || {}, {\n\t\t\t\"Content-Type\": \"multipart/mixed; boundary=\" + boundary\n\t\t});\n\n        if (colections.updated.length) {\n            requestBody += processCollection(colections.updated, boundary, changeset, changeId, transport, \"update\", false);\n            changeId += colections.updated.length;\n            changeset = createBoundary(\"sf_changeset_\");\n        }\n\n        if (colections.destroyed.length) {\n            requestBody += processCollection(colections.destroyed, boundary, changeset, changeId, transport, \"destroy\", true);\n            changeId += colections.destroyed.length;\n            changeset = createBoundary(\"sf_changeset_\");\n        }\n\n        if (colections.created.length) {\n            requestBody += processCollection(colections.created, boundary, changeset, changeId, transport, \"create\", false);\n        }\n\n        requestBody += createDelimeter(boundary, true);\n\n        options.data = requestBody;\n\n        return options;\n    }\n\n    function parseBatchResponse(responseText) {\n        var responseMarkers = responseText.match(/--changesetresponse_[a-z0-9-]+$/gm);\n        var markerIndex = 0;\n        var collections = [];\n        var changeBody;\n        var status;\n        var code;\n        var marker;\n        var jsonModel;\n\n        collections.push({ models: [], passed: true });\n\n        for (var i = 0; i < responseMarkers.length; i++) {\n            marker = responseMarkers[i];\n            if (marker.lastIndexOf('--', marker.length - 1)) {\n                if (i < responseMarkers.length - 1) {\n                    collections.push({ models: [], passed: true });\n                }\n                continue;\n            }\n\n            if (!markerIndex) {\n                markerIndex = responseText.indexOf(marker);\n            } else {\n                markerIndex = responseText.indexOf(marker, markerIndex + marker.length);\n            }\n\n            changeBody = responseText.substring(markerIndex, responseText.indexOf(\"--\", markerIndex + 1));\n            status = changeBody.match(/^HTTP\\/1\\.\\d (\\d{3}) (.*)$/gm).pop();\n            code = kendo.parseFloat(status.match(/\\d{3}/g).pop());\n\n            if (code >= 200 && code <= 299) {\n                jsonModel = changeBody.match(/\\{.*\\}/gm);\n                if (jsonModel) {\n                    collections[collections.length - 1].models.push(JSON.parse(jsonModel[0]));\n                }\n            } else {\n                collections[collections.length - 1].passed = false;\n            }\n\n        }\n\n        return collections;\n    }\n\n    extend(true, kendo.data, {\n        schemas: {\n            odata: {\n                type: \"json\",\n                data: function(data) {\n                    return data.d.results || [data.d];\n                },\n                total: \"d.__count\"\n            }\n        },\n        transports: {\n            odata: {\n                read: {\n                    cache: true, // to prevent jQuery from adding cache buster\n                    dataType: \"jsonp\",\n                    jsonp: \"$callback\"\n                },\n                update: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json\", // to inform the server the the request body is JSON encoded\n                    type: \"PUT\" // can be PUT or MERGE\n                },\n                create: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json\",\n                    type: \"POST\" // must be POST to create new entity\n                },\n                destroy: {\n                    cache: true,\n                    dataType: \"json\",\n                    type: \"DELETE\"\n                },\n                parameterMap: function(options, type, useVersionFour) {\n                    var params,\n                        value,\n                        option,\n                        dataType;\n\n                    options = options || {};\n                    type = type || \"read\";\n                    dataType = (this.options || defaultDataType)[type];\n                    dataType = dataType ? dataType.dataType : \"json\";\n\n                    if (type === \"read\") {\n                        params = {\n                            $inlinecount: \"allpages\"\n                        };\n\n                        if (dataType != \"json\") {\n                            params.$format = \"json\";\n                        }\n\n                        for (option in options) {\n                            if (mappers[option]) {\n                                mappers[option](params, options[option], useVersionFour);\n                            } else {\n                                params[option] = options[option];\n                            }\n                        }\n                    } else {\n                        if (dataType !== \"json\") {\n                            throw new Error(\"Only json dataType can be used for \" + type + \" operation.\");\n                        }\n\n                        if (type !== \"destroy\") {\n                            for (option in options) {\n                                value = options[option];\n                                if (typeof value === \"number\") {\n                                    options[option] = value + \"\";\n                                }\n                            }\n\n                            params = kendo.stringify(options);\n                        }\n                    }\n\n                    return params;\n                }\n            }\n        }\n    });\n\n    extend(true, kendo.data, {\n        schemas: {\n            \"odata-v4\": {\n                type: \"json\",\n                data: function(data) {\n                    if (Array.isArray(data)) {\n                        for (var i = 0; i < data.length; i++) {\n                            stripMetadata(data[i]);\n                        }\n                        return data;\n                    } else {\n                        data = $.extend({}, data);\n                        stripMetadata(data);\n\n                        if (data.value) {\n                            return data.value;\n                        }\n                        return [data];\n                    }\n                },\n                total: function(data) {\n                    return data[\"@odata.count\"];\n                }\n            }\n        },\n        transports: {\n            \"odata-v4\": {\n                batch: {\n                    type: \"POST\"\n                },\n                read: {\n                    cache: true, // to prevent jQuery from adding cache buster\n                    dataType: \"json\"\n                },\n                update: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json;IEEE754Compatible=true\", // to inform the server the the request body is JSON encoded\n                    type: \"PUT\" // can be PUT or MERGE\n                },\n                create: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json;IEEE754Compatible=true\",\n                    type: \"POST\" // must be POST to create new entity\n                },\n                destroy: {\n                    cache: true,\n                    dataType: \"json\",\n                    type: \"DELETE\"\n                },\n                parameterMap: function(options, type) {\n                    var result = kendo.data.transports.odata.parameterMap(options, type, true);\n                    if (type == \"read\") {\n                        result.$count = true;\n                        delete result.$inlinecount;\n                    }\n\n\t\t\t\t\tif (result && result.$filter) {\n\t\t\t\t\t\t// Remove the single quotation marks around the GUID (OData v4).\n\t\t\t\t\t\tresult.$filter = result.$filter.replace(/('[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}')/ig, function (x) {\n\t\t\t\t\t\t\treturn x.substring(1, x.length - 1);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n                    return result;\n                },\n                submit: function(e) {\n                    var that = this;\n                    var options = createBatchRequest(that, e.data);\n                    var collections = e.data;\n\n                    if (!collections.updated.length && !collections.destroyed.length && !collections.created.length) {\n                        return;\n                    }\n\n                    $.ajax(extend(true, {}, {\n                        success: function (response) {\n                            var responses = parseBatchResponse(response);\n                            var index = 0;\n                            var current;\n\n                            if (collections.updated.length) {\n                                current = responses[index];\n                                if (current.passed) {\n                                    // Pass either the obtained models or an empty array if only status codes are returned.\n                                    e.success(current.models.length ? current.models : [], \"update\");\n                                }\n                                index++;\n                            }\n                            if (collections.destroyed.length) {\n                                current = responses[index];\n                                if (current.passed) {\n                                    // For delete operations OData returns only status codes.\n                                    // Passing empty array to datasource will force it to correctly remove the deleted items from the pristine collection.\n                                    e.success([], \"destroy\");\n                                }\n                                index++;\n                            }\n                            if (collections.created.length) {\n                                current = responses[index];\n                                if (current.passed) {\n                                    e.success(current.models, \"create\");\n                                }\n                            }\n                        },\n                        error: function (response, status, error) {\n                            e.error(response, status, error);\n                        }\n                    }, options));\n                }\n            }\n        }\n    });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.data.xml',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"data.xml\",\n    name: \"XML\",\n    category: \"framework\",\n    depends: [ \"core\" ],\n    hidden: true\n};\n\n/*jshint  eqnull: true, boss: true */\n(function($, undefined) {\n    var kendo = window.kendo,\n        isArray = Array.isArray,\n        isPlainObject = $.isPlainObject,\n        map = $.map,\n        each = $.each,\n        extend = $.extend,\n        getter = kendo.getter,\n        Class = kendo.Class;\n\n    var XmlDataReader = Class.extend({\n        init: function(options) {\n            var that = this,\n                total = options.total,\n                model = options.model,\n                parse = options.parse,\n                errors = options.errors,\n                serialize = options.serialize,\n                data = options.data;\n\n            if (model) {\n                if (isPlainObject(model)) {\n                    var base = options.modelBase || kendo.data.Model;\n\n                    if (model.fields) {\n                        each(model.fields, function(field, value) {\n                            if (isPlainObject(value) && value.field) {\n                                if (!kendo.isFunction(value.field)) {\n                                    value = extend(value, { field: that.getter(value.field) });\n                                }\n                            } else {\n                                value = { field: that.getter(value) };\n                            }\n                            model.fields[field] = value;\n                        });\n                    }\n\n                    var id = model.id;\n                    if (id) {\n                        var idField = {};\n\n                        idField[that.xpathToMember(id, true)] = { field : that.getter(id) };\n                        model.fields = extend(idField, model.fields);\n                        model.id = that.xpathToMember(id);\n                    }\n                    model = base.define(model);\n                }\n\n                that.model = model;\n            }\n\n            if (total) {\n                if (typeof total == \"string\") {\n                    total = that.getter(total);\n                    that.total = function(data) {\n                        return parseInt(total(data), 10);\n                    };\n                } else if (typeof total == \"function\"){\n                    that.total = total;\n                }\n            }\n\n            if (errors) {\n                if (typeof errors == \"string\") {\n                    errors = that.getter(errors);\n                    that.errors = function(data) {\n                        return errors(data) || null;\n                    };\n                } else if (typeof errors == \"function\"){\n                    that.errors = errors;\n                }\n            }\n\n            if (data) {\n                if (typeof data == \"string\") {\n                    data = that.xpathToMember(data);\n                    that.data = function(value) {\n                        var result = that.evaluate(value, data),\n                            modelInstance;\n\n                        result = isArray(result) ? result : [result];\n\n                        if (that.model && model.fields) {\n                            modelInstance = new that.model();\n\n                            return map(result, function(value) {\n                                if (value) {\n                                    var record = {}, field;\n\n                                    for (field in model.fields) {\n                                        record[field] = modelInstance._parse(field, model.fields[field].field(value));\n                                    }\n\n                                    return record;\n                                }\n                            });\n                        }\n\n                        return result;\n                    };\n                } else if (typeof data == \"function\") {\n                    that.data = data;\n                }\n            }\n\n            if (typeof parse == \"function\") {\n                var xmlParse = that.parse;\n\n                that.parse = function(data) {\n                    var xml = parse.call(that, data);\n                    return xmlParse.call(that, xml);\n                };\n            }\n\n            if (typeof serialize == \"function\") {\n                that.serialize = serialize;\n            }\n        },\n        total: function(result) {\n            return this.data(result).length;\n        },\n        errors: function(data) {\n            return data ? data.errors : null;\n        },\n        serialize: function(data) {\n            return data;\n        },\n        parseDOM: function(element) {\n            var result = {},\n                parsedNode,\n                node,\n                nodeType,\n                nodeName,\n                member,\n                attribute,\n                attributes = element.attributes,\n                attributeCount = attributes.length,\n                idx;\n\n            for (idx = 0; idx < attributeCount; idx++) {\n                attribute = attributes[idx];\n                result[\"@\" + attribute.nodeName] = attribute.nodeValue;\n            }\n\n            for (node = element.firstChild; node; node = node.nextSibling) {\n                nodeType = node.nodeType;\n\n                if (nodeType === 3 || nodeType === 4) {\n                    // text nodes or CDATA are stored as #text field\n                    result[\"#text\"] = node.nodeValue;\n                } else if (nodeType === 1) {\n                    // elements are stored as fields\n                    parsedNode = this.parseDOM(node);\n\n                    nodeName = node.nodeName;\n\n                    member = result[nodeName];\n\n                    if (isArray(member)) {\n                        // elements of same nodeName are stored as array\n                        member.push(parsedNode);\n                    } else if (member !== undefined) {\n                        member = [member, parsedNode];\n                    } else {\n                        member = parsedNode;\n                    }\n\n                    result[nodeName] = member;\n                }\n            }\n            return result;\n        },\n\n        evaluate: function(value, expression) {\n            var members = expression.split(\".\"),\n                member,\n                result,\n                length,\n                intermediateResult,\n                idx;\n\n            while (member = members.shift()) {\n                value = value[member];\n\n                if (isArray(value)) {\n                    result = [];\n                    expression = members.join(\".\");\n\n                    for (idx = 0, length = value.length; idx < length; idx++) {\n                        intermediateResult = this.evaluate(value[idx], expression);\n\n                        intermediateResult = isArray(intermediateResult) ? intermediateResult : [intermediateResult];\n\n                        result.push.apply(result, intermediateResult);\n                    }\n\n                    return result;\n                }\n            }\n\n            return value;\n        },\n\n        parse: function(xml) {\n            var documentElement,\n                tree,\n                result = {};\n\n            documentElement = xml.documentElement || $.parseXML(xml).documentElement;\n\n            tree = this.parseDOM(documentElement);\n\n            result[documentElement.nodeName] = tree;\n\n            return result;\n        },\n\n        xpathToMember: function(member, raw) {\n            if (!member) {\n                return \"\";\n            }\n\n            member = member.replace(/^\\//, \"\") // remove the first \"/\"\n                           .replace(/\\//g, \".\"); // replace all \"/\" with \".\"\n\n            if (member.indexOf(\"@\") >= 0) {\n                // replace @attribute with '[\"@attribute\"]'\n                return member.replace(/\\.?(@.*)/, raw? '$1':'[\"$1\"]');\n            }\n\n            if (member.indexOf(\"text()\") >= 0) {\n                // replace \".text()\" with '[\"#text\"]'\n                return member.replace(/(\\.?text\\(\\))/, raw? '#text':'[\"#text\"]');\n            }\n\n            return member;\n        },\n        getter: function(member) {\n            return getter(this.xpathToMember(member), true);\n        }\n    });\n\n    $.extend(true, kendo.data, {\n        XmlDataReader: XmlDataReader,\n        readers: {\n            xml: XmlDataReader\n        }\n    });\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.data',[ \"./kendo.core\", \"./kendo.data.odata\", \"./kendo.data.xml\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"data\",\n    name: \"Data source\",\n    category: \"framework\",\n    description: \"Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.\",\n    depends: [ \"core\" ],\n    features: [ {\n        id: \"data-odata\",\n        name: \"OData\",\n        description: \"Support for accessing Open Data Protocol (OData) services.\",\n        depends: [ \"data.odata\" ]\n    }, {\n        id: \"data-signalr\",\n        name: \"SignalR\",\n        description: \"Support for binding to SignalR hubs.\",\n        depends: [ \"data.signalr\" ]\n    }, {\n        id: \"data-XML\",\n        name: \"XML\",\n        description: \"Support for binding to XML.\",\n        depends: [ \"data.xml\" ]\n    }]\n};\n\n/*jshint eqnull: true, loopfunc: true, evil: true */\n(function($, undefined) {\n    var extend = $.extend,\n        proxy = $.proxy,\n        isPlainObject = $.isPlainObject,\n        isEmptyObject = $.isEmptyObject,\n        isArray = $.isArray,\n        grep = $.grep,\n        ajax = $.ajax,\n        map,\n        each = $.each,\n        noop = $.noop,\n        kendo = window.kendo,\n        isFunction = kendo.isFunction,\n        Observable = kendo.Observable,\n        Class = kendo.Class,\n        STRING = \"string\",\n        FUNCTION = \"function\",\n        ASCENDING = \"asc\",\n        CREATE = \"create\",\n        READ = \"read\",\n        UPDATE = \"update\",\n        DESTROY = \"destroy\",\n        CHANGE = \"change\",\n        SYNC = \"sync\",\n        GET = \"get\",\n        ERROR = \"error\",\n        REQUESTSTART = \"requestStart\",\n        PROGRESS = \"progress\",\n        REQUESTEND = \"requestEnd\",\n        crud = [CREATE, READ, UPDATE, DESTROY],\n        identity = function(o) { return o; },\n        getter = kendo.getter,\n        stringify = kendo.stringify,\n        math = Math,\n        push = [].push,\n        join = [].join,\n        pop = [].pop,\n        splice = [].splice,\n        shift = [].shift,\n        slice = [].slice,\n        unshift = [].unshift,\n        toString = {}.toString,\n        stableSort = kendo.support.stableSort,\n        dateRegExp = /^\\/Date\\((.*?)\\)\\/$/,\n        objectKeys = [];\n\n    var ObservableArray = Observable.extend({\n        init: function(array, type) {\n            var that = this;\n\n            that.type = type || ObservableObject;\n\n            Observable.fn.init.call(that);\n\n            that.length = array.length;\n\n            that.wrapAll(array, that);\n        },\n\n        at: function(index) {\n            return this[index];\n        },\n\n        toJSON: function(serializeFunctions) {\n            var idx, length = this.length, value, json = new Array(length);\n\n            for (idx = 0; idx < length; idx++){\n                value = this[idx];\n\n                if (value instanceof ObservableObject) {\n                    value = value.toJSON(serializeFunctions);\n                }\n\n                json[idx] = value;\n            }\n\n            return json;\n        },\n\n        parent: noop,\n\n        wrapAll: function(source, target) {\n            var that = this,\n                idx,\n                length,\n                parent = function() {\n                    return that;\n                };\n\n            target = target || [];\n\n            for (idx = 0, length = source.length; idx < length; idx++) {\n                target[idx] = that.wrap(source[idx], parent);\n            }\n\n            return target;\n        },\n\n        wrap: function(object, parent) {\n            var that = this,\n                observable;\n\n            if (object !== null && toString.call(object) === \"[object Object]\") {\n                observable = object instanceof that.type || object instanceof Model;\n\n                if (!observable) {\n                    object = object instanceof ObservableObject ? object.toJSON() : object;\n                    object = new that.type(object);\n                }\n\n                object.parent = parent;\n\n                object.bind(CHANGE, function(e) {\n                    that.trigger(CHANGE, {\n                        field: e.field,\n                        node: e.node,\n                        index: e.index,\n                        items: e.items || [this],\n                        action: e.node ? (e.action || \"itemloaded\") : \"itemchange\"\n                    });\n                });\n            }\n\n            return object;\n        },\n\n        push: function() {\n            var index = this.length,\n                items = this.wrapAll(arguments),\n                result;\n\n            result = push.apply(this, items);\n\n            if (!this.omitChangeEvent) {\n                this.trigger(CHANGE, {\n                    action: \"add\",\n                    index: index,\n                    items: items\n                });\n            }\n\n            return result;\n        },\n\n        slice: slice,\n\n        sort: [].sort,\n\n        join: join,\n\n        pop: function() {\n            var length = this.length, result = pop.apply(this);\n\n            if (length) {\n                this.trigger(CHANGE, {\n                    action: \"remove\",\n                    index: length - 1,\n                    items:[result]\n                });\n            }\n\n            return result;\n        },\n\n        splice: function(index, howMany, item) {\n            var items = this.wrapAll(slice.call(arguments, 2)),\n                result, i, len;\n\n            result = splice.apply(this, [index, howMany].concat(items));\n\n            if (result.length) {\n                if (!this.omitChangeEvent) {\n                    this.trigger(CHANGE, {\n                        action: \"remove\",\n                        index: index,\n                        items: result\n                    });\n                }\n\n                for (i = 0, len = result.length; i < len; i++) {\n                    if (result[i] && result[i].children) {\n                        result[i].unbind(CHANGE);\n                    }\n                }\n            }\n\n            if (item) {\n                if (!this.omitChangeEvent) {\n                    this.trigger(CHANGE, {\n                        action: \"add\",\n                        index: index,\n                        items: items\n                    });\n                }\n            }\n            return result;\n        },\n\n        shift: function() {\n            var length = this.length, result = shift.apply(this);\n\n            if (length) {\n                this.trigger(CHANGE, {\n                    action: \"remove\",\n                    index: 0,\n                    items:[result]\n                });\n            }\n\n            return result;\n        },\n\n        unshift: function() {\n            var items = this.wrapAll(arguments),\n                result;\n\n            result = unshift.apply(this, items);\n\n            this.trigger(CHANGE, {\n                action: \"add\",\n                index: 0,\n                items: items\n            });\n\n            return result;\n        },\n\n        indexOf: function(item) {\n            var that = this,\n                idx,\n                length;\n\n            for (idx = 0, length = that.length; idx < length; idx++) {\n                if (that[idx] === item) {\n                    return idx;\n                }\n            }\n            return -1;\n        },\n\n        forEach: function(callback, thisArg) {\n            var idx = 0;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                callback.call(context, this[idx], idx, this);\n            }\n        },\n\n        map: function(callback, thisArg) {\n            var idx = 0;\n            var result = [];\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                result[idx] = callback.call(context, this[idx], idx, this);\n            }\n\n            return result;\n        },\n\n        reduce: function(callback) {\n            var idx = 0,\n                result,\n                length = this.length;\n\n            if (arguments.length == 2) {\n                result = arguments[1];\n            } else if (idx < length) {\n                result = this[idx++];\n            }\n\n            for (; idx < length; idx++) {\n                result = callback(result, this[idx], idx, this);\n            }\n\n            return result;\n        },\n\n        reduceRight: function(callback) {\n            var idx = this.length - 1,\n                result;\n\n            if (arguments.length == 2) {\n                result = arguments[1];\n            } else if (idx > 0) {\n                result = this[idx--];\n            }\n\n            for (; idx >= 0; idx--) {\n                result = callback(result, this[idx], idx, this);\n            }\n\n            return result;\n        },\n\n        filter: function(callback, thisArg) {\n            var idx = 0;\n            var result = [];\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (callback.call(context, item, idx, this)) {\n                    result[result.length] = item;\n                }\n            }\n\n            return result;\n        },\n\n        find: function(callback, thisArg) {\n            var idx = 0;\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (callback.call(context, item, idx, this)) {\n                    return item;\n                }\n            }\n        },\n\n        every: function(callback, thisArg) {\n            var idx = 0;\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (!callback.call(context, item, idx, this)) {\n                    return false;\n                }\n            }\n\n            return true;\n        },\n\n        some: function(callback, thisArg) {\n            var idx = 0;\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (callback.call(context, item, idx, this)) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        // non-standard collection methods\n        remove: function(item) {\n            var idx = this.indexOf(item);\n\n            if (idx !== -1) {\n                this.splice(idx, 1);\n            }\n        },\n\n        empty: function() {\n            this.splice(0, this.length);\n        }\n    });\n\n    // Polyfill for Symbol.iterator\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator && !ObservableArray.prototype[Symbol.iterator]) {\n        ObservableArray.prototype[Symbol.iterator] = [][Symbol.iterator];\n    }\n\n    var LazyObservableArray = ObservableArray.extend({\n        init: function (data, type, events) {\n            Observable.fn.init.call(this);\n\n            this.type = type || ObservableObject;\n\n            if (events) {\n                this._events = events;\n            }\n\n            for (var idx = 0; idx < data.length; idx++) {\n                this[idx] = data[idx];\n            }\n\n            this.length = idx;\n            this._parent = proxy(function() { return this; }, this);\n        },\n        at: function(index) {\n            var item = this[index];\n\n            if (!(item instanceof this.type)) {\n                item = this[index] = this.wrap(item, this._parent);\n            } else {\n                item.parent = this._parent;\n            }\n\n            return item;\n        }\n    });\n\n    function eventHandler(context, type, field, prefix) {\n        return function(e) {\n            var event = {}, key;\n\n            for (key in e) {\n                event[key] = e[key];\n            }\n\n            if (prefix) {\n                event.field = field + \".\" + e.field;\n            } else {\n                event.field = field;\n            }\n\n            if (type == CHANGE && context._notifyChange) {\n                context._notifyChange(event);\n            }\n\n            context.trigger(type, event);\n        };\n    }\n\n    function ownKeys (value, ignoreObjectKeys) {\n        var props = [];\n        var keys, filteredObjectKeys;\n\n        value = value || {};\n\n        keys = Object.getOwnPropertyNames(value);\n        filteredObjectKeys = objectKeys.filter(function(key){\n            return keys.indexOf(key) < 0;\n        });\n\n        while (value) {\n            Object.getOwnPropertyNames(value).forEach(function (prop) {\n                if (props.indexOf(prop) === -1 && (!ignoreObjectKeys || filteredObjectKeys.indexOf(prop) < 0)) {\n                    props.push(prop);\n                }\n            });\n            value = Object.getPrototypeOf(value);\n        }\n\n        return props;\n    }\n\n    objectKeys = ownKeys({}, false);\n\n    var ObservableObject = Observable.extend({\n        init: function(value) {\n            var that = this,\n                member,\n                keys = ownKeys(value, true),\n                parent = function() {\n                    return that;\n                };\n\n            Observable.fn.init.call(this);\n\n            this._handlers = {};\n\n            keys.forEach(function(field){\n                member = value[field];\n\n                if (typeof member === \"object\" && member && !member.getTime && field.charAt(0) != \"_\") {\n                    member = that.wrap(member, field, parent);\n                }\n\n                that[field] = member;\n            });\n\n            that.uid = kendo.guid();\n        },\n\n        shouldSerialize: function(field, serializeFunctions) {\n            return this.hasOwnProperty(field) && field !== \"_handlers\" && field !== \"_events\" && ((serializeFunctions && serializeFunctions[field]) || typeof this[field] !== FUNCTION) && field !== \"uid\";\n        },\n\n        forEach: function(f) {\n            for (var i in this) {\n                if (this.shouldSerialize(i)) {\n                    f(this[i], i);\n                }\n            }\n        },\n\n        toJSON: function (serializeFunctions) {\n            var result = {}, value, field;\n\n            for (field in this) {\n                if (this.shouldSerialize(field, serializeFunctions)) {\n                    value = this[field];\n\n                    if (value instanceof ObservableObject || value instanceof ObservableArray) {\n                        value = value.toJSON(serializeFunctions);\n                    }\n\n                    result[field] = value;\n                }\n            }\n\n            return result;\n        },\n\n        get: function(field) {\n            var that = this, result;\n\n            that.trigger(GET, { field: field });\n\n            if (field === \"this\") {\n                result = that;\n            } else {\n                result = kendo.getter(field, true)(that);\n            }\n\n            return result;\n        },\n\n        _set: function(field, value) {\n            var that = this;\n            var composite = field.indexOf(\".\") >= 0;\n\n            if (composite) {\n                var paths = field.split(\".\"),\n                    path = \"\";\n\n                while (paths.length > 1) {\n                    path += paths.shift();\n                    var obj = kendo.getter(path, true)(that);\n                    if (obj instanceof ObservableObject) {\n                        obj.set(paths.join(\".\"), value);\n                        return composite;\n                    }\n                    path += \".\";\n                }\n            }\n\n            kendo.setter(field)(that, value);\n\n            return composite;\n        },\n\n        set: function(field, value) {\n            var that = this,\n                isSetPrevented = false,\n                composite = field.indexOf(\".\") >= 0,\n                current = kendo.getter(field, true)(that);\n\n            if (current !== value) {\n                if (current instanceof Observable && this._handlers[field]) {\n                    if (this._handlers[field].get) {\n                       current.unbind(GET, this._handlers[field].get);\n                    }\n                    current.unbind(CHANGE, this._handlers[field].change);\n                }\n\n                isSetPrevented = that.trigger(\"set\", { field: field, value: value });\n\n                if (!isSetPrevented) {\n                    if (!composite) {\n                        value = that.wrap(value, field, function() { return that; });\n                    }\n                    if (!that._set(field, value) || field.indexOf(\"(\") >= 0 || field.indexOf(\"[\") >= 0) {\n                        that.trigger(CHANGE, { field: field });\n                    }\n                }\n            }\n\n            return isSetPrevented;\n        },\n\n        parent: noop,\n\n        wrap: function(object, field, parent) {\n            var that = this;\n            var get;\n            var change;\n            var type = toString.call(object);\n\n            if (object != null && (type === \"[object Object]\" || type === \"[object Array]\")) {\n                var isObservableArray = object instanceof ObservableArray;\n                var isDataSource = object instanceof DataSource;\n\n                if (type === \"[object Object]\" && !isDataSource && !isObservableArray) {\n                    if (!(object instanceof ObservableObject)) {\n                        object = new ObservableObject(object);\n                    }\n\n                    get = eventHandler(that, GET, field, true);\n                    object.bind(GET, get);\n                    change = eventHandler(that, CHANGE, field, true);\n                    object.bind(CHANGE, change);\n\n                    that._handlers[field] = { get: get, change: change };\n                } else if (type === \"[object Array]\" || isObservableArray || isDataSource) {\n                    if (!isObservableArray && !isDataSource) {\n                        object = new ObservableArray(object);\n                    }\n\n                    change = eventHandler(that, CHANGE, field, false);\n\n                    object.bind(CHANGE, change);\n\n                    that._handlers[field] = { change: change };\n                }\n\n                object.parent = parent;\n            }\n\n            return object;\n        }\n    });\n\n    function equal(x, y) {\n        if (x === y) {\n            return true;\n        }\n\n        var xtype = kendo.type(x), ytype = kendo.type(y), field;\n\n        if (xtype !== ytype) {\n            return false;\n        }\n\n        if (xtype === \"date\") {\n            return x.getTime() === y.getTime();\n        }\n\n        if (xtype !== \"object\" && xtype !== \"array\") {\n            return false;\n        }\n\n        for (field in x) {\n            if (!equal(x[field], y[field])) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    var parsers = {\n        \"number\": function(value) {\n            if (typeof value === STRING && value.toLowerCase() === \"null\") {\n                return null;\n            }\n            return kendo.parseFloat(value);\n        },\n\n        \"date\": function(value) {\n            if (typeof value === STRING && value.toLowerCase() === \"null\") {\n                return null;\n            }\n            return kendo.parseDate(value);\n        },\n\n        \"boolean\": function(value) {\n            if (typeof value === STRING) {\n                if (value.toLowerCase() === \"null\") {\n                    return null;\n                } else {\n                    return value.toLowerCase() === \"true\";\n                }\n            }\n            return value != null ? !!value : value;\n        },\n\n        \"string\": function(value) {\n            if (typeof value === STRING && value.toLowerCase() === \"null\") {\n                return null;\n            }\n            return value != null ? (value + \"\") : value;\n        },\n\n        \"default\": function(value) {\n            return value;\n        }\n    };\n\n    var defaultValues = {\n        \"string\": \"\",\n        \"number\": 0,\n        \"date\": new Date(),\n        \"boolean\": false,\n        \"default\": \"\"\n    };\n\n    function getFieldByName(obj, name) {\n        var field,\n            fieldName;\n\n        for (fieldName in obj) {\n            field = obj[fieldName];\n            if (isPlainObject(field) && field.field && field.field === name) {\n                return field;\n            } else if (field === name) {\n                return field;\n            }\n        }\n        return null;\n    }\n\n    var Model = ObservableObject.extend({\n        init: function(data) {\n            var that = this;\n\n            if (!data || $.isEmptyObject(data)) {\n                data = $.extend({}, that.defaults, data);\n\n                if (that._initializers) {\n                    for (var idx = 0; idx < that._initializers.length; idx++) {\n                         var name = that._initializers[idx];\n                         data[name] = that.defaults[name]();\n                    }\n                }\n            }\n\n            ObservableObject.fn.init.call(that, data);\n\n            that.dirty = false;\n            that.dirtyFields = {};\n\n            if (that.idField) {\n                that.id = that.get(that.idField);\n\n                if (that.id === undefined) {\n                    that.id = that._defaultId;\n                }\n            }\n        },\n\n        shouldSerialize: function(field) {\n            return ObservableObject.fn.shouldSerialize.call(this, field) &&\n                field !== \"uid\" && !(this.idField !== \"id\" && field === \"id\") &&\n                field !== \"dirty\" &&  field !== \"dirtyFields\" && field !== \"_accessors\";\n        },\n\n        _parse: function(field, value) {\n            var that = this,\n                fieldName = field,\n                fields = (that.fields || {}),\n                parse;\n\n            field = fields[field];\n            if (!field) {\n                field = getFieldByName(fields, fieldName);\n            }\n            if (field) {\n                parse = field.parse;\n                if (!parse && field.type) {\n                    parse = parsers[field.type.toLowerCase()];\n                }\n            }\n\n            return parse ? parse(value) : value;\n        },\n\n        _notifyChange: function(e) {\n            var action = e.action;\n\n            if (action == \"add\" || action == \"remove\") {\n                this.dirty = true;\n                this.dirtyFields[e.field] = true;\n            }\n        },\n\n        editable: function(field) {\n            field = (this.fields || {})[field];\n            return field ? field.editable !== false : true;\n        },\n\n        set: function(field, value) {\n            var that = this;\n            var dirty = that.dirty;\n\n            if (that.editable(field)) {\n                value = that._parse(field, value);\n\n                if (!equal(value, that.get(field))) {\n                    that.dirty = true;\n                    that.dirtyFields[field] = true;\n\n                    if (ObservableObject.fn.set.call(that, field, value) && !dirty) {\n                        that.dirty = dirty;\n\n                        if (!that.dirty) {\n                            that.dirtyFields[field] = false;\n                        }\n                    }\n                } else {\n                    that.trigger(\"equalSet\", { field: field, value: value });\n                }\n            }\n        },\n\n        accept: function(data) {\n            var that = this,\n                parent = function() { return that; },\n                field;\n\n            for (field in data) {\n                var value = data[field];\n\n                if (field.charAt(0) != \"_\") {\n                    value = that.wrap(data[field], field, parent);\n                }\n\n                that._set(field, value);\n            }\n\n            if (that.idField) {\n                that.id = that.get(that.idField);\n            }\n\n            that.dirty = false;\n            that.dirtyFields = {};\n        },\n\n        isNew: function() {\n            return this.id === this._defaultId;\n        }\n    });\n\n    Model.define = function(base, options) {\n        if (options === undefined) {\n            options = base;\n            base = Model;\n        }\n\n        var model,\n            proto = extend({ defaults: {} }, options),\n            name,\n            field,\n            type,\n            value,\n            idx,\n            length,\n            fields = {},\n            originalName,\n            id = proto.id,\n            functionFields = [];\n\n        if (id) {\n            proto.idField = id;\n        }\n\n        if (proto.id) {\n            delete proto.id;\n        }\n\n        if (id) {\n            proto.defaults[id] = proto._defaultId = \"\";\n        }\n\n        if (toString.call(proto.fields) === \"[object Array]\") {\n            for (idx = 0, length = proto.fields.length; idx < length; idx++) {\n                field = proto.fields[idx];\n                if (typeof field === STRING) {\n                    fields[field] = {};\n                } else if (field.field) {\n                    fields[field.field] = field;\n                }\n            }\n            proto.fields = fields;\n        }\n\n        for (name in proto.fields) {\n            field = proto.fields[name];\n            type = field.type || \"default\";\n            value = null;\n            originalName = name;\n\n            name = typeof (field.field) === STRING ? field.field : name;\n\n            if (!field.nullable) {\n                value = proto.defaults[originalName !== name ? originalName : name] = field.defaultValue !== undefined ? field.defaultValue : defaultValues[type.toLowerCase()];\n\n                if (typeof value === \"function\") {\n                    functionFields.push(name);\n                }\n            }\n\n            if (options.id === name) {\n                proto._defaultId = value;\n            }\n\n            proto.defaults[originalName !== name ? originalName : name] = value;\n\n            field.parse = field.parse || parsers[type];\n        }\n\n        if (functionFields.length > 0) {\n            proto._initializers = functionFields;\n        }\n\n        model = base.extend(proto);\n        model.define = function(options) {\n            return Model.define(model, options);\n        };\n\n        if (proto.fields) {\n            model.fields = proto.fields;\n            model.idField = proto.idField;\n        }\n\n        return model;\n    };\n\n    var Comparer = {\n        selector: function(field) {\n            return isFunction(field) ? field : getter(field);\n        },\n\n        compare: function(field) {\n            var selector = this.selector(field);\n            return function (a, b) {\n                a = selector(a);\n                b = selector(b);\n\n                if (a == null && b == null) {\n                    return 0;\n                }\n\n                if (a == null) {\n                    return -1;\n                }\n\n                if (b == null) {\n                    return 1;\n                }\n\n                if (a.localeCompare) {\n                    return a.localeCompare(b);\n                }\n\n                return a > b ? 1 : (a < b ? -1 : 0);\n            };\n        },\n\n        create: function(sort) {\n            var compare = sort.compare || this.compare(sort.field);\n\n            if (sort.dir == \"desc\") {\n                return function(a, b) {\n                    return compare(b, a, true);\n                };\n            }\n\n            return compare;\n        },\n\n        combine: function(comparers) {\n            return function(a, b) {\n                var result = comparers[0](a, b),\n                    idx,\n                    length;\n\n                for (idx = 1, length = comparers.length; idx < length; idx ++) {\n                    result = result || comparers[idx](a, b);\n                }\n\n                return result;\n            };\n        }\n    };\n\n    var StableComparer = extend({}, Comparer, {\n        asc: function(field) {\n            var selector = this.selector(field);\n            return function (a, b) {\n                var valueA = selector(a);\n                var valueB = selector(b);\n\n                if (valueA && valueA.getTime && valueB && valueB.getTime) {\n                    valueA = valueA.getTime();\n                    valueB = valueB.getTime();\n                }\n\n                if (valueA === valueB) {\n                    return a.__position - b.__position;\n                }\n\n                if (valueA == null) {\n                    return -1;\n                }\n\n                if (valueB == null) {\n                    return 1;\n                }\n\n                if (valueA.localeCompare) {\n                    return valueA.localeCompare(valueB);\n                }\n\n                return valueA > valueB ? 1 : -1;\n            };\n        },\n\n        desc: function(field) {\n            var selector = this.selector(field);\n            return function (a, b) {\n                var valueA = selector(a);\n                var valueB = selector(b);\n\n                if (valueA && valueA.getTime && valueB && valueB.getTime) {\n                    valueA = valueA.getTime();\n                    valueB = valueB.getTime();\n                }\n\n                if (valueA === valueB) {\n                    return a.__position - b.__position;\n                }\n\n                if (valueA == null) {\n                    return 1;\n                }\n\n                if (valueB == null) {\n                    return -1;\n                }\n\n                if (valueB.localeCompare) {\n                    return valueB.localeCompare(valueA);\n                }\n\n                return valueA < valueB ? 1 : -1;\n            };\n        },\n        create: function(sort) {\n           return this[sort.dir](sort.field);\n        }\n    });\n\n    map = function (array, callback) {\n        var idx, length = array.length, result = new Array(length);\n\n        for (idx = 0; idx < length; idx++) {\n            result[idx] = callback(array[idx], idx, array);\n        }\n\n        return result;\n    };\n\n    var operators = (function(){\n\n        function quote(str) {\n            if (typeof str == \"string\") {\n                str = str.replace(/[\\r\\n]+/g, \"\");\n            }\n            return JSON.stringify(str);\n        }\n\n        function textOp(impl) {\n            return function(a, b, ignore, accentFoldingFiltering) {\n                b += \"\";\n                if (ignore) {\n                    a = \"(\" + a + \" + '').toString()\" + ((accentFoldingFiltering) ? \".toLocaleLowerCase('\" + accentFoldingFiltering  +\"')\" : \".toLowerCase()\");\n                    b = ((accentFoldingFiltering) ? b.toLocaleLowerCase(accentFoldingFiltering) : b.toLowerCase());\n                }\n                return impl(a, quote(b), ignore);\n            };\n        }\n\n        function operator(op, a, b, ignore, accentFoldingFiltering) {\n            if (b != null) {\n                if (typeof b === STRING) {\n                    var date = dateRegExp.exec(b);\n                    if (date) {\n                        b = new Date(+date[1]);\n                    } else if (ignore) {\n                        b = quote(((accentFoldingFiltering) ? b.toLocaleLowerCase(accentFoldingFiltering) : b.toLowerCase()));\n                        a = \"((\" + a + \" || '')+'')\" + ((accentFoldingFiltering) ? \".toLocaleLowerCase('\" + accentFoldingFiltering  +\"')\" : \".toLowerCase()\");\n                    } else {\n                        b = quote(b);\n                    }\n                }\n\n                if (b.getTime) {\n                    //b looks like a Date\n                    a = \"(\" + a + \"&&\" + a + \".getTime?\" + a + \".getTime():\" + a + \")\";\n                    b = b.getTime();\n                }\n            }\n\n            return a + \" \" + op + \" \" + b;\n        }\n\n        function getMatchRegexp(pattern) {\n            // take a pattern, as supported by Excel match filter, and\n            // convert it to the equivalent JS regular expression.\n            // Excel patterns support:\n            //\n            //   * - match any sequence of characters\n            //   ? - match a single character\n            //\n            // to match a literal * or ?, they must be prefixed by a tilde (~)\n            for (var rx = \"/^\", esc = false, i = 0; i < pattern.length; ++i) {\n                var ch = pattern.charAt(i);\n                if (esc) {\n                    rx += \"\\\\\" + ch;\n                } else if (ch == \"~\") {\n                    esc = true;\n                    continue;\n                } else if (ch == \"*\") {\n                    rx += \".*\";\n                } else if (ch == \"?\") {\n                    rx += \".\";\n                } else if (\".+^$()[]{}|\\\\/\\n\\r\\u2028\\u2029\\xA0\".indexOf(ch) >= 0) {\n                    rx += \"\\\\\" + ch;\n                } else {\n                    rx += ch;\n                }\n                esc = false;\n            }\n            return rx + \"$/\";\n        }\n\n        return {\n            quote: function(value) {\n                if (value && value.getTime) {\n                    return \"new Date(\" + value.getTime() + \")\";\n                }\n                return quote(value);\n            },\n            eq: function(a, b, ignore, accentFoldingFiltering) {\n                return operator(\"==\", a, b, ignore, accentFoldingFiltering);\n            },\n            neq: function(a, b, ignore, accentFoldingFiltering) {\n                return operator(\"!=\", a, b, ignore, accentFoldingFiltering);\n            },\n            gt: function(a, b, ignore) {\n                return operator(\">\", a, b, ignore);\n            },\n            gte: function(a, b, ignore) {\n                return operator(\">=\", a, b, ignore);\n            },\n            lt: function(a, b, ignore) {\n                return operator(\"<\", a, b, ignore);\n            },\n            lte: function(a, b, ignore) {\n                return operator(\"<=\", a, b, ignore);\n            },\n            startswith: textOp(function(a, b) {\n                return a + \".lastIndexOf(\" + b + \", 0) == 0\";\n            }),\n            doesnotstartwith: textOp(function(a, b) {\n                return a + \".lastIndexOf(\" + b + \", 0) == -1\";\n            }),\n            endswith: textOp(function(a, b) {\n                var n = b ? b.length - 2 : 0;\n                return a + \".indexOf(\" + b + \", \" + a + \".length - \" + n + \") >= 0\";\n            }),\n            doesnotendwith: textOp(function(a, b) {\n                var n = b ? b.length - 2 : 0;\n                return a + \".indexOf(\" + b + \", \" + a + \".length - \" + n + \") < 0\";\n            }),\n            contains: textOp(function(a, b) {\n                return a + \".indexOf(\" + b + \") >= 0\";\n            }),\n            doesnotcontain: textOp(function(a, b) {\n                return a + \".indexOf(\" + b + \") == -1\";\n            }),\n            matches: textOp(function(a, b){\n                b = b.substring(1, b.length - 1);\n                return getMatchRegexp(b) + \".test(\" + a + \")\";\n            }),\n            doesnotmatch: textOp(function(a, b){\n                b = b.substring(1, b.length - 1);\n                return \"!\" + getMatchRegexp(b) + \".test(\" + a + \")\";\n            }),\n            isempty: function(a) {\n                return a + \" === ''\";\n            },\n            isnotempty: function(a) {\n                return a + \" !== ''\";\n            },\n            isnull: function(a) {\n                return \"(\" + a + \" == null)\";\n            },\n            isnotnull: function(a) {\n                return \"(\" + a + \" != null)\";\n            },\n            isnullorempty: function(a) {\n                return \"(\" + a + \" === null) || (\" + a + \" === '')\";\n            },\n            isnotnullorempty: function(a) {\n                return \"(\" + a + \" !== null) && (\" + a + \" !== '')\";\n            }\n        };\n    })();\n\n    function Query(data) {\n        this.data = data || [];\n    }\n\n    Query.filterExpr = function(expression) {\n        var expressions = [],\n            logic = { and: \" && \", or: \" || \" },\n            idx,\n            length,\n            filter,\n            expr,\n            fieldFunctions = [],\n            operatorFunctions = [],\n            field,\n            operator,\n            filters = expression.filters;\n\n        for (idx = 0, length = filters.length; idx < length; idx++) {\n            filter = filters[idx];\n            field = filter.field;\n            operator = filter.operator;\n\n            if (filter.filters) {\n                expr = Query.filterExpr(filter);\n                //Nested function fields or operators - update their index e.g. __o[0] -> __o[1]\n                filter = expr.expression\n                .replace(/__o\\[(\\d+)\\]/g, function(match, index) {\n                    index = +index;\n                    return \"__o[\" + (operatorFunctions.length + index) + \"]\";\n                })\n                .replace(/__f\\[(\\d+)\\]/g, function(match, index) {\n                    index = +index;\n                    return \"__f[\" + (fieldFunctions.length + index) + \"]\";\n                });\n\n                operatorFunctions.push.apply(operatorFunctions, expr.operators);\n                fieldFunctions.push.apply(fieldFunctions, expr.fields);\n            } else {\n                if (typeof field === FUNCTION) {\n                    expr = \"__f[\" + fieldFunctions.length +\"](d)\";\n                    fieldFunctions.push(field);\n                } else {\n                    expr = kendo.expr(field);\n                }\n\n                if (typeof operator === FUNCTION) {\n                    filter = \"__o[\" + operatorFunctions.length + \"](\" + expr + \", \" + operators.quote(filter.value) + \")\";\n                    operatorFunctions.push(operator);\n                } else {\n                    filter = operators[(operator || \"eq\").toLowerCase()](expr, filter.value, filter.ignoreCase !== undefined? filter.ignoreCase : true, expression.accentFoldingFiltering);\n                }\n            }\n\n            expressions.push(filter);\n        }\n\n        return  { expression: \"(\" + expressions.join(logic[expression.logic]) + \")\", fields: fieldFunctions, operators: operatorFunctions };\n    };\n\n    function normalizeSort(field, dir) {\n        if (field) {\n            var descriptor = typeof field === STRING ? { field: field, dir: dir } : field,\n            descriptors = isArray(descriptor) ? descriptor : (descriptor !== undefined ? [descriptor] : []);\n\n            return grep(descriptors, function(d) { return !!d.dir; });\n        }\n    }\n\n    function sortFields(sorts, dir) {\n        var sortObject = {};\n\n        if (sorts) {\n            var descriptor = typeof sorts === STRING ? { field: sorts, dir: dir } : sorts,\n            descriptors = isArray(descriptor) ? descriptor : (descriptor !== undefined ? [descriptor] : []);\n\n            for (var i = 0; i < descriptors.length; i++) {\n                sortObject[descriptors[i].field] = { dir: descriptors[i].dir, index: i + 1 };\n            }\n        }\n\n        return sortObject;\n    }\n\n    var operatorMap = {\n        \"==\": \"eq\",\n        equals: \"eq\",\n        isequalto: \"eq\",\n        equalto: \"eq\",\n        equal: \"eq\",\n        \"!=\": \"neq\",\n        ne: \"neq\",\n        notequals: \"neq\",\n        isnotequalto: \"neq\",\n        notequalto: \"neq\",\n        notequal: \"neq\",\n        \"<\": \"lt\",\n        islessthan: \"lt\",\n        lessthan: \"lt\",\n        less: \"lt\",\n        \"<=\": \"lte\",\n        le: \"lte\",\n        islessthanorequalto: \"lte\",\n        lessthanequal: \"lte\",\n        \">\": \"gt\",\n        isgreaterthan: \"gt\",\n        greaterthan: \"gt\",\n        greater: \"gt\",\n        \">=\": \"gte\",\n        isgreaterthanorequalto: \"gte\",\n        greaterthanequal: \"gte\",\n        ge: \"gte\",\n        notsubstringof: \"doesnotcontain\",\n        isnull: \"isnull\",\n        isempty: \"isempty\",\n        isnotempty: \"isnotempty\"\n    };\n\n    function normalizeOperator(expression) {\n        var idx,\n        length,\n        filter,\n        operator,\n        filters = expression.filters;\n\n        if (filters) {\n            for (idx = 0, length = filters.length; idx < length; idx++) {\n                filter = filters[idx];\n                operator = filter.operator;\n\n                if (operator && typeof operator === STRING) {\n                    filter.operator = operatorMap[operator.toLowerCase()] || operator;\n                }\n\n                normalizeOperator(filter);\n            }\n        }\n    }\n\n    function normalizeFilter(expression) {\n        if (expression && !isEmptyObject(expression)) {\n            if (isArray(expression) || !expression.filters) {\n                expression = {\n                    logic: \"and\",\n                    filters: isArray(expression) ? expression : [expression]\n                };\n            }\n\n            normalizeOperator(expression);\n\n            return expression;\n        }\n    }\n\n    Query.normalizeFilter = normalizeFilter;\n\n    function compareDescriptor(f1, f2) {\n        if (f1.logic || f2.logic) {\n            return false;\n        }\n\n        return f1.field === f2.field && f1.value === f2.value && f1.operator === f2.operator;\n    }\n\n    function normalizeDescriptor(filter) {\n        filter = filter || {};\n\n        if (isEmptyObject(filter)) {\n            return { logic: \"and\", filters: [] };\n        }\n\n        return normalizeFilter(filter);\n    }\n\n    function fieldComparer(a, b) {\n        if (b.logic || (a.field > b.field)) {\n            return 1;\n        } else if (a.field < b.field) {\n            return -1;\n        } else {\n            return 0;\n        }\n    }\n\n    function compareFilters(expr1, expr2) {\n        expr1 = normalizeDescriptor(expr1);\n        expr2 = normalizeDescriptor(expr2);\n\n        if (expr1.logic !== expr2.logic) {\n            return false;\n        }\n\n        var f1, f2;\n        var filters1 = (expr1.filters || []).slice();\n        var filters2 = (expr2.filters || []).slice();\n\n        if (filters1.length !== filters2.length) {\n            return false;\n        }\n\n        filters1 = filters1.sort(fieldComparer);\n        filters2 = filters2.sort(fieldComparer);\n\n        for (var idx = 0; idx < filters1.length; idx++) {\n            f1 = filters1[idx];\n            f2 = filters2[idx];\n\n            if (f1.logic && f2.logic) {\n                if (!compareFilters(f1, f2)) {\n                    return false;\n                }\n            } else if (!compareDescriptor(f1, f2)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    Query.compareFilters = compareFilters;\n\n    function normalizeAggregate(expressions) {\n        return isArray(expressions) ? expressions : [expressions];\n    }\n\n    function normalizeGroup(field, dir, compare, skipItemSorting) {\n        var descriptor = typeof field === STRING ? { field: field, dir: dir, compare: compare, skipItemSorting : skipItemSorting } : field,\n        descriptors = isArray(descriptor) ? descriptor : (descriptor !== undefined ? [descriptor] : []);\n\n        return map(descriptors, function(d) {\n            return {\n                field: d.field,\n                dir: d.dir || \"asc\",\n                aggregates: d.aggregates,\n                compare: d.compare,\n                skipItemSorting: d.skipItemSorting\n            };\n        });\n    }\n\n    function normalizeGroupWithoutCompare(field, dir, compare) {\n        var descriptors = normalizeGroup(field, dir, compare);\n\n        for (var i = 0; i < descriptors.length; i++) {\n            delete descriptors[i].compare;\n        }\n\n        return descriptors;\n    }\n\n    function anyGroupDescriptorHasCompare(groupDescriptors) {\n        var descriptors = isArray(groupDescriptors) ? groupDescriptors : [groupDescriptors];\n\n        for (var i = 0; i < descriptors.length; i++) {\n            if (descriptors[i] && isFunction(descriptors[i].compare)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    Query.prototype = {\n        toArray: function () {\n            return this.data;\n        },\n        range: function(index, count) {\n            return new Query(this.data.slice(index, index + count));\n        },\n        skip: function (count) {\n            return new Query(this.data.slice(count));\n        },\n        take: function (count) {\n            return new Query(this.data.slice(0, count));\n        },\n        select: function (selector) {\n            return new Query(map(this.data, selector));\n        },\n        order: function(selector, dir, inPlace) {\n            var sort = { dir: dir };\n\n            if (selector) {\n                if (selector.compare) {\n                    sort.compare = selector.compare;\n                } else {\n                    sort.field = selector;\n                }\n            }\n\n            if (inPlace) {\n                return new Query(this.data.sort(Comparer.create(sort)));\n            }\n\n            return new Query(this.data.slice(0).sort(Comparer.create(sort)));\n        },\n        orderBy: function(selector, inPlace) {\n            return this.order(selector, \"asc\", inPlace);\n        },\n        orderByDescending: function(selector, inPlace) {\n            return this.order(selector, \"desc\", inPlace);\n        },\n        sort: function(field, dir, comparer, inPlace) {\n            var idx,\n            length,\n            descriptors = normalizeSort(field, dir),\n            comparers = [];\n\n            comparer = comparer || Comparer;\n\n            if (descriptors.length) {\n                for (idx = 0, length = descriptors.length; idx < length; idx++) {\n                    comparers.push(comparer.create(descriptors[idx]));\n                }\n\n                return this.orderBy({ compare: comparer.combine(comparers) }, inPlace);\n            }\n\n            return this;\n        },\n\n        filter: function(expressions) {\n            var idx,\n            current,\n            length,\n            compiled,\n            predicate,\n            data = this.data,\n            fields,\n            operators,\n            result = [],\n            filter;\n\n            expressions = normalizeFilter(expressions);\n\n            if (!expressions || expressions.filters.length === 0) {\n                return this;\n            }\n\n            compiled = Query.filterExpr(expressions);\n            fields = compiled.fields;\n            operators = compiled.operators;\n\n            predicate = filter = new Function(\"d, __f, __o\", \"return \" + compiled.expression);\n\n            if (fields.length || operators.length) {\n                filter = function(d) {\n                    return predicate(d, fields, operators);\n                };\n            }\n\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                current = data[idx];\n\n                if (filter(current)) {\n                    result.push(current);\n                }\n            }\n\n            return new Query(result);\n        },\n\n        group: function(descriptors, allData, options) {\n            descriptors =  normalizeGroup(descriptors || []);\n            allData = allData || this.data;\n\n            var that = this,\n            result = new Query(that.data),\n            descriptor;\n\n            if (descriptors.length > 0) {\n                descriptor = descriptors[0];\n\n                if (options && options.groupPaging) {\n                    result = new Query(allData).groupAllData(descriptor, allData).select(function (group) {\n                        var data = new Query(allData).filter([{\n                            field: group.field,\n                            operator: \"eq\",\n                            value: group.value,\n                            ignoreCase: false\n                        }]);\n                        var items = descriptors.length > 1 ? new Query(group.items).group(descriptors.slice(1), data.toArray(), options).toArray() : group.items;\n                        return {\n                            field: group.field,\n                            value: group.value,\n                            hasSubgroups: descriptors.length > 1,\n                            items: items,\n                            aggregates: data.aggregate(descriptor.aggregates),\n                            uid: kendo.guid(),\n                            itemCount: items.length,\n                            subgroupCount: items.length\n                        };\n                    });\n\n                } else {\n                    result = result.groupBy(descriptor).select(function(group) {\n                        var data = new Query(allData).filter([ { field: group.field, operator: \"eq\", value: group.value, ignoreCase: false } ]);\n                        return {\n                            field: group.field,\n                            value: group.value,\n                            items: descriptors.length > 1 ? new Query(group.items).group(descriptors.slice(1), data.toArray()).toArray() : group.items,\n                            hasSubgroups: descriptors.length > 1,\n                            aggregates: data.aggregate(descriptor.aggregates)\n                        };\n                    });\n                }\n            }\n            return result;\n        },\n\n        groupBy: function(descriptor) {\n            var that = this;\n\n            if (isEmptyObject(descriptor) || !this.data.length) {\n                return new Query([]);\n            }\n\n            var field = descriptor.field,\n                sorted = descriptor.skipItemSorting ? this.data : this._sortForGrouping(field, descriptor.dir || \"asc\"),\n                accessor = kendo.accessor(field),\n                item,\n                groupValue = accessor.get(sorted[0], field),\n                group = {\n                    field: field,\n                    value: groupValue,\n                    items: []\n                },\n                currentValue,\n                idx,\n                len,\n                result = [group];\n\n            for(idx = 0, len = sorted.length; idx < len; idx++) {\n                item = sorted[idx];\n                currentValue = accessor.get(item, field);\n                if(!groupValueComparer(groupValue, currentValue)) {\n                    groupValue = currentValue;\n                    group = {\n                        field: field,\n                        value: groupValue,\n                        items: []\n                    };\n                    result.push(group);\n                }\n                group.items.push(item);\n            }\n\n            result = that._sortGroups(result, descriptor);\n\n            return new Query(result);\n        },\n\n        groupAllData: function (descriptor, allData) {\n            if (isEmptyObject(descriptor) || this.data && !this.data.length) {\n                return new Query([]);\n            }\n\n            var field = descriptor.field,\n                sorted = descriptor.skipItemSorting ? allData : new Query(allData).sort(field, descriptor.dir || \"asc\", StableComparer).toArray(),\n                accessor = kendo.accessor(field),\n                item,\n                groupValue = accessor.get(sorted[0], field),\n                group = {\n                    field: field,\n                    value: groupValue,\n                    items: []\n                },\n                currentValue,\n                idx,\n                len,\n                result = [group];\n\n            for (idx = 0, len = sorted.length; idx < len; idx++) {\n                item = sorted[idx];\n                currentValue = accessor.get(item, field);\n                if (!groupValueComparer(groupValue, currentValue)) {\n                    groupValue = currentValue;\n                    group = {\n                        field: field,\n                        value: groupValue,\n                        items: []\n                    };\n                    result.push(group);\n                }\n                group.items.push(item);\n            }\n\n            result = this._sortGroups(result, descriptor);\n\n            return new Query(result);\n        },\n\n        _sortForGrouping: function(field, dir) {\n            var idx, length,\n                data = this.data;\n\n            if (!stableSort) {\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    data[idx].__position = idx;\n                }\n\n                data = new Query(data).sort(field, dir, StableComparer).toArray();\n\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    delete data[idx].__position;\n                }\n                return data;\n            }\n\n            return this.sort(field, dir).toArray();\n        },\n\n        _sortGroups: function(groups, descriptor) {\n            var result = groups;\n\n            if (descriptor && isFunction(descriptor.compare)) {\n                result = new Query(result).order({ compare: descriptor.compare }, descriptor.dir || ASCENDING).toArray();\n            }\n\n            return result;\n        },\n\n        aggregate: function (aggregates) {\n            var idx,\n                len,\n                result = {},\n                state = {};\n\n            if (aggregates && aggregates.length) {\n                for(idx = 0, len = this.data.length; idx < len; idx++) {\n                    calculateAggregate(result, aggregates, this.data[idx], idx, len, state);\n                }\n            }\n            return result;\n        }\n    };\n\n    function groupValueComparer(a, b) {\n        if (a && a.getTime && b && b.getTime) {\n            return a.getTime() === b.getTime();\n        }\n        return a === b;\n    }\n\n    function calculateAggregate(accumulator, aggregates, item, index, length, state) {\n        aggregates = aggregates || [];\n        var idx,\n            aggr,\n            functionName,\n            len = aggregates.length;\n\n        for (idx = 0; idx < len; idx++) {\n            aggr = aggregates[idx];\n            functionName = aggr.aggregate;\n            var field = aggr.field;\n            accumulator[field] = accumulator[field] || {};\n            state[field] = state[field] || {};\n            state[field][functionName] = state[field][functionName] || {};\n            accumulator[field][functionName] = functions[functionName.toLowerCase()](accumulator[field][functionName], item, kendo.accessor(field), index, length, state[field][functionName]);\n        }\n    }\n\n    var functions = {\n        sum: function(accumulator, item, accessor) {\n            var value = accessor.get(item);\n\n            if (!isNumber(accumulator)) {\n                accumulator = value;\n            } else if (isNumber(value)) {\n                accumulator += value;\n            }\n\n            return accumulator;\n        },\n        count: function(accumulator) {\n            return (accumulator || 0) + 1;\n        },\n        average: function(accumulator, item, accessor, index, length, state) {\n            var value = accessor.get(item);\n\n            if (state.count === undefined) {\n                state.count = 0;\n            }\n\n            if (!isNumber(accumulator)) {\n                accumulator = value;\n            } else if (isNumber(value)) {\n                accumulator += value;\n            }\n\n            if (isNumber(value)) {\n                state.count++;\n            }\n\n            if(index == length - 1 && isNumber(accumulator)) {\n                accumulator = accumulator / state.count;\n            }\n            return accumulator;\n        },\n        max: function(accumulator, item, accessor) {\n            var value = accessor.get(item);\n\n            if (!isNumber(accumulator) && !isDate(accumulator)) {\n                accumulator = value;\n            }\n\n            if(accumulator < value && (isNumber(value) || isDate(value))) {\n                accumulator = value;\n            }\n            return accumulator;\n        },\n        min: function(accumulator, item, accessor) {\n            var value = accessor.get(item);\n\n            if (!isNumber(accumulator) && !isDate(accumulator)) {\n                accumulator = value;\n            }\n\n            if(accumulator > value && (isNumber(value) || isDate(value))) {\n                accumulator = value;\n            }\n            return accumulator;\n        }\n    };\n\n    function isNumber(val) {\n        return typeof val === \"number\" && !isNaN(val);\n    }\n\n    function isDate(val) {\n        return val && val.getTime;\n    }\n\n    function toJSON(array) {\n        var idx, length = array.length, result = new Array(length);\n\n        for (idx = 0; idx < length; idx++) {\n            result[idx] = array[idx].toJSON();\n        }\n\n        return result;\n    }\n\n    Query.normalizeGroup = normalizeGroup;\n    Query.normalizeSort = normalizeSort;\n\n    Query.process = function(data, options, inPlace) {\n        options = options || {};\n\n        var group = options.group;\n        var customGroupSort = anyGroupDescriptorHasCompare(normalizeGroup(group || []));\n        var query = new Query(data),\n            groupDescriptorsWithoutCompare = normalizeGroupWithoutCompare(group || []),\n            normalizedSort = normalizeSort(options.sort || []),\n            sort = customGroupSort ? normalizedSort : groupDescriptorsWithoutCompare.concat(normalizedSort),\n            groupDescriptorsWithoutSort,\n            total,\n            filterCallback = options.filterCallback,\n            filter = options.filter,\n            skip = options.skip,\n            take = options.take;\n\n        if (sort && inPlace) {\n            query = query.sort(sort, undefined, undefined, inPlace);\n        }\n\n        if (filter) {\n            query = query.filter(filter);\n\n            if (filterCallback) {\n                query = filterCallback(query);\n            }\n\n            total = query.toArray().length;\n        }\n\n        if (sort) {\n            if (!inPlace) {\n                query = query.sort(sort);\n            }\n\n            if (group) {\n                data = query.toArray();\n            }\n        }\n\n        if (customGroupSort) {\n            query = query.group(group, data, options);\n\n            if (skip !== undefined && take !== undefined && !options.groupPaging) {\n                query = new Query(flatGroups(query.toArray())).range(skip, take);\n\n                groupDescriptorsWithoutSort = map(groupDescriptorsWithoutCompare, function(groupDescriptor) {\n                    return extend({}, groupDescriptor, {\n                        skipItemSorting: true\n                    });\n                });\n\n                query = query.group(groupDescriptorsWithoutSort, data, options);\n            }\n        } else {\n            if (skip !== undefined && take !== undefined) {\n                query = query.range(skip, take);\n            }\n\n            if (group && (!isEmptyObject(group) || group.length !== 0)) {\n                query = query.group(group, data, options);\n            }\n        }\n\n        return {\n            total: total,\n            data: query.toArray()\n        };\n    };\n\n    var LocalTransport = Class.extend({\n        init: function(options) {\n            this.data = options.data;\n        },\n\n        read: function(options) {\n            options.success(this.data);\n        },\n        update: function(options) {\n            options.success(options.data);\n        },\n        create: function(options) {\n            options.success(options.data);\n        },\n        destroy: function(options) {\n            options.success(options.data);\n        }\n    });\n\n    var RemoteTransport = Class.extend( {\n        init: function(options) {\n            var that = this, parameterMap;\n\n            options = that.options = extend({}, that.options, options);\n\n            each(crud, function(index, type) {\n                if (typeof options[type] === STRING) {\n                    options[type] = {\n                        url: options[type]\n                    };\n                }\n            });\n\n            that.cache = options.cache? Cache.create(options.cache) : {\n                find: noop,\n                add: noop\n            };\n\n            parameterMap = options.parameterMap;\n\n            if (options.submit) {\n                that.submit = options.submit;\n            }\n\n            if (isFunction(options.push)) {\n                that.push = options.push;\n            }\n\n            if (!that.push) {\n                that.push = identity;\n            }\n\n            that.parameterMap = isFunction(parameterMap) ? parameterMap : function(options) {\n                var result = {};\n\n                each(options, function(option, value) {\n                    if (option in parameterMap) {\n                        option = parameterMap[option];\n                        if (isPlainObject(option)) {\n                            value = option.value(value);\n                            option = option.key;\n                        }\n                    }\n\n                    result[option] = value;\n                });\n\n                return result;\n            };\n        },\n\n        options: {\n            parameterMap: identity\n        },\n\n        create: function(options) {\n            return ajax(this.setup(options, CREATE));\n        },\n\n        read: function(options) {\n            var that = this,\n                success,\n                error,\n                result,\n                cache = that.cache;\n\n            options = that.setup(options, READ);\n\n            success = options.success || noop;\n            error = options.error || noop;\n\n            result = cache.find(options.data);\n\n            if(result !== undefined) {\n                success(result);\n            } else {\n                options.success = function(result) {\n                    cache.add(options.data, result);\n\n                    success(result);\n                };\n\n                $.ajax(options);\n            }\n        },\n\n        update: function(options) {\n            return ajax(this.setup(options, UPDATE));\n        },\n\n        destroy: function(options) {\n            return ajax(this.setup(options, DESTROY));\n        },\n\n        setup: function(options, type) {\n            options = options || {};\n\n            var that = this,\n                parameters,\n                operation = that.options[type],\n                data = isFunction(operation.data) ? operation.data(options.data) : operation.data;\n\n            options = extend(true, {}, operation, options);\n            parameters = extend(true, {}, data, options.data);\n\n            options.data = that.parameterMap(parameters, type);\n\n            if (isFunction(options.url)) {\n                options.url = options.url(parameters);\n            }\n\n            return options;\n        }\n    });\n\n    var Cache = Class.extend({\n        init: function() {\n            this._store = {};\n        },\n        add: function(key, data) {\n            if(key !== undefined) {\n                this._store[stringify(key)] = data;\n            }\n        },\n        find: function(key) {\n            return this._store[stringify(key)];\n        },\n        clear: function() {\n            this._store = {};\n        },\n        remove: function(key) {\n            delete this._store[stringify(key)];\n        }\n    });\n\n    Cache.create = function(options) {\n        var store = {\n            \"inmemory\": function() { return new Cache(); }\n        };\n\n        if (isPlainObject(options) && isFunction(options.find)) {\n            return options;\n        }\n\n        if (options === true) {\n            return new Cache();\n        }\n\n        return store[options]();\n    };\n\n    function serializeRecords(data, getters, modelInstance, originalFieldNames, fieldNames) {\n        var record,\n            getter,\n            originalName,\n            idx,\n            setters = {},\n            length;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            record = data[idx];\n            for (getter in getters) {\n                originalName = fieldNames[getter];\n\n                if (originalName && originalName !== getter) {\n                    if (!setters[originalName]) {\n                        setters[originalName] = kendo.setter(originalName);\n                    }\n                    setters[originalName](record, getters[getter](record));\n                    delete record[getter];\n                }\n            }\n        }\n    }\n\n    function convertRecords(data, getters, modelInstance, originalFieldNames, fieldNames) {\n        var record,\n            getter,\n            originalName,\n            idx,\n            length;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            record = data[idx];\n            for (getter in getters) {\n                record[getter] = modelInstance._parse(getter, getters[getter](record));\n\n                originalName = fieldNames[getter];\n                if (originalName && originalName !== getter) {\n                    delete record[originalName];\n                }\n            }\n        }\n    }\n\n    function convertGroup(data, getters, modelInstance, originalFieldNames, fieldNames) {\n        var record,\n            idx,\n            fieldName,\n            length;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            record = data[idx];\n\n            fieldName = originalFieldNames[record.field];\n            if (fieldName && fieldName != record.field) {\n                record.field = fieldName;\n            }\n\n            record.value = modelInstance._parse(record.field, record.value);\n\n            if (record.items) {\n                if (record.hasSubgroups) {\n                    convertGroup(record.items, getters, modelInstance, originalFieldNames, fieldNames);\n                } else {\n                    convertRecords(record.items, getters, modelInstance, originalFieldNames, fieldNames);\n                }\n            }\n        }\n    }\n\n    function wrapDataAccess(originalFunction, model, converter, getters, originalFieldNames, fieldNames) {\n        return function(data) {\n            data = originalFunction(data);\n\n            return wrapDataAccessBase(model, converter, getters, originalFieldNames, fieldNames)(data);\n        };\n    }\n\n    function wrapDataAccessBase(model, converter, getters, originalFieldNames, fieldNames) {\n        return function(data) {\n\n            if (data && !isEmptyObject(getters)) {\n                if (toString.call(data) !== \"[object Array]\" && !(data instanceof ObservableArray)) {\n                    data = [data];\n                }\n\n                converter(data, getters, new model(), originalFieldNames, fieldNames);\n            }\n\n            return data || [];\n        };\n    }\n\n    var DataReader = Class.extend({\n        init: function(schema) {\n            var that = this, member, get, model, base;\n\n            schema = schema || {};\n\n            for (member in schema) {\n                get = schema[member];\n\n                that[member] = typeof get === STRING ? getter(get) : get;\n            }\n\n            base = schema.modelBase || Model;\n\n            if (isPlainObject(that.model)) {\n                that.model = model = base.define(that.model);\n            }\n\n            var dataFunction = proxy(that.data, that);\n\n            that._dataAccessFunction = dataFunction;\n\n            if (that.model) {\n                var groupsFunction = proxy(that.groups, that),\n                    serializeFunction = proxy(that.serialize, that),\n                    originalFieldNames = {},\n                    getters = {},\n                    serializeGetters = {},\n                    fieldNames = {},\n                    shouldSerialize = false,\n                    fieldName,\n                    name;\n\n                model = that.model;\n\n                if (model.fields) {\n                    each(model.fields, function(field, value) {\n                        var fromName;\n\n                        fieldName = field;\n\n                        if (isPlainObject(value) && value.field) {\n                            fieldName = value.field;\n                        } else if (typeof value === STRING) {\n                            fieldName = value;\n                        }\n\n                        if (isPlainObject(value) && value.from) {\n                            fromName = value.from;\n                        }\n\n                        shouldSerialize = shouldSerialize || (fromName && fromName !== field) || fieldName !== field;\n                        name = fromName || fieldName;\n                        getters[field] = name.indexOf(\".\") !== -1 ? getter(name, true) : getter(name);\n                        serializeGetters[field] = getter(field);\n                        originalFieldNames[fromName || fieldName] = field;\n                        fieldNames[field] = fromName || fieldName;\n                    });\n\n                    if (!schema.serialize && shouldSerialize) {\n                        that.serialize = wrapDataAccess(serializeFunction, model, serializeRecords, serializeGetters, originalFieldNames, fieldNames);\n                    }\n                }\n\n                that._dataAccessFunction = dataFunction;\n                that._wrapDataAccessBase = wrapDataAccessBase(model, convertRecords, getters, originalFieldNames, fieldNames);\n                that.data = wrapDataAccess(dataFunction, model, convertRecords, getters, originalFieldNames, fieldNames);\n                that.groups = wrapDataAccess(groupsFunction, model, convertGroup, getters, originalFieldNames, fieldNames);\n            }\n        },\n        errors: function(data) {\n            return data ? data.errors : null;\n        },\n        parse: identity,\n        data: identity,\n        total: function(data) {\n            return data.length;\n        },\n        groups: identity,\n        aggregates: function() {\n            return {};\n        },\n        serialize: function(data) {\n            return data;\n        }\n    });\n\n    function fillLastGroup(originalGroup, newGroup) {\n        var currOriginal;\n        var currentNew;\n\n        if (newGroup.items && newGroup.items.length) {\n            for (var i = 0; i < newGroup.items.length; i++) {\n                currOriginal = originalGroup.items[originalGroup.items.length - 1];\n                currentNew = newGroup.items[i];\n                if (currOriginal && currentNew) {\n                    if (currOriginal.hasSubgroups && currOriginal.value == currentNew.value) {\n                        fillLastGroup(currOriginal, currentNew);\n                    } else if (currOriginal.field && currOriginal.value == currentNew.value) {\n                        currOriginal.items.push.apply(currOriginal.items, currentNew.items);\n                    } else {\n                        originalGroup.items.push.apply(originalGroup.items, [currentNew]);\n                    }\n                } else if (currentNew) {\n                    originalGroup.items.push.apply(originalGroup.items, [currentNew]);\n                }\n            }\n        }\n    }\n    function mergeGroups(target, dest, skip, take) {\n        var group,\n            idx = 0,\n            items;\n\n        while (dest.length && take) {\n            group = dest[idx];\n            items = group.items;\n\n            var length = items.length;\n\n            if (target && target.field === group.field && target.value === group.value) {\n                if (target.hasSubgroups && target.items.length) {\n                    mergeGroups(target.items[target.items.length - 1], group.items, skip, take);\n                } else {\n                    items = items.slice(skip, skip + take);\n                    target.items = target.items.concat(items);\n                }\n                dest.splice(idx--, 1);\n            } else if (group.hasSubgroups && items.length) {\n                mergeGroups(group, items, skip, take);\n                if (!group.items.length) {\n                    dest.splice(idx--, 1);\n                }\n            } else {\n                items = items.slice(skip, skip + take);\n                group.items = items;\n\n                if (!group.items.length) {\n                    dest.splice(idx--, 1);\n                }\n            }\n\n            if (items.length === 0) {\n                skip -= length;\n            } else {\n                skip = 0;\n                take -= items.length;\n            }\n\n            if (++idx >= dest.length) {\n                break;\n            }\n        }\n\n        if (idx < dest.length) {\n            dest.splice(idx, dest.length - idx);\n        }\n    }\n\n    function flatGroups(groups, indexFunction) {\n        var result = [];\n        var groupsLength = (groups || []).length;\n        var group;\n        var items;\n        var indexFn = isFunction(indexFunction) ? indexFunction : function(array, index) {\n            return array[index];\n        };\n\n        for (var groupIndex = 0; groupIndex < groupsLength; groupIndex++) {\n            group = indexFn(groups, groupIndex);\n\n            if (group.hasSubgroups) {\n                result = result.concat(flatGroups(group.items));\n            } else {\n                items = group.items;\n\n                for (var itemIndex = 0; itemIndex < items.length; itemIndex++) {\n                    result.push(indexFn(items, itemIndex));\n                }\n            }\n        }\n        return result;\n    }\n\n    function flattenGroups(data) {\n        var idx,\n            result = [],\n            length,\n            items,\n            itemIndex;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            var group = data.at(idx);\n            if (group.items) {\n                if (group.hasSubgroups) {\n                    result = result.concat(flattenGroups(group.items));\n                } else {\n                    items = group.items;\n                    for (itemIndex = 0; itemIndex < items.length; itemIndex++) {\n                        result.push(items.at(itemIndex));\n                    }\n                }\n            }\n        }\n        return result;\n    }\n\n    function wrapGroupItems(data, model) {\n        var idx, length, group;\n        if (model) {\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                group = data.at(idx);\n                if (group.items) {\n                    if (group.hasSubgroups) {\n                        wrapGroupItems(group.items, model);\n                    } else {\n                        group.items = new LazyObservableArray(group.items, model, group.items._events);\n                    }\n                }\n            }\n        }\n    }\n\n    function eachGroupItems(data, func) {\n        for (var idx = 0; idx < data.length; idx++) {\n            if (data[idx].hasSubgroups) {\n                if (eachGroupItems(data[idx].items, func)) {\n                    return true;\n                }\n            } else if (func(data[idx].items, data[idx])) {\n                return true;\n            }\n        }\n    }\n\n    function replaceInRanges(ranges, data, item, observable) {\n        for (var idx = 0; idx < ranges.length; idx++) {\n            if (ranges[idx].data === data) {\n                break;\n            }\n            if (replaceInRange(ranges[idx].data, item, observable)) {\n                break;\n            }\n        }\n    }\n\n    function replaceInRange(items, item, observable) {\n        for (var idx = 0, length = items.length; idx < length; idx++) {\n            if (items[idx] && items[idx].hasSubgroups) {\n                return replaceInRange(items[idx].items, item, observable);\n            } else if (items[idx] === item || items[idx] === observable) {\n               items[idx] = observable;\n               return true;\n            }\n        }\n    }\n\n    function replaceWithObservable(view, data, ranges, type, serverGrouping) {\n        for (var viewIndex = 0, length = view.length; viewIndex < length; viewIndex++) {\n            var item = view[viewIndex];\n\n            if (!item || item instanceof type) {\n                continue;\n            }\n\n            if (item.hasSubgroups !== undefined && !serverGrouping) {\n                replaceWithObservable(item.items, data, ranges, type, serverGrouping);\n            } else {\n                for (var idx = 0; idx < data.length; idx++) {\n                    if (data[idx] === item) {\n                        view[viewIndex] = data.at(idx);\n                        replaceInRanges(ranges, data, item, view[viewIndex]);\n                        break;\n                    }\n                }\n            }\n        }\n    }\n\n    function removeModel(data, model) {\n        if (!data) {\n            return;\n        }\n        var length = data.length;\n        var dataItem;\n        var idx;\n\n        for (idx = 0; idx < length; idx++) {\n            dataItem = data[idx];\n\n            if (dataItem.uid && dataItem.uid == model.uid) {\n                data.splice(idx, 1);\n                return dataItem;\n            }\n        }\n    }\n\n    function indexOfPristineModel(data, model) {\n        if (model) {\n            return indexOf(data, function(item) {\n                return (item.uid && item.uid == model.uid) || (item[model.idField] === model.id && model.id !== model._defaultId);\n            });\n        }\n        return -1;\n    }\n\n    function indexOfModel(data, model) {\n        if (model) {\n            return indexOf(data, function(item) {\n                return item.uid == model.uid;\n            });\n        }\n        return -1;\n    }\n\n    function indexOf(data, comparer) {\n        var idx, length;\n        if (!data) {\n            return;\n        }\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            if (comparer(data[idx])) {\n                return idx;\n            }\n        }\n\n        return -1;\n    }\n\n    function fieldNameFromModel(fields, name) {\n        if (fields && !isEmptyObject(fields)) {\n            var descriptor = fields[name];\n            var fieldName;\n            if (isPlainObject(descriptor)) {\n                fieldName = descriptor.from || descriptor.field || name;\n            } else {\n                fieldName = fields[name] || name;\n            }\n\n            if (isFunction(fieldName)) {\n                return name;\n            }\n\n            return fieldName;\n        }\n        return name;\n    }\n\n    function convertFilterDescriptorsField(descriptor, model) {\n        var idx,\n            length,\n            target = {};\n\n        for (var field in descriptor) {\n            if (field !== \"filters\") {\n                target[field] = descriptor[field];\n            }\n        }\n\n        if (descriptor.filters) {\n            target.filters = [];\n            for (idx = 0, length = descriptor.filters.length; idx < length; idx++) {\n                target.filters[idx] = convertFilterDescriptorsField(descriptor.filters[idx], model);\n            }\n        } else {\n            target.field = fieldNameFromModel(model.fields, target.field);\n        }\n        return target;\n    }\n\n    function convertDescriptorsField(descriptors, model) {\n        var idx,\n            length,\n            result = [],\n            target,\n            descriptor;\n\n        for (idx = 0, length = descriptors.length; idx < length; idx ++) {\n            target = {};\n\n            descriptor = descriptors[idx];\n\n            for (var field in descriptor) {\n                target[field] = descriptor[field];\n            }\n\n            target.field = fieldNameFromModel(model.fields, target.field);\n\n            if (target.aggregates && isArray(target.aggregates)) {\n                target.aggregates = convertDescriptorsField(target.aggregates, model);\n            }\n            result.push(target);\n        }\n        return result;\n    }\n\n    var DataSource = Observable.extend({\n        init: function(options) {\n            var that = this, model, data;\n\n            if (options) {\n                data = options.data;\n            }\n\n            options = that.options = extend({}, that.options, options);\n\n            that._map = {};\n            that._prefetch = {};\n            that._data = [];\n            that._pristineData = [];\n            that._ranges = [];\n            that._view = [];\n            that._pristineTotal = 0;\n            that._destroyed = [];\n            that._pageSize = options.pageSize;\n            that._page = options.page  || (options.pageSize ? 1 : undefined);\n            that._sort = normalizeSort(options.sort);\n            that._sortFields = sortFields(options.sort);\n            that._filter = normalizeFilter(options.filter);\n            that._group = normalizeGroup(options.group);\n            that._aggregate = options.aggregate;\n            that._total = options.total;\n            that._groupPaging = options.groupPaging;\n\n            if (that._groupPaging) {\n                that._groupsState = {};\n            }\n            that._shouldDetachObservableParents = true;\n\n            Observable.fn.init.call(that);\n\n            that.transport = Transport.create(options, data, that);\n\n            if (isFunction(that.transport.push)) {\n                that.transport.push({\n                    pushCreate: proxy(that._pushCreate, that),\n                    pushUpdate: proxy(that._pushUpdate, that),\n                    pushDestroy: proxy(that._pushDestroy, that)\n                });\n            }\n\n            if (options.offlineStorage != null) {\n                if (typeof options.offlineStorage == \"string\") {\n                    var key = options.offlineStorage;\n\n                    that._storage = {\n                        getItem: function() {\n                            return JSON.parse(localStorage.getItem(key));\n                        },\n                        setItem: function(item) {\n                            localStorage.setItem(key, stringify(that.reader.serialize(item)));\n                        }\n                    };\n                } else {\n                    that._storage = options.offlineStorage;\n                }\n            }\n\n            that.reader = new kendo.data.readers[options.schema.type || \"json\" ](options.schema);\n\n            model = that.reader.model || {};\n\n            that._detachObservableParents();\n\n            that._data = that._observe(that._data);\n            that._online = true;\n\n            that.bind([\"push\", ERROR, CHANGE, REQUESTSTART, SYNC, REQUESTEND, PROGRESS], options);\n        },\n\n        options: {\n            data: null,\n            schema: {\n               modelBase: Model\n            },\n            offlineStorage: null,\n            serverSorting: false,\n            serverPaging: false,\n            serverFiltering: false,\n            serverGrouping: false,\n            serverAggregates: false,\n            batch: false,\n            inPlaceSort: false\n        },\n\n        clone: function() {\n            return this;\n        },\n\n        online: function(value) {\n            if (value !== undefined) {\n                if (this._online != value) {\n                    this._online = value;\n\n                    if (value) {\n                        return this.sync();\n                    }\n                }\n\n                return $.Deferred().resolve().promise();\n            } else {\n                return this._online;\n            }\n        },\n\n        offlineData: function(state) {\n            if (this.options.offlineStorage == null) {\n                return null;\n            }\n\n            if (state !== undefined) {\n                return this._storage.setItem(state);\n            }\n\n            return this._storage.getItem() || [];\n        },\n\n        _isServerGrouped: function() {\n            var group = this.group() || [];\n\n            return this.options.serverGrouping && group.length;\n        },\n\n        _isServerGroupPaged: function(){\n            return this._isServerGrouped() && this._groupPaging;\n        },\n\n        _isGroupPaged: function(){\n            var group = this._group || [];\n\n            return this._groupPaging && group.length;\n        },\n\n        _pushCreate: function(result) {\n            this._push(result, \"pushCreate\");\n        },\n\n        _pushUpdate: function(result) {\n            this._push(result, \"pushUpdate\");\n        },\n\n        _pushDestroy: function(result) {\n            this._push(result, \"pushDestroy\");\n        },\n\n        _push: function(result, operation) {\n            var data = this._readData(result);\n\n            if (!data) {\n                data = result;\n            }\n\n            this[operation](data);\n        },\n\n        _flatData: function(data, skip) {\n            if (data) {\n                if (this._isServerGrouped()) {\n                    return flattenGroups(data);\n                }\n\n                if (!skip) {\n                    for (var idx = 0; idx < data.length; idx++) {\n                        data.at(idx);\n                    }\n                }\n            }\n\n            return data;\n        },\n\n        parent: noop,\n\n        get: function(id) {\n            var idx, length, data = this._flatData(this._data, this.options.useRanges);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if (data[idx].id == id) {\n                    return data[idx];\n                }\n            }\n        },\n\n        getByUid: function(id) {\n            return this._getByUid(id, this._data);\n        },\n\n        _getByUid: function(id, dataItems) {\n            var idx, length, data = this._flatData(dataItems, this.options.useRanges);\n\n            if (!data) {\n                return;\n            }\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if (data[idx].uid == id) {\n                    return data[idx];\n                }\n            }\n        },\n\n        indexOf: function(model) {\n            return indexOfModel(this._data, model);\n        },\n\n        at: function(index) {\n            return this._data.at(index);\n        },\n\n        data: function(value) {\n            var that = this;\n            if (value !== undefined) {\n                that._detachObservableParents();\n                that._data = this._observe(value);\n\n                that._pristineData = value.slice(0);\n\n                that._storeData();\n\n                that._ranges = [];\n                that.trigger(\"reset\");\n                that._addRange(that._data);\n\n                that._total = that._data.length;\n                that._pristineTotal = that._total;\n\n                that._process(that._data);\n            } else {\n                if (that._data) {\n                    for (var idx = 0; idx < that._data.length; idx++) {\n                        that._data.at(idx);\n                    }\n                }\n\n                return that._data;\n            }\n        },\n\n        view: function(value) {\n            if (value === undefined) {\n                return this._view;\n            } else {\n                this._view = this._observeView(value);\n            }\n        },\n\n        _observeView: function(data) {\n            var that = this;\n            replaceWithObservable(data, that._data, that._ranges, that.reader.model || ObservableObject, that._isServerGrouped());\n\n            var view = new LazyObservableArray(data, that.reader.model);\n            view.parent = function() { return that.parent(); };\n            return view;\n        },\n\n        flatView: function() {\n            var groups = this.group() || [];\n\n            if (groups.length) {\n                return flattenGroups(this._view);\n            } else {\n                return this._view;\n            }\n        },\n\n        add: function(model) {\n            return this.insert(this._data.length, model);\n        },\n\n        _createNewModel: function(model) {\n            if (this.reader.model) {\n                return new this.reader.model(model);\n            }\n\n            if (model instanceof ObservableObject) {\n                return model;\n            }\n\n            return new ObservableObject(model);\n        },\n\n        insert: function(index, model) {\n            if (!model) {\n                model = index;\n                index = 0;\n            }\n\n            if (!(model instanceof Model)) {\n                model = this._createNewModel(model);\n            }\n\n            if (this._isServerGrouped()) {\n                this._data.splice(index, 0, this._wrapInEmptyGroup(model));\n            } else {\n                this._data.splice(index, 0, model);\n            }\n\n            this._insertModelInRange(index, model);\n\n            return model;\n        },\n\n        pushInsert: function(index, items) {\n            var that = this;\n            var rangeSpan = that._getCurrentRangeSpan();\n\n            if (!items) {\n                items = index;\n                index = 0;\n            }\n\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var pushed = [];\n            var autoSync = this.options.autoSync;\n            this.options.autoSync = false;\n\n            try {\n                for (var idx = 0; idx < items.length; idx ++) {\n                    var item = items[idx];\n\n                    var result = this.insert(index, item);\n\n                    pushed.push(result);\n\n                    var pristine = result.toJSON();\n\n                    if (this._isServerGrouped()) {\n                        pristine = this._wrapInEmptyGroup(pristine);\n                    }\n\n                    this._pristineData.push(pristine);\n\n                    if (rangeSpan && rangeSpan.length) {\n                        $(rangeSpan).last()[0].pristineData.push(pristine);\n                    }\n\n                    index++;\n                }\n            } finally {\n                this.options.autoSync = autoSync;\n            }\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"create\",\n                    items: pushed\n                });\n            }\n        },\n\n        pushCreate: function(items) {\n            this.pushInsert(this._data.length, items);\n        },\n\n        pushUpdate: function(items) {\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var pushed = [];\n\n            for (var idx = 0; idx < items.length; idx ++) {\n                var item = items[idx];\n                var model = this._createNewModel(item);\n\n                var target = this.get(model.id);\n\n                if (target) {\n                    pushed.push(target);\n\n                    target.accept(item);\n\n                    target.trigger(CHANGE);\n\n                    this._updatePristineForModel(target, item);\n                } else {\n                    this.pushCreate(item);\n                }\n            }\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"update\",\n                    items: pushed\n                });\n            }\n        },\n\n        pushDestroy: function(items) {\n            var pushed = this._removeItems(items);\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"destroy\",\n                    items: pushed\n                });\n            }\n        },\n\n        _removeItems: function(items, removePristine) {\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var shouldRemovePristine = typeof removePristine !== \"undefined\" ? removePristine : true;\n\n            var destroyed = [];\n            var autoSync = this.options.autoSync;\n            this.options.autoSync = false;\n            try {\n                for (var idx = 0; idx < items.length; idx ++) {\n                    var item = items[idx];\n                    var model = this._createNewModel(item);\n                    var found = false;\n\n                    this._eachItem(this._data, function(items){\n                        for (var idx = 0; idx < items.length; idx++) {\n                            var item = items.at(idx);\n                            if (item.id === model.id) {\n                                destroyed.push(item);\n                                items.splice(idx, 1);\n                                found = true;\n                                break;\n                            }\n                        }\n                    });\n\n                    if (found && shouldRemovePristine) {\n                        this._removePristineForModel(model);\n                        this._destroyed.pop();\n                    }\n                }\n            } finally {\n                this.options.autoSync = autoSync;\n            }\n\n            return destroyed;\n        },\n\n        pushMove: function(index, items) {\n            var pushed = this._moveItems(index, items);\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"update\",\n                    items: pushed\n                });\n            }\n        },\n\n        _moveItems: function (index, items) {\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var moved = [];\n            var autoSync = this.options.autoSync;\n            this.options.autoSync = false;\n\n            try {\n                for (var i = 0; i < items.length; i ++) {\n                    var item = items[i];\n                    var model = this._createNewModel(item);\n\n                    this._eachItem(this._data, function(dataItems){\n                        for (var idx = 0; idx < dataItems.length; idx++) {\n                            var dataItem = dataItems.at(idx);\n                            if (dataItem.id === model.id) {\n                                moved.push(dataItem);\n                                dataItems.splice(index >= idx ? --index : index, 0, dataItems.splice(idx, 1)[0]);\n                                index++;\n                                break;\n                            }\n                        }\n                    });\n                }\n            } finally {\n                this.options.autoSync = autoSync;\n            }\n\n            return moved;\n        },\n\n        remove: function(model) {\n            var result,\n                that = this,\n                hasGroups = that._isServerGrouped();\n\n            if (hasGroups && model.uid && (!model.isNew || !model.isNew())) {\n                that._destroyed.push(model);\n            }\n\n            this._eachItem(that._data, function(items) {\n                result = removeModel(items, model);\n\n                if (result && hasGroups) {\n                    return true;\n                }\n            });\n\n            this._removeModelFromRanges(model);\n\n            return model;\n        },\n\n        destroyed: function() {\n            return this._destroyed;\n        },\n\n        created: function() {\n            var idx,\n                length,\n                result = [],\n                data = this._flatData(this._data, this.options.useRanges);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if (data[idx].isNew && data[idx].isNew()) {\n                    result.push(data[idx]);\n                }\n            }\n            return result;\n        },\n\n        updated: function() {\n            var idx,\n                length,\n                result = [],\n                data = this._flatData(this._data, this.options.useRanges);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if ((data[idx].isNew && !data[idx].isNew()) && data[idx].dirty) {\n                    result.push(data[idx]);\n                }\n            }\n            return result;\n        },\n\n        sync: function() {\n            var that = this,\n                created = [],\n                updated = [],\n                destroyed = that._destroyed;\n\n            var promise = $.Deferred().resolve().promise();\n\n            if (that.online()) {\n\n                if (!that.reader.model) {\n                    return promise;\n                }\n\n                created = that.created();\n                updated = that.updated();\n\n                var promises = [];\n\n                if (that.options.batch && that.transport.submit) {\n                    promises = that._sendSubmit(created, updated, destroyed);\n                } else {\n                    promises.push.apply(promises, that._send(\"create\", created));\n                    promises.push.apply(promises, that._send(\"update\", updated));\n                    promises.push.apply(promises, that._send(\"destroy\", destroyed));\n                }\n\n                promise = $.when\n                 .apply(null, promises)\n                 .then(function() {\n                    var idx, length;\n\n                    for (idx = 0, length = arguments.length; idx < length; idx++){\n                        if (arguments[idx]) {\n                            that._accept(arguments[idx]);\n                        }\n                    }\n\n                    that._storeData(true);\n\n                    that._syncEnd();\n\n                    that._change({ action: \"sync\" });\n\n                    that.trigger(SYNC);\n\n                    if (that._isServerGroupPaged()) {\n                        that.read();\n                    }\n                });\n            } else {\n                that._storeData(true);\n\n                that._syncEnd();\n\n                that._change({ action: \"sync\" });\n            }\n\n            return promise;\n        },\n\n        _syncEnd: noop,\n\n        cancelChanges: function(model) {\n            var that = this;\n\n            if (model instanceof kendo.data.Model) {\n                that._cancelModel(model);\n            } else {\n                that._destroyed = [];\n                that._detachObservableParents();\n                that._data = that._observe(that._pristineData);\n                if (that.options.serverPaging) {\n                    that._total = that._pristineTotal;\n                }\n\n                that._ranges = [];\n                that._addRange(that._data, 0);\n\n                that._changesCanceled();\n\n                that._change();\n\n                that._markOfflineUpdatesAsDirty();\n\n                if (that._isServerGrouped()) {\n                    that.read();\n                }\n            }\n        },\n\n        _changesCanceled: noop,\n\n        _markOfflineUpdatesAsDirty: function() {\n            var that = this;\n\n            if (that.options.offlineStorage != null) {\n                that._eachItem(that._data, function(items) {\n                    for (var idx = 0; idx < items.length; idx++) {\n                        var item = items.at(idx);\n                        if (item.__state__ == \"update\" || item.__state__ == \"create\") {\n                            item.dirty = true;\n                        }\n                    }\n                });\n            }\n        },\n\n        hasChanges: function() {\n            var idx,\n                length,\n                data = this._flatData(this._data, this.options.useRanges);\n\n            if (this._destroyed.length) {\n                return true;\n            }\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if ((data[idx].isNew && data[idx].isNew()) || data[idx].dirty) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        _accept: function(result) {\n            var that = this,\n                models = result.models,\n                response = result.response,\n                idx = 0,\n                serverGroup = that._isServerGrouped(),\n                pristine = that._pristineData,\n                type = result.type,\n                length;\n\n            that.trigger(REQUESTEND, { response: response, type: type });\n\n            if (response && !isEmptyObject(response)) {\n                response = that.reader.parse(response);\n\n                if (that._handleCustomErrors(response)) {\n                    return;\n                }\n\n                response = that.reader.data(response);\n\n                if (!isArray(response)) {\n                    response = [response];\n                }\n            } else {\n                response = $.map(models, function(model) { return model.toJSON(); } );\n            }\n\n            if (type === \"destroy\") {\n                that._destroyed = [];\n            }\n\n            for (idx = 0, length = models.length; idx < length; idx++) {\n                if (type !== \"destroy\") {\n                    models[idx].accept(response[idx]);\n\n                    if (type === \"create\") {\n                        pristine.push(serverGroup ? that._wrapInEmptyGroup(models[idx].toJSON()) : response[idx]);\n                    } else if (type === \"update\") {\n                        that._updatePristineForModel(models[idx], response[idx]);\n                    }\n                } else {\n                    that._removePristineForModel(models[idx]);\n                }\n            }\n        },\n\n        _updatePristineForModel: function(model, values) {\n            this._executeOnPristineForModel(model, function(index, items) {\n                kendo.deepExtend(items[index], values);\n            });\n        },\n\n        _executeOnPristineForModel: function(model, callback) {\n            this._eachPristineItem(\n                function(items) {\n                    var index = indexOfPristineModel(items, model);\n                    if (index > -1) {\n                        callback(index, items);\n                        return true;\n                    }\n                });\n        },\n\n        _removePristineForModel: function(model) {\n            this._executeOnPristineForModel(model, function(index, items) {\n                items.splice(index, 1);\n            });\n        },\n\n        _readData: function(data) {\n            var read = !this._isServerGrouped() ? this.reader.data : this.reader.groups;\n            return read.call(this.reader, data);\n        },\n\n        _eachPristineItem: function(callback) {\n            var that = this;\n            var options = that.options;\n            var rangeSpan = that._getCurrentRangeSpan();\n\n            that._eachItem(that._pristineData, callback);\n\n            if (options.serverPaging && options.useRanges) {\n                each(rangeSpan, function(i, range) {\n                    that._eachItem(range.pristineData, callback);\n                });\n            }\n        },\n\n       _eachItem: function(data, callback) {\n            if (data && data.length) {\n                if (this._isServerGrouped()) {\n                    eachGroupItems(data, callback);\n                } else {\n                    callback(data);\n                }\n            }\n        },\n\n        _pristineForModel: function(model) {\n            var pristine,\n                idx,\n                callback = function(items) {\n                    idx = indexOfPristineModel(items, model);\n                    if (idx > -1) {\n                        pristine = items[idx];\n                        return true;\n                    }\n                };\n\n            this._eachPristineItem(callback);\n\n            return pristine;\n        },\n\n        _cancelModel: function(model) {\n            var that = this;\n            var pristine = this._pristineForModel(model);\n\n            this._eachItem(this._data, function(items) {\n                var idx = indexOfModel(items, model);\n                if (idx >= 0) {\n                    if (pristine && (!model.isNew() || pristine.__state__)) {\n                        items[idx].accept(pristine);\n\n                        if (pristine.__state__ == \"update\") {\n                            items[idx].dirty = true;\n                        }\n\n                    } else {\n                        that._modelCanceled(model);\n\n                        items.splice(idx, 1);\n\n                        that._removeModelFromRanges(model);\n                    }\n                }\n            });\n        },\n\n        _modelCanceled: noop,\n\n        _submit: function(promises, data) {\n            var that = this;\n\n            that.trigger(REQUESTSTART, { type: \"submit\" });\n\n            that.trigger(PROGRESS);\n\n            that.transport.submit(extend({\n                success: function(response, type) {\n                    var promise = $.grep(promises, function(x) {\n                        return x.type == type;\n                    })[0];\n\n                    if (promise) {\n                        promise.resolve({\n                            response: response,\n                            models: promise.models,\n                            type: type\n                        });\n                    }\n                },\n                error: function(response, status, error) {\n                    for (var idx = 0; idx < promises.length; idx++) {\n                        promises[idx].reject(response);\n                    }\n\n                    that.error(response, status, error);\n                }\n            }, data));\n        },\n\n        _sendSubmit: function(created, updated, destroyed) {\n            var that = this,\n                promises = [];\n\n            if (that.options.batch) {\n                if (created.length) {\n                    promises.push($.Deferred(function(deferred) {\n                        deferred.type = \"create\";\n                        deferred.models = created;\n                    }));\n                }\n\n                if (updated.length) {\n                    promises.push($.Deferred(function(deferred) {\n                        deferred.type = \"update\";\n                        deferred.models = updated;\n                    }));\n                }\n\n                if (destroyed.length) {\n                    promises.push($.Deferred(function(deferred) {\n                        deferred.type = \"destroy\";\n                        deferred.models = destroyed;\n                    }));\n                }\n\n                that._submit(promises, {\n                    data: {\n                        created: that.reader.serialize(toJSON(created)),\n                        updated: that.reader.serialize(toJSON(updated)),\n                        destroyed: that.reader.serialize(toJSON(destroyed))\n                    }\n                });\n            }\n\n            return promises;\n        },\n\n        _promise: function(data, models, type) {\n            var that = this;\n\n            return $.Deferred(function(deferred) {\n                that.trigger(REQUESTSTART, { type: type });\n\n                that.trigger(PROGRESS);\n\n                that.transport[type].call(that.transport, extend({\n                    success: function(response) {\n                        deferred.resolve({\n                            response: response,\n                            models: models,\n                            type: type\n                        });\n                    },\n                    error: function(response, status, error) {\n                        deferred.reject(response);\n                        that.error(response, status, error);\n                    }\n                }, data));\n            }).promise();\n        },\n\n        _send: function(method, data) {\n            var that = this,\n                idx,\n                length,\n                promises = [],\n                converted = that.reader.serialize(toJSON(data));\n\n            if (that.options.batch) {\n                if (data.length) {\n                    promises.push(that._promise( { data: { models: converted } }, data , method));\n                }\n            } else {\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    promises.push(that._promise( { data: converted[idx] }, [ data[idx] ], method));\n                }\n            }\n\n            return promises;\n        },\n\n        read: function(data) {\n            var that = this, params = that._params(data);\n            var deferred = $.Deferred();\n\n            that._queueRequest(params, function() {\n                var isPrevented = that.trigger(REQUESTSTART, { type: \"read\" });\n                if (!isPrevented) {\n                    that.trigger(PROGRESS);\n\n                    that._ranges = [];\n                    that.trigger(\"reset\");\n                    if (that.online()) {\n                        that.transport.read({\n                            data: params,\n                            success: function(data) {\n                                that._ranges = [];\n                                that.success(data, params);\n\n                                deferred.resolve();\n                            },\n                            error: function() {\n                                var args = slice.call(arguments);\n\n                                that.error.apply(that, args);\n\n                                deferred.reject.apply(deferred, args);\n                            }\n                        });\n                    } else if (that.options.offlineStorage != null){\n                        that.success(that.offlineData(), params);\n\n                        deferred.resolve();\n                    }\n                } else {\n                    that._dequeueRequest();\n\n                    deferred.resolve(isPrevented);\n                }\n            });\n\n            return deferred.promise();\n        },\n\n        _readAggregates: function(data) {\n            return this.reader.aggregates(data);\n        },\n\n        success: function(data) {\n            var that = this,\n                options = that.options,\n                items,\n                replaceSubset;\n\n            that.trigger(REQUESTEND, { response: data, type: \"read\" });\n\n            if (that.online()) {\n                data = that.reader.parse(data);\n\n                if (that._handleCustomErrors(data)) {\n                    that._dequeueRequest();\n                    return;\n                }\n\n                that._total = that.reader.total(data);\n\n                if (that._isServerGroupPaged()) {\n                    that._serverGroupsTotal = that._total;\n                }\n\n                if (that._pageSize > that._total) {\n                    that._pageSize = that._total;\n                    if (that.options.pageSize && that.options.pageSize > that._pageSize) {\n                        that._pageSize = that.options.pageSize;\n                    }\n                }\n\n                if (that._aggregate && options.serverAggregates) {\n                    that._aggregateResult = that._readAggregates(data);\n                }\n\n                data = that._readData(data);\n\n                that._destroyed = [];\n            } else {\n                data = that._readData(data);\n\n                items = [];\n                var itemIds = {};\n                var model = that.reader.model;\n                var idField = model ? model.idField : \"id\";\n                var idx;\n\n                for (idx = 0; idx < this._destroyed.length; idx++) {\n                    var id = this._destroyed[idx][idField];\n                    itemIds[id] = id;\n                }\n\n                for (idx = 0; idx < data.length; idx++) {\n                    var item = data[idx];\n                    var state = item.__state__;\n                    if (state == \"destroy\") {\n                        if (!itemIds[item[idField]]) {\n                            this._destroyed.push(this._createNewModel(item));\n                        }\n                    } else {\n                        items.push(item);\n                    }\n                }\n\n                data = items;\n\n                that._total = data.length;\n            }\n\n            that._pristineTotal = that._total;\n            replaceSubset = that._skip && that._data.length && that._skip < that._data.length;\n\n            if (that.options.endless) {\n                if (replaceSubset) {\n                    that._pristineData.splice(that._skip, that._pristineData.length);\n                }\n                items = data.slice(0);\n                for (var j = 0; j < items.length; j++) {\n                    that._pristineData.push(items[j]);\n                }\n            } else {\n                that._pristineData = data.slice(0);\n            }\n\n            that._detachObservableParents();\n\n            if (that.options.endless) {\n                that._data.unbind(CHANGE, that._changeHandler);\n\n                if (that._isServerGrouped() && that._data[that._data.length - 1].value === data[0].value) {\n                    fillLastGroup(that._data[that._data.length - 1], data[0]);\n                    data.shift();\n                }\n\n                data = that._observe(data);\n                if (replaceSubset) {\n                    that._data.splice(that._skip, that._data.length);\n                }\n                for (var i = 0; i < data.length; i++) {\n                    that._data.push(data[i]);\n                }\n                that._data.bind(CHANGE, that._changeHandler);\n            } else {\n                that._data = that._observe(data);\n            }\n\n            that._markOfflineUpdatesAsDirty();\n\n            that._storeData();\n\n            that._addRange(that._data);\n\n            that._process(that._data);\n\n            that._dequeueRequest();\n        },\n\n        _detachObservableParents: function() {\n            if (this._data && this._shouldDetachObservableParents) {\n                for (var idx = 0; idx < this._data.length; idx++) {\n                    if (this._data[idx].parent) {\n                        this._data[idx].parent = noop;\n                    }\n                }\n            }\n        },\n\n        _storeData: function(updatePristine) {\n            var serverGrouping = this._isServerGrouped();\n            var model = this.reader.model;\n\n            function items(data) {\n                var state = [];\n\n                for (var idx = 0; idx < data.length; idx++) {\n                    var dataItem = data.at(idx);\n                    var item = dataItem.toJSON();\n\n                    if (serverGrouping && dataItem.items) {\n                        item.items = items(dataItem.items);\n                    } else {\n                        item.uid = dataItem.uid;\n\n                        if (model) {\n                            if (dataItem.isNew()) {\n                                item.__state__ = \"create\";\n                            } else if (dataItem.dirty) {\n                                item.__state__ = \"update\";\n                            }\n                        }\n                    }\n                    state.push(item);\n                }\n\n                return state;\n            }\n\n            if (this.options.offlineStorage != null) {\n                var state = items(this._data);\n\n                var destroyed = [];\n\n                for (var idx = 0; idx < this._destroyed.length; idx++) {\n                    var item = this._destroyed[idx].toJSON();\n                    item.__state__ = \"destroy\";\n                    destroyed.push(item);\n                }\n\n                this.offlineData(state.concat(destroyed));\n\n                if (updatePristine) {\n                    this._pristineData = this.reader.reader ? this.reader.reader._wrapDataAccessBase(state) : this.reader._wrapDataAccessBase(state);\n                }\n            }\n        },\n\n        _addRange: function (data, skip) {\n            var that = this,\n                start = typeof (skip) !== \"undefined\" ? skip : (that._skip || 0),\n                end,\n                range = {\n                    data: data,\n                    pristineData: data.toJSON(),\n                    timestamp: that._timeStamp()\n                };\n\n            if (this._isGroupPaged()) {\n                end = start + data.length;\n                range.outerStart = start;\n                range.outerEnd = end;\n            } else {\n                end = start + that._flatData(data, true).length;\n            }\n\n            range.start = start;\n            range.end = end;\n            that._ranges.push(range);\n            that._sortRanges();\n\n            if (that._isGroupPaged()) {\n                if (!that._groupsFlat) {\n                    that._groupsFlat = [];\n                }\n                that._appendToGroupsFlat(range.data);\n                that._updateOuterRangesLength();\n            }\n        },\n\n        _appendToGroupsFlat: function (data) {\n            var length = data.length;\n\n            for (var i = 0; i < length; i++) {\n                this._groupsFlat.push(data[i]);\n            }\n        },\n\n        _getGroupByUid: function(uid){\n            var length = this._groupsFlat.length;\n            var group;\n\n            for (var i = 0; i < length; i++) {\n                group = this._groupsFlat[i];\n                if (group.uid === uid) {\n                    return group;\n                }\n            }\n        },\n\n        _sortRanges: function() {\n            this._ranges.sort(function(x, y) {\n                return x.start - y.start;\n            });\n        },\n\n        error: function(xhr, status, errorThrown) {\n            this._dequeueRequest();\n            this.trigger(REQUESTEND, { });\n            this.trigger(ERROR, { xhr: xhr, status: status, errorThrown: errorThrown });\n        },\n\n        _params: function(data) {\n            var that = this,\n                options =  extend({\n                    take: that.take(),\n                    skip: that.skip(),\n                    page: that.page(),\n                    pageSize: that.pageSize(),\n                    sort: that._sort,\n                    filter: that._filter,\n                    group: that._group,\n                    aggregate: that._aggregate,\n                    groupPaging: !!that._groupPaging\n                }, data);\n\n            if (!that.options.serverPaging) {\n                delete options.take;\n                delete options.skip;\n                delete options.page;\n                delete options.pageSize;\n            }\n\n            if (!that.options.serverGrouping) {\n                delete options.group;\n            } else if (that.reader.model && options.group) {\n                options.group = convertDescriptorsField(options.group, that.reader.model);\n            }\n\n            if (!that.options.serverFiltering) {\n                delete options.filter;\n            } else if (that.reader.model && options.filter) {\n               options.filter = convertFilterDescriptorsField(options.filter, that.reader.model);\n            }\n\n            if (!that.options.serverSorting) {\n                delete options.sort;\n            } else if (that.reader.model && options.sort) {\n                options.sort = convertDescriptorsField(options.sort, that.reader.model);\n            }\n\n            if (!that.options.serverAggregates) {\n                delete options.aggregate;\n            } else if (that.reader.model && options.aggregate) {\n                options.aggregate = convertDescriptorsField(options.aggregate, that.reader.model);\n            }\n\n            if (!that.options.groupPaging) {\n                delete options.groupPaging;\n            }\n\n            return options;\n        },\n\n        _queueRequest: function(options, callback) {\n            var that = this;\n            if (!that._requestInProgress) {\n                that._requestInProgress = true;\n                that._pending = undefined;\n                callback();\n            } else {\n                that._pending = { callback: proxy(callback, that), options: options };\n            }\n        },\n\n        _dequeueRequest: function() {\n            var that = this;\n            that._requestInProgress = false;\n            if (that._pending) {\n                that._queueRequest(that._pending.options, that._pending.callback);\n            }\n        },\n\n        _handleCustomErrors: function(response) {\n            if (this.reader.errors) {\n                var errors = this.reader.errors(response);\n                if (errors) {\n                    this.trigger(ERROR, { xhr: null, status: \"customerror\", errorThrown: \"custom error\", errors: errors });\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        _shouldWrap: function(data) {\n            var model = this.reader.model;\n\n            if (model && data.length) {\n                return !(data[0] instanceof model);\n            }\n\n            return false;\n        },\n\n        _observe: function(data) {\n            var that = this,\n                model = that.reader.model;\n\n            that._shouldDetachObservableParents = true;\n\n            if (data instanceof ObservableArray) {\n                that._shouldDetachObservableParents = false;\n                if (that._shouldWrap(data)) {\n                    data.type = that.reader.model;\n                    data.wrapAll(data, data);\n                }\n            } else {\n                var arrayType = that.pageSize() && !that.options.serverPaging ? LazyObservableArray : ObservableArray;\n                data = new arrayType(data, that.reader.model);\n                data.parent = function() { return that.parent(); };\n            }\n\n            if (that._isServerGrouped()) {\n                wrapGroupItems(data, model);\n            }\n\n            if (that._changeHandler && that._data && that._data instanceof ObservableArray &&\n                !(that.options.useRanges && that.options.serverPaging)) {\n                that._data.unbind(CHANGE, that._changeHandler);\n            } else {\n                that._changeHandler = proxy(that._change, that);\n            }\n\n            return data.bind(CHANGE, that._changeHandler);\n        },\n\n        _updateTotalForAction: function(action, items) {\n            var that = this;\n\n            var total = parseInt(that._total, 10);\n\n            if (!isNumber(that._total)) {\n                total = parseInt(that._pristineTotal, 10);\n            }\n            if (action === \"add\") {\n                total += items.length;\n            } else if (action === \"remove\") {\n                total -= items.length;\n            } else if (action !== \"itemchange\" && action !== \"sync\" && !that.options.serverPaging) {\n                total = that._pristineTotal;\n            } else if (action === \"sync\") {\n                total = that._pristineTotal = parseInt(that._total, 10);\n            }\n\n            that._total = total;\n        },\n\n        _change: function(e) {\n            var that = this, idx, length, action = e ? e.action : \"\";\n\n            if (action === \"remove\") {\n                for (idx = 0, length = e.items.length; idx < length; idx++) {\n                    if (!e.items[idx].isNew || !e.items[idx].isNew()) {\n                        that._destroyed.push(e.items[idx]);\n                    }\n                }\n            }\n\n            if (that.options.autoSync && (action === \"add\" || action === \"remove\" || action === \"itemchange\")) {\n\n                var handler = function(args) {\n                    if (args.action === \"sync\") {\n                        that.unbind(\"change\", handler);\n                        that._updateTotalForAction(action, e.items);\n                    }\n                };\n\n                that.first(\"change\", handler);\n\n                that.sync();\n\n            } else {\n                that._updateTotalForAction(action, e ? e.items : []);\n\n                that._process(that._data, e);\n            }\n        },\n\n        _calculateAggregates: function (data, options) {\n            options = options || {};\n\n            var query = new Query(data),\n                aggregates = options.aggregate,\n                filter = options.filter;\n\n            if (filter) {\n                query = query.filter(filter);\n            }\n\n            return query.aggregate(aggregates);\n        },\n\n        _process: function (data, e) {\n            var that = this,\n                options = {},\n                result;\n\n            if (that.options.serverPaging !== true) {\n                options.skip = that._skip;\n                options.take = that._take || that._pageSize;\n\n                if(options.skip === undefined && that._page !== undefined && that._pageSize !== undefined) {\n                    options.skip = (that._page - 1) * that._pageSize;\n                }\n\n                if (that.options.useRanges) {\n                    options.skip = that.currentRangeStart();\n                }\n            }\n\n            if (that.options.serverSorting !== true) {\n                options.sort = that._sort;\n            }\n\n            if (that.options.serverFiltering !== true) {\n                options.filter = that._filter;\n            }\n\n            if (that.options.serverGrouping !== true) {\n                options.group = that._group;\n            }\n\n            if (that.options.serverAggregates !== true) {\n                options.aggregate = that._aggregate;\n            }\n\n            if (that.options.serverGrouping) {\n                that._clearEmptyGroups(data);\n            }\n\n            options.groupPaging = that._groupPaging;\n\n            if (that._isGroupPaged() && e && (e.action === \"page\" || e.action === \"expandGroup\" || e.action === \"collapseGroup\")) {\n                result = that._queryProcess(data, {\n                    aggregate: that._aggregate\n                });\n            } else {\n                result = that._queryProcess(data, options);\n            }\n\n            if (that.options.serverAggregates !== true) {\n                // for performance reasons, calculate aggregates for part of the data only after query process\n                // this is necessary in the TreeList when paging\n                that._aggregateResult = that._calculateAggregates(result.dataToAggregate || data, options);\n            }\n\n            that._setView(result, options, e);\n\n            that._setFilterTotal(result.total, false);\n\n            e = e || {};\n\n            e.items = e.items || that._view;\n\n            that.trigger(CHANGE, e);\n        },\n\n        _setView: function (result, options, e) {\n            var that = this;\n\n            if (that._isGroupPaged() && !that._isServerGrouped()) {\n                if (e && (e.action === \"page\" || e.action === \"expandGroup\" || e.action === \"collapseGroup\")) {\n                    that.view(result.data);\n                    that._updateOuterRangesLength();\n                } else {\n                    that._ranges = [];\n                    var query = new Query(result.data);\n                    that._addRange(that._observe(result.data));\n\n                    if (options.skip + options.take > result.data.length) {\n                        options.skip = result.data.length - options.take;\n                    }\n\n                    that.view(query.range(options.skip, options.take).toArray());\n                }\n\n            } else {\n                that.view(result.data);\n            }\n        },\n\n        _clearEmptyGroups: function(data) {\n            for (var idx = data.length - 1; idx >=0; idx--) {\n                var group = data[idx];\n                if (group.hasSubgroups) {\n                    this._clearEmptyGroups(group.items);\n                } else {\n                    if (group.items && !group.items.length) {\n                        splice.apply(group.parent(), [idx, 1]);\n                    }\n                }\n            }\n        },\n\n        _queryProcess: function(data, options) {\n            if (this.options.inPlaceSort) {\n                return Query.process(data, options, this.options.inPlaceSort);\n            }\n            else {\n                return Query.process(data, options);\n            }\n        },\n\n        _mergeState: function(options) {\n            var that = this;\n\n            if (options !== undefined) {\n                that._pageSize = options.pageSize;\n                that._page = options.page;\n                that._sort = options.sort;\n                that._filter = options.filter;\n                that._group = options.group;\n                that._aggregate = options.aggregate;\n                that._skip = that._currentRangeStart = options.skip;\n                that._take = options.take;\n\n                if(that._skip === undefined) {\n                    that._skip = that._currentRangeStart = that.skip();\n                    options.skip = that.skip();\n                }\n\n                if(that._take === undefined && that._pageSize !== undefined) {\n                    that._take = that._pageSize;\n                    options.take = that._take;\n                }\n\n                if (options.sort) {\n                    that._sort = options.sort = normalizeSort(options.sort);\n                    that._sortFields = sortFields(options.sort);\n                }\n\n                if (options.filter) {\n                    that._filter = options.filter = (that.options.accentFoldingFiltering && !$.isEmptyObject(options.filter)) ? $.extend({}, normalizeFilter(options.filter), { accentFoldingFiltering: that.options.accentFoldingFiltering}) : normalizeFilter(options.filter);\n                }\n\n                if (options.group) {\n                    that._group = options.group = normalizeGroup(options.group);\n                }\n                if (options.aggregate) {\n                    that._aggregate = options.aggregate = normalizeAggregate(options.aggregate);\n                }\n            }\n            return options;\n        },\n\n        query: function(options) {\n            var result;\n            var remote = this.options.serverSorting || this.options.serverPaging || this.options.serverFiltering || this.options.serverGrouping || this.options.serverAggregates;\n\n            if (remote || ((this._data === undefined || this._data.length === 0) && !this._destroyed.length)) {\n                if (this.options.endless) {\n                    var moreItemsCount = options.pageSize - this.pageSize();\n                    if (moreItemsCount > 0) {\n                        moreItemsCount = this.pageSize();\n                        options.page = options.pageSize / moreItemsCount;\n                        options.pageSize = moreItemsCount;\n                    } else {\n                        options.page = 1;\n                        this.options.endless = false;\n                    }\n                }\n                return this.read(this._mergeState(options));\n            }\n\n            var isPrevented = this.trigger(REQUESTSTART, { type: \"read\" });\n            if (!isPrevented) {\n                this.trigger(PROGRESS);\n                if (options) {\n                    options.groupPaging = this._groupPaging;\n                }\n                result = this._queryProcess(this._data, this._mergeState(options));\n\n                this._setFilterTotal(result.total, true);\n\n                this._aggregateResult = this._calculateAggregates(result.dataToAggregate || this._data, options);\n                this._setView(result, options);\n                this.trigger(REQUESTEND, { type: \"read\" });\n                this.trigger(CHANGE, { items: result.data, action: options ? options.action : \"\" });\n            }\n\n            return $.Deferred().resolve(isPrevented).promise();\n        },\n\n        _hasExpandedSubGroups: function (group) {\n            var result = false;\n            var length = group.items ? group.items.length : 0;\n\n            if (!group.hasSubgroups) {\n                return false;\n            }\n\n            for (var i = 0; i < length; i++) {\n                if (this._groupsState[group.items[i].uid]) {\n                    result = true;\n                    break;\n                }\n            }\n            return result;\n        },\n\n        _findGroupedRange: function (data, result, options, parents, callback) {\n            var that = this;\n            var length = data.length;\n            var group;\n            var current;\n            var itemsLength;\n            var groupCount;\n            var itemsToSkip;\n\n            for (var i = 0; i < length; i++) {\n                group = data[i];\n\n                if (options.taken >= options.take) {\n                    break;\n                }\n\n                if (!that._getGroupByUid(group.uid)) {\n                    that._groupsFlat.push(group);\n                }\n\n                if (that._groupsState[group.uid]) {\n                    if (that._isServerGroupPaged()) {\n                       if (that._fetchGroupItems(group, options, parents, callback)) {\n                            that._fetchingGroupItems = true;\n                            return;\n                       }\n                       groupCount = (group.subgroupCount || group.itemCount) + 1;\n                       itemsToSkip = options.skip - options.skipped;\n                       if (!that._hasExpandedSubGroups(group) && itemsToSkip > groupCount) {\n                           options.skipped += groupCount;\n                           continue;\n                       }\n                    }\n\n                    if (options.includeParents && options.skipped < options.skip) {\n                        options.skipped++;\n                        group.excludeHeader = true;\n                    } else if (options.includeParents) {\n                        options.taken++;\n                        group.excludeHeader = false;\n                    }\n\n                    if (group.hasSubgroups && group.items && group.items.length) {\n                        group.currentItems = [];\n\n                        if (!parents) {\n                            parents = [];\n                        }\n                        parents.push(group);\n\n                        that._findGroupedRange(group.items, group.currentItems, options, parents, callback);\n                        parents.pop();\n\n                        if (group.currentItems.length || options.taken > 0) {\n                            result.push(group);\n                        } else {\n                            group.excludeHeader = false;\n                        }\n                    } else {\n                        current = [];\n                        itemsLength = group.items.length;\n\n                        for (var j = 0; j < itemsLength; j++) {\n                            if (options.skipped < options.skip) {\n                                options.skipped++;\n                                continue;\n                            }\n\n                            if (options.taken >= options.take) {\n                                break;\n                            }\n                            current.push(group.items[j]);\n                            options.taken++;\n                        }\n\n                        if (current.length || options.taken > 0) {\n                            group.currentItems = current;\n                            result.push(group);\n                        } else {\n                            group.excludeHeader = false;\n                        }\n                    }\n                } else {\n                    if (options.skipped < options.skip) {\n                        options.skipped++;\n                        continue;\n                    }\n                    result.push(group);\n                    options.taken++;\n                }\n            }\n        },\n\n        _expandedSubGroupItemsCount: function (group, end, includeCurrentItems) {\n            var that = this;\n            var result = 0;\n            var subGroup;\n            var endSpecified = typeof end === \"number\";\n            var length = endSpecified ? end : group.subgroupCount;\n            var temp;\n\n            if (!group.hasSubgroups) {\n                return result;\n            }\n\n            for (var i = 0; i < length; i++) {\n                subGroup = group.items[i];\n\n                if (!subGroup) {\n                    break;\n                }\n\n                if (subGroup.hasSubgroups && that._groupsState[group.uid]) {\n                    temp = that._expandedSubGroupItemsCount(subGroup, length, true);\n                    result += temp;\n\n                    if (endSpecified) {\n                        length -= temp;\n                    }\n                } else if (!subGroup.hasSubgroups && that._groupsState[subGroup.uid]) {\n                    temp = subGroup.items ? subGroup.items.length : 0;\n                    result += temp;\n                    if (endSpecified) {\n                        length -= temp;\n                    }\n                }\n\n                if (includeCurrentItems) {\n                    result += 1;\n                    if (endSpecified) {\n                        length -= 1;\n                    }\n                }\n\n                if (endSpecified && result > length) {\n                    return result;\n                }\n            }\n\n            return result;\n        },\n\n        _fetchGroupItems: function(group, options, parents, callback) {\n            var that = this;\n            var groupItemsSkip;\n            var firstItem;\n            var lastItem;\n            var groupItemCount = group.hasSubgroups ? group.subgroupCount : group.itemCount;\n            var take = options.take;\n            var skipped = options.skipped;\n            var pageSize = that.take();\n            var expandedSubGroupItemsCount;\n\n            if (options.includeParents) {\n                if (skipped < options.skip) {\n                    skipped += 1;\n                } else {\n                    take -= 1;\n                }\n            }\n\n            if (!group.items || (group.items && !group.items.length)) {\n                that.getGroupItems(group, options, parents, callback, 0);\n                return true;\n            } else {\n                expandedSubGroupItemsCount = this._expandedSubGroupItemsCount(group, options.skip - skipped);\n                groupItemsSkip = Math.max(options.skip - (skipped + expandedSubGroupItemsCount), 0);\n\n                if (groupItemsSkip >= groupItemCount) {\n                    return false;\n                }\n\n                firstItem = group.items[groupItemsSkip];\n                lastItem = group.items[Math.min(groupItemsSkip + take, groupItemCount - 1)];\n\n                if (firstItem.notFetched) {\n                    that.getGroupItems(group, options, parents, callback, math.max(math.floor(groupItemsSkip / pageSize), 0) * pageSize, math.round((groupItemsSkip + pageSize) / pageSize));\n                    return true;\n                }\n\n                if (lastItem.notFetched) {\n                    that.getGroupItems(group, options, parents, callback, math.max(math.floor((groupItemsSkip + pageSize) / pageSize), 0) * pageSize, math.round((groupItemsSkip + pageSize) / pageSize));\n                    return true;\n                }\n            }\n        },\n\n        getGroupItems: function(group, options, parents, callback, groupItemsSkip, page) {\n            var that = this;\n            var take;\n            var filter;\n            var data;\n            var subgroups;\n\n            if (!group.items) {\n                group.items = [];\n            }\n\n            take = that.take();\n            filter = this._composeItemsFilter(group, parents);\n            data = {\n                page: page || 1,\n                pageSize: take,\n                skip: groupItemsSkip,\n                take: take,\n                filter: filter,\n                aggregate: that._aggregate,\n                sort: that._sort\n            };\n            subgroups = that.findSubgroups(group);\n\n            if (subgroups && subgroups.length) {\n                data.group = subgroups;\n                data.groupPaging = true;\n            }\n\n            clearTimeout(that._timeout);\n            that._timeout = setTimeout(function () {\n                that._queueRequest(data, function () {\n                    if (!that.trigger(REQUESTSTART, {\n                            type: \"read\"\n                        })) {\n                        that.transport.read({\n                            data: data,\n                            success: that._groupItemsSuccessHandler(group, options.skip, that.take(), callback, groupItemsSkip),\n                            error: function () {\n                                var args = slice.call(arguments);\n                                that.error.apply(that, args);\n                            }\n                        });\n                    } else {\n                        that._dequeueRequest();\n                    }\n                });\n            }, 100);\n        },\n\n        _groupItemsSuccessHandler: function(group, skip, take, callback, groupItemsSkip) {\n            var that = this;\n            var timestamp = that._timeStamp();\n            callback = isFunction(callback) ? callback : noop;\n            var totalField = that.options.schema && that.options.schema.total ? that.options.schema.total : \"Total\";\n\n            return function (data) {\n                var temp;\n                var model = Model.define(that.options.schema.model);\n                var totalCount;\n\n                that._dequeueRequest();\n\n                that.trigger(REQUESTEND, {\n                    response: data,\n                    type: \"read\"\n                });\n\n                if (isFunction(totalField)) {\n                    totalCount = totalField(data);\n                } else {\n                    totalCount = data[totalField];\n                }\n\n                data = that.reader.parse(data);\n\n                if (group.hasSubgroups) {\n                    temp = that.reader.groups(data);\n                    group.subgroupCount = totalCount;\n                } else {\n                    temp = that.reader.data(data);\n                    temp = temp.map(function (item) {\n                        return new model(item);\n                    });\n                }\n\n                group.items.omitChangeEvent = true;\n                for (var i = 0; i < totalCount; i++) {\n                    if (i >= groupItemsSkip && i < (groupItemsSkip + take) ) {\n                        group.items.splice(i, 1, temp[i - groupItemsSkip]);\n                    } else {\n                        if (!group.items[i]) {\n                            group.items.splice(i, 0, { notFetched: true });\n                        }\n                    }\n                }\n                group.items.omitChangeEvent = false;\n\n                that._updateRangePristineData(group);\n                that._fetchingGroupItems = false;\n\n                if (!group.countAdded) {\n                    that._serverGroupsTotal += totalCount;\n                    group.countAdded = true;\n                }\n\n                that.range(skip, take, callback, \"expandGroup\");\n\n                if (timestamp >= that._currentRequestTimeStamp || !that._skipRequestsInProgress) {\n                    that.trigger(CHANGE, {});\n                }\n            };\n        },\n\n        findSubgroups: function(group) {\n            var indexOfCurrentGroup = this._group.map(function (g) {\n                return g.field;\n            }).indexOf(group.field);\n\n            return this._group.slice(indexOfCurrentGroup + 1, this._group.length);\n        },\n\n        _composeItemsFilter: function(group, parents) {\n            var filter = this.filter() || {\n                logic: \"and\",\n                filters: []\n            };\n\n            filter = extend(true, {}, filter);\n            filter.filters.push({\n                field: group.field,\n                operator: \"eq\",\n                value: group.value\n            });\n\n            if (parents) {\n                for (var i = 0; i < parents.length; i++) {\n                    filter.filters.push({\n                        field: parents[i].field,\n                        operator: \"eq\",\n                        value: parents[i].value\n                    });\n                }\n            }\n\n            return filter;\n        },\n\n        _updateRangePristineData: function(group) {\n            var that = this;\n            var ranges = that._ranges;\n            var rangesLength = ranges.length;\n            var temp;\n            var currentGroup;\n            var range;\n            var dataLength;\n            var indexes;\n            var currIdx;\n\n            for (var i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n                dataLength = range.data.length;\n                indexes = [];\n                temp = null;\n\n                for (var j = 0; j < dataLength; j++) {\n                    currentGroup = range.data[j];\n                    indexes.push(j);\n\n                    if ((currentGroup.uid === group.uid) || (currentGroup.hasSubgroups && currentGroup.items.length && that._containsSubGroup(currentGroup, group, indexes))) {\n                        break;\n                    }\n                    indexes.pop();\n                }\n\n                if (indexes.length) {\n                    temp = ranges[i].pristineData;\n\n                    while (indexes.length > 1) {\n                        currIdx = indexes.splice(0, 1)[0];\n                        temp = temp[currIdx].items;\n                    }\n                    temp[indexes[0]] = that._cloneGroup(group);\n                    break;\n                }\n            }\n        },\n\n        _containsSubGroup: function(group, subgroup, indexes) {\n            var that = this;\n            var length = group.items.length;\n            var currentSubGroup;\n\n            if (group.hasSubgroups && length) {\n                for (var i = 0; i < length; i++) {\n                    currentSubGroup = group.items[i];\n                    indexes.push(i);\n                    if (currentSubGroup.uid === subgroup.uid) {\n                        return true;\n                    } else if (currentSubGroup.hasSubgroups && currentSubGroup.items.length) {\n                        return that._containsSubGroup(currentSubGroup, subgroup, indexes);\n                    }\n                    indexes.pop();\n                }\n            }\n\n        },\n\n        _cloneGroup: function(group) {\n            var that = this;\n            group = typeof group.toJSON == \"function\" ? group.toJSON() : group;\n\n            if (group.items && group.items.length) {\n                group.items = group.items.map(function (item) {\n                    return that._cloneGroup(item);\n                });\n            }\n\n            return group;\n        },\n\n        _setFilterTotal: function(filterTotal, setDefaultValue) {\n            var that = this;\n\n            if (!that.options.serverFiltering) {\n                if (filterTotal !== undefined) {\n                    that._total = filterTotal;\n                } else if (setDefaultValue) {\n                    that._total = that._data.length;\n                }\n            }\n        },\n\n        fetch: function(callback) {\n            var that = this;\n            var fn = function(isPrevented) {\n                if (isPrevented !== true && isFunction(callback)) {\n                    callback.call(that);\n                }\n            };\n\n            return this._query().done(fn);\n        },\n\n        _query: function(options) {\n            var that = this;\n\n            return that.query(extend({}, {\n                page: that.page(),\n                pageSize: that.pageSize(),\n                sort: that.sort(),\n                filter: that.filter(),\n                group: that.group(),\n                aggregate: that.aggregate()\n            }, options));\n        },\n\n        next: function(options) {\n            var that = this,\n                page = that.page(),\n                total = that.total();\n\n            options = options || {};\n\n            if (!page || (total && page + 1 > that.totalPages())) {\n                return;\n            }\n\n            that._skip = that._currentRangeStart = page * that.take();\n\n            page += 1;\n            options.page = page;\n\n            that._query(options);\n\n            return page;\n        },\n\n        prev: function(options) {\n            var that = this,\n                page = that.page();\n\n            options = options || {};\n\n            if (!page || page === 1) {\n                return;\n            }\n\n            that._skip = that._currentRangeStart = that._skip - that.take();\n\n            page -= 1;\n            options.page = page;\n\n            that._query(options);\n\n            return page;\n        },\n\n        page: function(val) {\n            var that = this,\n            skip;\n\n            if(val !== undefined) {\n                val = math.max(math.min(math.max(val, 1), that.totalPages()), 1);\n                var take = that.take();\n\n                if (that._isGroupPaged()) {\n                    val -= 1;\n                    that.range(val * take, take, null, \"page\");\n                    return;\n                }\n                that._query(that._pageableQueryOptions({ page: val }));\n                return;\n            }\n            skip = that.skip();\n\n            return skip !== undefined ? math.round((skip || 0) / (that.take() || 1)) + 1 : undefined;\n        },\n\n        pageSize: function(val) {\n            var that = this;\n\n            if (val !== undefined) {\n                that._query(that._pageableQueryOptions({ pageSize: val, page: 1 }));\n                return;\n            }\n\n            return that.take();\n        },\n\n        sort: function(val) {\n            var that = this;\n\n            if(val !== undefined) {\n                that.trigger(\"sort\");\n                that._query({ sort: val });\n                return;\n            }\n\n            return that._sort;\n        },\n\n        filter: function(val) {\n            var that = this;\n\n            if (val === undefined) {\n                return that._filter;\n            }\n\n            that.trigger(\"reset\");\n            that._query({ filter: val, page: 1 });\n        },\n\n        group: function(val) {\n            var that = this;\n            var options = { group: val };\n\n            if (that._groupPaging) {\n                // clear ranges if ungrouping is performed\n                if (val!== undefined && (!val || !val.length) ) {\n                    that._ranges = [];\n                }\n                options.page = 1;\n            }\n\n            if(val !== undefined) {\n                that._query(options);\n                return;\n            }\n\n            return that._group;\n        },\n\n        getGroupsFlat: function (data) {\n            var idx,\n                result = [],\n                length;\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                var group = data[idx];\n                if (group.hasSubgroups) {\n                    result = result.concat(this.getGroupsFlat(group.items));\n                }\n\n                result.push(group);\n            }\n\n            return result;\n        },\n\n        total: function() {\n            return parseInt(this._total || 0, 10);\n        },\n\n        groupsTotal: function (includeExpanded) {\n            var that = this;\n\n            if (!that._group.length) {\n                return that.total();\n            }\n\n            if (that._isServerGrouped()) {\n                if (that._serverGroupsTotal) {\n                    return that._serverGroupsTotal;\n                }\n                that._serverGroupsTotal = that.total();\n\n                return that._serverGroupsTotal;\n            }\n\n            return that._calculateGroupsTotal(that._ranges.length ? that._ranges[0].data : [], includeExpanded);\n        },\n\n        _calculateGroupsTotal: function (groups, includeExpanded, itemsField, ignoreState) {\n            var that = this;\n            itemsField = itemsField || \"items\";\n            var total;\n            var length;\n\n            if (that._group.length && groups) {\n                total = 0;\n                length = groups.length;\n\n                for (var i = 0; i < length; i++) {\n                    total += that.groupCount(groups[i], includeExpanded, itemsField, ignoreState);\n                }\n                that._groupsTotal = total;\n                return total;\n            }\n\n            that._groupsTotal = that._data.length;\n            return that._groupsTotal;\n        },\n\n        groupCount: function (group, includeExpanded, itemsField, ignoreState) {\n            var that = this;\n            var total = 0;\n\n            if (group.hasSubgroups && that._groupsState[group.uid]) {\n                if (includeExpanded && !group.excludeHeader || ignoreState) {\n                    total += 1;\n                }\n\n                group[itemsField].forEach(function (subgroup) {\n                    total += that.groupCount(subgroup, includeExpanded, itemsField, ignoreState);\n                });\n            } else {\n                if (that._groupsState[group.uid]) {\n                    if (includeExpanded && !group.excludeHeader || ignoreState) {\n                        total++;\n                    }\n                    total += group[itemsField] ? group[itemsField].length : 0;\n                } else {\n                    total++;\n                }\n            }\n            return total;\n        },\n\n        countGroupRange: function (range) {\n            var total = 0;\n            var length = range.length;\n\n            for (var i = 0; i < length; i++) {\n                total += this.groupCount(range[i], true);\n            }\n\n            return total;\n        },\n\n        aggregate: function(val) {\n            var that = this;\n\n            if(val !== undefined) {\n                that._query({ aggregate: val });\n                return;\n            }\n\n            return that._aggregate;\n        },\n\n        aggregates: function() {\n            var result = this._aggregateResult;\n\n            if (isEmptyObject(result)) {\n                result = this._emptyAggregates(this.aggregate());\n            }\n\n            return result;\n        },\n\n        _emptyAggregates: function(aggregates) {\n            var result = {};\n\n            if (!isEmptyObject(aggregates)) {\n                var aggregate = {};\n\n                if (!isArray(aggregates)){\n                    aggregates = [aggregates];\n                }\n\n                for (var idx = 0; idx <aggregates.length; idx++) {\n                    aggregate[aggregates[idx].aggregate] = 0;\n                    result[aggregates[idx].field] = aggregate;\n                }\n            }\n\n            return result;\n        },\n\n        _pageableQueryOptions: function(options) {\n            return options;\n        },\n\n        _wrapInEmptyGroup: function(model) {\n            var groups = this.group(),\n                parent,\n                group,\n                idx,\n                length;\n\n            for (idx = groups.length-1, length = 0; idx >= length; idx--) {\n                group = groups[idx];\n                parent = {\n                    value: model.get ? model.get(group.field) : model[group.field],\n                    field: group.field,\n                    items: parent ? [parent] : [model],\n                    hasSubgroups: !!parent,\n                    aggregates: this._emptyAggregates(group.aggregates)\n                };\n            }\n\n            return parent;\n        },\n\n        totalPages: function() {\n            var that = this,\n                pageSize = that.pageSize() || that.total(),\n                total = that._isGroupPaged() ? that.groupsTotal(true) : that.total();\n\n            return math.ceil((total || 0) / pageSize);\n        },\n\n        inRange: function(skip, take) {\n            var that = this,\n                end = math.min(skip + take, that.total());\n\n            if (!that.options.serverPaging && that._data.length > 0) {\n                return true;\n            }\n\n            return that._findRange(skip, end).length > 0;\n        },\n\n        lastRange: function() {\n            var ranges = this._ranges;\n            return ranges[ranges.length - 1] || { start: 0, end: 0, data: [] };\n        },\n\n        firstItemUid: function() {\n            var ranges = this._ranges;\n            return ranges.length && ranges[0].data.length && ranges[0].data[0].uid;\n        },\n\n        enableRequestsInProgress: function() {\n            this._skipRequestsInProgress = false;\n        },\n\n        _timeStamp: function() {\n            return new Date().getTime();\n        },\n\n        range: function(skip, take, callback, action) {\n            this._currentRequestTimeStamp = this._timeStamp();\n            this._skipRequestsInProgress = true;\n            var total = this._isGroupPaged() ? this.groupsTotal(true) : this.total();\n\n            if (action === \"expandGroup\" || action === \"collapseGroup\") {\n                this._updateOuterRangesLength();\n            }\n\n            skip = math.min(skip || 0, total);\n            callback = isFunction(callback) ? callback : noop;\n\n            var that = this,\n                pageSkip = math.max(math.floor(skip / take), 0) * take,\n                size = math.min(pageSkip + take, total),\n                data;\n\n            data = that._findRange(skip, math.min(skip + take, total), callback);\n\n            if ((data.length || total === 0) && !that._fetchingGroupItems) {\n                that._processRangeData(data, skip, take, that._originalPageSkip || pageSkip, that._originalSize || size, {\n                    action: action\n                });\n                that._originalPageSkip = null;\n                that._originalSize = null;\n                callback();\n                return;\n            }\n\n            if (that._isGroupPaged()) {\n                that._originalPageSkip = pageSkip;\n                that._originalSize = size;\n\n                pageSkip = math.max(math.floor(that._adjustPageSkip(skip, take) / take), 0) * take;\n                size = math.min(pageSkip + take, total);\n            }\n\n            if (take !== undefined && !that._fetchingGroupItems) {\n                if ((that._isGroupPaged() && !that._groupRangeExists(pageSkip, take)) || !that._rangeExists(pageSkip, size)) {\n                    that.prefetch(pageSkip, take, function() {\n                        if (skip > pageSkip && size < that.total() && !that._rangeExists(size, math.min(size + take, that.total()))) {\n                            that.prefetch(size, take, function() {\n                                that.range(skip, take, callback );\n                            });\n                        } else {\n                            that.range(skip, take, callback);\n                        }\n                    });\n                } else if (pageSkip < skip) {\n                    that.prefetch(size, take, function() {\n                        that.range(skip, take, callback );\n                    });\n                }\n            }\n        },\n\n        _findRange: function(start, end, callback) {\n            var that = this,\n                ranges = that._ranges,\n                range,\n                data = [],\n                skipIdx,\n                takeIdx,\n                startIndex,\n                endIndex,\n                rangeData,\n                rangeEnd,\n                processed,\n                options = that.options,\n                remote = options.serverSorting || options.serverPaging || options.serverFiltering || options.serverGrouping || options.serverAggregates,\n                flatData,\n                count,\n                length,\n                groupMapOptions = {\n                        take: end - start,\n                        skip: start,\n                        skipped: 0,\n                        taken: 0,\n                        includeParents: true\n                    },\n                prevRangeEnd,\n                isGroupPaged = that._isGroupPaged(),\n                startField = isGroupPaged ? \"outerStart\" : \"start\",\n                endField = isGroupPaged ? \"outerEnd\" : \"end\",\n                currentDataLength;\n\n            for (skipIdx = 0, length = ranges.length; skipIdx < length; skipIdx++) {\n                range = ranges[skipIdx];\n\n                if (isGroupPaged) {\n                    if (range.outerStart >= end) {\n                        return [];\n                    }\n\n                    if (start > range.outerEnd) {\n                        groupMapOptions.skipped += range.outerEnd - (prevRangeEnd || 0);\n                        prevRangeEnd = range.outerEnd;\n                        continue;\n                    }\n\n                    if (typeof prevRangeEnd !== \"undefined\" && prevRangeEnd != range.outerStart) {\n                        groupMapOptions.skipped += range.outerStart - prevRangeEnd;\n                    }\n\n                    if (groupMapOptions.skipped > groupMapOptions.skip) {\n                        return [];\n                    }\n\n                    if (typeof prevRangeEnd === \"undefined\" && start > 0 && range.start > 0) {\n                        groupMapOptions.skipped = range.outerStart;\n                    }\n\n                    takeIdx = skipIdx;\n                    while (true) {\n                        this._findGroupedRange(range.data, data, groupMapOptions, null, callback);\n                        currentDataLength = that._calculateGroupsTotal(data, true, \"currentItems\");\n\n                        if (currentDataLength >= groupMapOptions.take) {\n                            return data;\n                        }\n\n                        if (that._fetchingGroupItems) {\n                            return [];\n                        }\n                        takeIdx++;\n\n                        if (ranges[takeIdx] && ranges[takeIdx].outerStart === range.outerEnd) {\n                            range = ranges[takeIdx];\n                        } else {\n                            break;\n                        }\n                    }\n                } else if (start >= range[startField] && start <= range[endField]) {\n                    count = 0;\n\n                    for (takeIdx = skipIdx; takeIdx < length; takeIdx++) {\n                        range = ranges[takeIdx];\n                        flatData = that._flatData(range.data, true);\n\n                        if (flatData.length && start + count >= range.start) {\n                            rangeData = range.data;\n                            rangeEnd = range.end;\n\n                            if (!remote) {\n                                if (options.inPlaceSort) {\n                                    processed = that._queryProcess(range.data, { filter: that.filter() });\n                                } else {\n                                    var sort = normalizeGroupWithoutCompare(that.group() || []).concat(normalizeSort(that.sort() || []));\n                                    processed = that._queryProcess(range.data, { sort: sort, filter: that.filter() });\n                                }\n                                flatData = rangeData = processed.data;\n\n                                if (processed.total !== undefined) {\n                                    rangeEnd = processed.total;\n                                }\n                            }\n\n                            startIndex = 0;\n                            if (start + count > range.start) {\n                                startIndex = (start + count) - range.start;\n                            }\n                            endIndex = flatData.length;\n                            if (rangeEnd > end) {\n                                endIndex = endIndex - (rangeEnd - end);\n                            }\n                            count += endIndex - startIndex;\n                            data = that._mergeGroups(data, rangeData, startIndex, endIndex);\n\n                            if (end <= range.end && count == end - start) {\n                                return data;\n                            }\n                        }\n                    }\n                    break;\n                }\n                prevRangeEnd = range.outerEnd;\n            }\n            return [];\n        },\n\n        _getRangesMismatch: function (pageSkip) {\n            var that = this;\n            var ranges = that._ranges;\n            var mismatch = 0;\n            var i = 0;\n\n            while (true) {\n                var range = ranges[i];\n                if (!range || range.outerStart > pageSkip) {\n                    break;\n                }\n\n                if (range.outerEnd != range.end) {\n                    mismatch = range.outerEnd - range.end;\n                }\n                i++;\n            }\n\n            return mismatch;\n        },\n\n        _mergeGroups: function(data, range, skip, take) {\n            if (this._isServerGrouped()) {\n                var temp = range.toJSON(),\n                    prevGroup;\n\n                if (data.length) {\n                    prevGroup = data[data.length - 1];\n                }\n\n                mergeGroups(prevGroup, temp, skip, take);\n\n                return data.concat(temp);\n            }\n            return data.concat(range.slice(skip, take));\n        },\n\n        _processRangeData: function(data, skip, take, pageSkip, size, eventData) {\n            var that = this;\n\n            that._pending = undefined;\n\n            that._skip = skip > that.skip() && !that._omitPrefetch ? math.min(size, (that.totalPages() - 1) * that.take()) : pageSkip;\n\n            that._currentRangeStart = skip;\n\n            that._take = take;\n\n            var paging = that.options.serverPaging;\n            var sorting = that.options.serverSorting;\n            var filtering = that.options.serverFiltering;\n            var aggregates = that.options.serverAggregates;\n            try {\n                that.options.serverPaging = true;\n                if (!that._isServerGrouped() && !(that.group() && that.group().length)) {\n                    that.options.serverSorting = true;\n                }\n                that.options.serverFiltering = true;\n                that.options.serverPaging = true;\n                that.options.serverAggregates = true;\n\n                if (paging) {\n                    that._detachObservableParents();\n                    that._data = data = that._observe(data);\n                }\n                that._process(data, eventData);\n            } finally {\n                that.options.serverPaging = paging;\n                that.options.serverSorting = sorting;\n                that.options.serverFiltering = filtering;\n                that.options.serverAggregates = aggregates;\n            }\n        },\n\n        skip: function() {\n            var that = this;\n\n            if (that._skip === undefined) {\n                return (that._page !== undefined ? (that._page  - 1) * (that.take() || 1) : undefined);\n            }\n            return that._skip;\n        },\n\n        currentRangeStart: function() {\n            return this._currentRangeStart || 0;\n        },\n\n        take: function() {\n            return this._take || this._pageSize;\n        },\n\n        _prefetchSuccessHandler: function (skip, size, callback, force) {\n            var that = this;\n            var timestamp = that._timeStamp();\n\n            return function(data) {\n                var found = false,\n                    range = { start: skip, end: size, data: [], timestamp: that._timeStamp() },\n                    idx,\n                    length,\n                    temp;\n\n                that._dequeueRequest();\n\n                that.trigger(REQUESTEND, { response: data, type: \"read\" });\n\n                data = that.reader.parse(data);\n\n                temp = that._readData(data);\n\n                if (temp.length) {\n                    for (idx = 0, length = that._ranges.length; idx < length; idx++) {\n                        if (that._ranges[idx].start === skip) {\n                            found = true;\n                            range = that._ranges[idx];\n\n                            if (!that._isGroupPaged()) {\n                                range.pristineData = temp;\n                                range.data = that._observe(temp);\n                                range.end = range.start + that._flatData(range.data, true).length;\n                                that._sortRanges();\n                            }\n\n                            break;\n                        }\n                    }\n\n                    if (!found) {\n                        that._addRange(that._observe(temp), skip);\n                    }\n                }\n\n                that._total = that.reader.total(data);\n\n                if (force || (timestamp >= that._currentRequestTimeStamp || !that._skipRequestsInProgress)) {\n                    if (callback && temp.length) {\n                        callback();\n                    } else {\n                        that.trigger(CHANGE, {});\n                    }\n                }\n            };\n        },\n\n        prefetch: function(skip, take, callback) {\n            var that = this,\n                size = math.min(skip + take, that.total()),\n                options = {\n                    take: take,\n                    skip: skip,\n                    page: skip / take + 1,\n                    pageSize: take,\n                    sort: that._sort,\n                    filter: that._filter,\n                    group: that._group,\n                    aggregate: that._aggregate\n                };\n\n\n            if ((that._isGroupPaged() && !that._isServerGrouped() && that._groupRangeExists(skip, size))) {\n                if (callback) {\n                    callback();\n                }\n                return;\n            }\n\n            if ((that._isServerGroupPaged() && !that._groupRangeExists(skip, size)) || !that._rangeExists(skip, size)) {\n                clearTimeout(that._timeout);\n\n                that._timeout = setTimeout(function() {\n                    that._queueRequest(options, function() {\n                        if (!that.trigger(REQUESTSTART, { type: \"read\" })) {\n                            if (that._omitPrefetch) {\n                                that.trigger(PROGRESS);\n                            }\n                            that.transport.read({\n                                data: that._params(options),\n                                success: that._prefetchSuccessHandler(skip, size, callback),\n                                error: function() {\n                                    var args = slice.call(arguments);\n                                    that.error.apply(that, args);\n                                }\n                            });\n                        } else {\n                            that._dequeueRequest();\n                        }\n                    });\n                }, 100);\n            } else if (callback) {\n                callback();\n            }\n        },\n\n        _multiplePrefetch: function(skip, take, callback) {\n            var that = this,\n                size = math.min(skip + take, that.total()),\n                options = {\n                    take: take,\n                    skip: skip,\n                    page: skip / take + 1,\n                    pageSize: take,\n                    sort: that._sort,\n                    filter: that._filter,\n                    group: that._group,\n                    aggregate: that._aggregate\n                };\n\n            if (!that._rangeExists(skip, size)) {\n                if (!that.trigger(REQUESTSTART, { type: \"read\" })) {\n                    that.transport.read({\n                        data: that._params(options),\n                        success: that._prefetchSuccessHandler(skip, size, callback, true)\n                    });\n                }\n            } else if (callback) {\n                callback();\n            }\n        },\n\n        _adjustPageSkip: function (start, take) {\n            var that = this;\n            var prevRange = that._getPrevRange(start);\n            var result;\n            var total = that.total();\n            var mismatch;\n\n            if (prevRange) {\n                mismatch = that._getRangesMismatch(start);\n\n                if (!mismatch) {\n                    return start;\n                }\n                start -= mismatch;\n            }\n            result = math.max(math.floor(start / take), 0) * take;\n\n            if (result > total) {\n                while (true) {\n                    result -= take;\n                    if (result < total) {\n                        break;\n                    }\n                }\n            }\n            return result;\n        },\n\n        _getNextRange: function (end) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                length;\n\n            for (idx = 0, length = ranges.length; idx < length; idx++) {\n                if (ranges[idx].start <= end && ranges[idx].end >= end) {\n                    return ranges[idx];\n                }\n            }\n        },\n\n        _getPrevRange: function (start) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                range,\n                length = ranges.length;\n\n            for (idx = length - 1; idx >= 0; idx--) {\n                if (ranges[idx].outerStart <= start) {\n                    range = ranges[idx];\n                    break;\n                }\n\n            }\n\n            return range;\n        },\n\n        _rangeExists: function(start, end) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                length;\n\n            for (idx = 0, length = ranges.length; idx < length; idx++) {\n                if (ranges[idx].start <= start && ranges[idx].end >= end) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        _groupRangeExists: function (start, end) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                length,\n                availableItemsCount = 0,\n                total = that.groupsTotal(true);\n\n            if (end > total && !that._isServerGrouped()) {\n                end = total;\n            }\n\n            for (idx = 0, length = ranges.length; idx < length; idx++) {\n                var range = ranges[idx];\n                if (range.outerStart <= start && range.outerEnd >= start) {\n                    availableItemsCount += range.outerEnd - start;\n                } else if (range.outerStart <= end && range.outerEnd >= end) {\n                    availableItemsCount += end - range.outerStart;\n                }\n            }\n\n            return availableItemsCount >= end - start;\n        },\n\n        _getCurrentRangeSpan: function() {\n            var that = this;\n            var ranges = that._ranges;\n            var start = that.currentRangeStart();\n            var end = start + (that.take() || 0);\n            var rangeSpan = [];\n            var range;\n            var idx;\n            var length = ranges.length;\n\n            for (idx = 0; idx < length; idx++) {\n                range = ranges[idx];\n\n                if ((range.start <= start && range.end >= start) || (range.start >= start && range.start <= end)) {\n                    rangeSpan.push(range);\n                }\n            }\n\n            return rangeSpan;\n        },\n\n        _removeModelFromRanges: function(model) {\n            var that = this;\n            var range;\n\n            for (var idx = 0, length = this._ranges.length; idx < length; idx++) {\n                range = this._ranges[idx];\n\n                that._removeModelFromRange(range, model);\n            }\n\n            that._updateRangesLength();\n        },\n\n        _removeModelFromRange: function(range, model) {\n            this._eachItem(range.data, function(data) {\n                if (!data) {\n                    return;\n                }\n                for (var idx = 0; idx < data.length; idx++) {\n                    var dataItem = data[idx];\n\n                    if (dataItem.uid && dataItem.uid == model.uid) {\n                        [].splice.call(data, idx, 1);\n                        break;\n                    }\n                }\n            });\n        },\n\n        _insertModelInRange: function(index, model) {\n            var that = this;\n            var ranges = that._ranges || [];\n            var rangesLength = ranges.length;\n            var range;\n            var i;\n\n            for (i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n\n                if (range.start <= index && range.end >= index) {\n                    if (!that._getByUid(model.uid, range.data)) {\n                        if (that._isServerGrouped()) {\n                            range.data.splice(index, 0, that._wrapInEmptyGroup(model));\n                        } else {\n                            range.data.splice(index, 0, model);\n                        }\n                    }\n\n                    break;\n                }\n            }\n\n            that._updateRangesLength();\n        },\n\n        _updateRangesLength: function() {\n            var that = this;\n            var ranges = that._ranges || [];\n            var rangesLength = ranges.length;\n            var mismatchFound = false;\n            var mismatchLength = 0;\n            var lengthDifference = 0;\n            var rangeLength;\n            var range;\n            var i;\n\n            for (i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n                rangeLength = that._isGroupPaged() ? range.data.length : that._flatData(range.data, true).length;\n                lengthDifference = rangeLength - math.abs(range.end - range.start);\n\n                if (!mismatchFound && lengthDifference !== 0) {\n                    mismatchFound = true;\n                    mismatchLength = lengthDifference;\n                    range.end += mismatchLength;\n                    continue;\n                }\n\n                if (mismatchFound) {\n                    range.start += mismatchLength;\n                    range.end += mismatchLength;\n                }\n            }\n        },\n\n        _updateOuterRangesLength: function () {\n            var that = this;\n            var ranges = that._ranges || [];\n            var rangesLength = ranges.length;\n            var mismatchLength = 0;\n            var range;\n            var i;\n            var prevRange;\n            var rangeLength;\n\n            for (i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n                rangeLength = that._isGroupPaged() ? that._calculateGroupsTotal(range.data, true, \"items\", true) : that._flatData(range.data, true).length;\n\n                if (prevRange) {\n                    if (prevRange.end != range.start) {\n                        mismatchLength = range.start - prevRange.end;\n                    }\n                    range.outerStart = prevRange.outerEnd + mismatchLength;\n                    mismatchLength = 0;\n                } else {\n                    range.outerStart = range.start;\n                }\n\n                range.outerEnd = range.outerStart + rangeLength;\n                prevRange = range;\n            }\n        }\n    });\n\n    var Transport = {};\n\n    Transport.create = function(options, data, dataSource) {\n        var transport,\n            transportOptions = options.transport ? $.extend({}, options.transport) : null;\n\n        if (transportOptions) {\n            transportOptions.read = typeof transportOptions.read === STRING ? { url: transportOptions.read } : transportOptions.read;\n\n            if (options.type === \"jsdo\") {\n                transportOptions.dataSource = dataSource;\n            }\n\n            if (options.type) {\n                kendo.data.transports = kendo.data.transports || {};\n                kendo.data.schemas = kendo.data.schemas || {};\n\n                if (!kendo.data.transports[options.type]) {\n                    kendo.logToConsole(\"Unknown DataSource transport type '\" + options.type + \"'.\\nVerify that registration scripts for this type are included after Kendo UI on the page.\", \"warn\");\n                } else if (!isPlainObject(kendo.data.transports[options.type])) {\n                    transport = new kendo.data.transports[options.type](extend(transportOptions, { data: data }));\n                } else {\n                    transportOptions = extend(true, {}, kendo.data.transports[options.type], transportOptions);\n                }\n\n                options.schema = extend(true, {}, kendo.data.schemas[options.type], options.schema);\n            }\n\n            if (!transport) {\n                transport = isFunction(transportOptions.read) ? transportOptions : new RemoteTransport(transportOptions);\n            }\n        } else {\n            transport = new LocalTransport({ data: options.data || [] });\n        }\n        return transport;\n    };\n\n    DataSource.create = function(options) {\n        if (isArray(options) || options instanceof ObservableArray) {\n           options = { data: options };\n        }\n\n        var dataSource = options || {},\n            data = dataSource.data,\n            fields = dataSource.fields,\n            table = dataSource.table,\n            select = dataSource.select,\n            idx,\n            length,\n            model = {},\n            field;\n\n        if (!data && fields && !dataSource.transport) {\n            if (table) {\n                data = inferTable(table, fields);\n            } else if (select) {\n                data = inferSelect(select, fields);\n\n                if (dataSource.group === undefined && data[0] && data[0].optgroup !== undefined) {\n                    dataSource.group = \"optgroup\";\n                }\n            }\n        }\n\n        if (kendo.data.Model && fields && (!dataSource.schema || !dataSource.schema.model)) {\n            for (idx = 0, length = fields.length; idx < length; idx++) {\n                field = fields[idx];\n                if (field.type) {\n                    model[field.field] = field;\n                }\n            }\n\n            if (!isEmptyObject(model)) {\n                dataSource.schema = extend(true, dataSource.schema, { model:  { fields: model } });\n            }\n        }\n\n        dataSource.data = data;\n\n        select = null;\n        dataSource.select = null;\n        table = null;\n        dataSource.table = null;\n\n        return dataSource instanceof DataSource ? dataSource : new DataSource(dataSource);\n    };\n\n    function inferSelect(select, fields) {\n        select = $(select)[0];\n        var options = select.options;\n        var firstField = fields[0];\n        var secondField = fields[1];\n\n        var data = [];\n        var idx, length;\n        var optgroup;\n        var option;\n        var record;\n        var value;\n\n        for (idx = 0, length = options.length; idx < length; idx++) {\n            record = {};\n            option = options[idx];\n            optgroup = option.parentNode;\n\n            if (optgroup === select) {\n                optgroup = null;\n            }\n\n            if (option.disabled || (optgroup && optgroup.disabled)) {\n                continue;\n            }\n\n            if (optgroup) {\n                record.optgroup = optgroup.label;\n            }\n\n            record[firstField.field] = option.text;\n\n            value = option.attributes.value;\n\n            if (value && value.specified) {\n                value = option.value;\n            } else {\n                value = option.text;\n            }\n\n            record[secondField.field] = value;\n\n            data.push(record);\n        }\n\n        return data;\n    }\n\n    function inferTable(table, fields) {\n        var tbody = $(table)[0].tBodies[0],\n        rows = tbody ? tbody.rows : [],\n        idx,\n        length,\n        fieldIndex,\n        fieldCount = fields.length,\n        data = [],\n        cells,\n        record,\n        cell,\n        empty;\n\n        for (idx = 0, length = rows.length; idx < length; idx++) {\n            record = {};\n            empty = true;\n            cells = rows[idx].cells;\n\n            for (fieldIndex = 0; fieldIndex < fieldCount; fieldIndex++) {\n                cell = cells[fieldIndex];\n                if(cell.nodeName.toLowerCase() !== \"th\") {\n                    empty = false;\n                    record[fields[fieldIndex].field] = cell.innerHTML;\n                }\n            }\n            if(!empty) {\n                data.push(record);\n            }\n        }\n\n        return data;\n    }\n\n    var Node = Model.define({\n        idField: \"id\",\n\n        init: function(value) {\n            var that = this,\n                hasChildren = that.hasChildren || value && value.hasChildren,\n                childrenField = \"items\",\n                childrenOptions = {};\n\n            kendo.data.Model.fn.init.call(that, value);\n\n            if (typeof that.children === STRING) {\n                childrenField = that.children;\n            }\n\n            childrenOptions = {\n                schema: {\n                    data: childrenField,\n                    model: {\n                        hasChildren: hasChildren,\n                        id: that.idField,\n                        fields: that.fields\n                    }\n                }\n            };\n\n            if (typeof that.children !== STRING) {\n                extend(childrenOptions, that.children);\n            }\n\n            childrenOptions.data = value;\n\n            if (!hasChildren) {\n                hasChildren = childrenOptions.schema.data;\n            }\n\n            if (typeof hasChildren === STRING) {\n                hasChildren = kendo.getter(hasChildren);\n            }\n\n            if (isFunction(hasChildren)) {\n                var hasChildrenObject = hasChildren.call(that, that);\n\n                if(hasChildrenObject && hasChildrenObject.length === 0){\n                    that.hasChildren = false;\n                } else{\n                    that.hasChildren = !!hasChildrenObject;\n                }\n            }\n\n            that._childrenOptions = childrenOptions;\n\n            if (that.hasChildren) {\n                that._initChildren();\n            }\n\n            that._loaded = !!(value && value._loaded);\n        },\n\n        _initChildren: function() {\n            var that = this;\n            var children, transport, parameterMap;\n\n            if (!(that.children instanceof HierarchicalDataSource)) {\n                children = that.children = new HierarchicalDataSource(that._childrenOptions);\n\n                transport = children.transport;\n                parameterMap = transport.parameterMap;\n\n                transport.parameterMap = function(data, type) {\n                    data[that.idField || \"id\"] = that.id;\n\n                    if (parameterMap) {\n                        data = parameterMap.call(that, data, type);\n                    }\n\n                    return data;\n                };\n\n                children.parent = function(){\n                    return that;\n                };\n\n                children.bind(CHANGE, function(e){\n                    e.node = e.node || that;\n                    that.trigger(CHANGE, e);\n                });\n\n                children.bind(ERROR, function(e){\n                    var collection = that.parent();\n\n                    if (collection) {\n                        e.node = e.node || that;\n                        collection.trigger(ERROR, e);\n                    }\n                });\n\n                that._updateChildrenField();\n            }\n        },\n\n        append: function(model) {\n            this._initChildren();\n            this.loaded(true);\n            this.children.add(model);\n        },\n\n        hasChildren: false,\n\n        level: function() {\n            var parentNode = this.parentNode(),\n                level = 0;\n\n            while (parentNode && parentNode.parentNode) {\n                level++;\n                parentNode = parentNode.parentNode ? parentNode.parentNode() : null;\n            }\n\n            return level;\n        },\n\n        _updateChildrenField: function() {\n            var fieldName = this._childrenOptions.schema.data;\n\n            this[fieldName || \"items\"] = this.children.data();\n        },\n\n        _childrenLoaded: function() {\n            this._loaded = true;\n\n            this._updateChildrenField();\n        },\n\n        load: function() {\n            var options = {};\n            var method = \"_query\";\n            var children, promise;\n\n            if (this.hasChildren) {\n                this._initChildren();\n\n                children = this.children;\n\n                options[this.idField || \"id\"] = this.id;\n\n                if (!this._loaded) {\n                    children._data = undefined;\n                    method = \"read\";\n                }\n\n                children.one(CHANGE, proxy(this._childrenLoaded, this));\n\n                if(this._matchFilter){\n                    options.filter = { field: '_matchFilter', operator: 'eq', value: true };\n                }\n\n                promise = children[method](options);\n            } else {\n                this.loaded(true);\n            }\n\n            return promise || $.Deferred().resolve().promise();\n        },\n\n        parentNode: function() {\n            var array = this.parent();\n\n            return array.parent();\n        },\n\n        loaded: function(value) {\n            if (value !== undefined) {\n                this._loaded = value;\n            } else {\n                return this._loaded;\n            }\n        },\n\n        shouldSerialize: function(field) {\n            return Model.fn.shouldSerialize.call(this, field) &&\n                    field !== \"children\" &&\n                    field !== \"_loaded\" &&\n                    field !== \"hasChildren\" &&\n                    field !== \"_childrenOptions\";\n        }\n    });\n\n    function dataMethod(name) {\n        return function() {\n            var data = this._data,\n                result = DataSource.fn[name].apply(this, slice.call(arguments));\n\n            if (this._data != data) {\n                this._attachBubbleHandlers();\n            }\n\n            return result;\n        };\n    }\n\n    var HierarchicalDataSource = DataSource.extend({\n        init: function(options) {\n            var node = Node.define({\n                children: options\n            });\n\n            if(options.filter && !options.serverFiltering){\n                this._hierarchicalFilter = options.filter;\n                options.filter = null;\n            }\n\n            DataSource.fn.init.call(this, extend(true, {}, { schema: { modelBase: node, model: node } }, options));\n\n            this._attachBubbleHandlers();\n        },\n\n        _attachBubbleHandlers: function() {\n            var that = this;\n\n            that._data.bind(ERROR, function(e) {\n                that.trigger(ERROR, e);\n            });\n        },\n\n        read: function(data) {\n            var result = DataSource.fn.read.call(this, data);\n\n            if(this._hierarchicalFilter){\n                if(this._data && this._data.length > 0){\n                    this.filter(this._hierarchicalFilter);\n                }else{\n                    this.options.filter = this._hierarchicalFilter;\n                    this._filter = normalizeFilter(this.options.filter);\n                    this._hierarchicalFilter = null;\n                }\n            }\n\n            return result;\n        },\n\n        remove: function(node){\n            var parentNode = node.parentNode(),\n                dataSource = this,\n                result;\n\n            if (parentNode && parentNode._initChildren) {\n                dataSource = parentNode.children;\n            }\n\n            result = DataSource.fn.remove.call(dataSource, node);\n\n            if (parentNode && !dataSource.data().length) {\n                parentNode.hasChildren = false;\n            }\n\n            return result;\n        },\n\n        success: dataMethod(\"success\"),\n\n        data: dataMethod(\"data\"),\n\n        insert: function(index, model) {\n            var parentNode = this.parent();\n\n            if (parentNode && parentNode._initChildren) {\n                parentNode.hasChildren = true;\n                parentNode._initChildren();\n            }\n\n            return DataSource.fn.insert.call(this, index, model);\n        },\n\n        filter: function(val) {\n            if (val === undefined) {\n                 return this._filter;\n            }\n\n            if(!this.options.serverFiltering && this._markHierarchicalQuery(val)){\n                val = { logic: \"or\", filters: [val, {field:'_matchFilter', operator: 'equals', value: true }]};\n            }\n\n            this.trigger(\"reset\");\n            this._query({ filter: val, page: 1 });\n        },\n\n        _markHierarchicalQuery: function(expressions){\n            var compiled;\n            var predicate;\n            var fields;\n            var operators;\n            var filter;\n            var accentFoldingFiltering = this.options.accentFoldingFiltering;\n\n            expressions = accentFoldingFiltering ? $.extend({}, normalizeFilter(expressions), { accentFoldingFiltering: accentFoldingFiltering}) : normalizeFilter(expressions);\n\n            if (!expressions || expressions.filters.length === 0) {\n                this._updateHierarchicalFilter(function(){return true;});\n                return false;\n            }\n\n            compiled = Query.filterExpr(expressions);\n            fields = compiled.fields;\n            operators = compiled.operators;\n\n            predicate = filter = new Function(\"d, __f, __o\", \"return \" + compiled.expression);\n\n            if (fields.length || operators.length) {\n                filter = function(d) {\n                    return predicate(d, fields, operators);\n                };\n            }\n\n            this._updateHierarchicalFilter(filter);\n            return true;\n        },\n\n         _updateHierarchicalFilter: function(filter){\n            var current;\n            var data = this._data;\n            var result = false;\n\n            for (var idx = 0; idx < data.length; idx++) {\n                 current = data[idx];\n\n                 if(current.hasChildren){\n                     current._matchFilter = current.children._updateHierarchicalFilter(filter);\n                    if(!current._matchFilter){\n                        current._matchFilter = filter(current);\n                    }\n                }else{\n                    current._matchFilter = filter(current);\n                }\n\n                if(current._matchFilter){\n                    result = true;\n                }\n            }\n            return result;\n        },\n\n        _find: function(method, value) {\n            var idx, length, node, children;\n            var data = this._data;\n\n            if (!data) {\n                return;\n            }\n\n            node = DataSource.fn[method].call(this, value);\n\n            if (node) {\n                return node;\n            }\n\n            data = this._flatData(this._data);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                children = data[idx].children;\n\n                if (!(children instanceof HierarchicalDataSource)) {\n                    continue;\n                }\n\n                node = children[method](value);\n\n                if (node) {\n                    return node;\n                }\n            }\n        },\n\n        get: function(id) {\n            return this._find(\"get\", id);\n        },\n\n        getByUid: function(uid) {\n            return this._find(\"getByUid\", uid);\n        }\n    });\n\n    function inferList(list, fields) {\n        var items = $(list).children(),\n            idx,\n            length,\n            data = [],\n            record,\n            textField = fields[0].field,\n            urlField = fields[1] && fields[1].field,\n            spriteCssClassField = fields[2] && fields[2].field,\n            imageUrlField = fields[3] && fields[3].field,\n            item,\n            id,\n            textChild,\n            className,\n            children;\n\n        function elements(collection, tagName) {\n            return collection.filter(tagName).add(collection.find(tagName));\n        }\n\n        for (idx = 0, length = items.length; idx < length; idx++) {\n            record = { _loaded: true };\n            item = items.eq(idx);\n\n            textChild = item[0].firstChild;\n            children = item.children();\n            list = children.filter(\"ul\");\n            children = children.filter(\":not(ul)\");\n\n            id = item.attr(\"data-id\");\n\n            if (id) {\n                record.id = id;\n            }\n\n            if (textChild) {\n                record[textField] = textChild.nodeType == 3 ? textChild.nodeValue : children.text();\n            }\n\n            if (urlField) {\n                record[urlField] = elements(children, \"a\").attr(\"href\");\n            }\n\n            if (imageUrlField) {\n                record[imageUrlField] = elements(children, \"img\").attr(\"src\");\n            }\n\n            if (spriteCssClassField) {\n                className = elements(children, \".k-sprite\").prop(\"className\");\n                record[spriteCssClassField] = className && kendo.trim(className.replace(\"k-sprite\", \"\"));\n            }\n\n            if (list.length) {\n                record.items = inferList(list.eq(0), fields);\n            }\n\n            if (item.attr(\"data-hasChildren\") == \"true\") {\n                record.hasChildren = true;\n            }\n\n            data.push(record);\n        }\n\n        return data;\n    }\n\n    HierarchicalDataSource.create = function(options) {\n        options = options && options.push ? { data: options } : options;\n\n        var dataSource = options || {},\n            data = dataSource.data,\n            fields = dataSource.fields,\n            list = dataSource.list;\n\n        if (data && data._dataSource) {\n            return data._dataSource;\n        }\n\n        if (!data && fields && !dataSource.transport) {\n            if (list) {\n                data = inferList(list, fields);\n            }\n        }\n\n        dataSource.data = data;\n\n        return dataSource instanceof HierarchicalDataSource ? dataSource : new HierarchicalDataSource(dataSource);\n    };\n\n    var Buffer = kendo.Observable.extend({\n        init: function(dataSource, viewSize, disablePrefetch) {\n            kendo.Observable.fn.init.call(this);\n\n            this._prefetching = false;\n            this.dataSource = dataSource;\n            this.prefetch = !disablePrefetch;\n\n            var buffer = this;\n\n            dataSource.bind(\"change\", function() {\n                buffer._change();\n            });\n\n            dataSource.bind(\"reset\", function() {\n                buffer._reset();\n            });\n\n            this._syncWithDataSource();\n\n            this.setViewSize(viewSize);\n        },\n\n        setViewSize: function(viewSize) {\n            this.viewSize = viewSize;\n            this._recalculate();\n        },\n\n        at: function(index)  {\n            var pageSize = this.pageSize,\n                itemPresent = true;\n\n            if (index >= this.total()) {\n                this.trigger(\"endreached\", {index: index });\n                return null;\n            }\n\n            if (!this.useRanges) {\n               return this.dataSource.view()[index];\n            }\n            if (this.useRanges) {\n                // out of range request\n                if (index < this.dataOffset || index >= this.skip + pageSize) {\n                    itemPresent = this.range(Math.floor(index / pageSize) * pageSize);\n                }\n\n                // prefetch\n                if (index === this.prefetchThreshold) {\n                    this._prefetch();\n                }\n\n                // mid-range jump - prefetchThreshold and nextPageThreshold may be equal, do not change to else if\n                if (index === this.midPageThreshold) {\n                    this.range(this.nextMidRange, true);\n                }\n                // next range jump\n                else if (index === this.nextPageThreshold) {\n                    this.range(this.nextFullRange);\n                }\n                // pull-back\n                else if (index === this.pullBackThreshold) {\n                    if (this.offset === this.skip) { // from full range to mid range\n                        this.range(this.previousMidRange);\n                    } else { // from mid range to full range\n                        this.range(this.previousFullRange);\n                    }\n                }\n\n                if (itemPresent) {\n                    return this.dataSource.at(index - this.dataOffset);\n                } else {\n                    this.trigger(\"endreached\", { index: index });\n                    return null;\n                }\n            }\n        },\n\n        indexOf: function(item) {\n            return this.dataSource.data().indexOf(item) + this.dataOffset;\n        },\n\n        total: function() {\n            return parseInt(this.dataSource.total(), 10);\n        },\n\n        next: function() {\n            var buffer = this,\n                pageSize = buffer.pageSize,\n                offset = buffer.skip - buffer.viewSize + pageSize,\n                pageSkip = math.max(math.floor(offset / pageSize), 0) * pageSize;\n\n            this.offset = offset;\n            this.dataSource.prefetch(pageSkip, pageSize, function() {\n                buffer._goToRange(offset, true);\n            });\n        },\n\n        range: function(offset, nextRange) {\n            if (this.offset === offset) {\n                return true;\n            }\n\n            var buffer = this,\n                pageSize = this.pageSize,\n                pageSkip = math.max(math.floor(offset / pageSize), 0) * pageSize,\n                dataSource = this.dataSource;\n\n            if (nextRange) {\n                pageSkip += pageSize;\n            }\n\n            if (dataSource.inRange(offset, pageSize)) {\n                this.offset = offset;\n                this._recalculate();\n                this._goToRange(offset);\n                return true;\n            } else if (this.prefetch) {\n                dataSource.prefetch(pageSkip, pageSize, function() {\n                    buffer.offset = offset;\n                    buffer._recalculate();\n                    buffer._goToRange(offset, true);\n                });\n                return false;\n            }\n\n            return true;\n        },\n\n        syncDataSource: function() {\n            var offset = this.offset;\n            this.offset = null;\n            this.range(offset);\n        },\n\n        destroy: function() {\n            this.unbind();\n        },\n\n        _prefetch: function() {\n            var buffer = this,\n                pageSize = this.pageSize,\n                prefetchOffset = this.skip + pageSize,\n                dataSource = this.dataSource;\n\n            if (!dataSource.inRange(prefetchOffset, pageSize) && !this._prefetching && this.prefetch) {\n                this._prefetching = true;\n                this.trigger(\"prefetching\", { skip: prefetchOffset, take: pageSize });\n\n                dataSource.prefetch(prefetchOffset, pageSize, function() {\n                    buffer._prefetching = false;\n                    buffer.trigger(\"prefetched\", { skip: prefetchOffset, take: pageSize });\n                });\n            }\n        },\n\n        _goToRange: function(offset, expanding) {\n            if (this.offset !== offset) {\n                return;\n            }\n\n            this.dataOffset = offset;\n            this._expanding = expanding;\n            this.dataSource.range(offset, this.pageSize);\n            this.dataSource.enableRequestsInProgress();\n        },\n\n        _reset: function() {\n            this._syncPending = true;\n        },\n\n        _change: function() {\n            var dataSource = this.dataSource;\n\n            this.length = this.useRanges ? dataSource.lastRange().end : dataSource.view().length;\n\n            if (this._syncPending) {\n                this._syncWithDataSource();\n                this._recalculate();\n                this._syncPending = false;\n                this.trigger(\"reset\", { offset: this.offset });\n            }\n\n            this.trigger(\"resize\");\n\n            if (this._expanding) {\n                this.trigger(\"expand\");\n            }\n\n            delete this._expanding;\n        },\n\n        _syncWithDataSource: function() {\n            var dataSource = this.dataSource;\n\n            this._firstItemUid = dataSource.firstItemUid();\n            this.dataOffset = this.offset = dataSource.skip() || 0;\n            this.pageSize = dataSource.pageSize();\n            this.useRanges = dataSource.options.serverPaging;\n        },\n\n        _recalculate: function() {\n            var pageSize = this.pageSize,\n                offset = this.offset,\n                viewSize = this.viewSize,\n                skip = Math.ceil(offset / pageSize) * pageSize;\n\n            this.skip = skip;\n            this.midPageThreshold = skip + pageSize - 1;\n            this.nextPageThreshold = skip + viewSize - 1;\n            this.prefetchThreshold = skip + Math.floor(pageSize / 3 * 2);\n            this.pullBackThreshold = this.offset - 1;\n\n            this.nextMidRange = skip + pageSize - viewSize;\n            this.nextFullRange = skip;\n            this.previousMidRange = offset - viewSize;\n            this.previousFullRange = skip - pageSize;\n        }\n    });\n\n    var BatchBuffer = kendo.Observable.extend({\n        init: function(dataSource, batchSize) {\n            var batchBuffer = this;\n\n            kendo.Observable.fn.init.call(batchBuffer);\n\n            this.dataSource = dataSource;\n            this.batchSize = batchSize;\n            this._total = 0;\n\n            this.buffer = new Buffer(dataSource, batchSize * 3);\n\n            this.buffer.bind({\n                \"endreached\": function (e) {\n                    batchBuffer.trigger(\"endreached\", { index: e.index });\n                },\n                \"prefetching\": function (e) {\n                    batchBuffer.trigger(\"prefetching\", { skip: e.skip, take: e.take });\n                },\n                \"prefetched\": function (e) {\n                    batchBuffer.trigger(\"prefetched\", { skip: e.skip, take: e.take });\n                },\n                \"reset\": function () {\n                    batchBuffer._total = 0;\n                    batchBuffer.trigger(\"reset\");\n                },\n                \"resize\": function () {\n                    batchBuffer._total = Math.ceil(this.length / batchBuffer.batchSize);\n                    batchBuffer.trigger(\"resize\", { total: batchBuffer.total(), offset: this.offset });\n                }\n            });\n        },\n\n        syncDataSource: function() {\n            this.buffer.syncDataSource();\n        },\n\n        at: function(index) {\n            var buffer = this.buffer,\n                skip = index * this.batchSize,\n                take = this.batchSize,\n                view = [],\n                item;\n\n            if (buffer.offset > skip) {\n                buffer.at(buffer.offset - 1);\n            }\n\n            for (var i = 0; i < take; i++) {\n                item = buffer.at(skip + i);\n\n                if (item === null) {\n                    break;\n                }\n\n                view.push(item);\n            }\n\n            return view;\n        },\n\n        total: function() {\n            return this._total;\n        },\n\n        destroy: function() {\n            this.buffer.destroy();\n            this.unbind();\n        }\n    });\n\n    extend(true, kendo.data, {\n        readers: {\n            json: DataReader\n        },\n        Query: Query,\n        DataSource: DataSource,\n        HierarchicalDataSource: HierarchicalDataSource,\n        Node: Node,\n        Comparer: Comparer,\n        ObservableObject: ObservableObject,\n        ObservableArray: ObservableArray,\n        LazyObservableArray: LazyObservableArray,\n        LocalTransport: LocalTransport,\n        RemoteTransport: RemoteTransport,\n        Cache: Cache,\n        DataReader: DataReader,\n        Model: Model,\n        Buffer: Buffer,\n        BatchBuffer: BatchBuffer\n    });\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.binder',[ \"./kendo.core\", \"./kendo.data\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"binder\",\n    name: \"MVVM\",\n    category: \"framework\",\n    description: \"Model View ViewModel (MVVM) is a design pattern which helps developers separate the Model (the data) from the View (the UI).\",\n    depends: [ \"core\", \"data\" ]\n};\n\n/*jshint eqnull: true */\n(function ($, undefined) {\n    var kendo = window.kendo,\n        Observable = kendo.Observable,\n        ObservableObject = kendo.data.ObservableObject,\n        ObservableArray = kendo.data.ObservableArray,\n        toString = {}.toString,\n        binders = {},\n        Class = kendo.Class,\n        proxy = $.proxy,\n        VALUE = \"value\",\n        SOURCE = \"source\",\n        EVENTS = \"events\",\n        CHECKED = \"checked\",\n        CSS = \"css\",\n        deleteExpando = true,\n        FUNCTION = \"function\",\n        CHANGE = \"change\";\n\n    (function() {\n        var a = document.createElement(\"a\");\n\n        try {\n            delete a.test;\n        } catch(e) {\n            deleteExpando = false;\n        }\n    })();\n\n    var Binding = Observable.extend( {\n        init: function(parents, path) {\n            var that = this;\n\n            Observable.fn.init.call(that);\n\n            that.source = parents[0];\n            that.parents = parents;\n            that.path = path;\n            that.dependencies = {};\n            that.dependencies[path] = true;\n            that.observable = that.source instanceof Observable;\n\n            that._access = function(e) {\n                that.dependencies[e.field] = true;\n            };\n\n            if (that.observable) {\n                that._change = function(e) {\n                    that.change(e);\n                };\n\n                that.source.bind(CHANGE, that._change);\n            }\n        },\n\n        _parents: function() {\n            var parents = this.parents;\n            var value = this.get();\n\n            if (value && typeof value.parent == \"function\") {\n                var parent = value.parent();\n\n                if ($.inArray(parent, parents) < 0) {\n                    parents = [parent].concat(parents);\n                }\n            }\n\n            return parents;\n        },\n\n        change: function(e) {\n            var dependency,\n                ch,\n                field = e.field,\n                that = this;\n\n            if (that.path === \"this\") {\n                that.trigger(CHANGE, e);\n            } else {\n                for (dependency in that.dependencies) {\n                    if (dependency.indexOf(field) === 0) {\n                       ch = dependency.charAt(field.length);\n\n                       if (!ch || ch === \".\" || ch === \"[\") {\n                            that.trigger(CHANGE, e);\n                            break;\n                       }\n                    }\n                }\n            }\n        },\n\n        start: function(source) {\n            source.bind(\"get\", this._access);\n        },\n\n        stop: function(source) {\n            source.unbind(\"get\", this._access);\n        },\n\n        get: function() {\n\n            var that = this,\n                source = that.source,\n                index = 0,\n                path = that.path,\n                result = source;\n\n            if (!that.observable) {\n                return result;\n            }\n\n            that.start(that.source);\n\n            result = source.get(path);\n\n            // Traverse the observable hierarchy if the binding is not resolved at the current level.\n            while (result === undefined && source) {\n\n                source = that.parents[++index];\n\n                if (source instanceof ObservableObject) {\n                    result = source.get(path);\n                }\n            }\n\n            // second pass try to get the parent from the object hierarchy\n            if (result === undefined) {\n                source = that.source; //get the initial source\n\n                while (result === undefined && source) {\n                    source = source.parent();\n\n                    if (source instanceof ObservableObject) {\n                        result = source.get(path);\n                    }\n                }\n            }\n\n            // If the result is a function - invoke it\n            if (typeof result === \"function\") {\n                index = path.lastIndexOf(\".\");\n\n                // If the function is a member of a nested observable object make that nested observable the context (this) of the function\n                if (index > 0) {\n                    source = source.get(path.substring(0, index));\n                }\n\n                // Invoke the function\n                that.start(source);\n\n                if (source !== that.source) {\n                    result = result.call(source, that.source);\n                } else {\n                    result = result.call(source);\n                }\n\n                that.stop(source);\n            }\n\n            // If the binding is resolved by a parent object\n            if (source && source !== that.source) {\n\n                that.currentSource = source; // save parent object\n\n                // Listen for changes in the parent object\n                source.unbind(CHANGE, that._change)\n                      .bind(CHANGE, that._change);\n            }\n\n            that.stop(that.source);\n\n            return result;\n        },\n\n        set: function(value) {\n            var source = this.currentSource || this.source;\n\n            var field = kendo.getter(this.path)(source);\n\n            if (typeof field === \"function\") {\n                if (source !== this.source) {\n                    field.call(source, this.source, value);\n                } else {\n                    field.call(source, value);\n                }\n            } else {\n                source.set(this.path, value);\n            }\n        },\n\n        destroy: function() {\n            if (this.observable) {\n                this.source.unbind(CHANGE, this._change);\n                if(this.currentSource) {\n                    this.currentSource.unbind(CHANGE, this._change);\n                }\n            }\n\n            this.unbind();\n        }\n    });\n\n    var EventBinding = Binding.extend( {\n        get: function() {\n            var source = this.source,\n                path = this.path,\n                index = 0,\n                handler;\n\n            handler = source.get(path);\n\n            while (!handler && source) {\n                source = this.parents[++index];\n\n                if (source instanceof ObservableObject) {\n                    handler = source.get(path);\n                }\n            }\n\n            return proxy(handler, source);\n        }\n    });\n\n    var TemplateBinding = Binding.extend( {\n        init: function(source, path, template) {\n            var that = this;\n\n            Binding.fn.init.call(that, source, path);\n\n            that.template = template;\n        },\n\n        render: function(value) {\n            var html;\n\n            this.start(this.source);\n\n            html = kendo.render(this.template, value);\n\n            this.stop(this.source);\n\n            return html;\n        }\n    });\n\n    var Binder = Class.extend({\n        init: function(element, bindings, options) {\n            this.element = element;\n            this.bindings = bindings;\n            this.options = options;\n        },\n\n        bind: function(binding, attribute) {\n            var that = this;\n\n            binding = attribute ? binding[attribute] : binding;\n\n            binding.bind(CHANGE, function(e) {\n                that.refresh(attribute || e);\n            });\n\n            that.refresh(attribute);\n        },\n\n        destroy: function() {\n        }\n    });\n\n    var TypedBinder = Binder.extend({\n        dataType: function() {\n            var dataType = this.element.getAttribute(\"data-\" + kendo.ns + \"type\") || this.element.type || \"text\";\n            return dataType.toLowerCase();\n        },\n\n        parsedValue: function() {\n            return this._parseValue(this.element.value, this.dataType());\n        },\n\n        _parseValue: function (value, dataType){\n            if (dataType == \"date\") {\n                value = kendo.parseDate(value, \"yyyy-MM-dd\");\n            } else if (dataType == \"datetime-local\") {\n                value = kendo.parseDate(value, [\"yyyy-MM-ddTHH:mm:ss\", \"yyyy-MM-ddTHH:mm\"] );\n            } else if (dataType == \"number\") {\n                value = kendo.parseFloat(value);\n            } else if (dataType == \"boolean\"){\n                value = value.toLowerCase();\n                if(kendo.parseFloat(value) !== null){\n                    value = Boolean(kendo.parseFloat(value));\n                }else{\n                    value = (value.toLowerCase() === \"true\");\n                }\n            }\n            return value;\n        }\n    });\n\n    binders.attr = Binder.extend({\n        refresh: function(key) {\n            this.element.setAttribute(key, this.bindings.attr[key].get());\n        }\n    });\n\n    binders.css = Binder.extend({\n        init: function(element, bindings, options) {\n            Binder.fn.init.call(this, element, bindings, options);\n            this.classes = {};\n        },\n        refresh: function(className) {\n            var element = $(this.element),\n                binding = this.bindings.css[className],\n                hasClass = this.classes[className] = binding.get();\n            if(hasClass){\n                element.addClass(className);\n            }else{\n                element.removeClass(className);\n            }\n        }\n    });\n\n    binders.style = Binder.extend({\n        refresh: function(key) {\n            this.element.style[key] = this.bindings.style[key].get() || \"\";\n        }\n    });\n\n    binders.enabled = Binder.extend({\n        refresh: function() {\n            if (this.bindings.enabled.get()) {\n                this.element.removeAttribute(\"disabled\");\n            } else {\n                this.element.setAttribute(\"disabled\", \"disabled\");\n            }\n        }\n    });\n\n    binders.readonly = Binder.extend({\n       refresh: function() {\n            if (this.bindings.readonly.get()) {\n                this.element.setAttribute(\"readonly\", \"readonly\");\n            } else {\n                this.element.removeAttribute(\"readonly\");\n            }\n       }\n    });\n\n    binders.disabled = Binder.extend({\n        refresh: function() {\n            if (this.bindings.disabled.get()) {\n                this.element.setAttribute(\"disabled\", \"disabled\");\n            } else {\n                this.element.removeAttribute(\"disabled\");\n            }\n        }\n    });\n\n    binders.events = Binder.extend({\n        init: function(element, bindings, options) {\n            Binder.fn.init.call(this, element, bindings, options);\n            this.handlers = {};\n        },\n\n        refresh: function(key) {\n            var element = $(this.element),\n                binding = this.bindings.events[key],\n                handler = this.handlers[key];\n\n            if (handler) {\n                element.off(key, handler);\n            }\n\n            handler = this.handlers[key] = binding.get();\n\n            element.on(key, binding.source, handler);\n        },\n\n        destroy: function() {\n            var element = $(this.element),\n                handler;\n\n            for (handler in this.handlers) {\n                element.off(handler, this.handlers[handler]);\n            }\n        }\n    });\n\n    binders.text = Binder.extend({\n        refresh: function() {\n            var text = this.bindings.text.get();\n            var dataFormat = this.element.getAttribute(\"data-\" + kendo.ns + \"format\") || \"\";\n            if (text == null) {\n                text = \"\";\n            }\n\n            $(this.element).text(kendo.toString(text, dataFormat));\n        }\n    });\n\n    binders.visible = Binder.extend({\n        refresh: function() {\n            if (this.bindings.visible.get()) {\n                this.element.style.display = \"\";\n            } else {\n                this.element.style.display = \"none\";\n            }\n        }\n    });\n\n    binders.invisible = Binder.extend({\n        refresh: function() {\n            if (!this.bindings.invisible.get()) {\n                this.element.style.display = \"\";\n            } else {\n                this.element.style.display = \"none\";\n            }\n        }\n  });\n\n    binders.html = Binder.extend({\n        refresh: function() {\n            this.element.innerHTML = this.bindings.html.get();\n        }\n    });\n\n    binders.value = TypedBinder.extend({\n        init: function(element, bindings, options) {\n            TypedBinder.fn.init.call(this, element, bindings, options);\n\n            this._change = proxy(this.change, this);\n            this.eventName = options.valueUpdate || CHANGE;\n\n            $(this.element).on(this.eventName, this._change);\n\n            this._initChange = false;\n        },\n\n        change: function() {\n            this._initChange = this.eventName != CHANGE;\n\n            this.bindings[VALUE].set(this.parsedValue());\n\n            this._initChange = false;\n        },\n\n        refresh: function() {\n            if (!this._initChange) {\n                var value = this.bindings[VALUE].get();\n\n                if (value == null) {\n                    value = \"\";\n                }\n\n                var type = this.dataType();\n\n                if (type == \"date\") {\n                    value = kendo.toString(value, \"yyyy-MM-dd\");\n                } else if (type == \"datetime-local\") {\n                    value = kendo.toString(value, \"yyyy-MM-ddTHH:mm:ss\");\n                }\n\n                this.element.value = value;\n            }\n\n            this._initChange = false;\n        },\n\n        destroy: function() {\n            $(this.element).off(this.eventName, this._change);\n        }\n    });\n\n    binders.source = Binder.extend({\n        init: function(element, bindings, options) {\n            Binder.fn.init.call(this, element, bindings, options);\n\n            var source = this.bindings.source.get();\n\n            if (source instanceof kendo.data.DataSource && options.autoBind !== false) {\n                source.fetch();\n            }\n        },\n\n        refresh: function(e) {\n            var that = this,\n                source = that.bindings.source.get();\n\n            if (source instanceof ObservableArray || source instanceof kendo.data.DataSource) {\n                e = e || {};\n\n                if (e.action == \"add\") {\n                    that.add(e.index, e.items);\n                } else if (e.action == \"remove\") {\n                    that.remove(e.index, e.items);\n                } else if (e.action != \"itemchange\") {\n                    that.render();\n                }\n            } else {\n                that.render();\n            }\n        },\n\n        container: function() {\n            var element = this.element;\n\n            if (element.nodeName.toLowerCase() == \"table\") {\n                if (!element.tBodies[0]) {\n                    element.appendChild(document.createElement(\"tbody\"));\n                }\n                element = element.tBodies[0];\n            }\n\n            return element;\n        },\n\n        template: function() {\n            var options = this.options,\n                template = options.template,\n                nodeName = this.container().nodeName.toLowerCase();\n\n            if (!template) {\n                if (nodeName == \"select\") {\n                    if (options.valueField || options.textField) {\n                        template = kendo.format('<option value=\"#:{0}#\">#:{1}#</option>',\n                            options.valueField || options.textField, options.textField || options.valueField);\n                    } else {\n                        template = \"<option>#:data#</option>\";\n                    }\n                } else if (nodeName == \"tbody\") {\n                    template = \"<tr><td>#:data#</td></tr>\";\n                } else if (nodeName == \"ul\" || nodeName == \"ol\") {\n                    template = \"<li>#:data#</li>\";\n                } else {\n                    template = \"#:data#\";\n                }\n                template = kendo.template(template);\n            }\n\n            return template;\n        },\n\n        add: function(index, items) {\n            var element = this.container(),\n                parents,\n                idx,\n                length,\n                child,\n                clone = element.cloneNode(false),\n                reference = element.children[index];\n\n            $(clone).html(kendo.render(this.template(), items));\n\n            if (clone.children.length) {\n                parents = this.bindings.source._parents();\n\n                for (idx = 0, length = items.length; idx < length; idx++) {\n                    child = clone.children[0];\n                    element.insertBefore(child, reference || null);\n                    bindElement(child, items[idx], this.options.roles, [items[idx]].concat(parents));\n                }\n            }\n        },\n\n        remove: function(index, items) {\n            var idx, element = this.container();\n\n            for (idx = 0; idx < items.length; idx++) {\n                var child = element.children[index];\n                unbindElementTree(child, true);\n                if (child.parentNode == element) {\n                    element.removeChild(child);\n                }\n            }\n        },\n\n        render: function() {\n            var source = this.bindings.source.get(),\n                parents,\n                idx,\n                length,\n                element = this.container(),\n                template = this.template();\n\n            if (source == null) {\n                return;\n            }\n\n            if (source instanceof kendo.data.DataSource) {\n                source = source.view();\n            }\n\n            if (!(source instanceof ObservableArray) && toString.call(source) !== \"[object Array]\") {\n                source = [source];\n            }\n\n            if (this.bindings.template) {\n                unbindElementChildren(element, true);\n\n                $(element).html(this.bindings.template.render(source));\n\n                if (element.children.length) {\n                    parents = this.bindings.source._parents();\n\n                    for (idx = 0, length = source.length; idx < length; idx++) {\n                        bindElement(element.children[idx], source[idx], this.options.roles, [source[idx]].concat(parents));\n                    }\n                }\n            } else {\n                $(element).html(kendo.render(template, source));\n            }\n        }\n    });\n\n    binders.input = {\n        checked: TypedBinder.extend({\n            init: function(element, bindings, options) {\n                TypedBinder.fn.init.call(this, element, bindings, options);\n                this._change = proxy(this.change, this);\n\n                $(this.element).change(this._change);\n            },\n\n            change: function() {\n                var element = this.element;\n                var value = this.value();\n\n                if (element.type == \"radio\") {\n                    value = this.parsedValue();\n                    this.bindings[CHECKED].set(value);\n                } else if (element.type == \"checkbox\") {\n                    var source = this.bindings[CHECKED].get();\n                    var index;\n\n                    if (source instanceof ObservableArray) {\n                        value = this.parsedValue();\n                        if (value instanceof Date) {\n                            for(var i = 0; i < source.length; i++){\n                                if(source[i] instanceof Date && +source[i] === +value){\n                                    index = i;\n                                    break;\n                                }\n                            }\n                        }else{\n                            index = source.indexOf(value);\n                        }\n                        if (index > -1) {\n                            source.splice(index, 1);\n                        } else {\n                            source.push(value);\n                        }\n                    } else {\n                        this.bindings[CHECKED].set(value);\n                    }\n                }\n            },\n\n            refresh: function() {\n                var value = this.bindings[CHECKED].get(),\n                    source = value,\n                    type = this.dataType(),\n                    element = this.element;\n\n                if (element.type == \"checkbox\") {\n                    if (source instanceof ObservableArray) {\n                        var index = -1;\n                        value = this.parsedValue();\n                        if(value instanceof Date){\n                            for(var i = 0; i < source.length; i++){\n                                if(source[i] instanceof Date && +source[i] === +value){\n                                    index = i;\n                                    break;\n                                }\n                            }\n                        }else{\n                            index = source.indexOf(value);\n                        }\n                        element.checked = (index >= 0);\n                    }else{\n                        element.checked = source;\n                    }\n                } else if (element.type == \"radio\") {\n                    if (type == \"date\") {\n                        value = kendo.toString(value, \"yyyy-MM-dd\");\n                    } else if (type == \"datetime-local\") {\n                        value = kendo.toString(value, \"yyyy-MM-ddTHH:mm:ss\");\n                    }\n\n                    if (value !== null && typeof(value) !== \"undefined\" && element.value === value.toString()) {\n                        element.checked = true;\n                    } else {\n                        element.checked = false;\n                    }\n                }\n            },\n\n            value: function() {\n                var element = this.element,\n                    value = element.value;\n\n                if (element.type == \"checkbox\") {\n                    value = element.checked;\n                }\n\n                return value;\n            },\n            destroy: function() {\n                $(this.element).off(CHANGE, this._change);\n            }\n        })\n    };\n\n    binders.select = {\n        source: binders.source.extend({\n            refresh: function(e) {\n                var that = this,\n                    source = that.bindings.source.get();\n\n                if (source instanceof ObservableArray || source instanceof kendo.data.DataSource) {\n                    e = e || {};\n                    if (e.action == \"add\") {\n                        that.add(e.index, e.items);\n                    } else if (e.action == \"remove\") {\n                        that.remove(e.index, e.items);\n                    } else if (e.action == \"itemchange\" || e.action === undefined) {\n                        that.render();\n                        if(that.bindings.value){\n                            if (that.bindings.value) {\n                                var val = retrievePrimitiveValues(that.bindings.value.get(), $(that.element).data(\"valueField\"));\n                                if(val === null) {\n                                    that.element.selectedIndex = -1;\n                                } else {\n                                    that.element.value = val;\n                                }\n                            }\n                        }\n                    }\n                } else {\n                    that.render();\n                }\n            }\n        }),\n        value: TypedBinder.extend({\n            init: function(target, bindings, options) {\n                TypedBinder.fn.init.call(this, target, bindings, options);\n\n                this._change = proxy(this.change, this);\n                $(this.element).change(this._change);\n            },\n\n            parsedValue : function() {\n                var dataType = this.dataType();\n                var values = [];\n                var value, option, idx, length;\n                for (idx = 0, length = this.element.options.length; idx < length; idx++) {\n                    option = this.element.options[idx];\n\n                    if (option.selected) {\n                        value = option.attributes.value;\n\n                        if (value && value.specified) {\n                            value = option.value;\n                        } else {\n                            value = option.text;\n                        }\n\n                        values.push(this._parseValue(value, dataType));\n                    }\n                }\n                return values;\n            },\n\n            change: function() {\n                var values = [],\n                    element = this.element,\n                    source,\n                    field = this.options.valueField || this.options.textField,\n                    valuePrimitive = this.options.valuePrimitive,\n                    option,\n                    valueIndex,\n                    value,\n                    idx,\n                    length;\n\n                for (idx = 0, length = element.options.length; idx < length; idx++) {\n                    option = element.options[idx];\n\n                    if (option.selected) {\n                        value = option.attributes.value;\n\n                        if (value && value.specified) {\n                            value = option.value;\n                        } else {\n                            value = option.text;\n                        }\n\n                        if (field) {\n                            values.push(value);\n                        } else {\n                            values.push(this._parseValue(value, this.dataType()));\n                        }\n\n                    }\n                }\n\n                if (field) {\n                    source = this.bindings.source.get();\n                    if (source instanceof kendo.data.DataSource) {\n                        source = source.view();\n                    }\n\n                    for (valueIndex = 0; valueIndex < values.length; valueIndex++) {\n                        for (idx = 0, length = source.length; idx < length; idx++) {\n                            var sourceValue = source[idx].get(field);\n                            var match = (String(sourceValue) === values[valueIndex]);\n                            if (match) {\n                                values[valueIndex] = source[idx];\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                value = this.bindings[VALUE].get();\n                if (value instanceof ObservableArray) {\n                    value.splice.apply(value, [0, value.length].concat(values));\n                } else if (!valuePrimitive && (value instanceof ObservableObject || value === null || value === undefined || !field)) {\n                    this.bindings[VALUE].set(values[0]);\n                } else {\n                    this.bindings[VALUE].set(values[0].get(field));\n                }\n            },\n            refresh: function() {\n                var optionIndex,\n                    element = this.element,\n                    options = element.options,\n                    value = this.bindings[VALUE].get(),\n                    values = value,\n                    field = this.options.valueField || this.options.textField,\n                    found = false,\n                    type = this.dataType(),\n                    optionValue;\n\n                if (!(values instanceof ObservableArray)) {\n                    values = new ObservableArray([value]);\n                }\n\n                element.selectedIndex = -1;\n\n                for (var valueIndex = 0; valueIndex < values.length; valueIndex++) {\n                    value = values[valueIndex];\n\n\n                    if (field && value instanceof ObservableObject) {\n                        value = value.get(field);\n                    }\n\n                    if (type == \"date\") {\n                        value = kendo.toString(values[valueIndex], \"yyyy-MM-dd\");\n                    } else if (type == \"datetime-local\") {\n                        value = kendo.toString(values[valueIndex], \"yyyy-MM-ddTHH:mm:ss\");\n                    }\n\n                    for (optionIndex = 0; optionIndex < options.length; optionIndex++) {\n                        optionValue = options[optionIndex].value;\n\n                        if (optionValue === \"\" && value !== \"\") {\n                            optionValue = options[optionIndex].text;\n                        }\n\n                        if (value != null && optionValue == value.toString()) {\n                            options[optionIndex].selected = true;\n                            found = true;\n                        }\n                    }\n                }\n            },\n            destroy: function() {\n                $(this.element).off(CHANGE, this._change);\n            }\n        })\n    };\n\n    function dataSourceBinding(bindingName, fieldName, setter) {\n        return Binder.extend({\n            init: function(widget, bindings, options) {\n                var that = this;\n\n                Binder.fn.init.call(that, widget.element[0], bindings, options);\n\n                that.widget = widget;\n                that._dataBinding = proxy(that.dataBinding, that);\n                that._dataBound = proxy(that.dataBound, that);\n                that._itemChange = proxy(that.itemChange, that);\n            },\n\n            itemChange: function(e) {\n                bindElement(e.item[0], e.data, this._ns(e.ns), [e.data].concat(this.bindings[bindingName]._parents()));\n            },\n\n            dataBinding: function(e) {\n                var idx,\n                    length,\n                    widget = this.widget,\n                    items = e.removedItems || widget.items();\n\n                for (idx = 0, length = items.length; idx < length; idx++) {\n                    unbindElementTree(items[idx], false);\n                }\n            },\n\n            _ns: function(ns) {\n                ns = ns || kendo.ui;\n                var all = [ kendo.ui, kendo.dataviz.ui, kendo.mobile.ui ];\n                all.splice($.inArray(ns, all), 1);\n                all.unshift(ns);\n\n                return kendo.rolesFromNamespaces(all);\n            },\n\n            dataBound: function(e) {\n                var idx,\n                    length,\n                    widget = this.widget,\n                    items = e.addedItems || widget.items(),\n                    dataSource = widget[fieldName],\n                    view,\n                    parents,\n                    hds = kendo.data.HierarchicalDataSource;\n\n                if (hds && dataSource instanceof hds) {\n                    // suppress binding of HDS items, because calling view() on root\n                    // will return only root items, and widget.items() returns all items\n                    return;\n                }\n\n                if (items.length) {\n                    view = e.addedDataItems || dataSource.flatView();\n                    parents = this.bindings[bindingName]._parents();\n\n                    for (idx = 0, length = view.length; idx < length; idx++) {\n                        if (items[idx]) {\n                            bindElement(items[idx], view[idx], this._ns(e.ns), [view[idx]].concat(parents));\n                        }\n                    }\n                }\n            },\n\n            refresh: function(e) {\n                var that = this,\n                    source,\n                    widget = that.widget,\n                    select, multiselect, dropdowntree;\n\n                e = e || {};\n\n                if (!e.action) {\n                    that.destroy();\n\n                    widget.bind(\"dataBinding\", that._dataBinding);\n                    widget.bind(\"dataBound\", that._dataBound);\n                    widget.bind(\"itemChange\", that._itemChange);\n\n                    source = that.bindings[bindingName].get();\n\n                    if (widget[fieldName] instanceof kendo.data.DataSource && widget[fieldName] != source) {\n                        if (source instanceof kendo.data.DataSource) {\n                            widget[setter](source);\n                        } else if (source && source._dataSource) {\n                            widget[setter](source._dataSource);\n                        } else {\n                            select = kendo.ui.Select && widget instanceof kendo.ui.Select;\n                            multiselect = kendo.ui.MultiSelect && widget instanceof kendo.ui.MultiSelect;\n                            dropdowntree = kendo.ui.DropDownTree && widget instanceof kendo.ui.DropDownTree;\n\n                            if(!dropdowntree){\n                                widget[fieldName].data(source);\n                            }else{\n                                widget.treeview[fieldName].data(source);\n                            }\n\n                            if (that.bindings.value && (select || multiselect)) {\n                                widget.value(retrievePrimitiveValues(that.bindings.value.get(), widget.options.dataValueField));\n                            }\n                        }\n                    }\n                }\n            },\n\n            destroy: function() {\n                var widget = this.widget;\n\n                widget.unbind(\"dataBinding\", this._dataBinding);\n                widget.unbind(\"dataBound\", this._dataBound);\n                widget.unbind(\"itemChange\", this._itemChange);\n            }\n        });\n    }\n\n    binders.widget = {\n        events : Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n                this.widget = widget;\n                this.handlers = {};\n            },\n\n            refresh: function(key) {\n                var binding = this.bindings.events[key],\n                    handler = this.handlers[key];\n\n                if (handler) {\n                    this.widget.unbind(key, handler);\n                }\n\n                handler = binding.get();\n\n                this.handlers[key] = function(e) {\n                    e.data = binding.source;\n\n                    handler(e);\n\n                    if (e.data === binding.source) {\n                        delete e.data;\n                    }\n                };\n\n                this.widget.bind(key, this.handlers[key]);\n            },\n\n            destroy: function() {\n                var handler;\n\n                for (handler in this.handlers) {\n                    this.widget.unbind(handler, this.handlers[handler]);\n                }\n            }\n        }),\n\n        checked: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n                this._change = proxy(this.change, this);\n                this.widget.bind(CHANGE, this._change);\n            },\n            change: function() {\n                this.bindings[CHECKED].set(this.value());\n            },\n\n            refresh: function() {\n                if (this.element.type === \"radio\") {\n                    this.widget.check(this.bindings[CHECKED].get().toString() === this.value());\n                } else {\n                    this.widget.check(this.bindings[CHECKED].get() === true);\n                }\n            },\n\n            value: function() {\n                var element = this.element,\n                    value = element.value;\n\n                if (value == \"on\" || value == \"off\" || this.element.type == \"checkbox\") {\n                    value = element.checked;\n                }\n\n                return value;\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n\n        start: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n                this._change = proxy(this.change, this);\n                this.widget = widget;\n                this.widget.bind(CHANGE, this._change);\n            },\n\n            change: function() {\n                this.bindings.start.set(this.widget.range().start);\n            },\n\n            refresh: function() {\n                var that = this;\n                var start = this.bindings.start.get();\n                var end = that.widget._range ? that.widget._range.end: null;\n                this.widget.range({start: start, end: end});\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n\n        end: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n                this._change = proxy(this.change, this);\n                this.widget = widget;\n                this.widget.bind(CHANGE, this._change);\n            },\n\n            change: function() {\n                this.bindings.end.set(this.widget.range().end);\n            },\n\n            refresh: function() {\n                var that = this;\n                var end = this.bindings.end.get();\n                var start = that.widget._range ? that.widget._range.start: null;\n                this.widget.range({start: start, end: end});\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n\n        visible: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                var visible = this.bindings.visible.get();\n                this.widget.wrapper[0].style.display = visible ? \"\" : \"none\";\n            }\n        }),\n\n        invisible: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                var invisible = this.bindings.invisible.get();\n                this.widget.wrapper[0].style.display = invisible ? \"none\" : \"\";\n            }\n        }),\n\n        floatingLabel: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                if (!widget.floatingLabel) {\n                    return;\n                }\n\n                widget.floatingLabel.refresh();\n            }\n        }),\n\n        enabled: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                if (this.widget.enable) {\n                    this.widget.enable(this.bindings.enabled.get());\n                }\n            }\n        }),\n\n        disabled: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                if (this.widget.enable) {\n                    this.widget.enable(!this.bindings.disabled.get());\n                }\n            }\n        }),\n\n        source: dataSourceBinding(\"source\", \"dataSource\", \"setDataSource\"),\n\n        value: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n                this._change = $.proxy(this.change, this);\n                this.widget.first(CHANGE, this._change);\n\n                var value = this.bindings.value.get();\n\n                this._valueIsObservableObject = !options.valuePrimitive && (value == null || value instanceof ObservableObject);\n                this._valueIsObservableArray = value instanceof ObservableArray;\n                this._initChange = false;\n            },\n\n            _source: function() {\n                var source;\n\n                if (this.widget.dataItem) {\n                    source = this.widget.dataItem();\n                    if (source && source instanceof ObservableObject) {\n                        return [source];\n                    }\n                }\n\n                if (this.bindings.source) {\n                    source = this.bindings.source.get();\n                }\n\n                if (!source || source instanceof kendo.data.DataSource) {\n                    source = this.widget.dataSource.flatView();\n                }\n\n                return source;\n            },\n\n            change: function() {\n                var value = this.widget.value(),\n                    field = this.options.dataValueField || this.options.dataTextField,\n                    isArray = toString.call(value) === \"[object Array]\",\n                    isObservableObject = this._valueIsObservableObject,\n                    valueIndex, valueLength, values = [],\n                    sourceItem, sourceValue,\n                    idx, length, source;\n\n                this._initChange = true;\n\n                if (field) {\n\n                    if (value === \"\" && (isObservableObject || this.options.valuePrimitive)) {\n                        value = null;\n                    } else {\n                        source = this._source();\n\n                        if (isArray) {\n                            valueLength = value.length;\n                            values = value.slice(0);\n                        }\n\n                        for (idx = 0, length = source.length; idx < length; idx++) {\n                            sourceItem = source[idx];\n                            sourceValue = sourceItem.get(field);\n\n                            if (isArray) {\n                                for (valueIndex = 0; valueIndex < valueLength; valueIndex++) {\n                                    if (sourceValue == values[valueIndex]) {\n                                        values[valueIndex] = sourceItem;\n                                        break;\n                                    }\n                                }\n                            } else if (sourceValue == value) {\n                                value = isObservableObject ? sourceItem : sourceValue;\n                                break;\n                            }\n                        }\n\n                        if (values[0]) {\n                            if (this._valueIsObservableArray) {\n                                value = values;\n                            } else if (isObservableObject || !field) {\n                                value = values[0];\n                            } else {\n                                value = values[0].get(field);\n                            }\n                        }\n                    }\n                }\n\n                this.bindings.value.set(value);\n                this._initChange = false;\n            },\n\n            refresh: function() {\n                if (!this._initChange) {\n                    var widget = this.widget;\n                    var options = widget.options;\n                    var textField = options.dataTextField;\n                    var valueField = options.dataValueField || textField;\n                    var value = this.bindings.value.get();\n                    var text = options.text || \"\";\n                    var idx = 0, length;\n                    var values = [];\n\n                    if (value === undefined) {\n                        value = null;\n                    }\n\n                    if (valueField) {\n                        if (value instanceof ObservableArray) {\n                            for (length = value.length; idx < length; idx++) {\n                                values[idx] = value[idx].get(valueField);\n                            }\n                            value = values;\n                        } else if (value instanceof ObservableObject) {\n                            text = value.get(textField);\n                            value = value.get(valueField);\n                        }\n                    }\n\n                    if (options.autoBind === false && !options.cascadeFrom && widget.listView && !widget.listView.bound()) {\n                        if (textField === valueField && !text) {\n                            text = value;\n                        }\n\n                        if (!text && (value || value === 0) && options.valuePrimitive) {\n                            widget.value(value);\n                        } else {\n                            widget._preselect(value, text);\n                        }\n                    } else {\n                        widget.value(value);\n                    }\n                }\n\n                this._initChange = false;\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n        dropdowntree: {\n            value: Binder.extend({\n                init: function(widget, bindings, options) {\n                    Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                    this.widget = widget;\n                    this._change = $.proxy(this.change, this);\n                    this.widget.first(CHANGE, this._change);\n                    this._initChange = false;\n                },\n\n                change: function() {\n                    var that = this,\n                        oldValues = that.bindings[VALUE].get(),\n                        valuePrimitive = that.options.valuePrimitive,\n                        selectedNode = that.widget.treeview.select(),\n                        nonPrimitiveValues = that.widget._isMultipleSelection() ? that.widget._getAllChecked(): (that.widget.treeview.dataItem(selectedNode) || that.widget.value()),\n                        newValues = (valuePrimitive || that.widget.options.autoBind === false) ? that.widget.value() : nonPrimitiveValues;\n\n                    var field = this.options.dataValueField || this.options.dataTextField;\n\n                    newValues = newValues.slice ? newValues.slice(0): newValues;\n\n                    that._initChange = true;\n\n                    if (oldValues instanceof ObservableArray) {\n                        var remove = [];\n                        var newLength = newValues.length;\n                        var i = 0, j = 0;\n                        var old = oldValues[i];\n                        var same = false;\n                        var removeIndex;\n                        var newValue;\n                        var found;\n\n                        while (old !== undefined) {\n                            found = false;\n                            for (j = 0; j < newLength; j++) {\n                                if (valuePrimitive) {\n                                    same = newValues[j] == old;\n                                } else {\n                                    newValue = newValues[j];\n\n                                    newValue = newValue.get ? newValue.get(field) : newValue;\n                                    same = newValue == (old.get ? old.get(field) : old);\n                                }\n\n                                if (same) {\n                                    newValues.splice(j, 1);\n                                    newLength -= 1;\n                                    found = true;\n                                    break;\n                                }\n                            }\n\n                            if (!found) {\n                                remove.push(old);\n                                arraySplice(oldValues, i, 1);\n                                removeIndex = i;\n                            } else {\n                                i += 1;\n                            }\n\n                            old = oldValues[i];\n                        }\n\n                        arraySplice(oldValues, oldValues.length, 0, newValues);\n\n                        if (remove.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"remove\",\n                                items: remove,\n                                index: removeIndex\n                            });\n                        }\n\n                        if (newValues.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"add\",\n                                items: newValues,\n                                index: oldValues.length - 1\n                            });\n                        }\n                    } else {\n                        that.bindings[VALUE].set(newValues);\n                    }\n\n                    that._initChange = false;\n                },\n\n                refresh: function() {\n                    if (!this._initChange) {\n                        var options = this.options,\n                            widget = this.widget,\n                            field = options.dataValueField || options.dataTextField,\n                            value = this.bindings.value.get(),\n                            data = value,\n                            idx = 0, length,\n                            values = [],\n                            selectedValue;\n\n                        if (field) {\n                            if (value instanceof ObservableArray) {\n                                for (length = value.length; idx < length; idx++) {\n                                    selectedValue = value[idx];\n                                    values[idx] = selectedValue.get ? selectedValue.get(field) : selectedValue;\n                                }\n                                value = values;\n                            } else if (value instanceof ObservableObject) {\n                                value = value.get(field);\n                            }\n                        }\n                        if (options.autoBind === false && options.valuePrimitive !== true) {\n                            widget._preselect(data, value);\n                        } else {\n                            widget.value(value);\n                        }\n                   }\n                },\n\n                destroy: function() {\n                    this.widget.unbind(CHANGE, this._change);\n                }\n            })\n        },\n        gantt: {\n            dependencies: dataSourceBinding(\"dependencies\", \"dependencies\", \"setDependenciesDataSource\")\n        },\n\n        multiselect: {\n            value: Binder.extend({\n                init: function(widget, bindings, options) {\n                    Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                    this.widget = widget;\n                    this._change = $.proxy(this.change, this);\n                    this.widget.first(CHANGE, this._change);\n                    this._initChange = false;\n                },\n\n                change: function() {\n                    var that = this,\n                        oldValues = that.bindings[VALUE].get(),\n                        valuePrimitive = that.options.valuePrimitive,\n                        newValues = valuePrimitive ? that.widget.value() : that.widget.dataItems();\n\n                    var field = this.options.dataValueField || this.options.dataTextField;\n\n                    newValues = newValues.slice(0);\n\n                    that._initChange = true;\n\n                    if (oldValues instanceof ObservableArray) {\n                        var remove = [];\n\n                        var newLength = newValues.length;\n\n                        var i = 0, j = 0;\n                        var old = oldValues[i];\n                        var same = false;\n                        var removeIndex;\n                        var newValue;\n                        var found;\n\n                        while (old !== undefined) {\n                            found = false;\n                            for (j = 0; j < newLength; j++) {\n                                if (valuePrimitive) {\n                                    same = newValues[j] == old;\n                                } else {\n                                    newValue = newValues[j];\n\n                                    newValue = newValue.get ? newValue.get(field) : newValue;\n                                    same = newValue == (old.get ? old.get(field) : old);\n                                }\n\n                                if (same) {\n                                    newValues.splice(j, 1);\n                                    newLength -= 1;\n                                    found = true;\n                                    break;\n                                }\n                            }\n\n                            if (!found) {\n                                remove.push(old);\n                                arraySplice(oldValues, i, 1);\n                                removeIndex = i;\n                            } else {\n                                i += 1;\n                            }\n\n                            old = oldValues[i];\n                        }\n\n                        arraySplice(oldValues, oldValues.length, 0, newValues);\n\n                        if (remove.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"remove\",\n                                items: remove,\n                                index: removeIndex\n                            });\n                        }\n\n                        if (newValues.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"add\",\n                                items: newValues,\n                                index: oldValues.length - 1\n                            });\n                        }\n                    } else {\n                        that.bindings[VALUE].set(newValues);\n                    }\n\n                    that._initChange = false;\n                },\n\n                refresh: function() {\n                    if (!this._initChange) {\n                        var options = this.options,\n                            widget = this.widget,\n                            field = options.dataValueField || options.dataTextField,\n                            value = this.bindings.value.get(),\n                            data = value,\n                            idx = 0, length,\n                            values = [],\n                            selectedValue;\n\n                        if (value === undefined) {\n                            value = null;\n                        }\n\n                        if (field) {\n                            if (value instanceof ObservableArray) {\n                                for (length = value.length; idx < length; idx++) {\n                                    selectedValue = value[idx];\n                                    values[idx] = selectedValue.get ? selectedValue.get(field) : selectedValue;\n                                }\n                                value = values;\n                            } else if (value instanceof ObservableObject) {\n                                value = value.get(field);\n                            }\n                        }\n\n                        if (options.autoBind === false && options.valuePrimitive !== true && !widget._isBound()) {\n                            widget._preselect(data, value);\n                        } else {\n                            widget.value(value);\n                        }\n                    }\n                },\n\n                destroy: function() {\n                    this.widget.unbind(CHANGE, this._change);\n                }\n\n            })\n        },\n        scheduler: {\n            source: dataSourceBinding(\"source\", \"dataSource\", \"setDataSource\").extend({\n                dataBound: function(e) {\n                    var idx;\n                    var length;\n                    var widget = this.widget;\n                    var elements = e.addedItems || widget.items();\n                    var data, parents;\n\n                    if (elements.length) {\n                        data = e.addedDataItems || widget.dataItems();\n                        parents = this.bindings.source._parents();\n\n                        for (idx = 0, length = data.length; idx < length; idx++) {\n                            bindElement(elements[idx], data[idx], this._ns(e.ns), [data[idx]].concat(parents));\n                        }\n                    }\n                }\n            })\n        },\n\n        grid: {\n            source: dataSourceBinding(\"source\", \"dataSource\", \"setDataSource\").extend({\n                dataBound: function(e) {\n                    var idx,\n                    length,\n                    widget = this.widget,\n                    elements = e.addedItems || widget.items(),\n                    parents,\n                    data;\n\n                    if (elements.length) {\n                        data = e.addedDataItems || widget.dataItems();\n                        parents = this.bindings.source._parents();\n\n                        for (idx = 0, length = data.length; idx < length; idx++) {\n                            bindElement(elements[idx], data[idx], this._ns(e.ns), [data[idx]].concat(parents));\n                        }\n                    }\n                }\n            })\n        },\n\n        badge: {\n            text: Binder.extend({\n                init: function(widget, bindings, options) {\n                    Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                    this.widget = widget;\n                },\n                refresh: function() {\n                    var text = this.bindings.text.get();\n\n                    if (text == null) {\n                        text = \"\";\n                    }\n                    this.widget.text(text);\n                }\n            })\n        }\n    };\n\n    var arraySplice = function(arr, idx, remove, add) {\n        add = add || [];\n        remove = remove || 0;\n\n        var addLength = add.length;\n        var oldLength = arr.length;\n\n        var shifted = [].slice.call(arr, idx + remove);\n        var shiftedLength = shifted.length;\n        var index;\n\n        if (addLength) {\n            addLength = idx + addLength;\n            index = 0;\n\n            for (; idx < addLength; idx++) {\n                arr[idx] = add[index];\n                index++;\n            }\n\n            arr.length = addLength;\n        } else if (remove) {\n            arr.length = idx;\n\n            remove += idx;\n            while (idx < remove) {\n                delete arr[--remove];\n            }\n        }\n\n        if (shiftedLength) {\n            shiftedLength = idx + shiftedLength;\n            index = 0;\n\n            for (; idx < shiftedLength; idx++) {\n                arr[idx] = shifted[index];\n                index++;\n            }\n\n            arr.length = shiftedLength;\n        }\n\n        idx = arr.length;\n\n        while (idx < oldLength) {\n            delete arr[idx];\n            idx++;\n        }\n    };\n\n    var BindingTarget = Class.extend( {\n        init: function(target, options) {\n            this.target = target;\n            this.options = options;\n            this.toDestroy = [];\n        },\n\n        bind: function(bindings) {\n            var key,\n                hasValue,\n                hasSource,\n                hasEvents,\n                hasChecked,\n                hasCss,\n                widgetBinding = this instanceof WidgetBindingTarget,\n                specificBinders = this.binders();\n\n            for (key in bindings) {\n                if (key == VALUE) {\n                    hasValue = true;\n                } else if (key == SOURCE) {\n                    hasSource = true;\n                } else if (key == EVENTS && !widgetBinding) {\n                    hasEvents = true;\n                } else if (key == CHECKED) {\n                    hasChecked = true;\n                } else if (key == CSS) {\n                    hasCss = true;\n                } else {\n                    this.applyBinding(key, bindings, specificBinders);\n                }\n            }\n            if (hasSource) {\n                this.applyBinding(SOURCE, bindings, specificBinders);\n            }\n\n            if (hasValue) {\n                this.applyBinding(VALUE, bindings, specificBinders);\n            }\n\n            if (hasChecked) {\n                this.applyBinding(CHECKED, bindings, specificBinders);\n            }\n\n            if (hasEvents && !widgetBinding) {\n                this.applyBinding(EVENTS, bindings, specificBinders);\n            }\n\n            if (hasCss && !widgetBinding) {\n                this.applyBinding(CSS, bindings, specificBinders);\n            }\n\n            if (widgetBinding && this.target && this.target.floatingLabel) {\n                this.applyBinding(\"floatingLabel\", bindings, specificBinders);\n            }\n        },\n\n        binders: function() {\n            return binders[this.target.nodeName.toLowerCase()] || {};\n        },\n\n        applyBinding: function(name, bindings, specificBinders) {\n            var binder = specificBinders[name] || binders[name],\n                toDestroy = this.toDestroy,\n                attribute,\n                binding = bindings[name];\n\n            if (binder) {\n                binder = new binder(this.target, bindings, this.options);\n\n                toDestroy.push(binder);\n\n                if (binding instanceof Binding) {\n                    binder.bind(binding);\n                    toDestroy.push(binding);\n                } else {\n                    for (attribute in binding) {\n                        binder.bind(binding, attribute);\n                        toDestroy.push(binding[attribute]);\n                    }\n                }\n            } else if (name !== \"template\") {\n                throw new Error(\"The \" + name + \" binding is not supported by the \" + this.target.nodeName.toLowerCase() + \" element\");\n            }\n        },\n\n        destroy: function() {\n            var idx,\n                length,\n                toDestroy = this.toDestroy;\n\n            for (idx = 0, length = toDestroy.length; idx < length; idx++) {\n                toDestroy[idx].destroy();\n            }\n        }\n    });\n\n    var WidgetBindingTarget = BindingTarget.extend( {\n        binders: function() {\n            return binders.widget[this.target.options.name.toLowerCase()] || {};\n        },\n\n        applyBinding: function(name, bindings, specificBinders) {\n            var binder = specificBinders[name] || binders.widget[name],\n                toDestroy = this.toDestroy,\n                attribute,\n                binding = bindings[name];\n\n            if (binder) {\n                binder = new binder(this.target, bindings, this.target.options);\n\n                toDestroy.push(binder);\n\n\n                if (binding instanceof Binding) {\n                    binder.bind(binding);\n                    toDestroy.push(binding);\n                } else {\n                    for (attribute in binding) {\n                        binder.bind(binding, attribute);\n                        toDestroy.push(binding[attribute]);\n                    }\n                }\n            } else {\n                throw new Error(\"The \" + name + \" binding is not supported by the \" + this.target.options.name + \" widget\");\n            }\n        }\n    });\n\n    function bindingTargetForRole(element, roles) {\n        var widget = kendo.initWidget(element, {}, roles);\n\n        if (widget) {\n            return new WidgetBindingTarget(widget);\n        }\n    }\n\n    var keyValueRegExp = /[A-Za-z0-9_\\-]+:(\\{([^}]*)\\}|[^,}]+)/g,\n        whiteSpaceRegExp = /\\s/g;\n\n    function parseBindings(bind) {\n        var result = {},\n            idx,\n            length,\n            token,\n            colonIndex,\n            key,\n            value,\n            tokens;\n\n        tokens = bind.match(keyValueRegExp);\n\n        for (idx = 0, length = tokens.length; idx < length; idx++) {\n            token = tokens[idx];\n            colonIndex = token.indexOf(\":\");\n\n            key = token.substring(0, colonIndex);\n            value = token.substring(colonIndex + 1);\n\n            if (value.charAt(0) == \"{\") {\n                value = parseBindings(value);\n            }\n\n            result[key] = value;\n        }\n\n        return result;\n    }\n\n    function createBindings(bindings, source, type) {\n        var binding,\n            result = {};\n\n        for (binding in bindings) {\n            result[binding] = new type(source, bindings[binding]);\n        }\n\n        return result;\n    }\n\n    function bindElement(element, source, roles, parents) {\n\n        if(!element || element.getAttribute(\"data-\" + kendo.ns + \"stop\")){\n            return;\n        }\n\n        var role = element.getAttribute(\"data-\" + kendo.ns + \"role\"),\n            idx,\n            bind = element.getAttribute(\"data-\" + kendo.ns + \"bind\"),\n            childrenCopy = [],\n            deep = true,\n            bindings,\n            options = {},\n            target;\n\n        parents = parents || [source];\n\n        if (role || bind) {\n            unbindElement(element, false);\n        }\n\n        if (role) {\n            target = bindingTargetForRole(element, roles);\n        }\n\n        if (bind) {\n            bind = parseBindings(bind.replace(whiteSpaceRegExp, \"\"));\n\n            if (!target) {\n                options = kendo.parseOptions(element, {textField: \"\", valueField: \"\", template: \"\", valueUpdate: CHANGE, valuePrimitive: false, autoBind: true}, source);\n                options.roles = roles;\n                target = new BindingTarget(element, options);\n            }\n\n            target.source = source;\n\n            bindings = createBindings(bind, parents, Binding);\n\n            if (options.template) {\n                bindings.template = new TemplateBinding(parents, \"\", options.template);\n            }\n\n            if (bindings.click) {\n                bind.events = bind.events || {};\n                bind.events.click = bind.click;\n                bindings.click.destroy();\n                delete bindings.click;\n            }\n\n            if (bindings.source) {\n                deep = false;\n            }\n\n            if (bind.attr) {\n                bindings.attr = createBindings(bind.attr, parents, Binding);\n            }\n\n            if (bind.style) {\n                bindings.style = createBindings(bind.style, parents, Binding);\n            }\n\n            if (bind.events) {\n                bindings.events = createBindings(bind.events, parents, EventBinding);\n            }\n\n            if (bind.css) {\n                bindings.css = createBindings(bind.css, parents, Binding);\n            }\n\n            target.bind(bindings);\n        }\n\n        if (target) {\n            element.kendoBindingTarget = target;\n        }\n\n        var children = element.children;\n        if (deep && children && !element.getAttribute(\"data-\" + kendo.ns + \"stop\")) {\n            // https://github.com/telerik/kendo/issues/1240 for the weirdness.\n            for (idx = 0; idx < children.length; idx++) {\n                childrenCopy[idx] = children[idx];\n            }\n\n            for (idx = 0; idx < childrenCopy.length; idx++) {\n                bindElement(childrenCopy[idx], source, roles, parents);\n            }\n        }\n    }\n\n    function bind(dom, object) {\n        var idx,\n            length,\n            node,\n            roles = kendo.rolesFromNamespaces([].slice.call(arguments, 2));\n\n        object = kendo.observable(object);\n        dom = $(dom);\n\n        for (idx = 0, length = dom.length; idx < length; idx++) {\n            node = dom[idx];\n            if (node.nodeType === 1) {\n                bindElement(node, object, roles);\n            }\n        }\n    }\n\n    function unbindElement(element, destroyWidget) {\n        var bindingTarget = element.kendoBindingTarget;\n\n        if (bindingTarget) {\n            bindingTarget.destroy();\n\n            if (deleteExpando) {\n                delete element.kendoBindingTarget;\n            } else if (element.removeAttribute) {\n                element.removeAttribute(\"kendoBindingTarget\");\n            } else {\n                element.kendoBindingTarget = null;\n            }\n        }\n\n        if(destroyWidget) {\n            var widget = kendo.widgetInstance($(element));\n            if (widget && typeof widget.destroy === FUNCTION) {\n                widget.destroy();\n            }\n        }\n    }\n\n    function unbindElementTree(element, destroyWidgets) {\n        unbindElement(element, destroyWidgets);\n\n        unbindElementChildren(element, destroyWidgets);\n    }\n\n    function unbindElementChildren(element, destroyWidgets) {\n        var children = element.children;\n\n        if (children) {\n            for (var idx = 0, length = children.length; idx < length; idx++) {\n                unbindElementTree(children[idx], destroyWidgets);\n            }\n        }\n    }\n\n    function unbind(dom) {\n        var idx, length;\n\n        dom = $(dom);\n\n        for (idx = 0, length = dom.length; idx < length; idx++ ) {\n            unbindElementTree(dom[idx], false);\n        }\n    }\n\n    function notify(widget, namespace) {\n        var element = widget.element,\n            bindingTarget = element[0].kendoBindingTarget;\n\n        if (bindingTarget) {\n            bind(element, bindingTarget.source, namespace);\n        }\n    }\n\n    function retrievePrimitiveValues(value, valueField) {\n        var values = [];\n        var idx = 0;\n        var length;\n        var item;\n\n        if (!valueField) {\n            return value;\n        }\n\n        if (value instanceof ObservableArray) {\n            for (length = value.length; idx < length; idx++) {\n                item = value[idx];\n                values[idx] = item.get ? item.get(valueField) : item[valueField];\n            }\n            value = values;\n        } else if (value instanceof ObservableObject) {\n            value = value.get(valueField);\n        }\n\n        return value;\n    }\n\n    kendo.unbind = unbind;\n    kendo.bind = bind;\n    kendo.data.binders = binders;\n    kendo.data.Binder = Binder;\n    kendo.notify = notify;\n\n    kendo.observable = function(object) {\n        if (!(object instanceof ObservableObject)) {\n            object = new ObservableObject(object);\n        }\n\n        return object;\n    };\n\n    kendo.observableHierarchy = function(array) {\n        var dataSource = kendo.data.HierarchicalDataSource.create(array);\n\n        function recursiveRead(data) {\n            var i, children;\n\n            for (i = 0; i < data.length; i++) {\n                data[i]._initChildren();\n\n                children = data[i].children;\n\n                children.fetch();\n\n                data[i].items = children.data();\n\n                recursiveRead(data[i].items);\n            }\n        }\n\n        dataSource.fetch();\n\n        recursiveRead(dataSource.data());\n\n        dataSource._data._dataSource = dataSource;\n\n        return dataSource._data;\n    };\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.fx',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"fx\",\n    name: \"Effects\",\n    category: \"framework\",\n    description: \"Required for animation effects in all Kendo UI widgets.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        fx = kendo.effects,\n        each = $.each,\n        extend = $.extend,\n        proxy = $.proxy,\n        support = kendo.support,\n        browser = support.browser,\n        transforms = support.transforms,\n        transitions = support.transitions,\n        scaleProperties = { scale: 0, scalex: 0, scaley: 0, scale3d: 0 },\n        translateProperties = { translate: 0, translatex: 0, translatey: 0, translate3d: 0 },\n        hasZoom = (typeof document.documentElement.style.zoom !== \"undefined\") && !transforms,\n        matrix3dRegExp = /matrix3?d?\\s*\\(.*,\\s*([\\d\\.\\-]+)\\w*?,\\s*([\\d\\.\\-]+)\\w*?,\\s*([\\d\\.\\-]+)\\w*?,\\s*([\\d\\.\\-]+)\\w*?/i,\n        cssParamsRegExp = /^(-?[\\d\\.\\-]+)?[\\w\\s]*,?\\s*(-?[\\d\\.\\-]+)?[\\w\\s]*/i,\n        translateXRegExp = /translatex?$/i,\n        oldEffectsRegExp = /(zoom|fade|expand)(\\w+)/,\n        singleEffectRegExp = /(zoom|fade|expand)/,\n        unitRegExp = /[xy]$/i,\n        transformProps = [\"perspective\", \"rotate\", \"rotatex\", \"rotatey\", \"rotatez\", \"rotate3d\", \"scale\", \"scalex\", \"scaley\", \"scalez\", \"scale3d\", \"skew\", \"skewx\", \"skewy\", \"translate\", \"translatex\", \"translatey\", \"translatez\", \"translate3d\", \"matrix\", \"matrix3d\"],\n        transform2d = [\"rotate\", \"scale\", \"scalex\", \"scaley\", \"skew\", \"skewx\", \"skewy\", \"translate\", \"translatex\", \"translatey\", \"matrix\"],\n        transform2units = { \"rotate\": \"deg\", scale: \"\", skew: \"px\", translate: \"px\" },\n        cssPrefix = transforms.css,\n        round = Math.round,\n        BLANK = \"\",\n        PX = \"px\",\n        NONE = \"none\",\n        AUTO = \"auto\",\n        WIDTH = \"width\",\n        HEIGHT = \"height\",\n        HIDDEN = \"hidden\",\n        ORIGIN = \"origin\",\n        ABORT_ID = \"abortId\",\n        OVERFLOW = \"overflow\",\n        TRANSLATE = \"translate\",\n        POSITION = \"position\",\n        COMPLETE_CALLBACK = \"completeCallback\",\n        TRANSITION = cssPrefix + \"transition\",\n        TRANSFORM = cssPrefix + \"transform\",\n        BACKFACE = cssPrefix + \"backface-visibility\",\n        PERSPECTIVE = cssPrefix + \"perspective\",\n        DEFAULT_PERSPECTIVE = \"1500px\",\n        TRANSFORM_PERSPECTIVE = \"perspective(\" + DEFAULT_PERSPECTIVE + \")\",\n        directions = {\n            left: {\n                reverse: \"right\",\n                property: \"left\",\n                transition: \"translatex\",\n                vertical: false,\n                modifier: -1\n            },\n            right: {\n                reverse: \"left\",\n                property: \"left\",\n                transition: \"translatex\",\n                vertical: false,\n                modifier: 1\n            },\n            down: {\n                reverse: \"up\",\n                property: \"top\",\n                transition: \"translatey\",\n                vertical: true,\n                modifier: 1\n            },\n            up: {\n                reverse: \"down\",\n                property: \"top\",\n                transition: \"translatey\",\n                vertical: true,\n                modifier: -1\n            },\n            top: {\n                reverse: \"bottom\"\n            },\n            bottom: {\n                reverse: \"top\"\n            },\n            \"in\": {\n                reverse: \"out\",\n                modifier: -1\n            },\n            out: {\n                reverse: \"in\",\n                modifier: 1\n            },\n\n            vertical: {\n                reverse: \"vertical\"\n            },\n\n            horizontal: {\n                reverse: \"horizontal\"\n            }\n        };\n\n    kendo.directions = directions;\n\n    extend($.fn, {\n        kendoStop: function(clearQueue, gotoEnd) {\n            if (transitions) {\n                return fx.stopQueue(this, clearQueue || false, gotoEnd || false);\n            } else {\n                return this.stop(clearQueue, gotoEnd);\n            }\n        }\n    });\n\n    /* jQuery support for all transform animations (FF 3.5/3.6, Opera 10.x, IE9 */\n\n    if (transforms && !transitions) {\n        each(transform2d, function(idx, value) {\n            $.fn[value] = function(val) {\n                if (typeof val == \"undefined\") {\n                    return animationProperty(this, value);\n                } else {\n                    var that = $(this)[0],\n                        transformValue = value + \"(\" + val + transform2units[value.replace(unitRegExp, \"\")] + \")\";\n\n                    if (that.style.cssText.indexOf(TRANSFORM) == -1) {\n                        $(this).css(TRANSFORM, transformValue);\n                    } else {\n                        that.style.cssText = that.style.cssText.replace(new RegExp(value + \"\\\\(.*?\\\\)\", \"i\"), transformValue);\n                    }\n                }\n                return this;\n            };\n\n            $.fx.step[value] = function (fx) {\n                $(fx.elem)[value](fx.now);\n            };\n        });\n\n        var curProxy = $.fx.prototype.cur;\n        $.fx.prototype.cur = function () {\n            if (transform2d.indexOf(this.prop) != -1) {\n                return parseFloat($(this.elem)[this.prop]());\n            }\n\n            return curProxy.apply(this, arguments);\n        };\n    }\n\n    kendo.toggleClass = function(element, classes, options, add) {\n        if (classes) {\n            classes = classes.split(\" \");\n\n            if (transitions) {\n                options = extend({\n                    exclusive: \"all\",\n                    duration: 400,\n                    ease: \"ease-out\"\n                }, options);\n\n                element.css(TRANSITION, options.exclusive + \" \" + options.duration + \"ms \" + options.ease);\n                setTimeout(function() {\n                    element.css(TRANSITION, \"\").css(HEIGHT);\n                }, options.duration); // TODO: this should fire a kendoAnimate session instead.\n            }\n\n            each(classes, function(idx, value) {\n                element.toggleClass(value, add);\n            });\n        }\n\n        return element;\n    };\n\n    kendo.parseEffects = function(input, mirror) {\n        var effects = {};\n\n        if (typeof input === \"string\") {\n            each(input.split(\" \"), function(idx, value) {\n                var redirectedEffect = !singleEffectRegExp.test(value),\n                    resolved = value.replace(oldEffectsRegExp, function(match, $1, $2) {\n                        return $1 + \":\" + $2.toLowerCase();\n                    }), // Support for old zoomIn/fadeOut style, now deprecated.\n                    effect = resolved.split(\":\"),\n                    direction = effect[1],\n                    effectBody = {};\n\n                if (effect.length > 1) {\n                    effectBody.direction = (mirror && redirectedEffect ? directions[direction].reverse : direction);\n                }\n\n                effects[effect[0]] = effectBody;\n            });\n        } else {\n            each(input, function(idx) {\n                var direction = this.direction;\n\n                if (direction && mirror && !singleEffectRegExp.test(idx)) {\n                    this.direction = directions[direction].reverse;\n                }\n\n                effects[idx] = this;\n            });\n        }\n\n        return effects;\n    };\n\n    function parseInteger(value) {\n        return parseInt(value, 10);\n    }\n\n    function parseCSS(element, property) {\n        return parseInteger(element.css(property));\n    }\n\n    function keys(obj) {\n        var acc = [];\n        for (var propertyName in obj) {\n            acc.push(propertyName);\n        }\n        return acc;\n    }\n\n    function strip3DTransforms(properties) {\n        for (var key in properties) {\n            if (transformProps.indexOf(key) != -1 && transform2d.indexOf(key) == -1) {\n                delete properties[key];\n            }\n        }\n\n        return properties;\n    }\n\n    function normalizeCSS(element, properties) {\n        var transformation = [], cssValues = {}, lowerKey, key, value, isTransformed;\n\n        for (key in properties) {\n            lowerKey = key.toLowerCase();\n            isTransformed = transforms && transformProps.indexOf(lowerKey) != -1;\n\n            if (!support.hasHW3D && isTransformed && transform2d.indexOf(lowerKey) == -1) {\n                delete properties[key];\n            } else {\n                value = properties[key];\n\n                if (isTransformed) {\n                    transformation.push(key + \"(\" + value + \")\");\n                } else {\n                    cssValues[key] = value;\n                }\n            }\n        }\n\n        if (transformation.length) {\n            cssValues[TRANSFORM] = transformation.join(\" \");\n        }\n\n        return cssValues;\n    }\n\n    if (transitions) {\n        extend(fx, {\n            transition: function(element, properties, options) {\n                var css,\n                    delay = 0,\n                    oldKeys = element.data(\"keys\") || [],\n                    timeoutID;\n\n                options = extend({\n                        duration: 200,\n                        ease: \"ease-out\",\n                        complete: null,\n                        exclusive: \"all\"\n                    },\n                    options\n                );\n\n                var stopTransitionCalled = false;\n\n                var stopTransition = function() {\n                    if (!stopTransitionCalled) {\n                        stopTransitionCalled = true;\n\n                        if (timeoutID) {\n                            clearTimeout(timeoutID);\n                            timeoutID = null;\n                        }\n\n                        element\n                        .removeData(ABORT_ID)\n                        .dequeue()\n                        .css(TRANSITION, \"\")\n                        .css(TRANSITION);\n\n                        options.complete.call(element);\n                    }\n                };\n\n                options.duration = $.fx ? $.fx.speeds[options.duration] || options.duration : options.duration;\n\n                css = normalizeCSS(element, properties);\n\n                $.merge(oldKeys, keys(css));\n\n                if ($.hasOwnProperty(\"uniqueSort\")) {\n                    element\n                        .data(\"keys\", $.uniqueSort(oldKeys))\n                        .height();\n                } else {\n                    element\n                        .data(\"keys\", $.unique(oldKeys))\n                        .height();\n                }\n\n                element.css(TRANSITION, options.exclusive + \" \" + options.duration + \"ms \" + options.ease).css(TRANSITION);\n                element.css(css).css(TRANSFORM);\n\n                /**\n                 * Use transitionEnd event for browsers who support it - but duplicate it with setTimeout, as the transitionEnd event will not be triggered if no CSS properties change.\n                 * This should be cleaned up at some point (widget by widget), and refactored to widgets not relying on the complete callback if no transition occurs.\n                 *\n                 * For IE9 and below, resort to setTimeout.\n                 */\n                if (transitions.event) {\n                    element.one(transitions.event, stopTransition);\n                    if (options.duration !== 0) {\n                        delay = 500;\n                    }\n                }\n\n                timeoutID = setTimeout(stopTransition, options.duration + delay);\n                element.data(ABORT_ID, timeoutID);\n                element.data(COMPLETE_CALLBACK, stopTransition);\n            },\n\n            stopQueue: function(element, clearQueue, gotoEnd) {\n                var cssValues,\n                    taskKeys = element.data(\"keys\"),\n                    retainPosition = (!gotoEnd && taskKeys),\n                    completeCallback = element.data(COMPLETE_CALLBACK);\n\n                if (retainPosition) {\n                    cssValues = kendo.getComputedStyles(element[0], taskKeys);\n                }\n\n                if (completeCallback) {\n                    completeCallback();\n                }\n\n                if (retainPosition) {\n                    element.css(cssValues);\n                }\n\n                return element\n                        .removeData(\"keys\")\n                        .stop(clearQueue);\n            }\n        });\n    }\n\n    function animationProperty(element, property) {\n        if (transforms) {\n            var transform = element.css(TRANSFORM);\n            if (transform == NONE) {\n                return property == \"scale\" ? 1 : 0;\n            }\n\n            var match = transform.match(new RegExp(property + \"\\\\s*\\\\(([\\\\d\\\\w\\\\.]+)\")),\n                computed = 0;\n\n            if (match) {\n                computed = parseInteger(match[1]);\n            } else {\n                match = transform.match(matrix3dRegExp) || [0, 0, 0, 0, 0];\n                property = property.toLowerCase();\n\n                if (translateXRegExp.test(property)) {\n                    computed = parseFloat(match[3] / match[2]);\n                } else if (property == \"translatey\") {\n                    computed = parseFloat(match[4] / match[2]);\n                } else if (property == \"scale\") {\n                    computed = parseFloat(match[2]);\n                } else if (property == \"rotate\") {\n                    computed = parseFloat(Math.atan2(match[2], match[1]));\n                }\n            }\n\n            return computed;\n        } else {\n            return parseFloat(element.css(property));\n        }\n    }\n\n    var EffectSet = kendo.Class.extend({\n        init: function(element, options) {\n            var that = this;\n\n            that.element = element;\n            that.effects = [];\n            that.options = options;\n            that.restore = [];\n        },\n\n        run: function(effects) {\n            var that = this,\n                effect,\n                idx, jdx,\n                length = effects.length,\n                element = that.element,\n                options = that.options,\n                deferred = $.Deferred(),\n                start = {},\n                end = {},\n                target,\n                children,\n                childrenLength;\n\n            that.effects = effects;\n\n            deferred.done($.proxy(that, \"complete\"));\n\n            element.data(\"animating\", true);\n\n            for (idx = 0; idx < length; idx ++) {\n                effect = effects[idx];\n\n                effect.setReverse(options.reverse);\n                effect.setOptions(options);\n\n                that.addRestoreProperties(effect.restore);\n\n                effect.prepare(start, end);\n\n                children = effect.children();\n\n                for (jdx = 0, childrenLength = children.length; jdx < childrenLength; jdx ++) {\n                    children[jdx].duration(options.duration).run();\n                }\n            }\n\n            // legacy support for options.properties\n            for (var effectName in options.effects) {\n                extend(end, options.effects[effectName].properties);\n            }\n\n            // Show the element initially\n            if (!element.is(\":visible\")) {\n                extend(start, { display: element.data(\"olddisplay\") || \"block\" });\n            }\n\n            if (transforms && !options.reset) {\n                target = element.data(\"targetTransform\");\n\n                if (target) {\n                    start = extend(target, start);\n                }\n            }\n\n            start = normalizeCSS(element, start);\n\n            if (transforms && !transitions) {\n                start = strip3DTransforms(start);\n            }\n\n            element.css(start)\n                   .css(TRANSFORM); // Nudge\n\n            for (idx = 0; idx < length; idx ++) {\n                effects[idx].setup();\n            }\n\n            if (options.init) {\n                options.init();\n            }\n\n            element.data(\"targetTransform\", end);\n            fx.animate(element, end, extend({}, options, { complete: deferred.resolve }));\n\n            return deferred.promise();\n        },\n\n        stop: function() {\n            $(this.element).kendoStop(true, true);\n        },\n\n        addRestoreProperties: function(restore) {\n            var element = this.element,\n                value,\n                i = 0,\n                length = restore.length;\n\n            for (; i < length; i ++) {\n                value = restore[i];\n\n                this.restore.push(value);\n\n                if (!element.data(value)) {\n                    element.data(value, element.css(value));\n                }\n            }\n        },\n\n        restoreCallback: function() {\n            var element = this.element;\n\n            for (var i = 0, length = this.restore.length; i < length; i ++) {\n                var value = this.restore[i];\n                element.css(value, element.data(value));\n            }\n        },\n\n        complete: function() {\n            var that = this,\n                idx = 0,\n                element = that.element,\n                options = that.options,\n                effects = that.effects,\n                length = effects.length;\n\n            element\n                .removeData(\"animating\")\n                .dequeue(); // call next animation from the queue\n\n            if (options.hide) {\n                element.data(\"olddisplay\", element.css(\"display\")).hide();\n            }\n\n            this.restoreCallback();\n\n            if (hasZoom && !transforms) {\n                setTimeout($.proxy(this, \"restoreCallback\"), 0); // Again jQuery callback in IE8-\n            }\n\n            for (; idx < length; idx ++) {\n                effects[idx].teardown();\n            }\n\n            if (options.completeCallback) {\n                options.completeCallback(element);\n            }\n        }\n    });\n\n    fx.promise = function(element, options) {\n        var effects = [],\n            effectClass,\n            effectSet = new EffectSet(element, options),\n            parsedEffects = kendo.parseEffects(options.effects),\n            effect;\n\n        options.effects = parsedEffects;\n\n        for (var effectName in parsedEffects) {\n            effectClass = fx[capitalize(effectName)];\n\n            if (effectClass) {\n                effect = new effectClass(element, parsedEffects[effectName].direction);\n                effects.push(effect);\n           }\n        }\n\n        if (effects[0]) {\n            effectSet.run(effects);\n        } else { // Not sure how would an fx promise reach this state - means that you call kendoAnimate with no valid effects? Why?\n            if (!element.is(\":visible\")) {\n                element.css({ display: element.data(\"olddisplay\") || \"block\" }).css(\"display\");\n            }\n\n            if (options.init) {\n                options.init();\n            }\n\n            element.dequeue();\n            effectSet.complete();\n        }\n    };\n\n    extend(fx, {\n        animate: function(elements, properties, options) {\n            var useTransition = options.transition !== false;\n            delete options.transition;\n\n            if (transitions && \"transition\" in fx && useTransition) {\n                fx.transition(elements, properties, options);\n            } else {\n                if (transforms) {\n                    elements.animate(strip3DTransforms(properties), { queue: false, show: false, hide: false, duration: options.duration, complete: options.complete }); // Stop animate from showing/hiding the element to be able to hide it later on.\n                } else {\n                    elements.each(function() {\n                        var element = $(this),\n                            multiple = {};\n\n                        each(transformProps, function(idx, value) { // remove transforms to avoid IE and older browsers confusion\n                            var params,\n                                currentValue = properties ? properties[value]+ \" \" : null; // We need to match\n\n                            if (currentValue) {\n                                var single = properties;\n\n                                if (value in scaleProperties && properties[value] !== undefined) {\n                                    params = currentValue.match(cssParamsRegExp);\n                                    if (transforms) {\n                                        extend(single, { scale: +params[0] });\n                                    }\n                                } else {\n                                    if (value in translateProperties && properties[value] !== undefined) {\n                                        var position = element.css(POSITION),\n                                            isFixed = (position == \"absolute\" || position == \"fixed\");\n\n                                        if (!element.data(TRANSLATE)) {\n                                            if (isFixed) {\n                                                element.data(TRANSLATE, {\n                                                    top: parseCSS(element, \"top\") || 0,\n                                                    left: parseCSS(element, \"left\") || 0,\n                                                    bottom: parseCSS(element, \"bottom\"),\n                                                    right: parseCSS(element, \"right\")\n                                                });\n                                            } else {\n                                                element.data(TRANSLATE, {\n                                                    top: parseCSS(element, \"marginTop\") || 0,\n                                                    left: parseCSS(element, \"marginLeft\") || 0\n                                                });\n                                            }\n                                        }\n\n                                        var originalPosition = element.data(TRANSLATE);\n\n                                        params = currentValue.match(cssParamsRegExp);\n                                        if (params) {\n\n                                            var dX = value == TRANSLATE + \"y\" ? +null : +params[1],\n                                                dY = value == TRANSLATE + \"y\" ? +params[1] : +params[2];\n\n                                            if (isFixed) {\n                                                if (!isNaN(originalPosition.right)) {\n                                                    if (!isNaN(dX)) { extend(single, { right: originalPosition.right - dX }); }\n                                                } else {\n                                                    if (!isNaN(dX)) { extend(single, { left: originalPosition.left + dX }); }\n                                                }\n\n                                                if (!isNaN(originalPosition.bottom)) {\n                                                    if (!isNaN(dY)) { extend(single, { bottom: originalPosition.bottom - dY }); }\n                                                } else {\n                                                    if (!isNaN(dY)) { extend(single, { top: originalPosition.top + dY }); }\n                                                }\n                                            } else {\n                                                if (!isNaN(dX)) { extend(single, { marginLeft: originalPosition.left + dX }); }\n                                                if (!isNaN(dY)) { extend(single, { marginTop: originalPosition.top + dY }); }\n                                            }\n                                        }\n                                    }\n                                }\n\n                                if (!transforms && value != \"scale\" && value in single) {\n                                    delete single[value];\n                                }\n\n                                if (single) {\n                                    extend(multiple, single);\n                                }\n                            }\n                        });\n\n                        if (browser.msie) {\n                            delete multiple.scale;\n                        }\n\n                        element.animate(multiple, { queue: false, show: false, hide: false, duration: options.duration, complete: options.complete }); // Stop animate from showing/hiding the element to be able to hide it later on.\n                    });\n                }\n            }\n        }\n    });\n\n    fx.animatedPromise = fx.promise;\n\n    var Effect = kendo.Class.extend({\n        init: function(element, direction) {\n            var that = this;\n            that.element = element;\n            that._direction = direction;\n            that.options = {};\n            that._additionalEffects = [];\n\n            if (!that.restore) {\n                that.restore = [];\n            }\n        },\n\n// Public API\n        reverse: function() {\n            this._reverse = true;\n            return this.run();\n        },\n\n        play: function() {\n            this._reverse = false;\n            return this.run();\n        },\n\n        add: function(additional) {\n            this._additionalEffects.push(additional);\n            return this;\n        },\n\n        direction: function(value) {\n            this._direction = value;\n            return this;\n        },\n\n        duration: function(duration) {\n            this._duration = duration;\n            return this;\n        },\n\n        compositeRun: function() {\n            var that = this,\n                effectSet = new EffectSet(that.element, { reverse: that._reverse, duration: that._duration }),\n                effects = that._additionalEffects.concat([ that ]);\n\n            return effectSet.run(effects);\n        },\n\n        run: function() {\n            if (this._additionalEffects && this._additionalEffects[0]) {\n                return this.compositeRun();\n            }\n\n            var that = this,\n                element = that.element,\n                idx = 0,\n                restore = that.restore,\n                length = restore.length,\n                value,\n                deferred = $.Deferred(),\n                start = {},\n                end = {},\n                target,\n                children = that.children(),\n                childrenLength = children.length;\n\n            deferred.done($.proxy(that, \"_complete\"));\n\n            element.data(\"animating\", true);\n\n            for (idx = 0; idx < length; idx ++) {\n                value = restore[idx];\n\n                if (!element.data(value)) {\n                    element.data(value, element.css(value));\n                }\n            }\n\n            for (idx = 0; idx < childrenLength; idx ++) {\n                children[idx].duration(that._duration).run();\n            }\n\n            that.prepare(start, end);\n\n            if (!element.is(\":visible\")) {\n                extend(start, { display: element.data(\"olddisplay\") || \"block\" });\n            }\n\n            if (transforms) {\n                target = element.data(\"targetTransform\");\n\n                if (target) {\n                    start = extend(target, start);\n                }\n            }\n\n            start = normalizeCSS(element, start);\n\n            if (transforms && !transitions) {\n                start = strip3DTransforms(start);\n            }\n\n            element.css(start).css(TRANSFORM); // Trick webkit into re-rendering\n\n            that.setup();\n\n            element.data(\"targetTransform\", end);\n            fx.animate(element, end, { duration: that._duration, complete: deferred.resolve });\n\n            return deferred.promise();\n        },\n\n        stop: function() {\n            var idx = 0,\n                children = this.children(),\n                childrenLength = children.length;\n\n            for (idx = 0; idx < childrenLength; idx ++) {\n                children[idx].stop();\n            }\n\n            $(this.element).kendoStop(true, true);\n            return this;\n        },\n\n        restoreCallback: function() {\n            var element = this.element;\n\n            for (var i = 0, length = this.restore.length; i < length; i ++) {\n                var value = this.restore[i];\n                element.css(value, element.data(value));\n            }\n        },\n\n        _complete: function() {\n            var that = this,\n                element = that.element;\n\n            element\n                .removeData(\"animating\")\n                .dequeue(); // call next animation from the queue\n\n            that.restoreCallback();\n\n            if (that.shouldHide()) {\n                element.data(\"olddisplay\", element.css(\"display\")).hide();\n            }\n\n            if (hasZoom && !transforms) {\n                setTimeout($.proxy(that, \"restoreCallback\"), 0); // Again jQuery callback in IE8-\n            }\n\n            that.teardown();\n        },\n\n        /////////////////////////// Support for kendo.animate;\n        setOptions: function(options) {\n            extend(true, this.options, options);\n        },\n\n        children: function() {\n            return [];\n        },\n\n        shouldHide: $.noop,\n\n        setup: $.noop,\n        prepare: $.noop,\n        teardown: $.noop,\n        directions: [],\n\n        setReverse: function(reverse) {\n            this._reverse = reverse;\n            return this;\n        }\n    });\n\n    function capitalize(word) {\n        return word.charAt(0).toUpperCase() + word.substring(1);\n    }\n\n    function createEffect(name, definition) {\n        var effectClass = Effect.extend(definition),\n            directions = effectClass.prototype.directions;\n\n        fx[capitalize(name)] = effectClass;\n\n        fx.Element.prototype[name] = function(direction, opt1, opt2, opt3) {\n            return new effectClass(this.element, direction, opt1, opt2, opt3);\n        };\n\n        each(directions, function(idx, theDirection) {\n            fx.Element.prototype[name + capitalize(theDirection)] = function(opt1, opt2, opt3) {\n                return new effectClass(this.element, theDirection, opt1, opt2, opt3);\n            };\n        });\n    }\n\n    var FOUR_DIRECTIONS = [\"left\", \"right\", \"up\", \"down\"],\n        IN_OUT = [\"in\", \"out\"];\n\n    createEffect(\"slideIn\", {\n        directions: FOUR_DIRECTIONS,\n\n        divisor: function(value) {\n            this.options.divisor = value;\n            return this;\n        },\n\n        prepare: function(start, end) {\n            var that = this,\n                tmp,\n                element = that.element,\n                outerWidth = kendo._outerWidth,\n                outerHeight = kendo._outerHeight,\n                direction = directions[that._direction],\n                offset = -direction.modifier * (direction.vertical ? outerHeight(element) : outerWidth(element)),\n                startValue = offset / (that.options && that.options.divisor || 1) + PX,\n                endValue = \"0px\";\n\n            if (that._reverse) {\n                tmp = start;\n                start = end;\n                end = tmp;\n            }\n\n            if (transforms) {\n                start[direction.transition] = startValue;\n                end[direction.transition] = endValue;\n            } else {\n                start[direction.property] = startValue;\n                end[direction.property] = endValue;\n            }\n        }\n    });\n\n    createEffect(\"tile\", {\n        directions: FOUR_DIRECTIONS,\n\n        init: function(element, direction, previous) {\n            Effect.prototype.init.call(this, element, direction);\n            this.options = { previous: previous };\n        },\n\n        previousDivisor: function(value) {\n            this.options.previousDivisor = value;\n            return this;\n        },\n\n        children: function() {\n            var that = this,\n                reverse = that._reverse,\n                previous = that.options.previous,\n                divisor = that.options.previousDivisor || 1,\n                dir = that._direction;\n\n            var children = [ kendo.fx(that.element).slideIn(dir).setReverse(reverse) ];\n\n            if (previous) {\n                children.push( kendo.fx(previous).slideIn(directions[dir].reverse).divisor(divisor).setReverse(!reverse) );\n            }\n\n            return children;\n        }\n    });\n\n    function createToggleEffect(name, property, defaultStart, defaultEnd) {\n        createEffect(name, {\n            directions: IN_OUT,\n\n            startValue: function(value) {\n                this._startValue = value;\n                return this;\n            },\n\n            endValue: function(value) {\n                this._endValue = value;\n                return this;\n            },\n\n            shouldHide: function() {\n               return this._shouldHide;\n            },\n\n            prepare: function(start, end) {\n                var that = this,\n                    startValue,\n                    endValue,\n                    out = this._direction === \"out\",\n                    startDataValue = that.element.data(property),\n                    startDataValueIsSet = !(isNaN(startDataValue) || startDataValue == defaultStart);\n\n                if (startDataValueIsSet) {\n                    startValue = startDataValue;\n                } else if (typeof this._startValue !== \"undefined\") {\n                    startValue = this._startValue;\n                } else {\n                    startValue = out ? defaultStart : defaultEnd;\n                }\n\n                if (typeof this._endValue !== \"undefined\") {\n                    endValue = this._endValue;\n                } else {\n                    endValue = out ? defaultEnd : defaultStart;\n                }\n\n                if (this._reverse) {\n                    start[property] = endValue;\n                    end[property] = startValue;\n                } else {\n                    start[property] = startValue;\n                    end[property] = endValue;\n                }\n\n                that._shouldHide = end[property] === defaultEnd;\n            }\n        });\n    }\n\n    createToggleEffect(\"fade\", \"opacity\", 1, 0);\n    createToggleEffect(\"zoom\", \"scale\", 1, 0.01);\n\n    createEffect(\"slideMargin\", {\n        prepare: function(start, end) {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                origin = element.data(ORIGIN),\n                offset = options.offset,\n                margin,\n                reverse = that._reverse;\n\n            if (!reverse && origin === null) {\n                element.data(ORIGIN, parseFloat(element.css(\"margin-\" + options.axis)));\n            }\n\n            margin = (element.data(ORIGIN) || 0);\n            end[\"margin-\" + options.axis] = !reverse ? margin + offset : margin;\n        }\n    });\n\n    createEffect(\"slideTo\", {\n        prepare: function(start, end) {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                offset = options.offset.split(\",\"),\n                reverse = that._reverse;\n\n            if (transforms) {\n                end.translatex = !reverse ? offset[0] : 0;\n                end.translatey = !reverse ? offset[1] : 0;\n            } else {\n                end.left = !reverse ? offset[0] : 0;\n                end.top = !reverse ? offset[1] : 0;\n            }\n            element.css(\"left\");\n        }\n    });\n\n    createEffect(\"expand\", {\n        directions: [\"horizontal\", \"vertical\"],\n\n        restore: [ OVERFLOW ],\n\n        prepare: function(start, end) {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                reverse = that._reverse,\n                property = that._direction === \"vertical\" ? HEIGHT : WIDTH,\n                setLength = element[0].style[property],\n                oldLength = element.data(property),\n                length = parseFloat(oldLength || setLength),\n                realLength = round(element.css(property, AUTO)[property]());\n\n            start.overflow = HIDDEN;\n\n            length = (options && options.reset) ? realLength || length : length || realLength;\n\n            end[property] = (reverse ? 0 : length) + PX;\n            start[property] = (reverse ? length : 0) + PX;\n\n            if (oldLength === undefined) {\n                element.data(property, setLength);\n            }\n        },\n\n        shouldHide: function() {\n           return this._reverse;\n        },\n\n        teardown: function() {\n            var that = this,\n                element = that.element,\n                property = that._direction === \"vertical\" ? HEIGHT : WIDTH,\n                length = element.data(property);\n\n            if (length == AUTO || length === BLANK) {\n                setTimeout(function() { element.css(property, AUTO).css(property); }, 0); // jQuery animate complete callback in IE is called before the last animation step!\n            }\n        }\n    });\n\n    var TRANSFER_START_STATE = { position: \"absolute\", marginLeft: 0, marginTop: 0, scale: 1 };\n    /**\n     * Intersection point formulas are taken from here - http://zonalandeducation.com/mmts/intersections/intersectionOfTwoLines1/intersectionOfTwoLines1.html\n     * Formula for a linear function from two points from here - http://demo.activemath.org/ActiveMath2/search/show.cmd?id=mbase://AC_UK_calculus/functions/ex_linear_equation_two_points\n     * The transform origin point is the intersection point of the two lines from the top left corners/top right corners of the element and target.\n     * The math and variables below MAY BE SIMPLIFIED (zeroes removed), but this would make the formula too cryptic.\n     */\n    createEffect(\"transfer\", {\n        init: function(element, target) {\n            this.element = element;\n            this.options = { target: target };\n            this.restore = [];\n        },\n\n        setup: function() {\n            this.element.appendTo(document.body);\n        },\n\n        prepare: function(start, end) {\n            var that = this,\n                element = that.element,\n                outerBox = fx.box(element),\n                innerBox = fx.box(that.options.target),\n                currentScale = animationProperty(element, \"scale\"),\n                scale = fx.fillScale(innerBox, outerBox),\n                transformOrigin = fx.transformOrigin(innerBox, outerBox);\n\n            extend(start, TRANSFER_START_STATE);\n            end.scale = 1;\n\n            element.css(TRANSFORM, \"scale(1)\").css(TRANSFORM);\n            element.css(TRANSFORM, \"scale(\" + currentScale + \")\");\n\n            start.top = outerBox.top;\n            start.left = outerBox.left;\n            start.transformOrigin = transformOrigin.x + PX + \" \" + transformOrigin.y + PX;\n\n            if (that._reverse) {\n                start.scale = scale;\n            } else {\n                end.scale = scale;\n            }\n        }\n    });\n\n\n    var CLIPS = {\n        top: \"rect(auto auto $size auto)\",\n        bottom: \"rect($size auto auto auto)\",\n        left: \"rect(auto $size auto auto)\",\n        right: \"rect(auto auto auto $size)\"\n    };\n\n    var ROTATIONS = {\n        top:    { start: \"rotatex(0deg)\", end: \"rotatex(180deg)\" },\n        bottom: { start: \"rotatex(-180deg)\", end: \"rotatex(0deg)\" },\n        left:   { start: \"rotatey(0deg)\", end: \"rotatey(-180deg)\" },\n        right:  { start: \"rotatey(180deg)\", end: \"rotatey(0deg)\" }\n    };\n\n    function clipInHalf(container, direction) {\n        var vertical = kendo.directions[direction].vertical,\n            size = (container[vertical ? HEIGHT : WIDTH]() / 2) + \"px\";\n\n        return CLIPS[direction].replace(\"$size\", size);\n    }\n\n    createEffect(\"turningPage\", {\n        directions: FOUR_DIRECTIONS,\n\n        init: function(element, direction, container) {\n            Effect.prototype.init.call(this, element, direction);\n            this._container = container;\n        },\n\n        prepare: function(start, end) {\n            var that = this,\n                reverse = that._reverse,\n                direction = reverse ? directions[that._direction].reverse : that._direction,\n                rotation = ROTATIONS[direction];\n\n            start.zIndex = 1;\n\n            if (that._clipInHalf) {\n               start.clip = clipInHalf(that._container, kendo.directions[direction].reverse);\n            }\n\n            start[BACKFACE] = HIDDEN;\n\n            end[TRANSFORM] = TRANSFORM_PERSPECTIVE + (reverse ? rotation.start : rotation.end);\n            start[TRANSFORM] = TRANSFORM_PERSPECTIVE + (reverse ? rotation.end : rotation.start);\n        },\n\n        setup: function() {\n            this._container.append(this.element);\n        },\n\n        face: function(value) {\n            this._face = value;\n            return this;\n        },\n\n        shouldHide: function() {\n            var that = this,\n                reverse = that._reverse,\n                face = that._face;\n\n            return (reverse && !face) || (!reverse && face);\n        },\n\n        clipInHalf: function(value) {\n            this._clipInHalf = value;\n            return this;\n        },\n\n        temporary: function() {\n            this.element.addClass('temp-page');\n            return this;\n        }\n    });\n\n    createEffect(\"staticPage\", {\n        directions: FOUR_DIRECTIONS,\n\n        init: function(element, direction, container) {\n            Effect.prototype.init.call(this, element, direction);\n            this._container = container;\n        },\n\n        restore: [\"clip\"],\n\n        prepare: function(start, end) {\n            var that = this,\n                direction = that._reverse ? directions[that._direction].reverse : that._direction;\n\n            start.clip = clipInHalf(that._container, direction);\n            start.opacity = 0.999;\n            end.opacity = 1;\n        },\n\n        shouldHide: function() {\n            var that = this,\n                reverse = that._reverse,\n                face = that._face;\n\n            return (reverse && !face) || (!reverse && face);\n        },\n\n        face: function(value) {\n            this._face = value;\n            return this;\n        }\n    });\n\n    createEffect(\"pageturn\", {\n        directions: [\"horizontal\", \"vertical\"],\n\n        init: function(element, direction, face, back) {\n            Effect.prototype.init.call(this, element, direction);\n            this.options = {};\n            this.options.face = face;\n            this.options.back = back;\n        },\n\n        children: function() {\n            var that = this,\n                options = that.options,\n                direction = that._direction === \"horizontal\" ? \"left\" : \"top\",\n                reverseDirection = kendo.directions[direction].reverse,\n                reverse = that._reverse,\n                temp,\n                faceClone = options.face.clone(true).removeAttr(\"id\"),\n                backClone = options.back.clone(true).removeAttr(\"id\"),\n                element = that.element;\n\n            if (reverse) {\n                temp = direction;\n                direction = reverseDirection;\n                reverseDirection = temp;\n            }\n\n            return [\n                kendo.fx(options.face).staticPage(direction, element).face(true).setReverse(reverse),\n                kendo.fx(options.back).staticPage(reverseDirection, element).setReverse(reverse),\n                kendo.fx(faceClone).turningPage(direction, element).face(true).clipInHalf(true).temporary().setReverse(reverse),\n                kendo.fx(backClone).turningPage(reverseDirection, element).clipInHalf(true).temporary().setReverse(reverse)\n            ];\n        },\n\n        prepare: function(start, end) {\n            start[PERSPECTIVE] = DEFAULT_PERSPECTIVE;\n            start.transformStyle = \"preserve-3d\";\n            // hack to trigger transition end.\n            start.opacity = 0.999;\n            end.opacity = 1;\n        },\n\n        teardown: function() {\n            this.element.find(\".temp-page\").remove();\n        }\n    });\n\n    createEffect(\"flip\", {\n        directions: [\"horizontal\", \"vertical\"],\n\n        init: function(element, direction, face, back) {\n            Effect.prototype.init.call(this, element, direction);\n            this.options = {};\n            this.options.face = face;\n            this.options.back = back;\n        },\n\n        children: function() {\n            var that = this,\n                options = that.options,\n                direction = that._direction === \"horizontal\" ? \"left\" : \"top\",\n                reverseDirection = kendo.directions[direction].reverse,\n                reverse = that._reverse,\n                temp,\n                element = that.element;\n\n            if (reverse) {\n                temp = direction;\n                direction = reverseDirection;\n                reverseDirection = temp;\n            }\n\n            return [\n                kendo.fx(options.face).turningPage(direction, element).face(true).setReverse(reverse),\n                kendo.fx(options.back).turningPage(reverseDirection, element).setReverse(reverse)\n            ];\n        },\n\n        prepare: function(start) {\n            start[PERSPECTIVE] = DEFAULT_PERSPECTIVE;\n            start.transformStyle = \"preserve-3d\";\n        }\n    });\n\n    var RESTORE_OVERFLOW = !support.mobileOS.android;\n    var IGNORE_TRANSITION_EVENT_SELECTOR = \".km-touch-scrollbar, .km-actionsheet-wrapper\";\n\n    createEffect(\"replace\", {\n        _before: $.noop,\n        _after: $.noop,\n        init: function(element, previous, transitionClass) {\n            Effect.prototype.init.call(this, element);\n            this._previous = $(previous);\n            this._transitionClass = transitionClass;\n        },\n\n        duration: function() {\n            throw new Error(\"The replace effect does not support duration setting; the effect duration may be customized through the transition class rule\");\n        },\n\n        beforeTransition: function(callback) {\n            this._before = callback;\n            return this;\n        },\n\n        afterTransition: function(callback) {\n            this._after = callback;\n            return this;\n        },\n\n        _both: function() {\n            return $().add(this._element).add(this._previous);\n        },\n\n        _containerClass: function() {\n            var direction = this._direction,\n                containerClass = \"k-fx k-fx-start k-fx-\" + this._transitionClass;\n\n            if (direction) {\n                containerClass += \" k-fx-\" + direction;\n            }\n\n            if (this._reverse) {\n                containerClass += \" k-fx-reverse\";\n            }\n\n            return containerClass;\n        },\n\n        complete: function(e) {\n            if (!this.deferred || (e && $(e.target).is(IGNORE_TRANSITION_EVENT_SELECTOR))) {\n                return;\n            }\n\n            var container = this.container;\n\n            container\n                .removeClass(\"k-fx-end\")\n                .removeClass(this._containerClass())\n                .off(transitions.event, this.completeProxy);\n\n            this._previous.hide().removeClass(\"k-fx-current\");\n            this.element.removeClass(\"k-fx-next\");\n\n            if (RESTORE_OVERFLOW) {\n                container.css(OVERFLOW, \"\");\n            }\n\n            if (!this.isAbsolute) {\n                this._both().css(POSITION, \"\");\n            }\n\n            this.deferred.resolve();\n            delete this.deferred;\n        },\n\n        run: function() {\n            if (this._additionalEffects && this._additionalEffects[0]) {\n                return this.compositeRun();\n            }\n\n            var that = this,\n                element = that.element,\n                previous = that._previous,\n                container = element.parents().filter(previous.parents()).first(),\n                both = that._both(),\n                deferred = $.Deferred(),\n                originalPosition = element.css(POSITION),\n                originalOverflow;\n\n            // edge case for grid/scheduler, where the previous is already destroyed.\n            if (!container.length) {\n                container = element.parent();\n            }\n\n            this.container = container;\n            this.deferred = deferred;\n            this.isAbsolute = originalPosition  == \"absolute\";\n\n            if (!this.isAbsolute) {\n                both.css(POSITION, \"absolute\");\n            }\n\n            if (RESTORE_OVERFLOW) {\n                originalOverflow = container.css(OVERFLOW);\n                container.css(OVERFLOW, \"hidden\");\n            }\n\n            if (!transitions) {\n                this.complete();\n            } else {\n                element.addClass(\"k-fx-hidden\");\n\n                container.addClass(this._containerClass());\n\n                this.completeProxy = $.proxy(this, \"complete\");\n                container.on(transitions.event, this.completeProxy);\n\n                kendo.animationFrame(function() {\n                    element.removeClass(\"k-fx-hidden\").addClass(\"k-fx-next\");\n                    previous.css(\"display\", \"\").addClass(\"k-fx-current\");\n                    that._before(previous, element);\n                    kendo.animationFrame(function() {\n                        container.removeClass(\"k-fx-start\").addClass(\"k-fx-end\");\n                        that._after(previous, element);\n                    });\n                });\n            }\n\n            return deferred.promise();\n        },\n\n        stop: function() {\n            this.complete();\n        }\n    });\n\n    var Animation = kendo.Class.extend({\n        init: function() {\n            var that = this;\n            that._tickProxy = proxy(that._tick, that);\n            that._started = false;\n        },\n\n        tick: $.noop,\n        done: $.noop,\n        onEnd: $.noop,\n        onCancel: $.noop,\n\n        start: function() {\n            if (!this.enabled()) {\n                return;\n            }\n\n            if (!this.done()) {\n                this._started = true;\n                kendo.animationFrame(this._tickProxy);\n            } else {\n                this.onEnd();\n            }\n        },\n\n        enabled: function() {\n            return true;\n        },\n\n        cancel: function() {\n            this._started = false;\n            this.onCancel();\n        },\n\n        _tick: function() {\n            var that = this;\n            if (!that._started) { return; }\n\n            that.tick();\n\n            if (!that.done()) {\n                kendo.animationFrame(that._tickProxy);\n            } else {\n                that._started = false;\n                that.onEnd();\n            }\n        }\n    });\n\n    var Transition = Animation.extend({\n        init: function(options) {\n            var that = this;\n            extend(that, options);\n            Animation.fn.init.call(that);\n        },\n\n        done: function() {\n            return this.timePassed() >= this.duration;\n        },\n\n        timePassed: function() {\n            return Math.min(this.duration, (new Date()) - this.startDate);\n        },\n\n        moveTo: function(options) {\n            var that = this,\n                movable = that.movable;\n\n            that.initial = movable[that.axis];\n            that.delta = options.location - that.initial;\n\n            that.duration = typeof options.duration == \"number\" ? options.duration : 300;\n\n            that.tick = that._easeProxy(options.ease);\n\n            that.startDate = new Date();\n            that.start();\n        },\n\n        _easeProxy: function(ease) {\n            var that = this;\n\n            return function() {\n                that.movable.moveAxis(that.axis, ease(that.timePassed(), that.initial, that.delta, that.duration));\n            };\n        }\n    });\n\n    extend(Transition, {\n        easeOutExpo: function (t, b, c, d) {\n            return (t==d) ? b+c : c * (-Math.pow(2, -10 * t/d) + 1) + b;\n        },\n\n        easeOutBack: function (t, b, c, d, s) {\n            s = 1.70158;\n            return c*((t=t/d-1)*t*((s+1)*t + s) + 1) + b;\n        }\n    });\n\n    fx.Animation = Animation;\n    fx.Transition = Transition;\n    fx.createEffect = createEffect;\n\n    fx.box = function(element) {\n        element = $(element);\n        var result = element.offset();\n        result.width = kendo._outerWidth(element);\n        result.height = kendo._outerHeight(element);\n        return result;\n    };\n\n    fx.transformOrigin = function(inner, outer) {\n        var x = (inner.left - outer.left) * outer.width / (outer.width - inner.width),\n            y = (inner.top - outer.top) * outer.height / (outer.height - inner.height);\n\n        return {\n            x: isNaN(x) ? 0 : x,\n            y: isNaN(y) ? 0 : y\n        };\n    };\n\n    fx.fillScale = function(inner, outer) {\n        return Math.min(inner.width / outer.width, inner.height / outer.height);\n    };\n\n    fx.fitScale = function(inner, outer) {\n        return Math.max(inner.width / outer.width, inner.height / outer.height);\n    };\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.view',[\n        \"./kendo.core\",\n        \"./kendo.binder\",\n        \"./kendo.fx\"\n    ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"view\",\n    name: \"View\",\n    category: \"framework\",\n    description: \"The View class instantiates and handles the events of a certain screen from the application.\",\n    depends: [ \"core\", \"binder\", \"fx\" ],\n    hidden: false\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        attr =  kendo.attr,\n        ui = kendo.ui,\n        attrValue = kendo.attrValue,\n        directiveSelector = kendo.directiveSelector,\n        Observable = kendo.Observable,\n        Widget = kendo.ui.Widget,\n        roleSelector = kendo.roleSelector,\n\n        SCRIPT = \"SCRIPT\",\n        INIT = \"init\",\n        TRANSITION_START = \"transitionStart\",\n        TRANSITION_END = \"transitionEnd\",\n        SHOW = \"show\",\n        HIDE = \"hide\",\n        ATTACH = \"attach\",\n        DETACH = \"detach\",\n        sizzleErrorRegExp = /unrecognized expression/;\n\n    var bodyRegExp = /<body[^>]*>(([\\u000a\\u000d\\u2028\\u2029]|.)*)<\\/body>/i;\n    var LOAD_START = \"loadStart\";\n    var LOAD_COMPLETE = \"loadComplete\";\n    var SHOW_START = \"showStart\";\n    var SAME_VIEW_REQUESTED = \"sameViewRequested\";\n    var VIEW_SHOW = \"viewShow\";\n    var VIEW_TYPE_DETERMINED = \"viewTypeDetermined\";\n    var AFTER = \"after\";\n    var classNames = {\n        content: \"k-content\",\n        view: \"k-view\",\n        stretchedView: \"k-stretched-view\",\n        widget: \"k-widget\",\n        header: \"k-header\",\n        footer: \"k-footer\"\n    };\n\n    var View = kendo.ui.Widget.extend({\n        init: function(content, options) {\n            var that = this;\n            options = options || {};\n            that.id = kendo.guid();\n\n            Observable.fn.init.call(that);\n            this.options = $.extend({}, this.options, options);\n\n            that.content = content;\n\n            if (that.options.renderOnInit) {\n                Widget.fn.init.call(that, that._createElement(), options);\n            }\n\n            if (that.options.wrapInSections) {\n                that._renderSections();\n            }\n\n            that.tagName = options.tagName || \"div\";\n            that.model = options.model;\n            that._wrap = options.wrap !== false;\n            this._evalTemplate = options.evalTemplate || false;\n            this._useWithBlock = options.useWithBlock;\n            that._fragments = {};\n\n            that.bind([ INIT, SHOW, HIDE, TRANSITION_START, TRANSITION_END ], options);\n        },\n\n        options: {\n            name: \"View\",\n            renderOnInit: false,\n            wrapInSections: false,\n            detachOnHide: true,\n            detachOnDestroy: true\n        },\n\n        render: function(container) {\n            var that = this,\n                notInitialized = !that.element;\n\n            // The order below matters - kendo.bind should happen when the element is in the DOM, and show should be triggered after init.\n\n            if (notInitialized) {\n                that.element = that._createElement();\n            }\n\n            if (container) {\n                $(container).append(that.element);\n            }\n\n            if (notInitialized) {\n                kendo.bind(that.element, that.model);\n                that.trigger(INIT);\n            }\n\n            if (container) {\n                that._eachFragment(ATTACH);\n                that.trigger(SHOW);\n            }\n\n            return that.element;\n        },\n\n        clone: function() {\n            return new ViewClone(this);\n        },\n\n        triggerBeforeShow: function() {\n            return true;\n        },\n\n        triggerBeforeHide: function() {\n            return true;\n        },\n\n        showStart: function() {\n            var that = this;\n            var element = that.render();\n\n            if (element) {\n                element.css(\"display\", \"\");\n            }\n\n            this.trigger(SHOW_START, { view: this });\n        },\n\n        showEnd: function() {\n        },\n\n        hideEnd: function() {\n            this.hide();\n        },\n\n        beforeTransition: function(type){\n            this.trigger(TRANSITION_START, { type: type });\n        },\n\n        afterTransition: function(type){\n            this.trigger(TRANSITION_END, { type: type });\n        },\n\n        hide: function() {\n            if (this.options.detachOnHide) {\n                this._eachFragment(DETACH);\n                $(this.element).detach();\n            }\n\n            this.trigger(HIDE);\n        },\n\n        destroy: function() {\n            var that = this;\n            var element = that.element;\n\n            if (element) {\n                Widget.fn.destroy.call(that);\n\n                kendo.unbind(element);\n                kendo.destroy(element);\n\n                if (that.options.detachOnDestroy) {\n                    element.remove();\n                }\n            }\n        },\n\n        // ported from mobile view\n        purge: function() {\n            var that = this;\n\n            that.destroy();\n            $(that.element).add(that.content).add(that.wrapper).off().remove();\n        },\n\n        fragments: function(fragments) {\n            $.extend(this._fragments, fragments);\n        },\n\n        _eachFragment: function(methodName) {\n            for (var placeholder in this._fragments) {\n                this._fragments[placeholder][methodName](this, placeholder);\n            }\n        },\n\n        _createElement: function() {\n            var that = this,\n                wrapper = \"<\" + that.tagName + \">\",\n                element,\n                content;\n\n            try {\n                content = $(document.getElementById(that.content) || that.content); // support passing id without #\n\n                if (content[0].tagName === SCRIPT) {\n                    content = content.html();\n                }\n            } catch(e) {\n                if (sizzleErrorRegExp.test(e.message)) {\n                    content = that.content;\n                }\n            }\n            \n            if (typeof content === \"string\") {\n                content = content.replace(/^\\s+|\\s+$/g, '');\n                if (that._evalTemplate) {\n                    content = kendo.template(content, { useWithBlock: that._useWithBlock })(that.model || {});\n                }\n\n                element = $(wrapper).append(content);\n                // drop the wrapper if asked - this seems like the easiest (although not very intuitive) way to avoid messing up templates with questionable content, like this one for instance:\n                // <script id=\"my-template\">\n                // foo\n                // <span> Span </span>\n                // </script>\n                if (!that._wrap) {\n                   element = element.contents();\n                }\n            } else {\n                element = content;\n                if (that._evalTemplate) {\n                    var result = $(kendo.template($(\"<div />\").append(element.clone(true)).html(), { useWithBlock: that._useWithBlock })(that.model || {}));\n\n                    // template uses DOM\n                    if ($.contains(document, element[0])) {\n                        element.replaceWith(result);\n                    }\n\n                    element = result;\n                }\n                if (that._wrap) {\n                    element = element.wrapAll(wrapper).parent();\n                }\n            }\n\n            return element;\n        },\n\n        _renderSections: function() {\n            var that = this;\n\n            if (that.options.wrapInSections) {\n                that._wrapper();\n                that._createContent();\n                that._createHeader();\n                that._createFooter();\n            }\n        },\n\n        _wrapper: function() {\n            var that = this;\n            var content = that.content;\n\n            if (content.is(roleSelector(\"view\"))) {\n                that.wrapper = that.content;\n            } else {\n                that.wrapper = content\n                    .wrap('<div data-' + kendo.ns + 'stretch=\"true\" data-' + kendo.ns + 'role=\"view\" data-' + kendo.ns + 'init-widgets=\"false\"></div>')\n                    .parent();\n            }\n\n            var wrapper = that.wrapper;\n\n            wrapper.attr(\"id\", that.id);\n\n            wrapper.addClass(classNames.view);\n            wrapper.addClass(classNames.widget);\n            wrapper.attr(\"role\", \"view\");\n        },\n\n        _createContent: function() {\n            var that = this;\n            var wrapper = $(that.wrapper);\n            var contentSelector = roleSelector(\"content\");\n\n            if (!wrapper.children(contentSelector)[0]) {\n                var ccontentElements = wrapper.children().filter(function() {\n                    var child = $(this);\n                    if (!child.is(roleSelector(\"header\")) && !child.is(roleSelector(\"footer\"))) {\n                        return child;\n                    }\n                });\n\n                ccontentElements.wrap(\"<div \" + attr(\"role\") + '=\"content\"></div>');\n            }\n\n            // use contentElement instead of content as view.content can be a string\n            this.contentElement = wrapper.children(roleSelector(\"content\"));\n\n            this.contentElement\n                .addClass(classNames.stretchedView)\n                .addClass(classNames.content);\n        },\n\n        _createHeader: function() {\n            var that = this;\n            var wrapper = that.wrapper;\n\n            this.header = wrapper.children(roleSelector(\"header\")).addClass(classNames.header);\n        },\n\n        _createFooter: function() {\n            var that = this;\n            var wrapper = that.wrapper;\n\n            this.footer = wrapper.children(roleSelector(\"footer\")).addClass(classNames.footer);\n        }\n    });\n\n    var ViewClone = kendo.Class.extend({\n        init: function(view) {\n            $.extend(this, {\n                element: view.element.clone(true),\n                transition: view.transition,\n                id: view.id\n            });\n\n            view.element.parent().append(this.element);\n        },\n\n        hideEnd: function() {\n            this.element.remove();\n        },\n\n        beforeTransition: $.noop,\n        afterTransition: $.noop\n    });\n\n    var Layout = View.extend({\n        init: function(content, options) {\n            View.fn.init.call(this, content, options);\n            this.containers = {};\n        },\n\n        container: function(selector) {\n            var container = this.containers[selector];\n\n            if (!container) {\n                container = this._createContainer(selector);\n                this.containers[selector] = container;\n            }\n\n            return container;\n        },\n\n        showIn: function(selector, view, transition) {\n            this.container(selector).show(view, transition);\n        },\n\n        _createContainer: function(selector) {\n            var root = this.render(),\n                element = root.find(selector),\n                container;\n\n            if (!element.length && root.is(selector)) {\n                if (root.is(selector)) {\n                    element = root;\n                } else {\n\n                    throw new Error(\"can't find a container with the specified \" + selector + \" selector\");\n                }\n            }\n\n            container = new ViewContainer(element);\n\n            container.bind(\"accepted\", function(e) {\n                e.view.render(element);\n            });\n\n            return container;\n        }\n    });\n\n    var Fragment = View.extend({\n        attach: function(view, placeholder) {\n            view.element.find(placeholder).replaceWith(this.render());\n        },\n\n        detach: function() {\n        }\n    });\n\n    var transitionRegExp = /^(\\w+)(:(\\w+))?( (\\w+))?$/;\n\n    function parseTransition(transition) {\n        if (!transition){\n            return {};\n        }\n\n        var matches = transition.match(transitionRegExp) || [];\n\n        return {\n            type: matches[1],\n            direction: matches[3],\n            reverse: matches[5] === \"reverse\"\n        };\n    }\n\n    var ViewContainer = Observable.extend({\n        init: function(container) {\n            Observable.fn.init.call(this);\n            this.container = container;\n            this.history = [];\n            this.view = null;\n            this.running = false;\n        },\n\n        after: function() {\n            this.running = false;\n            this.trigger(\"complete\", {view: this.view});\n            this.trigger(\"after\");\n        },\n\n        end: function() {\n            this.view.showEnd();\n            this.previous.hideEnd();\n            this.after();\n        },\n\n        show: function(view, transition, locationID) {\n            if (!view.triggerBeforeShow() || (this.view && !this.view.triggerBeforeHide())) {\n                this.trigger(\"after\");\n                return false;\n            }\n\n            locationID = locationID || view.id;\n\n            var that = this,\n                current = (view === that.view) ? view.clone() : that.view,\n                history = that.history,\n                previousEntry = history[history.length - 2] || {},\n                back = previousEntry.id === locationID,\n                // If explicit transition is set, it will be with highest priority\n                // Next we will try using the history record transition or the view transition configuration\n                theTransition = transition || ( back ? history[history.length - 1].transition : view.transition ),\n                transitionData = parseTransition(theTransition);\n\n            if (that.running) {\n                that.effect.stop();\n            }\n\n            if (theTransition === \"none\") {\n                theTransition = null;\n            }\n\n            that.trigger(\"accepted\", { view: view });\n            that.view = view;\n            that.previous = current;\n            that.running = true;\n\n            if (!back) {\n                history.push({ id: locationID, transition: theTransition });\n            } else {\n                history.pop();\n            }\n\n            if (!current) {\n                view.showStart();\n                view.showEnd();\n                that.after();\n                return true;\n            }\n\n            if (!theTransition || !kendo.effects.enabled) {\n                view.showStart();\n                that.end();\n            } else {\n                // hide the view element before init/show - prevents blinks on iPad\n                // the replace effect will remove this class\n                view.element.addClass(\"k-fx-hidden\");\n                view.showStart();\n                // do not reverse the explicit transition\n                if (back && !transition) {\n                    transitionData.reverse = !transitionData.reverse;\n                }\n\n                that.effect = kendo.fx(view.element).replace(current.element, transitionData.type)\n                    .beforeTransition(function() {\n                        view.beforeTransition(\"show\");\n                        current.beforeTransition(\"hide\");\n                    })\n                    .afterTransition(function() {\n                        view.afterTransition(\"show\");\n                        current.afterTransition(\"hide\");\n                    })\n                    .direction(transitionData.direction)\n                    .setReverse(transitionData.reverse);\n\n                that.effect.run().then(function() { that.end(); });\n            }\n\n            return true;\n        },\n\n        destroy: function() {\n            var that = this;\n            var view = that.view;\n\n            if (view && view.destroy) {\n                view.destroy();\n            }\n        }\n    });\n\n    var ViewEngine = Observable.extend({\n        init: function(options) {\n            var that = this,\n                views,\n                container;\n\n            Observable.fn.init.call(that);\n            that.options = options;\n\n            $.extend(that, options);\n            that.sandbox = $(\"<div />\");\n            container = that.container;\n\n            views = that._hideViews(container);\n            that.rootView = views.first();\n            that.layouts = {};\n\n            that.viewContainer = new kendo.ViewContainer(that.container);\n\n            that.viewContainer.bind(\"accepted\", function(e) {\n                e.view.params = that.params;\n            });\n\n            that.viewContainer.bind(\"complete\", function(e) {\n                that.trigger(VIEW_SHOW, { view: e.view });\n            });\n\n            that.viewContainer.bind(AFTER, function() {\n                that.trigger(AFTER);\n            });\n\n            this.bind(this.events, options);\n        },\n\n        events: [\n            SHOW_START,\n            AFTER,\n            VIEW_SHOW,\n            LOAD_START,\n            LOAD_COMPLETE,\n            SAME_VIEW_REQUESTED,\n            VIEW_TYPE_DETERMINED\n        ],\n\n        destroy: function() {\n            var that = this;\n            var viewContainer = that.viewContainer;\n\n            kendo.destroy(that.container);\n\n            for (var id in that.layouts) {\n                this.layouts[id].destroy();\n            }\n\n            if (viewContainer) {\n                viewContainer.destroy();\n            }\n        },\n\n        view: function() {\n            return this.viewContainer.view;\n        },\n\n        showView: function(url, transition, params) {\n            url = url.replace(new RegExp(\"^\" + this.remoteViewURLPrefix), \"\");\n            if (url === \"\" && this.remoteViewURLPrefix) {\n                url = \"/\";\n            }\n\n            if (url.replace(/^#/, \"\") === this.url) {\n                this.trigger(SAME_VIEW_REQUESTED);\n                return false;\n            }\n\n            this.trigger(SHOW_START);\n\n            var that = this,\n                element = that._findViewElement(url),\n                view = kendo.widgetInstance(element);\n\n            that.url = url.replace(/^#/, \"\");\n\n            that.params = params;\n\n            if (view && view.reload) {\n                view.purge();\n                element = [];\n            }\n\n            this.trigger(VIEW_TYPE_DETERMINED, { remote: element.length === 0, url: url });\n\n            if (element[0]) {\n                if (!view) {\n                    view = that._createView(element);\n                }\n\n                return that.viewContainer.show(view, transition, url);\n            } else {\n                return true;\n            }\n        },\n\n        append: function(html, url) {\n            var sandbox = this.sandbox,\n                urlPath = (url || \"\").split(\"?\")[0],\n                container = this.container,\n                views,\n                view;\n\n            if (bodyRegExp.test(html)) {\n                html = RegExp.$1;\n            }\n\n            sandbox[0].innerHTML = html;\n\n            container.append(sandbox.children(\"script, style\"));\n\n            views = this._hideViews(sandbox);\n            view = views.first();\n\n            // Generic HTML content found as remote view - no remote view markers\n            if (!view.length) {\n                views = view = sandbox.wrapInner(\"<div data-role=view />\").children(); // one element\n            }\n\n            if (urlPath) {\n                view.hide().attr(attr(\"url\"), urlPath);\n            }\n\n            container.append(views);\n\n            return this._createView(view);\n        },\n\n        _locate: function(selectors) {\n            return this.$angular ? directiveSelector(selectors) : roleSelector(selectors);\n        },\n\n        _findViewElement: function(url) {\n            var element,\n                urlPath = url.split(\"?\")[0];\n\n            if (!urlPath) {\n                return this.rootView;\n            }\n\n            element = this.container.children(\"[\" + attr(\"url\") + \"='\" + urlPath + \"']\");\n\n            // do not try to search for \"#/foo/bar\" id, jQuery throws error\n            if (!element[0] && urlPath.indexOf(\"/\") === -1) {\n                element = this.container.children(urlPath.charAt(0) === \"#\" ? urlPath : \"#\" + urlPath);\n            }\n\n            if (!element[0]) {\n                element = this._findViewElementById(url);\n            }\n\n            return element;\n        },\n\n        _findViewElementById: function(id) {\n            var element = this.container.children(\"[id='\" + id + \"']\");\n            return element;\n        },\n\n        _createView: function(element) {\n            //return this._createMobileView(element);\n            return this._createSpaView(element);\n        },\n\n        _createMobileView: function(element) {\n            return kendo.initWidget(element, {\n                defaultTransition: this.transition,\n                loader: this.loader,\n                container: this.container,\n                getLayout: this.getLayoutProxy,\n                modelScope: this.modelScope,\n                reload: attrValue(element, \"reload\")\n            }, ui.roles);\n        },\n\n        _createSpaView: function(element) {\n            var viewOptions = (this.options || {}).viewOptions || {};\n            return new kendo.View(element, {\n                renderOnInit: viewOptions.renderOnInit,\n                wrap: viewOptions.wrap || false,\n                wrapInSections: viewOptions.wrapInSections,\n                detachOnHide: viewOptions.detachOnHide,\n                detachOnDestroy: viewOptions.detachOnDestroy\n            });\n        },\n\n        _hideViews: function(container) {\n            return container.children(this._locate(\"view\")).hide();\n        }\n    });\n\n    kendo.ViewEngine = ViewEngine;\n\n    kendo.ViewContainer = ViewContainer;\n    kendo.Fragment = Fragment;\n    kendo.Layout = Layout;\n    kendo.View = View;\n    kendo.ViewClone = ViewClone;\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function (f, define) {\n    define('kendo.floatinglabel',[\"./kendo.core\"], f);\n})(function () {\n\nvar __meta__ = {// jshint ignore:line\n    id: \"floatinglabel\",\n    name: \"FloatingLabel\",\n    category: \"framework\",\n    depends: [\"core\"],\n    hidden: true\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        ui = kendo.ui,\n        NS = \".kendoFloatingLabel\",\n        FLOATINGLABELCONTAINER = \"k-floating-label-container\",\n        EMPTY = \"k-state-empty\",\n        FOCUSED = \"k-focus\",\n        STATEDISABLED = \"k-disabled\",\n        NOCLICKCLASS = \"k-no-click\",\n        STATEREADONLY = \"k-readonly\",\n        proxy = $.proxy;\n\n    var FloatingLabel = Widget.extend({\n        init: function (element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            options = $.extend(true, {}, options);\n\n            that.refresh();\n            that._editable({\n                readonly: that.options.widget.options.readonly !== undefined ? that.options.widget.options.readonly : false,\n                disable: that.options.widget.options.enable !== undefined ? !(that.options.widget.options.enable) : false\n            });\n\n            that.element.addClass(FLOATINGLABELCONTAINER);\n\n            kendo.notify(that);\n        },\n\n        options: {\n            name: 'FloatingLabel',\n            widget: null,\n            useReadOnlyClass: false\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        },\n\n        refresh: function () {\n            var that = this;\n            var element = that.element;\n\n            element\n                .removeClass(EMPTY)\n                .removeClass(FOCUSED);\n\n\n            if (!that.options.widget.element.val()) {\n                element.addClass(EMPTY);\n            }\n\n            if (document.activeElement === that.options.widget.element[0]) {\n                element.addClass(FOCUSED);\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.element.off(NS);\n            Widget.fn.destroy.call(that);\n        },\n\n        _editable: function(options) {\n            var that = this;\n            var element = that.element;\n            var disable = options.disable;\n            var readonly = options.readonly;\n\n            element.off(NS);\n\n            if (!readonly && !disable) {\n                element\n                    .removeClass(STATEDISABLED)\n                    .removeClass(that.options.useReadOnlyClass ? STATEREADONLY : NOCLICKCLASS);\n\n                element.on(\"focusin\" + NS, proxy(that.refresh, that));\n                element.on(\"focusout\" + NS, proxy(that.refresh, that));\n            } else {\n                element\n                    .toggleClass(STATEDISABLED, disable)\n                    .toggleClass(that.options.useReadOnlyClass ? STATEREADONLY : NOCLICKCLASS, readonly);\n            }\n        }\n    });\n    ui.plugin(FloatingLabel);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define){\r\n    define('kendo.data.signalr',[ \"./kendo.data\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"data.signalr\",\r\n    name: \"SignalR\",\r\n    category: \"framework\",\r\n    depends: [ \"data\" ],\r\n    hidden: true\r\n};\r\n\r\n(function($) {\r\n    var kendo = window.kendo;\r\n    var isFunction = kendo.isFunction;\r\n\r\n    function isJQueryPromise(promise) {\r\n        return promise && isFunction(promise.done) && isFunction(promise.fail);\r\n    }\r\n\r\n    function isNativePromise(promise) {\r\n        return promise && isFunction(promise.then) && isFunction(promise.catch); // jshint ignore:line\r\n    }\r\n\r\n    var transport = kendo.data.RemoteTransport.extend({\r\n        init: function (options) {\r\n            var signalr = options && options.signalr ? options.signalr : {};\r\n\r\n            var promise = signalr.promise;\r\n\r\n            if (!promise) {\r\n                throw new Error('The \"promise\" option must be set.');\r\n            }\r\n\r\n            if (!isJQueryPromise(promise) && !isNativePromise(promise)) {\r\n                throw new Error('The \"promise\" option must be a Promise.');\r\n            }\r\n\r\n            this.promise = promise;\r\n\r\n            var hub = signalr.hub;\r\n\r\n            if (!hub) {\r\n                throw new Error('The \"hub\" option must be set.');\r\n            }\r\n\r\n            if (typeof hub.on != \"function\" || typeof hub.invoke != \"function\") {\r\n                throw new Error('The \"hub\" option is not a valid SignalR hub proxy.');\r\n            }\r\n\r\n            this.hub = hub;\r\n\r\n            kendo.data.RemoteTransport.fn.init.call(this, options);\r\n        },\r\n\r\n        push: function(callbacks) {\r\n            var client = this.options.signalr.client || {};\r\n\r\n            if (client.create) {\r\n                this.hub.on(client.create, callbacks.pushCreate);\r\n            }\r\n\r\n            if (client.update) {\r\n                this.hub.on(client.update, callbacks.pushUpdate);\r\n            }\r\n\r\n            if (client.destroy) {\r\n                this.hub.on(client.destroy, callbacks.pushDestroy);\r\n            }\r\n        },\r\n\r\n        _crud: function(options, type) {\r\n            var hub = this.hub;\r\n            var promise = this.promise;\r\n            var server = this.options.signalr.server;\r\n\r\n            if (!server || !server[type]) {\r\n                throw new Error(kendo.format('The \"server.{0}\" option must be set.', type));\r\n            }\r\n\r\n            var args = [server[type]];\r\n\r\n            var data = this.parameterMap(options.data, type);\r\n\r\n            if (!$.isEmptyObject(data)) {\r\n                args.push(data);\r\n            }\r\n\r\n            if (isJQueryPromise(promise)) {\r\n                promise.done(function() {\r\n                    hub.invoke.apply(hub, args)\r\n                              .done(options.success)\r\n                              .fail(options.error);\r\n                });\r\n            } else if (isNativePromise(promise)) {\r\n                promise.then(function() {\r\n                    hub.invoke.apply(hub, args)\r\n                              .then(options.success)\r\n                              .catch(options.error); // jshint ignore:line\r\n                });\r\n            }\r\n        },\r\n\r\n        read: function(options) {\r\n            this._crud(options, \"read\");\r\n        },\r\n\r\n        create: function(options) {\r\n            this._crud(options, \"create\");\r\n        },\r\n\r\n        update: function(options) {\r\n            this._crud(options, \"update\");\r\n        },\r\n\r\n        destroy: function(options) {\r\n            this._crud(options, \"destroy\");\r\n        }\r\n    });\r\n\r\n    $.extend(true, kendo.data, {\r\n        transports: {\r\n            signalr: transport\r\n        }\r\n    });\r\n\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\n    define('kendo.validator',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"validator\",\n    name: \"Validator\",\n    category: \"web\",\n    description: \"The Validator offers an easy way to do a client-side form validation.\",\n    depends: [ \"core\" ]\n};\n\n/* jshint eqnull: true */\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        NS = \".kendoValidator\",\n        INVALIDMSG = \"k-invalid-msg\",\n        invalidMsgRegExp = new RegExp(INVALIDMSG,'i'),\n        INVALIDINPUT = \"k-invalid\",\n        VALIDINPUT = \"k-valid\",\n        VALIDATIONSUMMARY = \"k-validation-summary\",\n        INVALIDLABEL = \"k-text-error\",\n        MESSAGEBOX = \"k-messagebox k-messagebox-error\",\n        INPUTINNER = \".k-input-inner\",\n        INPUTWRAPPER = \".k-input\",\n        ARIAINVALID = \"aria-invalid\",\n        ARIADESCRIBEDBY = \"aria-describedby\",\n        emailRegExp = /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/i,\n        urlRegExp = /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i,\n        INPUTSELECTOR = \":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])\",\n        CHECKBOXSELECTOR = \":checkbox:not([disabled],[readonly])\",\n        NUMBERINPUTSELECTOR = \"[type=number],[type=range]\",\n        BLUR = \"blur\",\n        NAME = \"name\",\n        FORM = \"form\",\n        NOVALIDATE = \"novalidate\",\n        //events\n        VALIDATE = \"validate\",\n        CHANGE = \"change\",\n        VALIDATE_INPUT = \"validateInput\",\n        proxy = $.proxy,\n        patternMatcher = function(value, pattern) {\n            if (typeof pattern === \"string\") {\n                pattern = new RegExp('^(?:' + pattern + ')$');\n            }\n            return pattern.test(value);\n        },\n        matcher = function(input, selector, pattern) {\n            var value = input.val();\n\n            if (input.filter(selector).length && value !== \"\") {\n                return patternMatcher(value, pattern);\n            }\n            return true;\n        },\n        hasAttribute = function(input, name) {\n            if (input.length)  {\n                return input[0].attributes[name] != null;\n            }\n            return false;\n        };\n\n    if (!kendo.ui.validator) {\n        kendo.ui.validator = { rules: {}, messages: {}, allowSubmit: $.noop, validateOnInit: $.noop };\n    }\n\n    function resolveRules(element) {\n        var resolvers = kendo.ui.validator.ruleResolvers || {},\n            rules = {},\n            name;\n\n        for (name in resolvers) {\n            $.extend(true, rules, resolvers[name].resolve(element));\n        }\n        return rules;\n    }\n\n    function decode(value) {\n        return value.replace(/&amp/g, '&amp;')\n            .replace(/&quot;/g, '\"')\n            .replace(/&#39;/g, \"'\")\n            .replace(/&lt;/g, '<')\n            .replace(/&gt;/g, '>');\n    }\n\n    function numberOfDecimalDigits(value) {\n        value = (value + \"\").split('.');\n        if (value.length > 1) {\n            return value[1].length;\n        }\n        return 0;\n    }\n\n    function parseHtml(text) {\n        if ($.parseHTML) {\n            return $($.parseHTML(text));\n        }\n        return $(text);\n    }\n\n    function searchForMessageContainer(elements, fieldName) {\n        var containers = $(),\n            element,\n            attr;\n\n        for (var idx = 0, length = elements.length; idx < length; idx++) {\n            element = elements[idx];\n            if (invalidMsgRegExp.test(element.className)) {\n                attr = element.getAttribute(kendo.attr(\"for\"));\n                if (attr === fieldName) {\n                    containers = containers.add(element);\n                }\n            }\n        }\n        return containers;\n    }\n\n    function isLabelFor(label, element) {\n        if (!label) {\n            return false;\n        }\n        if (typeof label.nodeName !== 'string' || label.nodeName !== 'LABEL') {\n            return false;\n        }\n        if (typeof label.getAttribute('for') !== 'string' || typeof element.getAttribute('id') !== 'string') {\n            return false;\n        }\n        if (label.getAttribute('for') !== element.getAttribute('id')) {\n            return false;\n        }\n\n        return true;\n    }\n\n    var SUMMARYTEMPLATE = '<ul>' +\n        '#for(var i = 0; i < errors.length; i += 1){#' +\n            '<li><a data-field=\"#=errors[i].field#\" href=\"\\\\#\">#= errors[i].message #</a></li>' +\n        '# } #' +\n    '</ul>';\n\n    var Validator = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                resolved = resolveRules(element),\n                validateAttributeSelector = \"[\" + kendo.attr(\"validate\") + \"!=false]\";\n\n            options = options || {};\n\n            options.rules = $.extend({}, kendo.ui.validator.rules, resolved.rules, options.rules);\n            options.messages = $.extend({}, kendo.ui.validator.messages, resolved.messages, options.messages);\n\n            Widget.fn.init.call(that, element, options);\n\n            that._errorTemplate = kendo.template(that.options.errorTemplate);\n            that._summaryTemplate = kendo.template(that.options.validationSummary.template || SUMMARYTEMPLATE);\n\n            if (that.element.is(FORM)) {\n                that.element.attr(NOVALIDATE, NOVALIDATE);\n            }\n\n            that._inputSelector = INPUTSELECTOR + validateAttributeSelector;\n            that._checkboxSelector = CHECKBOXSELECTOR + validateAttributeSelector;\n\n            that._errors = {};\n            that._attachEvents();\n            that._isValidated = false;\n\n            if (that._validateOnInit()) {\n                that.validate();\n            }\n        },\n\n        events: [ VALIDATE, CHANGE, VALIDATE_INPUT ],\n\n        options: {\n            name: \"Validator\",\n            errorTemplate: '<span class=\"k-form-error\">#= message #</span>',\n            messages: {\n                required: \"{0} is required\",\n                pattern: \"{0} is not valid\",\n                min: \"{0} should be greater than or equal to {1}\",\n                max: \"{0} should be smaller than or equal to {1}\",\n                step: \"{0} is not valid\",\n                email: \"{0} is not valid email\",\n                url: \"{0} is not valid URL\",\n                date: \"{0} is not valid date\",\n                dateCompare: \"End date should be greater than or equal to the start date\",\n                captcha: \"The text you entered doesn't match the image.\"\n            },\n            rules: {\n                required: function(input) {\n                    var noNameCheckbox = !input.attr(\"name\") && !input.is(\":checked\"),\n                        name = input.attr(\"name\"),\n                        quote = !!name && name.indexOf(\"'\") > -1 ? '\\\"' : \"'\",\n                        namedCheckbox = input.attr(\"name\") && !this.element.find(\"input[name=\" + quote + input.attr(\"name\") + quote + \"]:checked\").length,\n                        checkbox = input.filter(\"[type=checkbox]\").length && (noNameCheckbox || namedCheckbox),\n                        radio = input.filter(\"[type=radio]\").length && !this.element.find(\"input[name=\"  + quote + input.attr(\"name\") + quote + \"]:checked\").length,\n                        value = input.val();\n\n                    return !(hasAttribute(input, \"required\") && (!value || value === \"\" || value.length === 0 || checkbox || radio));\n                },\n                pattern: function(input) {\n                    if (input.filter(\"[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]\").filter(\"[pattern]\").length && input.val() !== \"\") {\n                        return patternMatcher(input.val(), input.attr(\"pattern\"));\n                    }\n                    return true;\n                },\n                min: function(input) {\n                    if (input.filter(NUMBERINPUTSELECTOR + \",[\" + kendo.attr(\"type\") + \"=number]\").filter(\"[min]\").length && input.val() !== \"\") {\n                        var min = parseFloat(input.attr(\"min\")) || 0,\n                            val = kendo.parseFloat(input.val());\n\n                        return min <= val;\n                    }\n                    return true;\n                },\n                max: function(input) {\n                    if (input.filter(NUMBERINPUTSELECTOR + \",[\" + kendo.attr(\"type\") + \"=number]\").filter(\"[max]\").length && input.val() !== \"\") {\n                        var max = parseFloat(input.attr(\"max\")) || 0,\n                            val = kendo.parseFloat(input.val());\n\n                        return max >= val;\n                    }\n                    return true;\n                },\n                step: function(input) {\n                    if (input.filter(NUMBERINPUTSELECTOR + \",[\" + kendo.attr(\"type\") + \"=number]\").filter(\"[step]\").length && input.val() !== \"\") {\n                        var min = parseFloat(input.attr(\"min\")) || 0,\n                            step = parseFloat(input.attr(\"step\")) || 1,\n                            val = parseFloat(input.val()),\n                            decimals = numberOfDecimalDigits(step),\n                            raise;\n\n                        if (decimals) {\n                            raise = Math.pow(10, decimals);\n                            return ((Math.floor((val-min)*raise))%(step*raise)) / Math.pow(100, decimals) === 0;\n                        }\n                        return ((val-min)%step) === 0;\n                    }\n                    return true;\n                },\n                email: function(input) {\n                    return matcher(input, \"[type=email],[\" + kendo.attr(\"type\") + \"=email]\", emailRegExp);\n                },\n                url: function(input) {\n                    return matcher(input, \"[type=url],[\" + kendo.attr(\"type\") + \"=url]\", urlRegExp);\n                },\n                date: function(input) {\n                    if (input.filter(\"[type^=date],[\" + kendo.attr(\"type\") + \"=date]\").length && input.val() !== \"\") {\n                        return kendo.parseDate(input.val(), input.attr(kendo.attr(\"format\"))) !== null;\n                    }\n                    return true;\n                },\n                captcha: function (input) {\n                    if (input.filter(\"[\" + kendo.attr(\"role\") + \"=captcha]\").length) {\n                        var that = this,\n                            captcha = kendo.widgetInstance(input),\n                            isValidated = function(isValid){\n                                return typeof(isValid) !== 'undefined' && isValid !== null;\n                            };\n\n                        if (!input.data(\"captcha_validating\") && !isValidated(captcha.isValid()) && !!captcha.getCaptchaId()) {\n                            input.data(\"captcha_validating\", true);\n                            that._validating = true;\n                            captcha.validate().done(function(){\n                                that._validating = false;\n                                that._checkElement(input);\n                            }).fail(function(data){\n                                that._validating = false;\n                                if(data.error && data.error === \"handler_not_defined\") {\n                                    window.console.warn(\"Captcha's validationHandler is not defined! You should either define a proper validation endpoint or declare a callback function to ensure the required behavior.\");\n                                }\n                            });\n                        }\n\n                        if (isValidated(captcha.isValid())){\n                            input.removeData(\"captcha_validating\");\n                            return captcha.isValid();\n                        }\n                    }\n                    return true;\n                }\n            },\n            validateOnBlur: true,\n            validationSummary: false\n        },\n\n        _allowSubmit: function() {\n            return kendo.ui.validator.allowSubmit(this.element, this.errors());\n        },\n\n        _validateOnInit: function() {\n            return kendo.ui.validator.validateOnInit(this.element);\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            this.element.off(NS);\n\n            if (this.validationSummary) {\n                this.validationSummary.off(NS);\n                this.validationSummary = null;\n            }\n        },\n\n        value: function() {\n            if (!this._isValidated) {\n                return false;\n            }\n\n            return this.errors().length === 0;\n        },\n\n        _submit: function(e) {\n            if ((!this.validate() && !this._allowSubmit()) || this._validating) {\n                e.stopPropagation();\n                e.stopImmediatePropagation();\n                e.preventDefault();\n                return false;\n            }\n            return true;\n        },\n\n        _checkElement: function(element) {\n            var state = this.value();\n\n            this.validateInput(element);\n\n            if (this.value() !== state) {\n                this.trigger(CHANGE);\n            }\n        },\n\n        _attachEvents: function() {\n            var that = this;\n\n            if (that.element.is(FORM)) {\n                that.element.on(\"submit\" + NS, proxy(that._submit, that));\n            }\n\n            if (that.options.validateOnBlur) {\n                if (!that.element.is(INPUTSELECTOR)) {\n                    that.element.on(BLUR + NS, that._inputSelector, function() {\n                        that._checkElement($(this));\n                    });\n\n                    that.element.on(\"click\" + NS, that._checkboxSelector, function() {\n                        that._checkElement($(this));\n                    });\n                } else {\n                    that.element.on(BLUR + NS, function() {\n                        that._checkElement(that.element);\n                    });\n\n                    if (that.element.is(CHECKBOXSELECTOR)) {\n                        that.element.on(\"click\" + NS, function() {\n                            that._checkElement(that.element);\n                        });\n                    }\n                }\n            }\n        },\n\n        validate: function() {\n            var inputs;\n            var idx;\n            var result = false;\n            var length;\n\n            var isValid = this.value();\n\n            this._errors = {};\n\n            if (!this.element.is(INPUTSELECTOR)) {\n                var invalid = false;\n\n                inputs = this.element.find(this._inputSelector);\n\n                for (idx = 0, length = inputs.length; idx < length; idx++) {\n                    if (!this.validateInput(inputs.eq(idx))) {\n                        invalid = true;\n                    }\n                }\n\n                result = !invalid;\n            } else {\n                result = this.validateInput(this.element);\n            }\n\n            if (this.options.validationSummary && !isValid) {\n                this.showValidationSummary();\n            }\n\n            this.trigger(VALIDATE, { valid: result, errors: this.errors() });\n\n            if (isValid !== result) {\n                this.trigger(CHANGE);\n            }\n\n            return result;\n        },\n\n        validateInput: function(input) {\n            input = $(input);\n\n\n            this._isValidated = true;\n\n            var that = this,\n                template = that._errorTemplate,\n                result = that._checkValidity(input),\n                valid = result.valid,\n                className = \".\" + INVALIDMSG,\n                fieldName = (input.attr(NAME) || \"\"),\n                lbl = that._findMessageContainer(fieldName).add(input.next(className).filter(function() {\n                    var element = $(this);\n                    if (element.filter(\"[\" + kendo.attr(\"for\") + \"]\").length) {\n                        return element.attr(kendo.attr(\"for\")) === fieldName;\n                    }\n\n                    return true;\n\n                })).addClass(\"k-hidden\"),\n                messageText = !valid ? that._extractMessage(input, result.key) : \"\",\n                messageLabel = !valid ? parseHtml(template({ message: decode(messageText), field: fieldName })) : \"\",\n                wasValid = !input.attr(ARIAINVALID),\n                isInputInner = input.is(INPUTINNER),\n                inputWrapper = input.parent(INPUTWRAPPER);\n\n            input.removeAttr(ARIAINVALID);\n\n            if (!valid && !input.data(\"captcha_validating\")) {\n                that._errors[fieldName] = messageText;\n                var lblId = lbl.attr('id');\n\n                that._decorateMessageContainer(messageLabel, fieldName);\n\n\n                if (lblId) {\n                    messageLabel.attr('id', lblId);\n                }\n\n                if (lbl.length !== 0) {\n                    lbl.replaceWith(messageLabel);\n                } else {\n                    var widgetInstance = kendo.widgetInstance(input);\n                    var parentElement = input.parent().get(0);\n                    var nextElement = input.next().get(0);\n                    var prevElement = input.prev().get(0);\n\n                    // Get the instance of the RadioGroup which is not initialized on the input element\n                    if(!widgetInstance && input.is(\"[type=radio]\")) {\n                        widgetInstance = kendo.widgetInstance(input.closest(\".k-radio-list\"));\n                    }\n\n                    // Get the instance of the CheckBoxGroup which is not initialized on the input element\n                    if(!widgetInstance && input.is(\"[type=checkbox]\")) {\n                        widgetInstance = kendo.widgetInstance(input.closest(\".k-checkbox-list\"));\n                    }\n\n                    if (widgetInstance && widgetInstance.wrapper) {\n                        messageLabel.insertAfter(widgetInstance.wrapper);\n                    } else if (parentElement && parentElement.nodeName === \"LABEL\") {\n                        // Input inside label\n                        messageLabel.insertAfter(parentElement);\n                    } else if (nextElement && isLabelFor(nextElement, input[0])) {\n                        // Input before label\n                        messageLabel.insertAfter(nextElement);\n                    } else if (prevElement && isLabelFor(prevElement, input[0])) {\n                        // Input after label\n                        messageLabel.insertAfter(input);\n                    } else if (isInputInner && inputWrapper.length) {\n                        // Input after input wrapper\n                        messageLabel.insertAfter(inputWrapper);\n                    } else {\n                        messageLabel.insertAfter(input);\n                    }\n                }\n\n                messageLabel.removeClass(\"k-hidden\");\n\n                input.attr(ARIAINVALID, true);\n            } else {\n                delete that._errors[fieldName];\n            }\n\n            if (wasValid !== valid) {\n                this.trigger(VALIDATE_INPUT, { valid: valid, input: input, error: messageText, field: fieldName });\n            }\n\n            if (isInputInner && inputWrapper.length) {\n                inputWrapper.toggleClass(INVALIDINPUT, !valid);\n                inputWrapper.toggleClass(VALIDINPUT, valid);\n            }\n\n            input.toggleClass(INVALIDINPUT, !valid);\n            input.toggleClass(VALIDINPUT, valid);\n\n\n            if (kendo.widgetInstance(input)) {\n                var widget = kendo.widgetInstance(input);\n                var inputWrap = widget._inputWrapper || widget.wrapper;\n                var inputLabel = widget._inputLabel;\n\n                if (inputWrap) {\n                    inputWrap.toggleClass(INVALIDINPUT, !valid);\n                    inputWrap.toggleClass(VALIDINPUT, valid);\n                }\n                if (inputLabel) {\n                    inputLabel.toggleClass(INVALIDLABEL, !valid);\n                }\n            }\n\n            if (wasValid !== valid) {\n                var errorId = messageLabel ? messageLabel.attr(\"id\") : lbl.attr(\"id\");\n\n                that._associateMessageContainer(input, errorId);\n\n                if (this.options.validationSummary && this.options.validateOnBlur) {\n                    this.showValidationSummary();\n                }\n            }\n\n            return valid;\n        },\n\n        hideMessages: function() {\n            var that = this,\n                className = \".\" + INVALIDMSG,\n                element = that.element;\n\n            that._disassociateMessageContainers();\n\n            if (!element.is(INPUTSELECTOR)) {\n                element.find(className).addClass(\"k-hidden\");\n            } else {\n                element.next(className).addClass(\"k-hidden\");\n            }\n        },\n\n        reset: function() {\n            var that = this,\n                inputs = that.element.find(\".\" + INVALIDINPUT),\n                labels = that.element.find(\".\" + INVALIDLABEL);\n\n            that._errors = [];\n\n            that.hideMessages();\n\n            that.hideValidationSummary();\n\n            inputs.removeAttr(ARIAINVALID);\n            inputs.removeClass(INVALIDINPUT);\n            labels.removeClass(INVALIDLABEL);\n        },\n\n        _findMessageContainer: function(fieldName) {\n            var locators = kendo.ui.validator.messageLocators,\n                name,\n                containers = $();\n\n            for (var idx = 0, length = this.element.length; idx < length; idx++) {\n                containers = containers.add(searchForMessageContainer(this.element[idx].getElementsByTagName(\"*\"), fieldName));\n            }\n\n            for (name in locators) {\n                containers = containers.add(locators[name].locate(this.element, fieldName));\n            }\n\n            return containers;\n        },\n\n        _decorateMessageContainer: function(container, fieldName) {\n            var locators = kendo.ui.validator.messageLocators,\n                name;\n\n            container.addClass(INVALIDMSG)\n                .attr(kendo.attr(\"for\"), fieldName || \"\");\n\n            if (!container.attr(\"id\")) {\n                container.attr(\"id\", fieldName + \"-error\");\n            }\n\n            for (name in locators) {\n                locators[name].decorate(container, fieldName);\n            }\n        },\n\n        _extractMessage: function(input, ruleKey) {\n            var that = this,\n                customMessage = that.options.messages[ruleKey],\n                fieldName = input.attr(NAME),\n                nonDefaultMessage;\n\n            if (!kendo.ui.Validator.prototype.options.messages[ruleKey]) {\n                 nonDefaultMessage = kendo.isFunction(customMessage) ? customMessage(input) : customMessage;\n            }\n\n            customMessage = kendo.isFunction(customMessage) ? customMessage(input) : customMessage;\n\n            return kendo.format(input.attr(kendo.attr(ruleKey + \"-msg\")) || input.attr(\"validationMessage\") || nonDefaultMessage || customMessage || input.attr(\"title\") || \"\",\n                fieldName,\n                input.attr(ruleKey) || input.attr(kendo.attr(ruleKey)));\n        },\n\n        _checkValidity: function(input) {\n            var rules = this.options.rules,\n                rule;\n\n            for (rule in rules) {\n                if (!rules[rule].call(this, input)) {\n                    return { valid: false, key: rule };\n                }\n            }\n\n            return { valid: true };\n        },\n\n        errors: function() {\n            var results = [],\n                errors = this._errors,\n                error;\n\n            for (error in errors) {\n                results.push(errors[error]);\n            }\n            return results;\n        },\n\n        setOptions: function(options) {\n            if (options.validationSummary) {\n                this.hideValidationSummary();\n            }\n\n            kendo.deepExtend(this.options, options);\n\n            this.destroy();\n\n            this.init(this.element, this.options);\n\n            this._setEvents(this.options);\n        },\n\n        _getInputNames: function() {\n            var that = this,\n                inputs = that.element.find(that._inputSelector),\n                sorted = [];\n\n            for (var idx = 0, length = inputs.length; idx < length; idx++) {\n                var input = $(inputs[idx]);\n\n                if (hasAttribute(input, NAME)) {\n                    // Add current name if:\n                    // - not present so far;\n                    // - present but not part of CheckBoxGroup or RadioGroup.\n                    if(sorted.indexOf(input.attr(NAME)) === -1 ||\n                        (input.closest(\".k-checkbox-list\").length === 0 &&\n                        input.closest(\".k-radio-list\").length === 0)) {\n                            sorted.push(input.attr(NAME));\n                    }\n                }\n            }\n\n            return sorted;\n        },\n\n        _associateMessageContainer: function(input, errorId) {\n            var nextFocusable = kendo.getWidgetFocusableElement(input);\n\n            if (!nextFocusable || !errorId) {\n                return;\n            }\n\n            kendo.toggleAttribute(nextFocusable, ARIADESCRIBEDBY, errorId);\n        },\n\n        _disassociateMessageContainers: function() {\n            var that = this,\n                inputs = that.element.find(\".\" + INVALIDINPUT).addBack(),\n                input, errorId;\n\n            for (var i = 0; i < inputs.length; i += 1) {\n                input = $(inputs[i]);\n\n                if (input.is(\"input\")) {\n                    errorId = that._findMessageContainer(input.attr(NAME))\n                        .add(input.next(\".\" + INVALIDMSG))\n                        .attr(\"id\");\n\n                    that._associateMessageContainer(input, errorId);\n                }\n            }\n        },\n\n        _errorsByName: function() {\n            var that = this,\n                inputNames = that._getInputNames(),\n                sorted = [];\n\n            for (var i = 0; i < inputNames.length; i += 1) {\n                var name = inputNames[i];\n\n                if (that._errors[name]) {\n                    sorted.push({\n                        field: name,\n                        message: that._errors[name]\n                    });\n                }\n            }\n\n            return sorted;\n        },\n\n        _renderSummary: function() {\n            var that = this,\n                options = this.options.validationSummary,\n                element = this.element,\n                prevElement = element.prev(),\n                container;\n\n            if (options.container) {\n                container = $(options.container);\n            } else if (prevElement && prevElement.hasClass(VALIDATIONSUMMARY)) {\n                container = prevElement;\n            } else {\n                container = $(\"<div />\").insertBefore(that.element);\n            }\n\n            container.addClass([VALIDATIONSUMMARY, MESSAGEBOX].join(\" \"));\n            container.attr(\"role\", \"alert\");\n\n            container.on(\"click\" + NS, proxy(that._summaryClick, that));\n\n            return container;\n        },\n\n        _summaryClick: function(e) {\n            e.preventDefault();\n\n            var that = this,\n                link = $(e.target),\n                target = that.element.find(\"[name='\" + link.data(\"field\") +  \"']\"),\n                nextFocusable;\n\n            if (!target.length) {\n                return;\n            }\n\n            nextFocusable = kendo.getWidgetFocusableElement(target);\n\n            if (nextFocusable) {\n                nextFocusable.trigger(\"focus\");\n            }\n        },\n\n        showValidationSummary: function() {\n            var that = this,\n                summary = that.validationSummary,\n                errors = that._errorsByName(),\n                errorsList;\n\n            if (!summary) {\n                summary = that.validationSummary = that._renderSummary();\n            }\n\n            errorsList = parseHtml(that._summaryTemplate({\n                errors: errors\n            }));\n\n            summary.html(errorsList);\n\n            summary.toggleClass(\"k-hidden\", !errors.length);\n        },\n\n        hideValidationSummary: function() {\n            var that = this,\n                summary = that.validationSummary;\n\n            if (!summary) {\n                return;\n            }\n\n            summary.addClass(\"k-hidden\");\n        }\n    });\n\n    kendo.ui.plugin(Validator);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)();  });\n\n(function(f, define){\n    define('kendo.draganddrop',[ \"./kendo.core\", \"./kendo.userevents\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"draganddrop\",\n    name: \"Drag & drop\",\n    category: \"framework\",\n    description: \"Drag & drop functionality for any DOM element.\",\n    depends: [ \"core\", \"userevents\" ]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        document = window.document,\n        $window = $(window),\n        Class = kendo.Class,\n        Widget = kendo.ui.Widget,\n        Observable = kendo.Observable,\n        UserEvents = kendo.UserEvents,\n        proxy = $.proxy,\n        extend = $.extend,\n        getOffset = kendo.getOffset,\n        draggables = {},\n        dropTargets = {},\n        dropAreas = {},\n        lastDropTarget,\n        elementUnderCursor = kendo.elementUnderCursor,\n        KEYUP = \"keyup\",\n        CHANGE = \"change\",\n\n        // Draggable events\n        DRAGSTART = \"dragstart\",\n        HOLD = \"hold\",\n        DRAG = \"drag\",\n        DRAGEND = \"dragend\",\n        DRAGCANCEL = \"dragcancel\",\n        HINTDESTROYED = \"hintDestroyed\",\n\n        // DropTarget events\n        DRAGENTER = \"dragenter\",\n        DRAGLEAVE = \"dragleave\",\n        DROP = \"drop\";\n\n    function contains(parent, child) {\n        try {\n            return $.contains(parent, child) || parent == child;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function numericCssPropery(element, property) {\n        return parseInt(element.css(property), 10) || 0;\n    }\n\n    function within(value, range) {\n        return Math.min(Math.max(value, range.min), range.max);\n    }\n\n    function containerBoundaries(container, element) {\n        var offset = getOffset(container),\n            outerWidth = kendo._outerWidth,\n            outerHeight = kendo._outerHeight,\n            minX = offset.left + numericCssPropery(container, \"borderLeftWidth\") + numericCssPropery(container, \"paddingLeft\"),\n            minY = offset.top + numericCssPropery(container, \"borderTopWidth\") + numericCssPropery(container, \"paddingTop\"),\n            maxX = minX + container.width() - outerWidth(element, true),\n            maxY = minY + container.height() - outerHeight(element, true);\n\n        return {\n            x: { min: minX, max: maxX },\n            y: { min: minY, max: maxY }\n        };\n    }\n\n    function checkTarget(target, targets, areas) {\n        var theTarget, theFilter, i = 0,\n            targetLen = targets && targets.length,\n            areaLen = areas && areas.length;\n\n        while (target && target.parentNode) {\n            for (i = 0; i < targetLen; i ++) {\n                theTarget = targets[i];\n                if (theTarget.element[0] === target) {\n                    return { target: theTarget, targetElement: target };\n                }\n            }\n\n            for (i = 0; i < areaLen; i ++) {\n                theFilter = areas[i];\n                if ($.contains(theFilter.element[0], target) && support.matchesSelector.call(target, theFilter.options.filter)) {\n                    return { target: theFilter, targetElement: target };\n                }\n            }\n\n            target = target.parentNode;\n        }\n\n        return undefined;\n    }\n\n    var TapCapture = Observable.extend({\n        init: function(element, options) {\n            var that = this,\n                domElement = element[0];\n\n            that.capture = false;\n\n            if (domElement.addEventListener) {\n                $.each(kendo.eventMap.down.split(\" \"), function() {\n                    domElement.addEventListener(this, proxy(that._press, that), true);\n                });\n                $.each(kendo.eventMap.up.split(\" \"), function() {\n                    domElement.addEventListener(this, proxy(that._release, that), true);\n                });\n            } else {\n                $.each(kendo.eventMap.down.split(\" \"), function() {\n                    domElement.attachEvent(this, proxy(that._press, that));\n                });\n                $.each(kendo.eventMap.up.split(\" \"), function() {\n                    domElement.attachEvent(this, proxy(that._release, that));\n                });\n            }\n\n            Observable.fn.init.call(that);\n\n            that.bind([\"press\", \"release\"], options || {});\n        },\n\n        captureNext: function() {\n            this.capture = true;\n        },\n\n        cancelCapture: function() {\n            this.capture = false;\n        },\n\n        _press: function(e) {\n            var that = this;\n            that.trigger(\"press\");\n            if (that.capture) {\n                e.preventDefault();\n            }\n        },\n\n        _release: function(e) {\n            var that = this;\n            that.trigger(\"release\");\n\n            if (that.capture) {\n                e.preventDefault();\n                that.cancelCapture();\n            }\n        }\n    });\n\n    var PaneDimension = Observable.extend({\n        init: function(options) {\n            var that = this;\n            Observable.fn.init.call(that);\n\n            that.forcedEnabled = false;\n\n            $.extend(that, options);\n\n            that.scale = 1;\n\n            if (that.horizontal) {\n                that.measure = \"offsetWidth\";\n                that.scrollSize = \"scrollWidth\";\n                that.axis = \"x\";\n            } else {\n                that.measure = \"offsetHeight\";\n                that.scrollSize = \"scrollHeight\";\n                that.axis = \"y\";\n            }\n        },\n\n        makeVirtual: function() {\n            $.extend(this, {\n                virtual: true,\n                forcedEnabled: true,\n                _virtualMin: 0,\n                _virtualMax: 0\n            });\n        },\n\n        virtualSize: function(min, max) {\n            if (this._virtualMin !== min || this._virtualMax !== max) {\n                this._virtualMin = min;\n                this._virtualMax = max;\n                this.update();\n            }\n        },\n\n        outOfBounds: function(offset) {\n            return offset > this.max || offset < this.min;\n        },\n\n        forceEnabled: function() {\n            this.forcedEnabled = true;\n        },\n\n        getSize: function() {\n            return this.container[0][this.measure];\n        },\n\n        getTotal: function() {\n            return this.element[0][this.scrollSize];\n        },\n\n        rescale: function(scale) {\n            this.scale = scale;\n        },\n\n        update: function(silent) {\n            var that = this,\n                total = that.virtual ? that._virtualMax : that.getTotal(),\n                scaledTotal = total * that.scale,\n                size = that.getSize();\n\n            if (total === 0 && !that.forcedEnabled) {\n                return; // we are not visible.\n            }\n\n            that.max = that.virtual ? -that._virtualMin : 0;\n            that.size = size;\n            that.total = scaledTotal;\n            that.min = Math.min(that.max, size - scaledTotal);\n            that.minScale = size / total;\n            that.centerOffset = (scaledTotal - size) / 2;\n\n            that.enabled = that.forcedEnabled || (scaledTotal > size);\n\n            if (!silent) {\n                that.trigger(CHANGE, that);\n            }\n        }\n    });\n\n    var PaneDimensions = Observable.extend({\n        init: function(options) {\n            var that = this;\n\n            Observable.fn.init.call(that);\n\n            that.x = new PaneDimension(extend({horizontal: true}, options));\n            that.y = new PaneDimension(extend({horizontal: false}, options));\n            that.container = options.container;\n            that.forcedMinScale = options.minScale;\n            that.maxScale = options.maxScale || 100;\n\n            that.bind(CHANGE, options);\n        },\n\n        rescale: function(newScale) {\n            this.x.rescale(newScale);\n            this.y.rescale(newScale);\n            this.refresh();\n        },\n\n        centerCoordinates: function() {\n            return { x: Math.min(0, -this.x.centerOffset), y: Math.min(0, -this.y.centerOffset) };\n        },\n\n        refresh: function() {\n            var that = this;\n            that.x.update();\n            that.y.update();\n            that.enabled = that.x.enabled || that.y.enabled;\n            that.minScale = that.forcedMinScale || Math.min(that.x.minScale, that.y.minScale);\n            that.fitScale = Math.max(that.x.minScale, that.y.minScale);\n            that.trigger(CHANGE);\n        }\n    });\n\n    var PaneAxis = Observable.extend({\n        init: function(options) {\n            var that = this;\n            extend(that, options);\n            Observable.fn.init.call(that);\n        },\n\n        outOfBounds: function() {\n            return this.dimension.outOfBounds(this.movable[this.axis]);\n        },\n\n        dragMove: function(delta) {\n            var that = this,\n                dimension = that.dimension,\n                axis = that.axis,\n                movable = that.movable,\n                position = movable[axis] + delta;\n\n            if (!dimension.enabled) {\n                return;\n            }\n\n            if ((position < dimension.min && delta < 0) || (position > dimension.max && delta > 0)) {\n                delta *= that.resistance;\n            }\n\n            movable.translateAxis(axis, delta);\n            that.trigger(CHANGE, that);\n        }\n    });\n\n    var Pane = Class.extend({\n\n        init: function(options) {\n            var that = this,\n                x,\n                y,\n                resistance,\n                movable;\n\n            extend(that, {elastic: true}, options);\n\n            resistance = that.elastic ? 0.5 : 0;\n            movable = that.movable;\n\n            that.x = x = new PaneAxis({\n                axis: \"x\",\n                dimension: that.dimensions.x,\n                resistance: resistance,\n                movable: movable\n            });\n\n            that.y = y = new PaneAxis({\n                axis: \"y\",\n                dimension: that.dimensions.y,\n                resistance: resistance,\n                movable: movable\n            });\n\n            that.userEvents.bind([\"press\", \"move\", \"end\", \"gesturestart\", \"gesturechange\"], {\n                gesturestart: function(e) {\n                    that.gesture = e;\n                    that.offset = that.dimensions.container.offset();\n                },\n\n                press: function(e) {\n                    if ($(e.event.target).closest(\"a\").is(\"[data-navigate-on-press=true]\")) {\n                        e.sender.cancel();\n                    }\n                },\n\n                gesturechange: function(e) {\n                    var previousGesture = that.gesture,\n                        previousCenter = previousGesture.center,\n\n                        center = e.center,\n\n                        scaleDelta = e.distance / previousGesture.distance,\n\n                        minScale = that.dimensions.minScale,\n                        maxScale = that.dimensions.maxScale,\n                        coordinates;\n\n                    if (movable.scale <= minScale && scaleDelta < 1) {\n                        // Resist shrinking. Instead of shrinking from 1 to 0.5, it will shrink to 0.5 + (1 /* minScale */ - 0.5) * 0.8 = 0.9;\n                        scaleDelta += (1 - scaleDelta) * 0.8;\n                    }\n\n                    if (movable.scale * scaleDelta >= maxScale) {\n                        scaleDelta = maxScale / movable.scale;\n                    }\n\n                    var offsetX = movable.x + that.offset.left,\n                        offsetY = movable.y + that.offset.top;\n\n                    coordinates = {\n                        x: (offsetX - previousCenter.x) * scaleDelta + center.x - offsetX,\n                        y: (offsetY - previousCenter.y) * scaleDelta + center.y - offsetY\n                    };\n\n                    movable.scaleWith(scaleDelta);\n\n                    x.dragMove(coordinates.x);\n                    y.dragMove(coordinates.y);\n\n                    that.dimensions.rescale(movable.scale);\n                    that.gesture = e;\n                    e.preventDefault();\n                },\n\n                move: function(e) {\n                    if (e.event.target.tagName.match(/textarea|input/i)) {\n                        return;\n                    }\n\n                    if (x.dimension.enabled || y.dimension.enabled) {\n                        x.dragMove(e.x.delta);\n                        y.dragMove(e.y.delta);\n                        e.preventDefault();\n                    } else {\n                        e.touch.skip();\n                    }\n                },\n\n                end: function(e) {\n                    e.preventDefault();\n                }\n            });\n        }\n    });\n\n    var TRANSFORM_STYLE = support.transitions.prefix + \"Transform\",\n        translate;\n\n\n    if (support.hasHW3D) {\n        translate = function(x, y, scale) {\n            return \"translate3d(\" + x + \"px,\" + y +\"px,0) scale(\" + scale + \")\";\n        };\n    } else {\n        translate = function(x, y, scale) {\n            return \"translate(\" + x + \"px,\" + y +\"px) scale(\" + scale + \")\";\n        };\n    }\n\n    var Movable = Observable.extend({\n        init: function(element) {\n            var that = this;\n\n            Observable.fn.init.call(that);\n\n            that.element = $(element);\n            that.element[0].style.webkitTransformOrigin = \"left top\";\n            that.x = 0;\n            that.y = 0;\n            that.scale = 1;\n            that._saveCoordinates(translate(that.x, that.y, that.scale));\n        },\n\n        translateAxis: function(axis, by) {\n            this[axis] += by;\n            this.refresh();\n        },\n\n        scaleTo: function(scale) {\n            this.scale = scale;\n            this.refresh();\n        },\n\n        scaleWith: function(scaleDelta) {\n            this.scale *= scaleDelta;\n            this.refresh();\n        },\n\n        translate: function(coordinates) {\n            this.x += coordinates.x;\n            this.y += coordinates.y;\n            this.refresh();\n        },\n\n        moveAxis: function(axis, value) {\n            this[axis] = value;\n            this.refresh();\n        },\n\n        moveTo: function(coordinates) {\n            extend(this, coordinates);\n            this.refresh();\n        },\n\n        refresh: function() {\n            var that = this,\n                x = that.x,\n                y = that.y,\n                newCoordinates;\n\n            if (that.round) {\n                x = Math.round(x);\n                y = Math.round(y);\n            }\n\n            newCoordinates = translate(x, y, that.scale);\n\n            if (newCoordinates != that.coordinates) {\n                if (kendo.support.browser.msie && kendo.support.browser.version < 10) {\n                    that.element[0].style.position = \"absolute\";\n                    that.element[0].style.left = that.x + \"px\";\n                    that.element[0].style.top = that.y + \"px\";\n\n                } else {\n                    that.element[0].style[TRANSFORM_STYLE] = newCoordinates;\n                }\n                that._saveCoordinates(newCoordinates);\n                that.trigger(CHANGE);\n            }\n        },\n\n        _saveCoordinates: function(coordinates) {\n            this.coordinates = coordinates;\n        }\n    });\n\n    function destroyDroppable(collection, widget) {\n        var groupName = widget.options.group,\n        droppables = collection[groupName],\n        i;\n\n        Widget.fn.destroy.call(widget);\n\n        if (droppables.length > 1) {\n            for (i = 0; i < droppables.length; i++) {\n                if (droppables[i] == widget) {\n                    droppables.splice(i, 1);\n                    break;\n                }\n            }\n        } else {\n            droppables.length = 0; // WTF, porting this from the previous destroyGroup\n            delete collection[groupName];\n        }\n    }\n\n    var DropTarget = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            var group = that.options.group;\n\n            if (!(group in dropTargets)) {\n                dropTargets[group] = [ that ];\n            } else {\n                dropTargets[group].push( that );\n            }\n        },\n\n        events: [\n            DRAGENTER,\n            DRAGLEAVE,\n            DROP\n        ],\n\n        options: {\n            name: \"DropTarget\",\n            group: \"default\"\n        },\n\n        destroy: function() {\n            destroyDroppable(dropTargets, this);\n        },\n\n        _trigger: function(eventName, e) {\n            var that = this,\n                draggable = draggables[that.options.group];\n\n            if (draggable) {\n                return that.trigger(eventName, extend({}, e.event, {\n                           draggable: draggable,\n                           dropTarget: e.dropTarget\n                       }));\n            }\n        },\n\n        _over: function(e) {\n            this._trigger(DRAGENTER, e);\n        },\n\n        _out: function(e) {\n            this._trigger(DRAGLEAVE, e);\n        },\n\n        _drop: function(e) {\n            var that = this,\n                draggable = draggables[that.options.group];\n\n            if (draggable) {\n                draggable.dropped = !that._trigger(DROP, e);\n            }\n        }\n    });\n\n    DropTarget.destroyGroup = function(groupName) {\n        var group = dropTargets[groupName] || dropAreas[groupName],\n            i;\n\n        if (group) {\n            for (i = 0; i < group.length; i++) {\n                Widget.fn.destroy.call(group[i]);\n            }\n\n            group.length = 0;\n            delete dropTargets[groupName];\n            delete dropAreas[groupName];\n        }\n    };\n\n    DropTarget._cache = dropTargets;\n\n    var DropTargetArea = DropTarget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            var group = that.options.group;\n\n            if (!(group in dropAreas)) {\n                dropAreas[group] = [ that ];\n            } else {\n                dropAreas[group].push( that );\n            }\n        },\n\n        destroy: function() {\n            destroyDroppable(dropAreas, this);\n        },\n\n        options: {\n            name: \"DropTargetArea\",\n            group: \"default\",\n            filter: null\n        }\n    });\n\n    var Draggable = Widget.extend({\n        init: function (element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._activated = false;\n\n            that.userEvents = new UserEvents(that.element, {\n                global: true,\n                allowSelection: true,\n                filter: that.options.filter,\n                threshold: that.options.distance,\n                start: proxy(that._start, that),\n                hold: proxy(that._hold, that),\n                move: proxy(that._drag, that),\n                end: proxy(that._end, that),\n                cancel: proxy(that._cancel, that),\n                select: proxy(that._select, that)\n            });\n\n            if (kendo.support.touch) {\n                that.element.find(that.options.filter).css('touch-action', 'none');\n            }\n\n            that._afterEndHandler = proxy(that._afterEnd, that);\n            that._captureEscape = proxy(that._captureEscape, that);\n        },\n\n        events: [\n            HOLD,\n            DRAGSTART,\n            DRAG,\n            DRAGEND,\n            DRAGCANCEL,\n            HINTDESTROYED\n        ],\n\n        options: {\n            name: \"Draggable\",\n            distance: ( kendo.support.touch ? 0 : 5),\n            group: \"default\",\n            cursorOffset: null,\n            axis: null,\n            container: null,\n            filter: null,\n            ignore: null,\n            holdToDrag: false,\n            autoScroll: false,\n            dropped: false\n        },\n\n        cancelHold: function() {\n            this._activated = false;\n        },\n\n        _captureEscape: function(e) {\n            var that = this;\n\n            if (e.keyCode === kendo.keys.ESC) {\n                that._trigger(DRAGCANCEL, { event: e });\n                that.userEvents.cancel();\n            }\n        },\n\n        _updateHint: function(e) {\n            var that = this,\n                coordinates,\n                options = that.options,\n                boundaries = that.boundaries,\n                axis = options.axis,\n                cursorOffset = that.options.cursorOffset;\n\n            if (cursorOffset) {\n               coordinates = { left: e.x.location + cursorOffset.left, top: e.y.location + cursorOffset.top };\n            } else {\n                that.hintOffset.left += e.x.delta;\n                that.hintOffset.top += e.y.delta;\n                coordinates = $.extend({}, that.hintOffset);\n            }\n\n            if (boundaries) {\n                coordinates.top = within(coordinates.top, boundaries.y);\n                coordinates.left = within(coordinates.left, boundaries.x);\n            }\n\n            if (axis === \"x\") {\n                delete coordinates.top;\n            } else if (axis === \"y\") {\n                delete coordinates.left;\n            }\n\n            that.hint.css(coordinates);\n        },\n\n        _shouldIgnoreTarget: function(target) {\n            var ignoreSelector = this.options.ignore;\n            return ignoreSelector && $(target).is(ignoreSelector);\n        },\n\n        _select: function(e) {\n            if (!this._shouldIgnoreTarget(e.event.target)) {\n                e.preventDefault();\n            }\n        },\n\n        _start: function(e) {\n            var that = this,\n                options = that.options,\n                container = options.container ? $(options.container): null,\n                hint = options.hint;\n\n            if (this._shouldIgnoreTarget(e.touch.initialTouch) || (options.holdToDrag && !that._activated)) {\n                that.userEvents.cancel();\n                return;\n            }\n\n            that.currentTarget = e.target;\n            that.currentTargetOffset = getOffset(that.currentTarget);\n\n            if (hint) {\n                if (that.hint) {\n                    that.hint.stop(true, true).remove();\n                }\n\n                that.hint = kendo.isFunction(hint) ? $(hint.call(that, that.currentTarget)) : hint;\n\n                var offset = getOffset(that.currentTarget);\n                that.hintOffset = offset;\n\n                that.hint.css( {\n                    position: \"absolute\",\n                    zIndex: 20000, // the Window's z-index is 10000 and can be raised because of z-stacking\n                    left: offset.left,\n                    top: offset.top\n                })\n                .appendTo(document.body);\n\n                that.angular(\"compile\", function(){\n                    that.hint.removeAttr(\"ng-repeat\");\n                    var scopeTarget = $(e.target);\n\n                    while (!scopeTarget.data(\"$$kendoScope\") && scopeTarget.length) {\n                        scopeTarget = scopeTarget.parent();\n                    }\n\n                    return {\n                        elements: that.hint.get(),\n                        scopeFrom: scopeTarget.data(\"$$kendoScope\")\n                    };\n                });\n            }\n\n            draggables[options.group] = that;\n\n            that.dropped = false;\n\n            if (container) {\n                that.boundaries = containerBoundaries(container, that.hint);\n            }\n\n            $(document).on(KEYUP, that._captureEscape);\n\n            if (that._trigger(DRAGSTART, e)) {\n                that.userEvents.cancel();\n                that._afterEnd();\n            }\n\n            that.userEvents.capture();\n        },\n\n        _hold: function(e) {\n            this.currentTarget = e.target;\n\n            if (this._trigger(HOLD, e)) {\n                this.userEvents.cancel();\n            } else {\n                this._activated = true;\n            }\n        },\n\n        _drag: function(e) {\n            e.preventDefault();\n\n            var cursorElement = this._elementUnderCursor(e);\n\n            if (this.options.autoScroll && this._cursorElement !== cursorElement) {\n                this._scrollableParent = findScrollableParent(cursorElement);\n                this._cursorElement = cursorElement;\n            }\n\n            this._lastEvent = e;\n            this._processMovement(e, cursorElement);\n\n            if (this.options.autoScroll) {\n                // chrome seems to trigger mousemove when mouse is moved outside of the window (over the Chrome), too.\n                if (this._scrollableParent[0]) {\n                    var velocity = autoScrollVelocity(e.x.location, e.y.location, scrollableViewPort(this._scrollableParent));\n\n\n                    this._scrollCompenstation = $.extend({}, this.hintOffset);\n                    this._scrollVelocity = velocity;\n\n                    if (velocity.y === 0 && velocity.x === 0) {\n                        clearInterval(this._scrollInterval);\n                        this._scrollInterval = null;\n                    } else if(!this._scrollInterval) {\n                        this._scrollInterval = setInterval($.proxy(this, \"_autoScroll\"), 50);\n                    }\n                }\n            }\n\n            if (this.hint) {\n                this._updateHint(e);\n            }\n        },\n\n        _processMovement: function(e, cursorElement) {\n            this._withDropTarget(cursorElement, function(target, targetElement) {\n                if (!target) {\n                    if (lastDropTarget) {\n                        lastDropTarget._trigger(DRAGLEAVE, extend(e, { dropTarget: $(lastDropTarget.targetElement) }));\n                        lastDropTarget = null;\n                    }\n                    return;\n                }\n\n                if (lastDropTarget) {\n                    if (targetElement === lastDropTarget.targetElement) {\n                        return;\n                    }\n\n                    lastDropTarget._trigger(DRAGLEAVE, extend(e, { dropTarget: $(lastDropTarget.targetElement) }));\n                }\n\n                target._trigger(DRAGENTER, extend(e, { dropTarget: $(targetElement) }));\n                lastDropTarget = extend(target, { targetElement: targetElement });\n            });\n\n            this._trigger(DRAG, extend(e, { dropTarget: lastDropTarget, elementUnderCursor: cursorElement }));\n        },\n\n        _autoScroll: function() {\n            var parent = this._scrollableParent[0],\n                velocity = this._scrollVelocity,\n                compensation = this._scrollCompenstation;\n\n            if (!parent) {\n                return;\n            }\n\n            var cursorElement = this._elementUnderCursor(this._lastEvent);\n            this._processMovement(this._lastEvent, cursorElement);\n\n            var yIsScrollable, xIsScrollable;\n\n            var isRootNode = parent === scrollableRoot()[0];\n\n            if (isRootNode) {\n                yIsScrollable = document.body.scrollHeight > $window.height();\n                xIsScrollable = document.body.scrollWidth > $window.width();\n            } else {\n                yIsScrollable = parent.offsetHeight <= parent.scrollHeight;\n                xIsScrollable = parent.offsetWidth <= parent.scrollWidth;\n            }\n\n            var yDelta = parent.scrollTop + velocity.y;\n            var yInBounds = yIsScrollable && yDelta > 0 && yDelta < parent.scrollHeight;\n\n            var xDelta = parent.scrollLeft + velocity.x;\n            var xInBounds = xIsScrollable && xDelta > 0 && xDelta < parent.scrollWidth;\n\n            if (yInBounds) {\n                parent.scrollTop += velocity.y;\n            } else if (yIsScrollable && yDelta < 0) {\n                parent.scrollTop = 0;\n            }\n\n            if (xInBounds) {\n                parent.scrollLeft += velocity.x;\n            } else if (xIsScrollable && xDelta < 0) {\n                parent.scrollLeft = 0;\n            }\n\n            if (this.hint && isRootNode && (xInBounds || yInBounds)) {\n                if (yInBounds) {\n                    compensation.top += velocity.y;\n                }\n\n                if (xInBounds) {\n                    compensation.left += velocity.x;\n                }\n\n                this.hint.css(compensation);\n            }\n        },\n\n        _end: function(e) {\n            this._withDropTarget(this._elementUnderCursor(e), function(target, targetElement) {\n                if (target) {\n                    target._drop(extend({}, e, { dropTarget: $(targetElement) }));\n                    lastDropTarget = null;\n                }\n            });\n\n            clearInterval(this._scrollInterval);\n            this._scrollInterval = null;\n            this._cancel(this._trigger(DRAGEND, e));\n        },\n\n        _cancel: function(isDefaultPrevented) {\n            var that = this;\n\n            that._scrollableParent = null;\n            this._cursorElement = null;\n            clearInterval(this._scrollInterval);\n            that._activated = false;\n\n            if (that.hint && !that.dropped) {\n                setTimeout(function() {\n                    that.hint.stop(true, true);\n\n                    if (isDefaultPrevented) {\n                        that._afterEndHandler();\n                    } else {\n                        that.hint.animate(that.currentTargetOffset, \"fast\", that._afterEndHandler);\n                    }\n                }, 0);\n\n            } else {\n                that._afterEnd();\n            }\n        },\n\n        _trigger: function(eventName, e) {\n            var that = this;\n\n            return that.trigger(\n                eventName, extend(\n                {},\n                e.event,\n                {\n                    x: e.x,\n                    y: e.y,\n                    currentTarget: that.currentTarget,\n                    initialTarget: e.touch ? e.touch.initialTouch : null,\n                    dropTarget: e.dropTarget,\n                    elementUnderCursor: e.elementUnderCursor\n                }\n            ));\n        },\n\n        _elementUnderCursor: function(e) {\n            var target = elementUnderCursor(e),\n                hint = this.hint;\n\n            if (hint && contains(hint[0], target)) {\n                hint.hide();\n                target = elementUnderCursor(e);\n                // IE8 does not return the element in iframe from first attempt\n                if (!target) {\n                    target = elementUnderCursor(e);\n                }\n                hint.show();\n            }\n\n            return target;\n        },\n\n        _withDropTarget: function(element, callback) {\n            var result,\n                group = this.options.group,\n                targets = dropTargets[group],\n                areas = dropAreas[group];\n\n            if (targets && targets.length || areas && areas.length) {\n                result = checkTarget(element, targets, areas);\n\n                if (result) {\n                    callback(result.target, result.targetElement);\n                } else {\n                    callback();\n                }\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that._afterEnd();\n\n            that.userEvents.destroy();\n\n            this._scrollableParent = null;\n            this._cursorElement = null;\n            clearInterval(this._scrollInterval);\n\n            that.currentTarget = null;\n        },\n\n        _afterEnd: function() {\n            var that = this;\n\n            if (that.hint) {\n                that.hint.remove();\n            }\n\n            delete draggables[that.options.group];\n\n            that.trigger(\"destroy\");\n            that.trigger(HINTDESTROYED);\n            $(document).off(KEYUP, that._captureEscape);\n        }\n    });\n\n    kendo.ui.plugin(DropTarget);\n    kendo.ui.plugin(DropTargetArea);\n    kendo.ui.plugin(Draggable);\n    kendo.TapCapture = TapCapture;\n    kendo.containerBoundaries = containerBoundaries;\n\n    extend(kendo.ui, {\n        Pane: Pane,\n        PaneDimensions: PaneDimensions,\n        Movable: Movable\n    });\n\n    function scrollableViewPort(element) {\n        var root = scrollableRoot()[0],\n            offset,\n            top,\n            left;\n\n        if (element[0] === root) {\n            top = root.scrollTop;\n            left = root.scrollLeft;\n\n            return {\n                top: top,\n                left: left,\n                bottom: top + $window.height(),\n                right: left + $window.width()\n            };\n        } else {\n            offset = element.offset();\n            offset.bottom = offset.top + element.height();\n            offset.right =  offset.left + element.width();\n            return offset;\n        }\n    }\n\n    function scrollableRoot() {\n        return $(kendo.support.browser.edge || kendo.support.browser.safari ? document.body : document.documentElement);\n    }\n\n    function findScrollableParent(element) {\n        var root = scrollableRoot();\n\n        if (!element || element === document.body || element === document.documentElement) {\n            return root;\n        }\n\n        var parent = $(element)[0];\n\n        while (parent && !kendo.isScrollable(parent) && parent !== document.body) {\n            parent = parent.parentNode;\n        }\n\n        if (parent === document.body) {\n            return root;\n        }\n\n        return $(parent);\n    }\n\n    function autoScrollVelocity(mouseX, mouseY, rect) {\n        var velocity = { x: 0, y: 0 };\n\n        var AUTO_SCROLL_AREA = 50;\n\n        if (mouseX - rect.left < AUTO_SCROLL_AREA) {\n            velocity.x = -(AUTO_SCROLL_AREA - (mouseX - rect.left));\n        } else if (rect.right - mouseX < AUTO_SCROLL_AREA) {\n            velocity.x = AUTO_SCROLL_AREA - (rect.right - mouseX);\n        }\n\n        if (mouseY - rect.top < AUTO_SCROLL_AREA) {\n            velocity.y = -(AUTO_SCROLL_AREA - (mouseY - rect.top));\n        } else if (rect.bottom - mouseY < AUTO_SCROLL_AREA) {\n            velocity.y = AUTO_SCROLL_AREA - (rect.bottom - mouseY);\n        }\n\n        return velocity;\n    }\n\n    // export for testing\n    kendo.ui.Draggable.utils = {\n        autoScrollVelocity: autoScrollVelocity,\n        scrollableViewPort: scrollableViewPort,\n        findScrollableParent: findScrollableParent\n    };\n\n })(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.scroller',[ \"./kendo.fx\", \"./kendo.draganddrop\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.scroller\",\n    name: \"Scroller\",\n    category: \"mobile\",\n    description: \"The Kendo Mobile Scroller widget enables touch friendly kinetic scrolling for the contents of a given DOM element.\",\n    depends: [ \"fx\", \"draganddrop\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        fx = kendo.effects,\n        ui = mobile.ui,\n        proxy = $.proxy,\n        extend = $.extend,\n        Widget = ui.Widget,\n        Class = kendo.Class,\n        Movable = kendo.ui.Movable,\n        Pane = kendo.ui.Pane,\n        PaneDimensions = kendo.ui.PaneDimensions,\n        Transition = fx.Transition,\n        Animation = fx.Animation,\n        abs = Math.abs,\n        SNAPBACK_DURATION = 500,\n        SCROLLBAR_OPACITY = 0.7,\n        FRICTION = 0.96,\n        VELOCITY_MULTIPLIER = 10,\n        MAX_VELOCITY = 55,\n        OUT_OF_BOUNDS_FRICTION = 0.5,\n        ANIMATED_SCROLLER_PRECISION = 5,\n        RELEASECLASS = \"km-scroller-release\",\n        REFRESHCLASS = \"km-scroller-refresh\",\n        PULL = \"pull\",\n        CHANGE = \"change\",\n        RESIZE = \"resize\",\n        SCROLL = \"scroll\",\n        MOUSE_WHEEL_ID = 2;\n\n    var ZoomSnapBack = Animation.extend({\n        init: function(options) {\n            var that = this;\n            Animation.fn.init.call(that);\n            extend(that, options);\n\n            that.userEvents.bind(\"gestureend\", proxy(that.start, that));\n            that.tapCapture.bind(\"press\", proxy(that.cancel, that));\n        },\n\n        enabled: function() {\n          return this.movable.scale < this.dimensions.minScale;\n        },\n\n        done: function() {\n            return this.dimensions.minScale - this.movable.scale < 0.01;\n        },\n\n        tick: function() {\n            var movable = this.movable;\n            movable.scaleWith(1.1);\n            this.dimensions.rescale(movable.scale);\n        },\n\n        onEnd: function() {\n            var movable = this.movable;\n            movable.scaleTo(this.dimensions.minScale);\n            this.dimensions.rescale(movable.scale);\n        }\n    });\n\n    var DragInertia = Animation.extend({\n        init: function(options) {\n            var that = this;\n\n            Animation.fn.init.call(that);\n\n            extend(that, options, {\n                transition: new Transition({\n                    axis: options.axis,\n                    movable: options.movable,\n                    onEnd: function() { that._end(); }\n                })\n            });\n\n            that.tapCapture.bind(\"press\", function() { that.cancel(); });\n            that.userEvents.bind(\"end\", proxy(that.start, that));\n            that.userEvents.bind(\"gestureend\", proxy(that.start, that));\n            that.userEvents.bind(\"tap\", proxy(that.onEnd, that));\n        },\n\n        onCancel: function() {\n            this.transition.cancel();\n        },\n\n        freeze: function(location) {\n            var that = this;\n            that.cancel();\n            that._moveTo(location);\n        },\n\n        onEnd: function() {\n            var that = this;\n            if (that.paneAxis.outOfBounds()) {\n                that._snapBack();\n            } else {\n                that._end();\n            }\n        },\n\n        done: function() {\n            return abs(this.velocity) < 1;\n        },\n\n        start: function(e) {\n            var that = this,\n                velocity;\n\n            if (!that.dimension.enabled) { return; }\n\n            if (that.paneAxis.outOfBounds()) {\n                if(that.transition._started){\n                    that.transition.cancel();\n                    that.velocity = Math.min(e.touch[that.axis].velocity * that.velocityMultiplier, MAX_VELOCITY);\n\n                    Animation.fn.start.call(that);\n                }else{\n                    that._snapBack();\n                }\n            } else {\n                velocity = e.touch.id === MOUSE_WHEEL_ID ? 0 : e.touch[that.axis].velocity;\n                that.velocity = Math.max(Math.min(velocity * that.velocityMultiplier, MAX_VELOCITY), -MAX_VELOCITY);\n\n                that.tapCapture.captureNext();\n                Animation.fn.start.call(that);\n            }\n        },\n\n        tick: function() {\n            var that = this,\n                dimension = that.dimension,\n                friction = that.paneAxis.outOfBounds() ? OUT_OF_BOUNDS_FRICTION : that.friction,\n                delta = (that.velocity *= friction),\n                location = that.movable[that.axis] + delta;\n\n                if (!that.elastic && dimension.outOfBounds(location)) {\n                    location = Math.max(Math.min(location, dimension.max), dimension.min);\n                    that.velocity = 0;\n                }\n\n            that.movable.moveAxis(that.axis, location);\n        },\n\n        _end: function() {\n            this.tapCapture.cancelCapture();\n            this.end();\n        },\n\n        _snapBack: function() {\n            var that = this,\n                dimension = that.dimension,\n                snapBack = that.movable[that.axis] > dimension.max ? dimension.max : dimension.min;\n            that._moveTo(snapBack);\n        },\n\n        _moveTo: function(location) {\n            this.transition.moveTo({ location: location, duration: SNAPBACK_DURATION, ease: Transition.easeOutExpo });\n        }\n    });\n\n    var AnimatedScroller = Animation.extend({\n        init: function(options) {\n            var that = this;\n\n            kendo.effects.Animation.fn.init.call(this);\n\n            extend(that, options, {\n                origin: {},\n                destination: {},\n                offset: {}\n            });\n        },\n\n        tick: function() {\n            this._updateCoordinates();\n            this.moveTo(this.origin);\n        },\n\n        done: function() {\n            return abs(this.offset.y) < ANIMATED_SCROLLER_PRECISION && abs(this.offset.x) < ANIMATED_SCROLLER_PRECISION;\n        },\n\n        onEnd: function() {\n            this.moveTo(this.destination);\n            if (this.callback) {\n                this.callback.call();\n            }\n        },\n\n        setCoordinates: function(from, to) {\n            this.offset = {};\n            this.origin = from;\n            this.destination = to;\n        },\n\n        setCallback: function(callback) {\n            if (callback && kendo.isFunction(callback)) {\n                this.callback = callback;\n            } else {\n                callback = undefined;\n            }\n        },\n\n        _updateCoordinates: function() {\n            this.offset = {\n                x: (this.destination.x - this.origin.x) / 4,\n                y: (this.destination.y - this.origin.y) / 4\n            };\n\n            this.origin = {\n                y: this.origin.y + this.offset.y,\n                x: this.origin.x + this.offset.x\n            };\n        }\n    });\n\n    var ScrollBar = Class.extend({\n        init: function(options) {\n            var that = this,\n                horizontal = options.axis === \"x\",\n                element = $('<div role=\"scrollbar\" aria-controls=\"' + options.controlsId + '\" class=\"km-touch-scrollbar km-' + (horizontal ? \"horizontal\" : \"vertical\") + '-scrollbar\" />');\n\n            if(horizontal) {\n                element.attr(\"aria-orientation\", \"horizontal\");\n            }\n\n            extend(that, options, {\n                element: element,\n                elementSize: 0,\n                movable: new Movable(element),\n                scrollMovable: options.movable,\n                alwaysVisible: options.alwaysVisible,\n                size: horizontal ? \"width\" : \"height\"\n            });\n\n            that.scrollMovable.bind(CHANGE, proxy(that.refresh, that));\n            that.container.append(element);\n            if (options.alwaysVisible) {\n                that.show();\n            }\n        },\n\n        refresh: function() {\n            var that = this,\n                axis = that.axis,\n                dimension = that.dimension,\n                paneSize = dimension.size,\n                scrollMovable = that.scrollMovable,\n                sizeRatio = paneSize / dimension.total,\n                position = Math.round(-scrollMovable[axis] * sizeRatio),\n                size = Math.round(paneSize * sizeRatio);\n\n                if (sizeRatio >= 1) {\n                    this.element.css(\"display\", \"none\");\n                } else {\n                    this.element.css(\"display\", \"\");\n                }\n\n                if (position + size > paneSize) {\n                    size = paneSize - position;\n                } else if (position < 0) {\n                    size += position;\n                    position = 0;\n                }\n\n            if (that.elementSize != size) {\n                that.element.css(that.size, size + \"px\");\n                that.elementSize = size;\n            }\n\n            that._ariaValue(position, dimension.size - that.elementSize);\n\n            that.movable.moveAxis(axis, position);\n        },\n\n        show: function() {\n            this.element.css({opacity: SCROLLBAR_OPACITY, visibility: \"visible\"});\n        },\n\n        hide: function() {\n            if (!this.alwaysVisible) {\n                this.element.css({opacity: 0});\n            }\n        },\n\n        _ariaValue: function(current, total) {\n            var element = this.element;\n\n            if(current > total) {\n                current = total;\n            }\n\n            element.attr(\"aria-valuemax\", total);\n            element.attr(\"aria-valuenow\", current);\n        }\n    });\n\n    var Scroller = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n\n            that._native = that.options.useNative && kendo.support.hasNativeScrolling;\n            if (that._native) {\n                element.addClass(\"km-native-scroller\")\n                    .prepend('<div class=\"km-scroll-header\"/>');\n\n                extend(that, {\n                    scrollElement: element,\n                    fixedContainer: element.children().first()\n                });\n\n                return;\n            }\n\n            element\n                .css(\"overflow\", \"hidden\")\n                .addClass(\"km-scroll-wrapper\")\n                .wrapInner('<div class=\"km-scroll-container\"/>')\n                .prepend('<div class=\"km-scroll-header\"/>');\n\n            var inner = element.children().eq(1),\n\n                tapCapture = new kendo.TapCapture(element),\n\n                movable = new Movable(inner),\n\n                dimensions = new PaneDimensions({\n                    element: inner,\n                    container: element,\n                    forcedEnabled: that.options.zoom\n                }),\n\n                avoidScrolling = this.options.avoidScrolling,\n\n                userEvents = new kendo.UserEvents(element, {\n                    touchAction: \"pan-y\",\n                    fastTap: true,\n                    allowSelection: true,\n                    preventDragEvent: true,\n                    captureUpIfMoved: true,\n                    multiTouch: that.options.zoom,\n                    supportDoubleTap: that.options.supportDoubleTap,\n                    start: function(e) {\n                        dimensions.refresh();\n\n                        var velocityX = abs(e.x.velocity),\n                            velocityY = abs(e.y.velocity),\n                            horizontalSwipe  = velocityX * 2 >= velocityY,\n                            originatedFromFixedContainer = $.contains(that.fixedContainer[0], e.event.target),\n                            verticalSwipe = velocityY * 2 >= velocityX;\n\n\n                        if (!originatedFromFixedContainer && !avoidScrolling(e) && that.enabled && (dimensions.x.enabled && horizontalSwipe || dimensions.y.enabled && verticalSwipe)) {\n                            userEvents.capture();\n                        } else {\n                            userEvents.cancel();\n                        }\n                    }\n                }),\n\n                pane = new Pane({\n                    movable: movable,\n                    dimensions: dimensions,\n                    userEvents: userEvents,\n                    elastic: that.options.elastic\n                }),\n\n                zoomSnapBack = new ZoomSnapBack({\n                    movable: movable,\n                    dimensions: dimensions,\n                    userEvents: userEvents,\n                    tapCapture: tapCapture\n                }),\n\n                animatedScroller = new AnimatedScroller({\n                    moveTo: function(coordinates) {\n                        that.scrollTo(coordinates.x, coordinates.y);\n                    }\n                });\n\n            movable.bind(CHANGE, function() {\n                that.scrollTop = - movable.y;\n                that.scrollLeft = - movable.x;\n\n                that.trigger(SCROLL, {\n                    scrollTop: that.scrollTop,\n                    scrollLeft: that.scrollLeft\n                });\n            });\n\n            if (that.options.mousewheelScrolling) {\n                element.on(\"DOMMouseScroll mousewheel\",  proxy(this, \"_wheelScroll\"));\n            }\n\n            extend(that, {\n                movable: movable,\n                dimensions: dimensions,\n                zoomSnapBack: zoomSnapBack,\n                animatedScroller: animatedScroller,\n                userEvents: userEvents,\n                pane: pane,\n                tapCapture: tapCapture,\n                pulled: false,\n                enabled: true,\n                scrollElement: inner,\n                scrollTop: 0,\n                scrollLeft: 0,\n                fixedContainer: element.children().first()\n            });\n\n            that._initAxis(\"x\");\n            that._initAxis(\"y\");\n\n            // build closure\n            that._wheelEnd = function() {\n                that._wheel = false;\n                that.userEvents.end(0, that._wheelY);\n            };\n\n            dimensions.refresh();\n\n            if (that.options.pullToRefresh) {\n                that._initPullToRefresh();\n            }\n        },\n\n        _wheelScroll: function(e) {\n            if (e.ctrlKey) {\n                return;\n            }\n\n            if (!this._wheel) {\n                this._wheel = true;\n                this._wheelY = 0;\n                this.userEvents.press(0, this._wheelY);\n            }\n\n            clearTimeout(this._wheelTimeout);\n            this._wheelTimeout = setTimeout(this._wheelEnd, 50);\n\n            var delta = kendo.wheelDeltaY(e);\n\n            if (delta) {\n                this._wheelY += delta;\n                this.userEvents.move(0, this._wheelY);\n            }\n\n            e.preventDefault();\n        },\n\n        makeVirtual: function() {\n            this.dimensions.y.makeVirtual();\n        },\n\n        virtualSize: function(min, max) {\n            this.dimensions.y.virtualSize(min, max);\n        },\n\n        height: function() {\n            return this.dimensions.y.size;\n        },\n\n        scrollHeight: function() {\n            return this.scrollElement[0].scrollHeight;\n        },\n\n        scrollWidth: function() {\n            return this.scrollElement[0].scrollWidth;\n        },\n\n        options: {\n            name: \"Scroller\",\n            zoom: false,\n            pullOffset: 140,\n            visibleScrollHints: false,\n            elastic: true,\n            useNative: false,\n            mousewheelScrolling: true,\n            avoidScrolling: function() { return false; },\n            pullToRefresh: false,\n            messages: {\n                pullTemplate: \"Pull to refresh\",\n                releaseTemplate: \"Release to refresh\",\n                refreshTemplate: \"Refreshing\"\n            }\n        },\n\n        events: [\n            PULL,\n            SCROLL,\n            RESIZE\n        ],\n\n        _resize: function() {\n            if (!this._native) {\n                this.contentResized();\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this;\n            Widget.fn.setOptions.call(that, options);\n            if (options.pullToRefresh) {\n                that._initPullToRefresh();\n            }\n        },\n\n        reset: function() {\n            if (this._native) {\n                this.scrollElement.scrollTop(0);\n            } else {\n                this.movable.moveTo({x: 0, y: 0});\n                this._scale(1);\n            }\n        },\n\n        contentResized: function() {\n            this.dimensions.refresh();\n            if (this.pane.x.outOfBounds()) {\n                this.movable.moveAxis(\"x\", this.dimensions.x.min);\n            }\n\n            if (this.pane.y.outOfBounds()) {\n                this.movable.moveAxis(\"y\", this.dimensions.y.min);\n            }\n        },\n\n        zoomOut: function() {\n            var dimensions = this.dimensions;\n            dimensions.refresh();\n            this._scale(dimensions.fitScale);\n            this.movable.moveTo(dimensions.centerCoordinates());\n        },\n\n        enable: function() {\n            this.enabled = true;\n        },\n\n        disable: function() {\n            this.enabled = false;\n        },\n\n        scrollTo: function(x, y) {\n            if (this._native) {\n                kendo.scrollLeft(this.scrollElement, abs(x));\n                this.scrollElement.scrollTop(abs(y));\n            } else {\n                this.dimensions.refresh();\n                this.movable.moveTo({x: x, y: y});\n            }\n        },\n\n        animatedScrollTo: function(x, y, callback) {\n            var from,\n                to;\n\n            if(this._native) {\n                this.scrollTo(x, y);\n            } else {\n                from = { x: this.movable.x, y: this.movable.y };\n                to = { x: x, y: y };\n\n                this.animatedScroller.setCoordinates(from, to);\n                this.animatedScroller.setCallback(callback);\n                this.animatedScroller.start();\n            }\n        },\n\n        pullHandled: function() {\n            var that = this;\n            that.refreshHint.removeClass(REFRESHCLASS);\n            that.hintContainer.html(that.pullTemplate({}));\n            that.yinertia.onEnd();\n            that.xinertia.onEnd();\n            that.userEvents.cancel();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            if (this.userEvents) {\n                this.userEvents.destroy();\n            }\n        },\n\n        _scale: function(scale) {\n            this.dimensions.rescale(scale);\n            this.movable.scaleTo(scale);\n        },\n\n        _initPullToRefresh: function() {\n            var that = this;\n\n            that.dimensions.y.forceEnabled();\n            that.pullTemplate = kendo.template(that.options.messages.pullTemplate);\n            that.releaseTemplate = kendo.template(that.options.messages.releaseTemplate);\n            that.refreshTemplate = kendo.template(that.options.messages.refreshTemplate);\n\n            that.scrollElement.prepend('<span class=\"km-scroller-pull\"><span class=\"km-icon\"></span><span class=\"km-loading-left\"></span><span class=\"km-loading-right\"></span><span class=\"km-template\">' + that.pullTemplate({}) + '</span></span>');\n            that.refreshHint = that.scrollElement.children().first();\n            that.hintContainer = that.refreshHint.children(\".km-template\");\n\n            that.pane.y.bind(\"change\", proxy(that._paneChange, that));\n            that.userEvents.bind(\"end\", proxy(that._dragEnd, that));\n        },\n\n        _dragEnd: function() {\n            var that = this;\n\n            if(!that.pulled) {\n                return;\n            }\n\n            that.pulled = false;\n            that.refreshHint.removeClass(RELEASECLASS).addClass(REFRESHCLASS);\n            that.hintContainer.html(that.refreshTemplate({}));\n            that.yinertia.freeze(that.options.pullOffset / 2);\n            that.trigger(\"pull\");\n        },\n\n        _paneChange: function() {\n            var that = this;\n\n            if (that.movable.y / OUT_OF_BOUNDS_FRICTION > that.options.pullOffset) {\n                if (!that.pulled) {\n                    that.pulled = true;\n                    that.refreshHint.removeClass(REFRESHCLASS).addClass(RELEASECLASS);\n                    that.hintContainer.html(that.releaseTemplate({}));\n                }\n            } else if (that.pulled) {\n                that.pulled = false;\n                that.refreshHint.removeClass(RELEASECLASS);\n                that.hintContainer.html(that.pullTemplate({}));\n            }\n        },\n\n        _initAxis: function(axis) {\n            var that = this,\n                elementId = that.element.attr(\"id\"),\n                movable = that.movable,\n                dimension = that.dimensions[axis],\n                tapCapture = that.tapCapture,\n                paneAxis = that.pane[axis],\n                scrollBar;\n\n            if(!elementId) {\n                elementId = kendo.guid();\n                that.element.attr(\"id\", elementId);\n            }\n\n            scrollBar = new ScrollBar({\n                axis: axis,\n                movable: movable,\n                dimension: dimension,\n                container: that.element,\n                alwaysVisible: that.options.visibleScrollHints,\n                controlsId: elementId\n            });\n\n            dimension.bind(CHANGE, function() {\n                scrollBar.refresh();\n            });\n\n            paneAxis.bind(CHANGE, function() {\n                scrollBar.show();\n            });\n\n            that[axis + \"inertia\"] = new DragInertia({\n                axis: axis,\n                paneAxis: paneAxis,\n                movable: movable,\n                tapCapture: tapCapture,\n                userEvents: that.userEvents,\n                dimension: dimension,\n                elastic: that.options.elastic,\n                friction: that.options.friction || FRICTION,\n                velocityMultiplier: that.options.velocityMultiplier || VELOCITY_MULTIPLIER,\n                end: function() {\n                    scrollBar.hide();\n                    that.trigger(\"scrollEnd\", {\n                        axis: axis,\n                        scrollTop: that.scrollTop,\n                        scrollLeft: that.scrollLeft\n                    });\n                }\n            });\n        }\n    });\n\n    ui.plugin(Scroller);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\r\n    define('kendo.resizable',[ \"./kendo.core\", \"./kendo.draganddrop\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"resizable\",\r\n    name: \"Resizable\",\r\n    category: \"framework\",\r\n    depends: [ \"core\", \"draganddrop\" ],\r\n    advanced: true\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        ui = kendo.ui,\r\n        Widget = ui.Widget,\r\n        proxy = $.proxy,\r\n        isFunction = kendo.isFunction,\r\n        extend = $.extend,\r\n        HORIZONTAL = \"horizontal\",\r\n        VERTICAL = \"vertical\",\r\n        START = \"start\",\r\n        RESIZE = \"resize\",\r\n        RESIZEEND = \"resizeend\";\r\n\r\n    var Resizable = Widget.extend({\r\n        init: function(element, options) {\r\n            var that = this;\r\n\r\n            Widget.fn.init.call(that, element, options);\r\n\r\n            that.orientation = that.options.orientation.toLowerCase() != VERTICAL ? HORIZONTAL : VERTICAL;\r\n            that._positionMouse = that.orientation == HORIZONTAL ? \"x\" : \"y\";\r\n            that._position = that.orientation == HORIZONTAL ? \"left\" : \"top\";\r\n            that._sizingDom = that.orientation == HORIZONTAL ? \"outerWidth\" : \"outerHeight\";\r\n\r\n            that.draggable = new ui.Draggable(options.draggableElement || element, {\r\n                distance: 1,\r\n                filter: options.handle,\r\n                drag: proxy(that._resize, that),\r\n                dragcancel: proxy(that._cancel, that),\r\n                dragstart: proxy(that._start, that),\r\n                dragend: proxy(that._stop, that)\r\n            });\r\n\r\n            that.userEvents = that.draggable.userEvents;\r\n        },\r\n\r\n        events: [\r\n            RESIZE,\r\n            RESIZEEND,\r\n            START\r\n        ],\r\n\r\n        options: {\r\n            name: \"Resizable\",\r\n            orientation: HORIZONTAL\r\n        },\r\n\r\n        resize: function() {\r\n            // Overrides base widget resize\r\n        },\r\n\r\n        _max: function(e) {\r\n            var that = this,\r\n                hintSize = that.hint ? that.hint[that._sizingDom]() : 0,\r\n                size = that.options.max;\r\n\r\n            return isFunction(size) ? size(e) : size !== undefined ? (that._initialElementPosition + size) - hintSize : size;\r\n        },\r\n\r\n        _min: function(e) {\r\n            var that = this,\r\n                size = that.options.min;\r\n\r\n            return isFunction(size) ? size(e) : size !== undefined ? that._initialElementPosition + size : size;\r\n        },\r\n\r\n        _start: function(e) {\r\n            var that = this,\r\n                hint = that.options.hint,\r\n                el = $(e.currentTarget);\r\n\r\n            that._initialElementPosition = el.position()[that._position];\r\n            that._initialMousePosition = e[that._positionMouse].startLocation;\r\n\r\n            if (hint) {\r\n                that.hint = isFunction(hint) ? $(hint(el)) : hint;\r\n\r\n                that.hint.css({\r\n                    position: \"absolute\"\r\n                })\r\n                .css(that._position, that._initialElementPosition)\r\n                .appendTo(that.element);\r\n            }\r\n\r\n            that.trigger(START, e);\r\n\r\n            that._maxPosition = that._max(e);\r\n            that._minPosition = that._min(e);\r\n\r\n            $(document.body).css(\"cursor\", el.css(\"cursor\"));\r\n        },\r\n\r\n        _resize: function(e) {\r\n            var that = this,\r\n                maxPosition = that._maxPosition,\r\n                minPosition = that._minPosition,\r\n                currentPosition = that._initialElementPosition + (e[that._positionMouse].location - that._initialMousePosition),\r\n                position;\r\n\r\n            position = minPosition !== undefined ? Math.max(minPosition, currentPosition) : currentPosition;\r\n            that.position = position =  maxPosition !== undefined ? Math.min(maxPosition, position) : position;\r\n\r\n            if(that.hint) {\r\n                that.hint.toggleClass(that.options.invalidClass || \"\", position == maxPosition || position == minPosition)\r\n                         .css(that._position, position);\r\n            }\r\n\r\n            that.resizing = true;\r\n            that.trigger(RESIZE, extend(e, { position: position }));\r\n        },\r\n\r\n        _stop: function(e) {\r\n            var that = this;\r\n\r\n            if(that.hint) {\r\n                that.hint.remove();\r\n            }\r\n\r\n            that.resizing = false;\r\n            that.trigger(RESIZEEND, extend(e, { position: that.position }));\r\n            $(document.body).css(\"cursor\", \"\");\r\n        },\r\n\r\n        _cancel: function(e) {\r\n            var that = this;\r\n\r\n            if (that.hint) {\r\n                that.position = undefined;\r\n                that.hint.css(that._position, that._initialElementPosition);\r\n                that._stop(e);\r\n            }\r\n        },\r\n\r\n        destroy: function() {\r\n            var that = this;\r\n\r\n            Widget.fn.destroy.call(that);\r\n\r\n            if (that.draggable) {\r\n                that.draggable.destroy();\r\n            }\r\n        },\r\n\r\n        press: function(target) {\r\n            if (!target) {\r\n                return;\r\n            }\r\n\r\n            var position = target.position(),\r\n                that = this;\r\n\r\n            that.userEvents.press(position.left, position.top, target[0]);\r\n            that.targetPosition = position;\r\n            that.target = target;\r\n        },\r\n\r\n        move: function(delta) {\r\n            var that = this,\r\n                orientation = that._position,\r\n                position = that.targetPosition,\r\n                current = that.position;\r\n\r\n            if (current === undefined) {\r\n                current = position[orientation];\r\n            }\r\n\r\n            position[orientation] = current + delta;\r\n\r\n            that.userEvents.move(position.left, position.top);\r\n        },\r\n\r\n        end: function() {\r\n            this.userEvents.end();\r\n            this.target = this.position = undefined;\r\n        }\r\n    });\r\n\r\n    kendo.ui.plugin(Resizable);\r\n\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n/* jshint eqnull: true */\n(function(f, define){\n    define('kendo.sortable',[ \"./kendo.draganddrop\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"sortable\",\n    name: \"Sortable\",\n    category: \"framework\",\n    depends: [ \"draganddrop\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n\n        START = \"start\",\n        BEFORE_MOVE = \"beforeMove\",\n        MOVE = \"move\",\n        END = \"end\",\n        CHANGE = \"change\",\n        CANCEL = \"cancel\",\n\n        ACTION_SORT = \"sort\",\n        ACTION_REMOVE = \"remove\",\n        ACTION_RECEIVE = \"receive\",\n\n        DEFAULT_FILTER = \">*\",\n        MISSING_INDEX = -1;\n\n    function containsOrEqualTo(parent, child) {\n        try {\n            return $.contains(parent, child) || parent == child;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function defaultHint(element) {\n        return element.clone();\n    }\n\n    function defaultPlaceholder(element) {\n        return element.clone().removeAttr(\"id\").css(\"visibility\", \"hidden\");\n    }\n\n    var Sortable = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            if(!that.options.placeholder) {\n                that.options.placeholder = defaultPlaceholder;\n            }\n\n            if(!that.options.hint) {\n                that.options.hint = defaultHint;\n            }\n\n            that.draggable = that._createDraggable();\n        },\n\n        events: [\n            START,\n            BEFORE_MOVE,\n            MOVE,\n            END,\n            CHANGE,\n            CANCEL\n        ],\n\n        options: {\n            name: \"Sortable\",\n            hint: null,\n            placeholder: null,\n            filter: DEFAULT_FILTER,\n            holdToDrag: false,\n            disabled: null,\n            container: null,\n            connectWith: null,\n            handler: null,\n            cursorOffset: null,\n            axis: null,\n            ignore: null,\n            autoScroll: false,\n            cursor: \"auto\",\n            moveOnDragEnter: false\n        },\n\n        destroy: function() {\n            this.draggable.destroy();\n            Widget.fn.destroy.call(this);\n        },\n\n        _createDraggable: function() {\n            var that = this,\n                element = that.element,\n                options = that.options;\n\n            return new kendo.ui.Draggable(element, {\n                filter: options.filter,\n                hint: kendo.isFunction(options.hint) ? options.hint : $(options.hint),\n                holdToDrag: options.holdToDrag,\n                container: options.container ? $(options.container) : null,\n                cursorOffset: options.cursorOffset,\n                axis: options.axis,\n                ignore: options.ignore,\n                autoScroll: options.autoScroll,\n                dragstart: $.proxy(that._dragstart, that),\n                dragcancel: $.proxy(that._dragcancel, that),\n                drag: $.proxy(that._drag, that),\n                dragend: $.proxy(that._dragend, that)\n            });\n        },\n\n        _dragstart: function(e) {\n            var draggedElement = this.draggedElement = e.currentTarget,\n                disabled = this.options.disabled,\n                handler = this.options.handler,\n                _placeholder = this.options.placeholder,\n                placeholder = this.placeholder = kendo.isFunction(_placeholder) ? $(_placeholder.call(this, draggedElement)) : $(_placeholder);\n\n            if(disabled && draggedElement.is(disabled)) {\n                e.preventDefault();\n            } else if(handler && !$(e.initialTarget).is(handler)) {\n                e.preventDefault();\n            } else {\n\n                if(this.trigger(START, { item: draggedElement, draggableEvent: e })) {\n                    e.preventDefault();\n                } else {\n                    draggedElement.css(\"display\", \"none\");\n                    draggedElement.before(placeholder);\n\n                    this._setCursor();\n                }\n\n            }\n        },\n\n        _dragcancel: function() {\n            this._cancel();\n            this.trigger(CANCEL, { item: this.draggedElement });\n\n            this._resetCursor();\n        },\n\n        _drag: function(e) {\n            var draggedElement = this.draggedElement,\n                target = this._findTarget(e),\n                targetCenter,\n                cursorOffset = { left: e.x.location, top: e.y.location },\n                offsetDelta,\n                axisDelta = { x: e.x.delta, y: e.y.delta },\n                direction,\n                sibling,\n                getSibling,\n                axis = this.options.axis,\n                moveOnDragEnter= this.options.moveOnDragEnter,\n                eventData = { item: draggedElement, list: this, draggableEvent: e };\n\n            if(axis === \"x\" || axis === \"y\") {\n                this._movementByAxis(axis, cursorOffset, axisDelta[axis], eventData);\n                return;\n            }\n\n            if(target) {\n                targetCenter = this._getElementCenter(target.element);\n\n                offsetDelta = {\n                    left: Math.round(cursorOffset.left - targetCenter.left),\n                    top: Math.round(cursorOffset.top - targetCenter.top)\n                };\n\n                $.extend(eventData, { target: target.element });\n\n                if(target.appendToBottom) {\n                    this._movePlaceholder(target, null, eventData);\n                    return;\n                }\n\n                if(target.appendAfterHidden) {\n                    this._movePlaceholder(target, \"next\", eventData);\n                }\n\n                if(this._isFloating(target.element)) { //horizontal\n                    if((axisDelta.x < 0 && moveOnDragEnter) || (!moveOnDragEnter && offsetDelta.left < 0)) {\n                        direction = \"prev\";\n                    } else if((axisDelta.x > 0 && moveOnDragEnter) || (!moveOnDragEnter &&  offsetDelta.left > 0)) {\n                        direction = \"next\";\n                    }\n                } else { //vertical\n                    if((axisDelta.y < 0  && moveOnDragEnter) || (!moveOnDragEnter &&  offsetDelta.top < 0)) {\n                        direction = \"prev\";\n                    } else if((axisDelta.y > 0  && moveOnDragEnter) || (!moveOnDragEnter &&  offsetDelta.top > 0)) {\n                        direction = \"next\";\n                    }\n                }\n\n                if(direction) {\n                    getSibling = (direction === \"prev\") ? jQuery.fn.prev : jQuery.fn.next;\n\n                    sibling = getSibling.call(target.element);\n\n                    //find the prev/next visible sibling\n                    while(sibling.length && !sibling.is(\":visible\")) {\n                        sibling = getSibling.call(sibling);\n                    }\n\n                    if(sibling[0] != this.placeholder[0]) {\n                        this._movePlaceholder(target, direction, eventData);\n                    }\n                }\n            }\n        },\n\n        _dragend: function(e) {\n            var placeholder = this.placeholder,\n                draggedElement = this.draggedElement,\n                draggedIndex = this.indexOf(draggedElement),\n                placeholderIndex = this.indexOf(placeholder),\n                connectWith = this.options.connectWith,\n                connectedList,\n                isDefaultPrevented,\n                eventData,\n                connectedListEventData;\n\n            this._resetCursor();\n\n            eventData = {\n                action: ACTION_SORT,\n                item: draggedElement,\n                oldIndex: draggedIndex,\n                newIndex: placeholderIndex,\n                draggableEvent: e\n            };\n\n            if(placeholderIndex >= 0) {\n                isDefaultPrevented = this.trigger(END, eventData);\n            } else {\n                connectedList = placeholder.parents(connectWith).getKendoSortable();\n\n                eventData.action = ACTION_REMOVE;\n                connectedListEventData = $.extend({}, eventData, {\n                    action: ACTION_RECEIVE,\n                    oldIndex: MISSING_INDEX,\n                    newIndex: connectedList.indexOf(placeholder)\n                });\n\n                isDefaultPrevented = !(!this.trigger(END, eventData) && !connectedList.trigger(END, connectedListEventData));\n            }\n\n            if(isDefaultPrevented || placeholderIndex === draggedIndex) {\n                this._cancel();\n                return;\n            }\n\n            placeholder.replaceWith(draggedElement);\n\n            draggedElement.show();\n            this.draggable.dropped = true;\n\n            eventData = {\n                action: this.indexOf(draggedElement) != MISSING_INDEX ? ACTION_SORT : ACTION_REMOVE,\n                item: draggedElement,\n                oldIndex: draggedIndex,\n                newIndex: this.indexOf(draggedElement),\n                draggableEvent: e\n            };\n\n            this.trigger(CHANGE, eventData);\n\n            if(connectedList) {\n                connectedListEventData = $.extend({}, eventData, {\n                    action: ACTION_RECEIVE,\n                    oldIndex: MISSING_INDEX,\n                    newIndex: connectedList.indexOf(draggedElement)\n                });\n\n                connectedList.trigger(CHANGE, connectedListEventData);\n            }\n\n        },\n\n        _findTarget: function(e) {\n            var element = this._findElementUnderCursor(e),\n                items,\n                connectWith = this.options.connectWith,\n                node;\n\n            if($.contains(this.element[0], element)) { //the element is part of the sortable container\n                items = this.items();\n                node = items.filter(element)[0] || items.has(element)[0];\n\n                return node ? { element: $(node), sortable: this } : null;\n            } else if (this.element[0] == element && this._isEmpty()) {\n                return { element: this.element, sortable: this, appendToBottom: true };\n            } else if (this.element[0] == element && this._isLastHidden()) {\n                node = this.items().eq(0);\n                return { element: node , sortable: this, appendAfterHidden: true };\n            } else if (connectWith) { //connected lists are present\n                return this._searchConnectedTargets(element, e);\n            }\n        },\n\n        _findElementUnderCursor: function(e) {\n            var elementUnderCursor = kendo.elementUnderCursor(e),\n                draggable = e.sender;\n\n            if(containsOrEqualTo(draggable.hint[0], elementUnderCursor)) {\n                draggable.hint.hide();\n                elementUnderCursor = kendo.elementUnderCursor(e);\n                // IE8 does not return the element in iframe from first attempt\n                if (!elementUnderCursor) {\n                    elementUnderCursor = kendo.elementUnderCursor(e);\n                }\n                draggable.hint.show();\n            }\n\n            return elementUnderCursor;\n        },\n\n        _searchConnectedTargets: function(element, e) {\n            var connected = $(this.options.connectWith),\n                sortableInstance,\n                items,\n                node;\n\n            for (var i = 0; i < connected.length; i++) {\n                sortableInstance = connected.eq(i).getKendoSortable();\n\n                if($.contains(connected[i], element)) {\n                    if(sortableInstance) {\n                        items = sortableInstance.items();\n                        node = items.filter(element)[0] || items.has(element)[0];\n\n                        if(node) {\n                            sortableInstance.placeholder = this.placeholder;\n                            return { element: $(node), sortable: sortableInstance };\n                        } else {\n                            return null;\n                        }\n                    }\n                } else if(connected[i] == element) {\n                    if(sortableInstance && sortableInstance._isEmpty()) {\n                        return { element: connected.eq(i), sortable: sortableInstance, appendToBottom: true };\n                    } else if (this._isCursorAfterLast(sortableInstance, e)) {\n                        node = sortableInstance.items().last();\n                        return { element: node, sortable: sortableInstance };\n                    }\n                }\n            }\n\n        },\n\n        _isCursorAfterLast: function(sortable, e) {\n            var lastItem = sortable.items().last(),\n                cursorOffset = { left: e.x.location, top: e.y.location },\n                lastItemOffset,\n                delta;\n\n            lastItemOffset = kendo.getOffset(lastItem);\n            lastItemOffset.top += outerHeight(lastItem);\n            lastItemOffset.left += outerWidth(lastItem);\n\n            if(this._isFloating(lastItem)) { //horizontal\n                delta = lastItemOffset.left - cursorOffset.left;\n            } else { //vertical\n                delta = lastItemOffset.top - cursorOffset.top;\n            }\n\n            return delta < 0 ? true : false;\n        },\n\n        _movementByAxis: function(axis, cursorOffset, delta, eventData) {\n            var cursorPosition = (axis === \"x\") ? cursorOffset.left : cursorOffset.top,\n                target = (delta < 0) ? this.placeholder.prev() : this.placeholder.next(),\n                items = this.items(),\n                targetCenter;\n\n            if (target.length && !target.is(\":visible\")) {\n                target = (delta <0) ? target.prev() : target.next();\n            }\n\n            if (!items.filter(target).length) {\n                return;\n            }\n\n            $.extend(eventData, { target: target });\n            targetCenter = this._getElementCenter(target);\n\n            if (targetCenter) {\n                targetCenter = (axis === \"x\") ? targetCenter.left : targetCenter.top;\n            }\n\n            if (target.length && delta < 0 && cursorPosition - targetCenter < 0) { //prev\n                this._movePlaceholder({ element: target, sortable: this }, \"prev\", eventData);\n            } else if (target.length && delta > 0 && cursorPosition - targetCenter > 0) { //next\n                this._movePlaceholder({ element: target, sortable: this }, \"next\", eventData);\n            }\n        },\n\n        _movePlaceholder: function(target, direction, eventData) {\n            var placeholder = this.placeholder;\n\n            if (!target.sortable.trigger(BEFORE_MOVE, eventData)) {\n\n                if (!direction) {\n                    target.element.append(placeholder);\n                } else if (direction === \"prev\") {\n                    target.element.before(placeholder);\n                } else if (direction === \"next\") {\n                    target.element.after(placeholder);\n                }\n\n                target.sortable.trigger(MOVE, eventData);\n            }\n        },\n\n        _setCursor: function() {\n            var cursor = this.options.cursor,\n                body;\n\n            if(cursor && cursor !== \"auto\") {\n                body = $(document.body);\n\n                this._originalCursorType = body.css(\"cursor\");\n                body.css({ \"cursor\": cursor });\n\n                if(!this._cursorStylesheet) {\n                    this._cursorStylesheet = $(\"<style>* { cursor: \" + cursor + \" !important; }</style>\");\n                }\n\n                this._cursorStylesheet.appendTo(body);\n            }\n        },\n\n        _resetCursor: function() {\n            if(this._originalCursorType) {\n                $(document.body).css(\"cursor\", this._originalCursorType);\n                this._originalCursorType = null;\n\n                this._cursorStylesheet.remove();\n            }\n        },\n\n        _getElementCenter: function(element) {\n            var center = element.length ? kendo.getOffset(element) : null;\n            if(center) {\n                center.top += outerHeight(element) / 2;\n                center.left += outerWidth(element) / 2;\n            }\n\n            return center;\n        },\n\n        _isFloating: function (item) {\n            var isFloating = /left|right/.test(item.css('float'));\n            var isTable = /inline|table-cell/.test(item.css('display'));\n            var isHorizontalFlex = /flex/.test(item.parent().css('display')) && (/row|row-reverse/.test(item.parent().css('flex-direction')) || !item.parent().css('flex-direction'));\n            return isFloating || isTable || isHorizontalFlex;\n        },\n\n        _cancel: function() {\n            this.draggedElement.show();\n            this.placeholder.remove();\n            this.draggable.dropped = true;\n        },\n\n        _items: function() {\n            var filter = this.options.filter,\n                items;\n\n            if(filter) {\n                items = this.element.find(filter);\n            } else {\n                items = this.element.children();\n            }\n\n            return items;\n        },\n\n        indexOf: function(element) {\n            var items = this._items(),\n                placeholder = this.placeholder,\n                draggedElement = this.draggedElement;\n\n            if(placeholder && element[0] == placeholder[0]) {\n                return items.not(draggedElement).index(element);\n            } else {\n                return items.not(placeholder).index(element);\n            }\n        },\n\n        items: function() {\n            var placeholder = this.placeholder,\n                items = this._items();\n\n            if(placeholder) {\n                items = items.not(placeholder);\n            }\n\n            return items;\n        },\n\n        _isEmpty: function() {\n            return !this.items().length;\n        },\n\n        _isLastHidden: function() {\n            return this.items().length === 1 && this.items().is(\":hidden\");\n        }\n\n    });\n\n    kendo.ui.plugin(Sortable);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.selectable',[ \"./kendo.core\", \"./kendo.userevents\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"selectable\",\n    name: \"Selectable\",\n    category: \"framework\",\n    depends: [ \"core\", \"userevents\" ],\n    advanced: true\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        proxy = $.proxy,\n        abs = Math.abs,\n        ARIASELECTED = \"aria-selected\",\n        SELECTED = \"k-state-selected\",\n        ACTIVE = \"k-state-selecting\",\n        SELECTABLE = \"k-selectable\",\n        CHANGE = \"change\",\n        NS = \".kendoSelectable\",\n        UNSELECT = \"unselect\",\n        UNSELECTING = \"k-state-unselecting\",\n        INPUTSELECTOR = \"input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up,label.k-checkbox-label.k-no-text,.k-icon.k-i-collapse,.k-icon.k-i-expand,span.k-numeric-wrap,.k-focusable\",\n        msie = kendo.support.browser.msie,\n        supportEventDelegation = false,\n        extend = $.extend;\n\n        (function($) {\n            (function() {\n                $('<div class=\"parent\"><span></span></div>')\n                .on(\"click\", \">*\", function() {\n                    supportEventDelegation = true;\n                })\n                .find(\"span\")\n                .trigger(\"click\")\n                .end()\n                .off();\n            })();\n        })($);\n\n    var Selectable = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                multiple;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._marquee = $(\"<div class='k-marquee'><div class='k-marquee-color'></div></div>\");\n            that._lastActive = null;\n            that.element.addClass(SELECTABLE);\n\n            that.relatedTarget = that.options.relatedTarget;\n\n            multiple = that.options.multiple;\n\n            that.userEvents = new kendo.UserEvents(that.element, {\n                global: true,\n                allowSelection: true,\n                filter: (!supportEventDelegation ? \".\" + SELECTABLE + \" \" : \"\") + that.options.filter,\n                tap: proxy(that._tap, that),\n                touchAction: multiple ? \"none\" : \"pan-x pan-y\"\n            });\n\n            if (multiple) {\n                that.userEvents\n                   .bind(\"start\", proxy(that._start, that))\n                   .bind(\"move\", proxy(that._move, that))\n                   .bind(\"end\", proxy(that._end, that))\n                   .bind(\"select\", proxy(that._select, that));\n            }\n        },\n\n        events: [CHANGE, UNSELECT],\n\n        options: {\n            name: \"Selectable\",\n            filter: \">*\",\n            inputSelectors: INPUTSELECTOR,\n            multiple: false,\n            relatedTarget: $.noop,\n            ignoreOverlapped: false,\n            addIdToRanges: false\n        },\n\n        _isElement: function(target) {\n            var elements = this.element;\n            var idx, length = elements.length, result = false;\n\n            target = target[0];\n\n            for (idx = 0; idx < length; idx ++) {\n                if (elements[idx] === target) {\n                    result = true;\n                    break;\n                }\n            }\n\n            return result;\n        },\n\n        _tap: function(e) {\n            var target = $(e.target),\n                that = this,\n                ctrlKey = e.event.ctrlKey || e.event.metaKey,\n                multiple = that.options.multiple,\n                shiftKey = multiple && e.event.shiftKey,\n                selectedClass = that.options.selectedClass || SELECTED,\n                selected,\n                whichCode = e.event.which,\n                buttonCode = e.event.button;\n\n            //in case of hierarchy or right-click\n            if (!that._isElement(target.closest(\".\" + SELECTABLE)) || whichCode && whichCode == 3 || buttonCode && buttonCode == 2) {\n                return;\n            }\n\n            if (!this._allowSelection(e.event.target)) {\n                return;\n            }\n\n            selected = target.hasClass(selectedClass);\n            if (!multiple || !ctrlKey) {\n                that.clear();\n            }\n\n            target = target.add(that.relatedTarget(target));\n\n            if (shiftKey) {\n                that.selectRange(that._firstSelectee(), target, e);\n            } else {\n                if (selected && ctrlKey) {\n                    that._unselect(target);\n                    that._notify(CHANGE, e);\n                } else {\n                    that.value(target, e);\n                }\n\n                that._lastActive = that._downTarget = target;\n            }\n        },\n\n        _start: function(e) {\n            var that = this,\n                target = $(e.target),\n                selectedClass = that.options.selectedClass || SELECTED,\n                selected = target.hasClass(selectedClass),\n                currentElement,\n                ctrlKey = e.event.ctrlKey || e.event.metaKey;\n\n            if (!this._allowSelection(e.event.target)) {\n                return;\n            }\n\n            that._downTarget = target;\n\n            //in case of hierarchy\n            if (!that._isElement(target.closest(\".\" + SELECTABLE))) {\n                that.userEvents.cancel();\n                return;\n            }\n\n            if (that.options.useAllItems) {\n                that._items = that.element.find(that.options.filter);\n            } else {\n                currentElement = target.closest(that.element);\n                that._items = currentElement.find(that.options.filter);\n            }\n\n            e.sender.capture();\n\n            that._marquee\n                .appendTo(document.body)\n                .css({\n                    left: e.x.client + 1,\n                    top: e.y.client + 1,\n                    width: 0,\n                    height: 0\n                });\n\n            if (!ctrlKey) {\n                that.clear();\n            }\n\n            target = target.add(that.relatedTarget(target));\n            if (selected) {\n                that._selectElement(target, true);\n                if (ctrlKey) {\n                    target.addClass(UNSELECTING);\n                }\n            }\n        },\n\n        _move: function(e) {\n            var that = this,\n                position = {\n                    left: e.x.startLocation > e.x.location ? e.x.location : e.x.startLocation,\n                    top: e.y.startLocation > e.y.location ? e.y.location : e.y.startLocation,\n                    width: abs(e.x.initialDelta),\n                    height: abs(e.y.initialDelta)\n                };\n\n            that._marquee.css(position);\n\n            that._invalidateSelectables(position, (e.event.ctrlKey || e.event.metaKey));\n\n            e.preventDefault();\n        },\n\n        _end: function(e) {\n            var that = this,\n            rangeSelectedAttr = kendo.attr(\"range-selected\"),\n            uid = kendo.guid();\n\n            that._marquee.remove();\n\n            that._unselect(that.element\n                .find(that.options.filter + \".\" + UNSELECTING))\n                .removeClass(UNSELECTING);\n\n\n            var target = that.element.find(that.options.filter + \".\" + ACTIVE);\n            target = target.add(that.relatedTarget(target));\n\n            if (that.options.addIdToRanges) {\n                for (var i = 0; i < that._currentlyActive.length; i++) {\n                    $(that._currentlyActive[i]).attr(rangeSelectedAttr, uid);\n                }\n            }\n\n            that.value(target, e);\n            that._lastActive = that._downTarget;\n            that._items = null;\n        },\n\n        _invalidateSelectables: function(position, ctrlKey) {\n            var idx,\n                length,\n                target = this._downTarget[0],\n                items = this._items,\n                selectedClass = this.options.selectedClass || SELECTED,\n                related,\n                toSelect;\n\n            this._currentlyActive = [];\n\n            for (idx = 0, length = items.length; idx < length; idx ++) {\n                toSelect = items.eq(idx);\n                related = toSelect.add(this.relatedTarget(toSelect));\n\n                if (collision(toSelect, position)) {\n                    if(toSelect.hasClass(selectedClass)) {\n                        if(ctrlKey && target !== toSelect[0]) {\n                            related.removeClass(selectedClass).addClass(UNSELECTING);\n                        }\n                    } else if (!toSelect.hasClass(ACTIVE) && !toSelect.hasClass(UNSELECTING) && !this._collidesWithActiveElement(related, position)) {\n                        related.addClass(ACTIVE);\n                    }\n                    this._currentlyActive.push(related[0]);\n                } else {\n                    if (toSelect.hasClass(ACTIVE)) {\n                        related.removeClass(ACTIVE);\n                    } else if(ctrlKey && toSelect.hasClass(UNSELECTING)) {\n                        related.removeClass(UNSELECTING).addClass(selectedClass);\n                    }\n                }\n            }\n        },\n\n        _collidesWithActiveElement: function (element, marqueeRect) {\n            if (!this.options.ignoreOverlapped) {\n                return false;\n            }\n\n            var activeElements = this._currentlyActive;\n            var elemRect = element[0].getBoundingClientRect();\n            var activeElementRect;\n            var collision = false;\n            var isRtl = kendo.support.isRtl(element);\n            var leftRight = isRtl ? \"right\" : \"left\";\n            var tempRect = {};\n\n            marqueeRect.right = marqueeRect.left + marqueeRect.width;\n            marqueeRect.bottom = marqueeRect.top + marqueeRect.height;\n\n            for (var i = 0; i < activeElements.length; i++) {\n                activeElementRect = activeElements[i].getBoundingClientRect();\n                if (overlaps(elemRect, activeElementRect)) {\n                    tempRect[leftRight] = leftRight === \"left\" ? activeElementRect.right : activeElementRect.left;\n                    elemRect = extend({}, elemRect, tempRect);\n                    if (elemRect.left > elemRect.right) {\n                        return true;\n                    }\n                    collision = !overlaps(elemRect, marqueeRect);\n                }\n            }\n            return collision;\n        },\n\n        value: function(val, e) {\n            var that = this,\n                selectElement = proxy(that._selectElement, that);\n\n            if(val) {\n                val.each(function() {\n                    selectElement(this);\n                });\n\n                that._notify(CHANGE, e);\n                return;\n            }\n\n            return that.element.find(that.options.filter + \".\" + (that.options.selectedClass || SELECTED));\n        },\n\n        selectedRanges: function () {\n            var that = this;\n            var rangeSelectedAttr = kendo.attr(\"range-selected\");\n            var map = {};\n\n            that.element.find(\"[\" + rangeSelectedAttr + \"]\").each(function (_, elem) {\n                var rangeId = $(elem).attr(rangeSelectedAttr);\n                var mapLocation = map[rangeId];\n\n                if (!mapLocation) {\n                    mapLocation = map[rangeId] = [];\n                }\n\n                mapLocation.push($(elem));\n            });\n\n            return map;\n        },\n\n        selectedSingleItems: function () {\n            var that = this;\n            var rangeSelectedAttr = kendo.attr(\"range-selected\");\n\n            return that.element.find(that.options.filter + \".\" + (that.options.selectedClass || SELECTED) + \":not([\" + rangeSelectedAttr + \"])\").toArray().map(function (elem) {\n                return $(elem);\n            });\n        },\n\n        _firstSelectee: function() {\n            var that = this,\n                selected;\n\n            if(that._lastActive !== null) {\n                return that._lastActive;\n            }\n\n            selected = that.value();\n            return selected.length > 0 ?\n                    selected[0] :\n                    that.element.find(that.options.filter)[0];\n        },\n\n        _selectElement: function(element, preventNotify) {\n            var toSelect = $(element),\n                selectedClass = this.options.selectedClass || SELECTED,\n                isPrevented =  !preventNotify && this._notify(\"select\", { element: element });\n\n            toSelect.removeClass(ACTIVE);\n            if(!isPrevented) {\n                 toSelect.addClass(selectedClass);\n\n                if (this.options.aria) {\n                    toSelect.attr(ARIASELECTED, true);\n                }\n            }\n        },\n\n        _notify: function(name, args) {\n            args = args || { };\n            return this.trigger(name, args);\n        },\n\n        _unselect: function(element) {\n            if (this.trigger(UNSELECT, { element: element})) {\n                return;\n            }\n\n            var rangeSelectedAttr = kendo.attr(\"range-selected\");\n\n            element.removeClass(this.options.selectedClass || SELECTED).removeAttr(rangeSelectedAttr);\n\n            if (this.options.aria) {\n                element.attr(ARIASELECTED, false);\n            }\n\n            return element;\n        },\n\n        _select: function(e) {\n            if (this._allowSelection(e.event.target)) {\n                if (!msie || (msie && !$(kendo._activeElement()).is(this.options.inputSelectors))) {\n                    e.preventDefault();\n                }\n            }\n        },\n\n        _allowSelection: function(target) {\n            if ($(target).is(this.options.inputSelectors)) {\n                this.userEvents.cancel();\n                this._downTarget = null;\n                return false;\n            }\n\n            return true;\n        },\n\n        resetTouchEvents: function() {\n            this.userEvents.cancel();\n        },\n\n        clear: function() {\n            var items = this.element.find(this.options.filter + \".\" + (this.options.selectedClass || SELECTED));\n            this._unselect(items);\n        },\n\n        selectRange: function(start, end, e) {\n            var that = this,\n                idx,\n                tmp,\n                items;\n\n            that.clear();\n\n            if (that.element.length > 1) {\n                items = that.options.continuousItems();\n            }\n\n            if (!items || !items.length) {\n                items = that.element.find(that.options.filter);\n            }\n\n            start = $.inArray($(start)[0], items);\n            end = $.inArray($(end)[0], items);\n\n            if (start > end) {\n                tmp = start;\n                start = end;\n                end = tmp;\n            }\n\n            if (!that.options.useAllItems) {\n                end += that.element.length - 1;\n            }\n\n            for (idx = start; idx <= end; idx ++ ) {\n                that._selectElement(items[idx]);\n            }\n\n            that._notify(CHANGE, e);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that.element.off(NS);\n\n            that.userEvents.destroy();\n\n            that._marquee = that._lastActive = that.element = that.userEvents = null;\n        }\n    });\n\n    Selectable.parseOptions = function(selectable) {\n        var selectableMode = selectable.mode || selectable;\n        var asLowerString = typeof selectableMode === \"string\" && selectableMode.toLowerCase();\n\n        return {\n            multiple: asLowerString && asLowerString.indexOf(\"multiple\") > -1,\n            cell: asLowerString && asLowerString.indexOf(\"cell\") > -1\n        };\n    };\n\n    function collision(element, position) {\n        if (!element.is(\":visible\")) {\n            return false;\n        }\n\n        var elementPosition = kendo.getOffset(element),\n            right = position.left + position.width,\n            bottom = position.top + position.height;\n\n        elementPosition.right = elementPosition.left + kendo._outerWidth(element);\n        elementPosition.bottom = elementPosition.top + kendo._outerHeight(element);\n\n        return !(elementPosition.left > right||\n            elementPosition.right < position.left ||\n            elementPosition.top > bottom ||\n            elementPosition.bottom < position.top);\n    }\n\n    function overlaps(firstRect, secondRect) {\n        return !(firstRect.right <= secondRect.left ||\n            firstRect.left >= secondRect.right ||\n            firstRect.bottom <= secondRect.top ||\n            firstRect.top >= secondRect.bottom);\n    }\n\n    kendo.ui.plugin(Selectable);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function (f, define) {\n    define('kendo.badge',[\"./kendo.core\"], f);\n})(function () {\n\nvar __meta__ = {// jshint ignore:line\n    id: \"badge\",\n    name: \"Badge\",\n    category: \"web\", // suite\n    description: \"The Badge decorates avatars, navigation menus, or other components in the application when visual notification is needed\",\n    depends: [\"core\"] // dependencies\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo;\n    var Widget = kendo.ui.Widget;\n    var ui = kendo.ui;\n    var HIDDEN = 'k-hidden';\n\n    var iconTemplate = '<span class=\\'k-badge-icon k-icon k-i-#= icon #\\'></span>';\n    var svgIconTemplate = '<span class=\\'k-badge-icon k-svg-icon\\'>#= icon #</span>';\n\n    var Badge = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._content();\n\n            that._appearance();\n\n            kendo.notify(that);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n        },\n\n        options: {\n            name: 'Badge',\n            cutoutBorder: false,\n            data: {},\n            fill: 'solid',\n            icon: '',\n            max: Infinity,\n            position: 'inline',\n            align: '',\n            sizes: {\n                'small': 'sm',\n                'medium': 'md',\n                'large': 'lg'\n            },\n            size: 'medium',\n            shape: 'rounded',\n            template: null,\n            text: '',\n            themeColor: 'secondary',\n            visible: true,\n            _classNames: []\n        },\n\n        _content: function() {\n            var that = this;\n            var text = that.options.text;\n            var template = that.options.template;\n            var data = that.options.data;\n            var icon = that.options.icon;\n\n            // Order of precedence\n            // 1) template\n            // 2) icon\n            // 3) text\n            // 4) content\n\n            if (template !== null) {\n                that._text = text;\n                that._template = kendo.template(template).bind(that);\n                that.element.html( that._template(data) );\n\n                return;\n            }\n\n            if (icon !== '') {\n                that.icon(icon);\n\n                return;\n            }\n\n            if (text !== '') {\n                that.text(text);\n\n                return;\n            }\n\n            that.text(that.element.html());\n        },\n\n        _appearance: function() {\n            var that = this;\n            that._themeColor = that.options.themeColor;\n            that._shape = that.options.shape;\n            that._sizes = that.options.sizes;\n            that._size = that.options.size;\n            that._fill = that.options.fill;\n            that._cutoutBorder = that.options.cutoutBorder;\n            that._align = that.options.align;\n            that._position = that.options.position;\n            that._visible = that.options.visible;\n\n            that._updateClassNames();\n        },\n\n        _updateClassNames: function() {\n            var that = this;\n            var classNames = ['k-badge'];\n            var keepClassNames = that.options._classNames;\n            var themeColor = that._themeColor;\n            var shape = that._shape;\n            var sizes = that._sizes;\n            var size = that._size;\n            var sizeAbbr = sizes[size] === undefined ? size : sizes[size];\n            var fill = that._fill;\n            var cutoutBorder = that._cutoutBorder;\n            var align = that._align;\n            var position = that._position;\n            var visible = that._visible;\n\n            // Remove all class names\n            that.element.removeClass(function(index, className) {\n                if (className.indexOf('k-') === 0 && keepClassNames.indexOf(className) === -1) {\n                    that.element.removeClass(className);\n                }\n            });\n\n            // Fill\n            if (typeof fill === 'string' && fill !== '') {\n                classNames.push('k-badge-' + fill);\n            }\n\n            // Color\n            if (typeof themeColor === 'string' && themeColor !== '') {\n                classNames.push('k-badge-' + themeColor);\n            }\n\n            // Size\n            if (typeof size === 'string' && size !== '') {\n                classNames.push('k-badge-' + sizeAbbr);\n            }\n\n            // Shape\n            if (typeof shape === 'string' && shape !== '') {\n                classNames.push('k-badge-' + shape);\n            }\n\n            // Cutout border\n            if (typeof cutoutBorder === 'boolean' && cutoutBorder === true) {\n                classNames.push('k-badge-border-cutout');\n            }\n\n            // Position\n            if (typeof position === 'string' && position !== '') {\n                classNames.push('k-badge-' + position);\n            }\n\n            // Align\n            if (typeof position === 'string' && position !== '' && position !== 'inline' && typeof align === 'string' && align.split(' ').length == 2) {\n                classNames.push('k-' + align.replace(' ', '-'));\n            }\n\n            // Visibility\n            if (visible === false) {\n                classNames.push(HIDDEN);\n            }\n\n            // Apply classnames\n            that.element.addClass(classNames.join(' '));\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            that.element.removeClass(function(index, className) {\n                if (className.indexOf('k-') >= 0) {\n                    that.element.removeClass(className);\n                }\n            });\n\n            Widget.fn.setOptions.call(that, options);\n\n            that._content();\n\n            that._appearance();\n        },\n\n        text: function(text) {\n            var that = this;\n            var max = that.options.max;\n\n            // handle badge.text()\n            if (arguments.length === 0 || text === undefined) {\n                return that._text;\n            }\n\n            that._text = text;\n\n            // handle badge.text(true|false|null)\n            if (text === true || text === false || text === null) {\n                that.element.html('');\n\n                return;\n            }\n\n            // handle badge.text('string')\n            if (typeof text === 'string') {\n                that.element.html(text);\n\n                return;\n            }\n\n            // handle badge.text(1)\n            if (typeof text === 'number') {\n                if (text > max) {\n                    that.element.html(max + '+');\n                } else {\n                    that.element.html(text);\n                }\n\n                return;\n            }\n\n            // handle other objects\n            if (typeof text === 'object' && 'toString' in text) {\n                that.element.html(text.toString());\n\n                return;\n            }\n\n        },\n\n        icon: function(icon) {\n            var that = this;\n            var iconTemplateFunction;\n\n            // handle badge.icon()\n            if (arguments.length === 0 || icon === undefined) {\n                return that._icon;\n            }\n\n            that._icon = icon;\n\n            // Handle badge.icon(<SVG />)\n            if (icon.indexOf('<svg') === 0) {\n                iconTemplateFunction = kendo.template(svgIconTemplate);\n                that.element.html(iconTemplateFunction({ icon: icon }));\n\n                return;\n            }\n\n            // Handle badge.icon(ICON_NAME)\n            iconTemplateFunction = kendo.template(iconTemplate);\n            that.element.html(iconTemplateFunction({ icon: icon }));\n        },\n\n        themeColor: function(color) {\n            var that = this;\n\n            // handle badge.color()\n            if (arguments.length === 0 || color === undefined) {\n                return that._themeColor;\n            }\n\n            that._themeColor = color;\n            that._updateClassNames();\n        },\n\n        shape: function(shape) {\n            var that = this;\n\n            // handle badge.shape()\n            if (arguments.length === 0 || shape === undefined) {\n                return that._shape;\n            }\n\n            that._shape = shape;\n            that._updateClassNames();\n        },\n\n        hide: function() {\n            var that = this;\n            that._visible = false;\n\n            that._updateClassNames();\n        },\n\n        show: function() {\n            var that = this;\n            that._visible = true;\n\n            that._updateClassNames();\n        }\n    });\n\n    ui.plugin(Badge);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n});\n(function(f, define){\n    define('kendo.html.base',[\n        \"./kendo.core\"\n    ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"html.base\",\n    name: \"Html.Base\",\n    category: \"web\",\n    description: \"\",\n    depends: [\"core\"],\n    features: []\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        Class = kendo.Class;\n\n    kendo.html = kendo.html || {};\n\n    var HTMLBase = Class.extend({\n        init: function (element, options) {\n            var that = this;\n            that.element = $(element);\n            options = options || {};\n            delete options.name;\n            that._initOptions(options);\n        },\n        options: {\n            stylingOptions: []\n        },\n        _addClasses: function () {\n            var that = this,\n                options = that.options,\n                stylingOptions = options.stylingOptions;\n\n            stylingOptions = stylingOptions.map(function(option){\n                var validFill;\n\n                if (option === \"themeColor\") {\n                    validFill = kendo.cssProperties.getValidClass({\n                        widget: options.name,\n                        propName: \"fillMode\",\n                        value: options.fillMode\n                    });\n\n                    if (!validFill || validFill.length === 0) {\n                        return \"\";\n                    }\n                }\n\n                return kendo.cssProperties.getValidClass({\n                    widget: options.name,\n                    propName: option,\n                    value: options[option],\n                    fill: options.fillMode\n                });\n            });\n\n            that.wrapper.addClass(stylingOptions.join(\" \"));\n        },\n        html: function () {\n            var that = this;\n\n            return that.wrapper[0].outerHTML;\n        }\n    });\n\n    $.extend(kendo.html, {\n        HTMLBase: HTMLBase\n    });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.html.button',[\n        \"./kendo.html.base\"\n    ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"html.button\",\n    name: \"Html.Button\",\n    category: \"web\",\n    description: \"HTML rendering utility for Kendo UI for jQuery.\",\n    depends: [ \"html.base\" ],\n    features: []\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        HTMLBase = kendo.html.HTMLBase,\n\n        KBUTTON = \"k-button\",\n        KBUTTONICON = \"k-button-icon\",\n        KBUTTONTEXT = \"k-button-text\";\n\n    var renderButton = function (element, options) {\n        if (arguments[0] === undefined || $.isPlainObject(arguments[0])) {\n            options = element;\n            element = $(\"<button></button>\");\n        }\n\n        return (new HTMLButton(element, options)).html();\n    };\n\n    var HTMLButton = HTMLBase.extend({\n        init: function (element, options) {\n            var that = this;\n            HTMLBase.fn.init.call(that, element, options);\n            that.wrapper = that.element.addClass(KBUTTON);\n\n            if (!that.element.attr(\"type\")) {\n                that.element.attr(\"type\", that.options.type);\n            }\n\n            that._addClasses();\n            that.iconElement();\n            that._textElement();\n        },\n        options: {\n            name: \"HTMLButton\",\n            type: \"button\",\n            icon: \"\",\n            iconClass: \"\",\n            spriteCssClass: \"\",\n            imageUrl: \"\",\n            size: \"medium\",\n            shape: \"rectangle\",\n            rounded: \"medium\",\n            fillMode: \"solid\",\n            themeColor: \"base\",\n            stylingOptions: [ \"size\", \"shape\", \"rounded\", \"fillMode\", \"themeColor\" ]\n        },\n        iconElement: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                icon = options.icon,\n                iconClass = options.iconClass,\n                spriteCssClass = options.spriteCssClass,\n                imageUrl = options.imageUrl,\n                span, img, isEmpty;\n\n            if (spriteCssClass || imageUrl || icon || iconClass) {\n                isEmpty = true;\n\n                element.contents().filter(function() {\n                    return (!$(this).hasClass(\"k-sprite\") && !$(this).hasClass(\"k-icon\") && !$(this).hasClass(\"k-image\"));\n                }).each(function(idx, el){\n                    if (el.nodeType == 1 || el.nodeType == 3 && kendo.trim(el.nodeValue).length > 0) {\n                        isEmpty = false;\n                    }\n                });\n            }\n\n            if (isEmpty) {\n                that.element.addClass(\"k-icon-button\");\n            }\n\n            if (imageUrl) {\n                img = element.children(\"img.k-image\").first();\n                if (!img[0]) {\n                    img = $('<img alt=\"icon\" class=\"k-image\" />').prependTo(element);\n                }\n                img.attr(\"src\", imageUrl);\n                img.addClass(KBUTTONICON);\n            } else if (icon || iconClass) {\n                span = element.children(\"span.k-icon\").first();\n                if (!span[0]) {\n                    span = $('<span></span>').prependTo(element);\n                }\n                span.attr(\"class\", icon ? \"k-icon k-i-\" + icon : iconClass);\n                span.addClass(KBUTTONICON);\n            } else if (spriteCssClass) {\n                span = element.children(\"span.k-sprite\").first();\n                if (!span[0]) {\n                    span = $('<span class=\"k-sprite\"></span>').prependTo(element);\n                }\n                span.addClass(spriteCssClass + \" \" + KBUTTONICON);\n            }\n        },\n        _textElement: function() {\n            var element = this.element;\n\n            element.contents().filter(function() {\n                return (!$(this).hasClass(KBUTTONICON) && !$(this).hasClass(\"k-sprite\") && !$(this).hasClass(\"k-icon\") && !$(this).hasClass(\"k-image\"));\n            }).each(function(idx, el){\n                if (el.nodeType == 1 || el.nodeType == 3 && kendo.trim(el.nodeValue).length > 0) {\n                    if (el.nodeType === 3) {\n                        var parent = el.parentNode;\n                        var newSpan = document.createElement('span');\n\n                        newSpan.appendChild(document.createTextNode(el.nodeValue));\n                        parent.replaceChild(newSpan, el);\n\n                        el = newSpan;\n                    }\n\n                    el.classList.add(KBUTTONTEXT);\n                }\n            });\n        }\n    });\n\n    $.extend(kendo.html, {\n        renderButton: renderButton,\n        HTMLButton: HTMLButton\n    });\n\n    kendo.cssProperties.registerPrefix(\"HTMLButton\", \"k-button-\");\n\n    kendo.cssProperties.registerValues(\"HTMLButton\", [{\n        prop: \"fillMode\",\n        values: kendo.cssProperties.fillModeValues.concat([\"link\"])\n    }, {\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function (f, define) {\n    define('kendo.button',[\"./kendo.core\", \"./kendo.badge\", \"./kendo.html.button\"], f);\n})(function () {\n\n    var __meta__ = { // jshint ignore:line\n        id: \"button\",\n        name: \"Button\",\n        category: \"web\",\n        description: \"The Button widget displays styled buttons.\",\n        depends: [\"core\", \"badge\", \"html.button\"]\n    };\n\n    (function ($, undefined) {\n        var kendo = window.kendo,\n            Widget = kendo.ui.Widget,\n            html = kendo.html,\n            ui = kendo.ui,\n            proxy = $.proxy,\n            keys = kendo.keys,\n            CLICK = \"click\",\n            MOUSEDOWN = kendo.support.mousedown,\n            MOUSEUP = kendo.support.mouseup,\n            MOUSEOUT = \"mouseout\",\n            NS = \".kendoButton\",\n            DISABLED = \"disabled\",\n            DISABLEDSTATE = \"k-disabled\",\n            FOCUSEDSTATE = \"k-focus\",\n            SELECTEDSTATE = \"k-selected\";\n\n        var BUTTON_DEFAULTS = {\n            icon: \"\",\n            iconClass: \"\",\n            spriteCssClass: \"\",\n            imageUrl: \"\",\n            badge: null\n        };\n        kendo.setDefaults(\"button\", BUTTON_DEFAULTS);\n\n        var Button = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n\n                Widget.fn.init.call(that, element, options);\n\n                element = that.wrapper = that.element;\n                options = that.options;\n\n                html.renderButton(element, $.extend({}, options));\n\n                element.attr(\"role\", \"button\");\n\n                options.enable = options.enable && options.enabled && !element.attr(DISABLED);\n                that.enable(options.enable);\n\n                if (options.enable) {\n                    that._tabindex();\n                }\n\n                that._badge();\n\n                element\n                    .on(CLICK + NS, proxy(that._click, that))\n                    .on(\"focus\" + NS, proxy(that._focus, that))\n                    .on(\"blur\" + NS, proxy(that._blur, that))\n                    .on(\"keydown\" + NS, proxy(that._keydown, that))\n                    .on(\"keyup\" + NS, proxy(that._removeActive, that))\n                    .on(MOUSEDOWN + NS, proxy(that._addActive, that))\n                    .on(MOUSEUP + NS  + \" \" + MOUSEOUT + NS, proxy(that._removeActive, that));\n\n                kendo.notify(that);\n            },\n\n            destroy: function() {\n                var that = this;\n\n                that.wrapper.off(NS);\n\n                if (that.badge){\n                    that.badge.destroy();\n                }\n\n                Widget.fn.destroy.call(that);\n            },\n\n            events: [\n                CLICK\n            ],\n\n            options: {\n                name: \"Button\",\n                enable: true,\n                enabled: true,\n                icon: \"\",\n                iconClass: \"\",\n                spriteCssClass: \"\",\n                imageUrl: \"\",\n                badge: null,\n                size: \"medium\",\n                shape: \"rectangle\",\n                rounded: \"medium\",\n                fillMode: \"solid\",\n                themeColor: \"base\"\n            },\n\n            _isNativeButton: function() {\n                return this.element.prop(\"tagName\").toLowerCase() == \"button\";\n            },\n\n            _click: function(e) {\n                if (this.options.enable) {\n                    if (this.trigger(CLICK, { event: e })) {\n                        e.preventDefault();\n                    }\n                }\n            },\n\n            _focus: function() {\n                if (this.options.enable) {\n                    this.element.addClass(FOCUSEDSTATE);\n                }\n            },\n\n            _blur: function() {\n                var that = this;\n                that.element.removeClass(FOCUSEDSTATE);\n                setTimeout(function() {\n                    that.element.removeClass(SELECTEDSTATE);\n                });\n            },\n\n            _keydown: function(e) {\n                var that = this;\n                if (e.keyCode == keys.ENTER || e.keyCode == keys.SPACEBAR) {\n                    that._addActive();\n\n                    if (!that._isNativeButton()) {\n                        if (e.keyCode == keys.SPACEBAR) {\n                            e.preventDefault();\n                        }\n                        that._click(e);\n                    }\n                }\n            },\n\n            _removeActive: function() {\n                this.element.removeClass(SELECTEDSTATE);\n            },\n\n            _addActive: function() {\n                if (this.options.enable) {\n                    this.element.addClass(SELECTEDSTATE);\n                }\n            },\n\n            enable: function(enable) {\n                var that = this,\n                    element = that.element;\n\n                if (enable === undefined) {\n                    enable = true;\n                }\n\n                enable = !!enable;\n                that.options.enable = enable;\n                element.toggleClass(DISABLEDSTATE, !enable)\n                    .attr(\"aria-disabled\", !enable)\n                    .attr(DISABLED, !enable);\n\n                if (enable) {\n                    that._tabindex();\n                }\n\n                // prevent 'Unspecified error' in IE when inside iframe\n                try {\n                    element.trigger(\"blur\");\n                } catch (err) {}\n            },\n\n            _badge: function() {\n                var that = this;\n                var badgeOptions = that.options.badge;\n                var badgeEelement;\n\n                if (badgeOptions === null || badgeOptions === undefined) {\n                    return;\n                }\n\n                if (badgeOptions.constructor !== Object) {\n                    badgeOptions = { text: badgeOptions };\n                }\n\n                if (badgeOptions.position === undefined || badgeOptions.position === \"\") {\n                    badgeOptions.position = \"edge\";\n\n                    if (badgeOptions.align === undefined || badgeOptions.align === \"\") {\n                        badgeOptions.align = \"top end\";\n                    }\n                }\n\n                badgeOptions._classNames = [\"k-button-badge\"];\n\n                that.element.addClass(\"k-badge-container\");\n\n                badgeEelement = $('<span />').appendTo(that.element);\n                that.badge = new ui.Badge(badgeEelement, badgeOptions);\n            }\n        });\n\n        if (Button.fn.hasOwnProperty(\"defaults\") === false) {\n            Object.defineProperty(Button.fn, \"defaults\", {\n                get: function() {\n                    return kendo.defaults.button;\n                }\n            });\n        }\n\n        kendo.cssProperties.registerPrefix(\"Button\", \"k-button-\");\n\n        kendo.cssProperties.registerValues(\"Button\", [{\n            prop: \"fillMode\",\n            values: kendo.cssProperties.fillModeValues.concat([\"link\"])\n        }, {\n            prop: \"rounded\",\n            values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n        }]);\n\n        kendo.ui.plugin(Button);\n\n    })(window.kendo.jQuery);\n\n    return window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.bottomnavigation',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"bottomnavigation\",\n    name: \"BottomNavigation\",\n    category: \"web\",\n    description: \"The BottomNavigation widget is a navigation element that allows movement between primary destinations in an app.\",\n    depends: [ \"core\" ]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        proxy = $.proxy,\n        extend = $.extend,\n        template = kendo.template,\n        keys = kendo.keys,\n        isPlainObject = $.isPlainObject,\n        isEmptyObject = $.isEmptyObject,\n\n        NS = \".kendoBottomNavigation\",\n        PREFIX = \"k-bottom-nav-\",\n        K_POS = \"k-pos-\",\n        DOT = \".\",\n\n        SELECT = \"select\";\n\n    var isString = function (value) {\n        return typeof value === \"string\";\n    };\n\n    var bottomNavigationStyles = {\n        widget: \"k-bottom-nav\",\n        item: \"k-bottom-nav-item\",\n        navIcon: \"k-bottom-nav-item-icon\",\n        icon: \"k-icon\",\n        text: \"k-bottom-nav-item-text\",\n        itemFlow: {\n            vertical: \"k-bottom-nav-item-flow-vertical\",\n            horizontal: \"k-bottom-nav-item-flow-horizontal\"\n        },\n        selected: \"k-state-selected\",\n        disabled: \"k-state-disabled\",\n        border: \"k-bottom-nav-border\",\n        shadow: \"k-bottom-nav-shadow\",\n        focus: \"k-state-focused\"\n    };\n\n    var templates = {\n        item: template(\"<span class='\" + bottomNavigationStyles.item + \"'></span>\"),\n        anchor: template(\"<a class='\" + bottomNavigationStyles.item + \"' href='#:url#'></a>\"),\n        text: template(\"<span class='\" + bottomNavigationStyles.text + \"'>#=text#</span>\"),\n        icon: template(\"<span class='\" + bottomNavigationStyles.navIcon + \"#if(icon){# k-icon k-i-#:icon# #}#'></span>\")\n    };\n\n    var BottomNavigation = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n            options = options || {};\n            Widget.fn.init.call(that, element, options);\n\n            that.element = $(element);\n\n            that._updateCssClasses();\n            that._items();\n            that._bindEvents();\n        },\n\n        options: {\n            name: \"BottomNavigation\",\n            positionMode: \"fixed\",\n            items: [],\n            themeColor: \"primary\",\n            itemFlow: \"vertical\",\n            fill: \"flat\",\n            shadow: false,\n            border: true,\n            template: null\n        },\n\n        events: [\n            SELECT\n        ],\n\n        destroy: function() {\n            var that = this;\n\n            that.element.off(NS);\n\n            Widget.fn.destroy.call(this);\n        },\n\n        _tabindex: function(target) {\n            var that = this,\n                element = that.element,\n                TABINDEX = \"tabindex\",\n                cachedTabIndex = element.attr(\"data-\" + kendo.ns + TABINDEX),\n                tabindex = target.attr(TABINDEX) || element.attr(TABINDEX) || cachedTabIndex;\n\n            if(!cachedTabIndex) {\n                element.removeAttr(TABINDEX);\n                element.attr(\"data-\" + kendo.ns + TABINDEX, tabindex);\n            }\n\n            target.attr(TABINDEX, !isNaN(tabindex) ? tabindex : 0);\n        },\n\n        _updateCssClasses: function () {\n            var that = this,\n                options = that.options,\n                styles = bottomNavigationStyles;\n\n            // Remove all class names\n            that.element.removeClass(function(index, className) {\n                if (className.indexOf('k-') === 0) {\n                    that.element.removeClass(className);\n                }\n            });\n\n            that.element.addClass(styles.widget);\n            that.element.addClass(kendo.getValidCssClass(PREFIX, \"themeColor\", options.themeColor));\n            that.element.addClass(kendo.getValidCssClass(PREFIX, \"fill\", options.fill));\n            that.element.addClass(kendo.getValidCssClass(K_POS, \"positionMode\", options.positionMode));\n            that.element.toggleClass(styles.border, options.border);\n            that.element.toggleClass(styles.shadow, options.shadow);\n            that._itemFlow(options.itemFlow);\n        },\n\n        _itemFlow: function (orientation) {\n            var that = this,\n                orientationStyles = bottomNavigationStyles.itemFlow;\n\n            that._toggleClassGroup(that.element, orientation, orientationStyles);\n        },\n\n        _toggleClassGroup: function (element, value, group) {\n            if(isString(group[value])) {\n                for (var key in group) {\n                    element.removeClass(group[key]);\n                }\n\n                element.addClass(group[value]);\n            }\n        },\n\n        _items: function () {\n            var that = this,\n                options = that.options,\n                items = options.items,\n                item;\n\n            for (var i = 0; i < items.length; i++) {\n                item = that._renderItem(items[i]);\n                that.element.append(item);\n            }\n        },\n\n        _renderItem: function (item) {\n            var that = this,\n                itemTemplate = item.template || that.options.template,\n                isLink = item.url && isString(item.url),\n                elm, icon;\n\n            elm = $(isLink ? template(templates.anchor)(item) : template(templates.item)(item));\n\n            elm.toggleClass(bottomNavigationStyles.selected, item.selected === true)\n                .toggleClass(bottomNavigationStyles.disabled, item.enabled === false)\n                .addClass(item.cssClass)\n                .attr(extend({}, item.attributes, {\n                    \"aria-disabled\": item.enabled === false\n                }))\n                .data(item.data);\n\n            that._tabindex(elm);\n\n            if(!elm.attr(\"role\") && !isLink) {\n                elm.attr(\"role\", \"link\");\n            }\n\n            if (itemTemplate) {\n                elm.append(template(itemTemplate)(item));\n                return elm;\n            }\n\n            item = extend({}, {\n                icon: \"\"\n            }, item);\n\n            icon = $(templates.icon(item)).addClass(item.iconClass);\n\n            elm.append(icon);\n\n            if (item.text) {\n                item.text = item.encoded === false ? item.text : kendo.htmlEncode(item.text);\n                elm.append($(templates.text(item)));\n            }\n\n            return elm;\n        },\n\n        _bindEvents: function () {\n            var that = this,\n                clickProxy = proxy(that._click, that),\n                keydownProxy = proxy(that._keydown, that);\n\n            that.element.on(\"click\" + NS, DOT + bottomNavigationStyles.item, clickProxy)\n                        .on(\"keydown\" + NS, DOT + bottomNavigationStyles.item, keydownProxy);\n        },\n\n        _click: function (ev) {\n            var that = this,\n                item = $(ev.target).closest(DOT + bottomNavigationStyles.item);\n\n            if (item.is(DOT + bottomNavigationStyles.disabled)) {\n                ev.preventDefault();\n                return;\n            }\n\n            that._triggerSelect(item, ev);\n        },\n\n        _triggerSelect: function (item, ev) {\n            var that = this;\n\n            if (item.is(DOT + bottomNavigationStyles.disabled)) {\n                return;\n            }\n\n            if(that.trigger(SELECT, { originalEvent: ev, item: item, data: item.data() })) {\n                return;\n            }\n\n            that.select(item);\n        },\n\n        _keydown: function (ev) {\n            var that = this,\n                target = $(ev.target),\n                key = ev.keyCode;\n\n            if (key === keys.ENTER || key === keys.SPACEBAR) {\n                if(that._isItem(target)) {\n                    that._triggerSelect(target, ev);\n\n                    if (key === keys.SPACEBAR) {\n                        ev.preventDefault();\n                    }\n                }\n            }\n        },\n\n        _isItem: function(item) {\n            var that = this;\n\n            item = $(item);\n\n            return item.is(DOT + bottomNavigationStyles.item) && !!that.element.find(item).length;\n        },\n\n        items: function () {\n            var that = this;\n\n            return that.element.children();\n        },\n\n        select: function (item, state) {\n            var that = this,\n                selectedItem = that.items().filter(DOT + bottomNavigationStyles.selected);\n\n            if (!item) {\n                return selectedItem;\n            }\n\n            state = state !== false;\n\n            if(that._isItem(item)) {\n                selectedItem.removeClass(bottomNavigationStyles.selected);\n                $(item).toggleClass(bottomNavigationStyles.selected, state);\n            }\n        },\n\n        enable: function (item, state) {\n            var that = this;\n\n            state = state === false;\n\n            if (item && that._isItem(item)) {\n                $(item).toggleClass(bottomNavigationStyles.disabled, state);\n                $(item).attr(\"aria-disabled\", state);\n            }\n        },\n\n        item: function (index) {\n            var that = this;\n\n            if (isNaN(index)) {\n                return null;\n            }\n\n            return that.items().eq(index);\n        },\n\n        itemById: function (id) {\n            var that = this;\n\n            return that.element.find(\"#\" + id);\n        },\n\n        add: function (item, before) {\n            var that = this,\n                method = \"append\",\n                targetElement = that.element;\n\n            if(before && that._isItem(before)) {\n                method = \"before\";\n                targetElement = $(before);\n            }\n\n            if(item && isPlainObject(item) && !isEmptyObject(item)) {\n                targetElement[method](that._renderItem(item));\n            }\n        },\n\n        remove: function (item) {\n            var that = this;\n\n            if(item && that._isItem(item)) {\n                item.remove();\n            }\n        },\n\n        showText: function (toggle) {\n            var that = this,\n                textItems = that.items().find(DOT + bottomNavigationStyles.text);\n\n            toggle = toggle !== false;\n\n            textItems.toggle(toggle);\n        },\n\n        setOptions: function (options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(this, options);\n            that._updateCssClasses();\n\n            if (\"items\" in options || \"template\" in options) {\n                that.element.empty();\n                that._items();\n            }\n        }\n    });\n\n    ui.plugin(BottomNavigation);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define){\n    define('kendo.pager',[ \"./kendo.data\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"pager\",\n    name: \"Pager\",\n    category: \"framework\",\n    depends: [ \"data\" ],\n    advanced: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        keys = kendo.keys,\n        template = kendo.template,\n        proxy = $.proxy,\n        FIRST = \".k-i-arrow-end-left\",\n        LAST = \".k-i-arrow-end-right\",\n        PREV = \".k-i-arrow-60-left\",\n        NEXT = \".k-i-arrow-60-right\",\n        SIZE = \"k-pager-md k-pager-sm\",\n        FOCUSABLE = \":kendoFocusable:not([tabindex='-1'])\",\n        CHANGE = \"change\",\n        NS = \".kendoPager\",\n        CLICK = \"click\",\n        KEYDOWN = \"keydown\",\n        DISABLED = \"disabled\",\n        MOUSEDOWN = \"down\",\n        MAX_VALUE = Number.MAX_VALUE,\n        isRtl = false,\n        iconTemplate = kendo.template('<a href=\"\\\\#\" title=\"#=text#\" #if (id !== \"\") {# aria-describedby=\"#=id#\" #}# class=\"k-link k-pager-nav #= wrapClassName #\"><span class=\"k-icon #= className #\"></span></a>');\n\n    function button(options) {\n        return options.template( {\n            idx: options.idx,\n            text: options.text,\n            ns: kendo.ns,\n            numeric: options.numeric,\n            title: options.title || \"\",\n            tabindex: options.navigatable ? 0 : -1,\n            navigatable: options.navigatable\n        });\n    }\n\n    function selectOption(template, idx, text, selected) {\n        return template( {\n            idx: idx,\n            text: text || idx,\n            selected: selected || false\n        });\n    }\n\n    function icon(className, text, wrapClassName, id) {\n        return iconTemplate({\n            className: className.substring(1),\n            text: text,\n            wrapClassName: wrapClassName || \"\",\n            id: id || \"\"\n        });\n    }\n\n    function update(element, selector, page, disabled) {\n       element.find(selector)\n              .parent()\n              .attr(kendo.attr(\"page\"), page)\n              .attr(\"tabindex\", disabled ? -1 : 0)\n              .toggleClass(\"k-state-disabled\", disabled);\n    }\n\n    function first(element, page) {\n        update(element, FIRST, 1, page <= 1);\n    }\n\n    function prev(element, page) {\n        update(element, PREV, Math.max(1, page - 1), page <= 1);\n    }\n\n    function next(element, page, totalPages) {\n        update(element, NEXT, Math.min(totalPages, page + 1), page >= totalPages);\n    }\n\n    function last(element, page, totalPages) {\n        update(element, LAST, totalPages, page >= totalPages);\n    }\n\n    var Pager = Widget.extend( {\n        init: function(element, options) {\n            var that = this, page, totalPages;\n            var sizeClassName = null;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n            that._createDataSource(options);\n            that.linkTemplate = kendo.template(that.options.linkTemplate);\n            that.selectTemplate = kendo.template(that.options.selectTemplate);\n            that.currentPageTemplate = kendo.template(that.options.currentPageTemplate);\n            that.numericSelectItemTemplate = kendo.template(that.options.numericSelectItemTemplate);\n\n            page = that.page();\n            totalPages = that.totalPages();\n\n            that._refreshHandler = proxy(that.refresh, that);\n\n            that.dataSource.bind(CHANGE, that._refreshHandler);\n            that.downEvent = kendo.applyEventMap(MOUSEDOWN, kendo.guid());\n\n            isRtl = kendo.support.isRtl(element);\n\n            that._id = that.element.attr(\"id\") || kendo.guid();\n            that._template();\n\n            if (options.previousNext) {\n                if (!that.element.find(FIRST).length) {\n                    that.element.append(icon(FIRST, options.messages.first, \"k-pager-first\", that._id));\n\n                    first(that.element, page, totalPages);\n                }\n\n                if (!that.element.find(PREV).length) {\n                    that.element.append(icon(PREV, options.messages.previous, null, that._id));\n\n                    prev(that.element, page, totalPages);\n                }\n            }\n\n            if (options.numeric) {\n                if (!that._numericWrap) {\n                    that._numericWrap = that.element.find(\".k-pager-numbers-wrap\");\n\n                    if (that._numericWrap.length === 0) {\n                        that._numericWrap = $(\"<div class='k-pager-numbers-wrap' />\").appendTo(that.element);\n                    }\n                }\n\n                if (!that._numericSelect) {\n                    that._numericSelect = that._numericWrap.find(\".k-dropdown\");\n\n                    if (that._numericSelect.length === 0) {\n                       that._numericSelect = $(\"<select class='k-dropdown k-picker k-dropdown-list' />\").appendTo(that._numericWrap);\n                    }\n                }\n\n                if (!that.list) {\n                    that.list = that._numericWrap.find(\".k-pager-numbers\");\n\n                    if (that.list.length === 0) {\n                       that.list = $('<ul class=\"k-pager-numbers\" />').appendTo(that._numericWrap);\n                    }\n                }\n\n                if (options.dataSource && !options.dataSource.total()) {\n                    that._numericSelect.empty().append(\"<option value='0' />\");\n                    that.list.empty().append(that.selectTemplate({ text: 0, tabindex: options.navigatalbe ? 0 : -1, navigatable: options.navigatable, title: kendo.format(options.messages.pageButtonLabel, 0) }));\n                }\n            }\n\n            if (options.input) {\n                if (!that.element.find(\".k-pager-input\").length) {\n                   that.element.append('<span class=\"k-pager-input k-label\">'+\n                       options.messages.page +\n                       '<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input class=\"k-input-inner\" /></span>' +\n                       kendo.format(options.messages.of, totalPages) +\n                       '</span>');\n                }\n\n                that.element.on(KEYDOWN + NS, \".k-pager-input input\", proxy(that._keydown, that));\n            }\n\n            if (options.previousNext) {\n                if (!that.element.find(NEXT).length) {\n                    that.element.append(icon(NEXT, options.messages.next, null, that._id));\n\n                    next(that.element, page, totalPages);\n                }\n\n                if (!that.element.find(LAST).length) {\n                    that.element.append(icon(LAST, options.messages.last, \"k-pager-last\", that._id));\n\n                    last(that.element, page, totalPages);\n                }\n            }\n\n            if (options.pageSizes){\n                if (!that.element.find(\".k-pager-sizes\").length){\n                    var pageSizes = options.pageSizes.length ? options.pageSizes : [\"all\", 5, 10, 20];\n                    var pageItems = $.map(pageSizes, function(size) {\n                        if (size.toLowerCase && size.toLowerCase() === \"all\") {\n                            return \"<option value='all'>\" + options.messages.allPages + \"</option>\";\n                        }\n\n                        return \"<option>\" + size + \"</option>\";\n                    });\n\n                    $('<span class=\"k-pager-sizes k-label\"><select></select>' + options.messages.itemsPerPage + \"</span>\")\n                        .appendTo(that.element)\n                        .find(\"select\").html(pageItems.join(\"\")).end()\n                        .appendTo(that.element);\n                }\n\n                that.element.find(\".k-pager-sizes select\").val(that.pageSize());\n\n                if (kendo.ui.DropDownList) {\n                   that.element.find(\".k-pager-sizes select\").show().attr(\"aria-label\", options.messages.pageSizeDropDownLabel).kendoDropDownList();\n                }\n\n                that.element.on(CHANGE + NS, \".k-pager-sizes select\", proxy(that._change, that));\n            }\n\n            if (options.refresh) {\n                if (!that.element.find(\".k-pager-refresh\").length) {\n                    that.element.append('<a href=\"#\" class=\"k-pager-refresh k-link\" title=\"' + options.messages.refresh +\n                        '\" aria-label=\"' + options.messages.refresh + '\"><span class=\"k-icon k-i-reload\"></span></a>');\n                }\n\n                that.element.on(CLICK + NS, \".k-pager-refresh\", proxy(that._refreshClick, that));\n            }\n\n            if (options.info) {\n                if (!that.element.find(\".k-pager-info\").length) {\n                    that.element.append('<span class=\"k-pager-info k-label\" />');\n                }\n            }\n\n            that.element\n                .on(CLICK + NS , \"a\", proxy(that._click, that))\n                .on(CHANGE + NS , \"select.k-dropdown\", proxy(that._numericSelectChange, that))\n                .addClass(\"k-pager-wrap k-widget k-floatwrap\");\n\n            if (options.autoBind) {\n                that.refresh();\n            }\n\n            that._resizeHandler = proxy(that.resize, that, true);\n            $(window).on(\"resize\" + NS, that._resizeHandler);\n\n            sizeClassName = that._getWidthSizeClass(that.element.outerWidth());\n\n            if (sizeClassName) {\n                that.element.addClass(sizeClassName);\n            }\n\n            that._navigatable();\n\n            kendo.notify(that);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that.element.off(NS);\n            that.dataSource.unbind(CHANGE, that._refreshHandler);\n            that._refreshHandler = null;\n            $(window).off(\"resize\" + NS, this._resizeHandler);\n\n            kendo.destroy(that.element);\n            that.element = that.list = null;\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        options: {\n            name: \"Pager\",\n            ARIATemplate: \"Page navigation, page #=page# of #=totalPages#\",\n            selectTemplate: '<li><span tabindex=\"#=tabindex#\" #if (navigatable) {# aria-label=\"#=title#\" #}# class=\"k-link k-state-selected\">#=text#</span></li>',\n            currentPageTemplate: '<li class=\"k-current-page\"><span class=\"k-link k-pager-nav\">#=text#</span></li>',\n            linkTemplate: '<li><a tabindex=\"#=tabindex#\" href=\"\\\\#\" class=\"k-link\" data-#=ns#page=\"#=idx#\" #if (title !== \"\") {# title=\"#=title#\" #}#>#=text#</a></li>',\n            numericItemTemplate: '<li><a tabindex=\"-1\" href=\"\\\\#\" class=\"k-link\" data-#=ns#page=\"#=idx#\" #if (title !== \"\") {# title=\"#=title#\" #}#>#=text#</a></li>',\n            numericSelectItemTemplate: '<option value=\"#= idx #\" #if (selected) {# selected=\"selected\" #}#>#= text #</option>',\n            buttonCount: 10,\n            autoBind: true,\n            numeric: true,\n            info: true,\n            input: false,\n            previousNext: true,\n            pageSizes: false,\n            refresh: false,\n            responsive: true,\n            navigatable: false,\n            messages: {\n                allPages: \"All\",\n                display: \"{0} - {1} of {2} items\",\n                empty: \"No items to display\",\n                page: \"Page\",\n                of: \"of {0}\",\n                itemsPerPage: \"items per page\",\n                pageButtonLabel: \"Page {0}\",\n                pageSizeDropDownLabel: \"Page sizes drop down\",\n                first: \"Go to the first page\",\n                previous: \"Go to the previous page\",\n                next: \"Go to the next page\",\n                last: \"Go to the last page\",\n                refresh: \"Refresh\",\n                morePages: \"More pages\"\n            }\n        },\n\n        setDataSource: function(dataSource) {\n            var that = this;\n\n            that.dataSource.unbind(CHANGE, that._refreshHandler);\n            that.dataSource = that.options.dataSource = dataSource;\n            dataSource.bind(CHANGE, that._refreshHandler);\n\n            if (that.options.autoBind) {\n                dataSource.fetch();\n            }\n        },\n\n        _resize: function(size) {\n            if (size.width) {\n                var sizeClassName = this._getWidthSizeClass(size.width);\n                var el = this.element;\n\n                if (!sizeClassName) {\n                    el.removeClass(SIZE);\n                } else if (!el.hasClass(sizeClassName)) {\n                    el.removeClass(SIZE);\n                    el.addClass(sizeClassName);\n                }\n            }\n        },\n\n        _createDataSource: function(options) {\n            this.dataSource = kendo.data.DataSource.create(options.dataSource);\n        },\n\n        refresh: function(e) {\n            var that = this,\n                idx,\n                end,\n                start = 1,\n                reminder,\n                page = that.page(),\n                html = \"\",\n                selectHtml = \"\",\n                options = that.options,\n                pageSize = that.pageSize(),\n                collapsedTotal = that._collapsedTotal(),\n                total = that.dataSource._isGroupPaged() ? that.dataSource.groupsTotal(true) : that.dataSource.total(),\n                totalPages = that.totalPages(),\n                linkTemplate = that.linkTemplate,\n                navigatable = options.navigatable,\n                numericSelectItemTemplate = that.numericSelectItemTemplate,\n                buttonCount = options.buttonCount;\n\n            if (e && e.action == \"itemchange\") {\n                return;\n            }\n\n            if (options.numeric) {\n\n                if (page > buttonCount) {\n                    reminder = (page % buttonCount);\n                    start = (reminder === 0) ? (page - buttonCount) + 1 : (page - reminder) + 1;\n                }\n\n                end = Math.min((start + buttonCount) - 1, totalPages);\n\n                if (start > 1) {\n                    html += button({\n                        template: linkTemplate,\n                        navigatable: navigatable,\n                        idx: start - 1,\n                        text: \"...\",\n                        numeric: false,\n                        title: options.messages.morePages\n                    });\n                    selectHtml += selectOption(numericSelectItemTemplate, start - 1, options.messages.morePages);\n                }\n\n                for (idx = start; idx <= end; idx++) {\n                    html += button({\n                        template: idx == page ? that.selectTemplate : linkTemplate,\n                        navigatable: navigatable,\n                        idx: idx,\n                        text: idx,\n                        numeric: true,\n                        title: kendo.format(options.messages.pageButtonLabel, idx)\n                    });\n                    selectHtml += selectOption(numericSelectItemTemplate, idx, idx, idx == page);\n                }\n\n                if (end < totalPages) {\n                    html += button({\n                        template: linkTemplate,\n                        navigatable: navigatable,\n                        idx: idx,\n                        text: \"...\",\n                        numeric: numericSelectItemTemplate,\n                        title: options.messages.morePages\n                    });\n                    selectHtml += selectOption(numericSelectItemTemplate, idx, options.messages.morePages);\n                }\n\n                if (html === \"\") {\n                    html = that.selectTemplate({ text: 0, tabindex: navigatable ? 0 : -1, navigatable: navigatable, title: kendo.format(options.messages.pageButtonLabel, 0) });\n                    selectHtml = $(\"<option value='0' />\");\n                }\n\n                that.list.html(html);\n                that._numericSelect.html(selectHtml);\n            }\n\n            if (options.info) {\n                if (total > 0) {\n                    html = kendo.format(options.messages.display,\n                        that.dataSource.options.endless ? 1 : Math.min((page - 1) * (that.dataSource.pageSize() || 0) + 1, collapsedTotal), // first item in the page\n                        Math.min(page * pageSize, collapsedTotal), // last item in the page\n                    total);\n                } else {\n                    html = options.messages.empty;\n                }\n\n                that.element.find(\".k-pager-info\").html(html);\n            }\n\n            if (options.input) {\n                that.element\n                    .find(\".k-pager-input\")\n                    .html(that.options.messages.page +\n                        '<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input class=\"k-input-inner\" aria-label=\"' + page + '\"></span>' +\n                        kendo.format(options.messages.of, totalPages))\n                    .find(\"input\")\n                    .val(page)\n                    .attr(DISABLED, total < 1)\n                    .toggleClass(\"k-state-disabled\", total < 1);\n            }\n\n            if (options.previousNext) {\n                first(that.element, page, totalPages);\n\n                prev(that.element, page, totalPages);\n\n                next(that.element, page, totalPages);\n\n                last(that.element, page, totalPages);\n            }\n\n            if (options.pageSizes) {\n                var hasAll = that.element.find(\".k-pager-sizes option[value='all']\").length > 0;\n                var selectAll = hasAll && (pageSize === this.dataSource.total() || pageSize == MAX_VALUE);\n                var text = pageSize;\n                if (selectAll) {\n                    pageSize = \"all\";\n                    text = options.messages.allPages;\n                }\n\n                that.element\n                    .find(\".k-pager-sizes select\")\n                    .val(pageSize)\n                    .attr(\"aria-label\", pageSize)\n                    .filter(\"[\" + kendo.attr(\"role\") + \"=dropdownlist]\")\n                    .kendoDropDownList(\"value\", pageSize)\n                    .kendoDropDownList(\"text\", text); // handles custom values\n            }\n\n            that._restoreFocus(start, end, totalPages);\n            that._excludeChildrenFromTab();\n            that._updateAria();\n        },\n\n        _excludeChildrenFromTab: function () {\n            var activeElement = kendo._activeElement();\n            if (this.options.navigatable && (activeElement === this.element[0] || !$.contains(this.element[0], activeElement))) {\n                this.element.find(FOCUSABLE).attr(\"tabindex\", -1);\n            }\n        },\n\n        _restoreFocus: function (start, end, totalPages) {\n            var that = this;\n\n            if (!that.options.navigatable) {\n                return;\n            }\n\n            if (that._focusSelected) {\n                that.element.find(\".k-state-selected\").trigger(\"focus\");\n                that._focusSelected = null;\n            }\n\n            if (that._focusMore !== null) {\n                if (end < totalPages && that._focusMore) {\n                    that.list.find(\"li\").last().find(\"a\").trigger(\"focus\");\n                }\n                if (!that._focusMore && start > 1) {\n                    that.list.find(\"li\").first().find(\"a\").trigger(\"focus\");\n                }\n                that._focusMore = null;\n            }\n        },\n\n        _restoreTabIndexes: function () {\n            this.element\n                .find(\"[tabindex='-1']:not(.k-state-disabled)\")\n                .attr(\"tabindex\", 0);\n        },\n\n        _collapsedTotal: function() {\n            return this.dataSource.total();\n        },\n\n        _keydown: function(e) {\n            if (e.keyCode === kendo.keys.ENTER) {\n                var input = this.element.find(\".k-pager-input\").find(\"input\"),\n                    page = parseInt(input.val(), 10);\n\n                if (isNaN(page) || page < 1 || page > this.totalPages()) {\n                    page = this.page();\n                }\n\n                input.val(page);\n\n                this.page(page);\n            }\n        },\n\n        _refreshClick: function(e) {\n            e.preventDefault();\n\n            this.dataSource.read();\n        },\n\n        _change: function(e) {\n            var value = e.currentTarget.value;\n            var pageSize = parseInt(value, 10);\n            var dataSource = this.dataSource;\n\n            if (!isNaN(pageSize)){\n                dataSource.pageSize(pageSize);\n            } else if ((value + \"\").toLowerCase() == \"all\") {\n                dataSource._pageSize = undefined;\n                dataSource._take = undefined;\n                dataSource._skip = 0;\n                dataSource.fetch();\n            }\n        },\n\n        _template: function() {\n            this._ariaTemplate = proxy(template(this.options.ARIATemplate), this);\n        },\n\n        _updateAria: function () {\n            if (!this.options.navigatable) {\n                return;\n            }\n            this.element.attr(\"aria-label\", this._ariaTemplate({ page: this.page(), totalPages: this.totalPages() }));\n        },\n\n        _navigatable: function () {\n            var that = this;\n            var options = that.options;\n\n            if (!options.navigatable) {\n                return;\n            }\n\n            that.element.attr(\"role\", \"application\");\n            that.element.attr(\"id\", that._id);\n            that._template();\n            that._updateAria();\n\n            that._tabindex(that.element);\n\n            that.element.on(\"keydown\" + NS, that, proxy(that._keyDown, that));\n            that.element.on(\"focusout\" + NS, function() { that.element.removeClass(\"k-state-focused\"); });\n            that.element.on(\"focusin\" + NS,  function(e) {\n                that.element.addClass(\"k-state-focused\");\n\n                if (e.target === that.element[0]) {\n                    that.element.find(FOCUSABLE).attr(\"tabindex\", -1);\n                } else {\n                    that.element.removeClass(\"k-state-focused\");\n                }\n            });\n        },\n\n        _keyDown: function (e) {\n            var that = this;\n            var target = $(e.target);\n            var allFocusable;\n            var handled = false;\n            var focusedIndex;\n\n            if (target[0] === that.element[0] && e.keyCode == keys.ENTER) {\n                that._restoreTabIndexes();\n                that.element.find(FOCUSABLE).first().trigger(\"focus\");\n                handled = true;\n            }\n\n            if (target[0] !== that.element[0] && e.keyCode == keys.ESC) {\n                that.element.trigger(\"focus\");\n                handled = true;\n            }\n\n            if (target[0] === that.element[0] && e.keyCode == keys.HOME) {\n                that.page(1);\n                handled = true;\n            }\n\n            if (target[0] === that.element[0] && e.keyCode == keys.END) {\n                that.page(that.totalPages());\n                handled = true;\n            }\n\n            if (target[0] === that.element[0] && (e.keyCode == (isRtl ? keys.LEFT : keys.RIGHT) || e.keyCode == keys.PAGEDOWN)) {\n                that.page(that.page() + 1);\n                handled = true;\n            }\n\n            if (target[0] === that.element[0] && (e.keyCode == (isRtl ? keys.RIGHT : keys.LEFT) || e.keyCode == keys.PAGEUP)) {\n                that.page((that.page() - 1) || 1);\n                handled = true;\n            }\n\n            if (target[0] !== that.element[0] && e.keyCode== keys.TAB) {\n                allFocusable = that.element.find(FOCUSABLE);\n                focusedIndex = allFocusable.index(target);\n\n                if (e.shiftKey) {\n                    if (focusedIndex - 1 < 0) {\n                        allFocusable.last().trigger(\"focus\");\n                    } else {\n                        allFocusable.eq(focusedIndex - 1).trigger(\"focus\");\n                    }\n                } else {\n                    if (focusedIndex + 1 < allFocusable.length) {\n                        allFocusable.eq(focusedIndex +1 ).trigger(\"focus\");\n                    } else {\n                        allFocusable.first().trigger(\"focus\");\n                    }\n                }\n\n                handled = true;\n            }\n\n            if (handled) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        },\n\n        _numericSelectChange: function(e) {\n            var target = e.currentTarget;\n            var value = target.value;\n            var page = parseInt(value, 10);\n\n            target.blur();\n\n            this.page(page);\n        },\n\n        _click: function(e) {\n            var target = $(e.currentTarget);\n\n            e.preventDefault();\n\n            if (this.options.navigatable) {\n                if (target.attr(\"title\") == this.options.messages.morePages) {\n                    this._focusMore = target.parent().index();\n                } else if(!target.hasClass(\"k-pager-refresh\") && !target.hasClass(\"k-pager-nav\")) {\n                    this._focusSelected = true;\n                }\n            }\n\n            if (!target.is(\".k-state-disabled\")) {\n                this.page(parseInt(target.attr(kendo.attr(\"page\")), 10));\n            }\n        },\n\n        totalPages: function() {\n            return Math.ceil((this.dataSource.total() || 0) / (this.pageSize() || 1));\n        },\n\n        pageSize: function() {\n            return this.dataSource.pageSize() || this.dataSource.total();\n        },\n\n        page: function(page) {\n            if (page) {\n                if (this.trigger(\"pageChange\", { index: page })) {\n                   return;\n                }\n\n                this.dataSource.page(page);\n\n                this.trigger(CHANGE, { index: page });\n            } else {\n                if (this.dataSource.total() > 0) {\n                    return this.dataSource.page();\n                } else {\n                    return 0;\n                }\n            }\n        },\n\n        _getWidthSizeClass: function(width) {\n            var that = this,\n                sizes = SIZE.split(\" \");\n\n            if (!that.options.responsive) {\n                return null;\n            } else if (width <= 480) {\n                return sizes[1];\n            } else if (width <= 600) {\n                return sizes[0];\n            }\n            return null;\n        }\n    });\n\n    ui.plugin(Pager);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.popup',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"popup\",\n    name: \"Pop-up\",\n    category: \"framework\",\n    depends: [ \"core\" ],\n    advanced: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        Class = kendo.Class,\n        support = kendo.support,\n        getOffset = kendo.getOffset,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        DEACTIVATE = \"deactivate\",\n        ACTIVATE = \"activate\",\n        CENTER = \"center\",\n        LEFT = \"left\",\n        RIGHT = \"right\",\n        TOP = \"top\",\n        BOTTOM = \"bottom\",\n        ABSOLUTE = \"absolute\",\n        HIDDEN = \"hidden\",\n        BODY = \"body\",\n        LOCATION = \"location\",\n        POSITION = \"position\",\n        VISIBLE = \"visible\",\n        EFFECTS = \"effects\",\n        ACTIVE = \"k-state-active\",\n        ACTIVEBORDER = \"k-state-border\",\n        ACTIVEBORDERREGEXP = /k-state-border-(\\w+)/,\n        ACTIVECHILDREN = \".k-picker-wrap, .k-dropdown-wrap, .k-link\",\n        MOUSEDOWN = \"down\",\n        DOCUMENT_ELEMENT = $(document.documentElement),\n        proxy = $.proxy,\n        WINDOW = $(window),\n        SCROLL = \"scroll\",\n        cssPrefix = support.transitions.css,\n        TRANSFORM = cssPrefix + \"transform\",\n        extend = $.extend,\n        NS = \".kendoPopup\",\n        styles = [\"font-size\",\n                  \"font-family\",\n                  \"font-stretch\",\n                  \"font-style\",\n                  \"font-weight\",\n                  \"line-height\"];\n\n    function contains(container, target) {\n        if (!container || !target) {\n            return false;\n        }\n        return container === target || $.contains(container, target);\n    }\n\n    var Popup = Widget.extend({\n        init: function(element, options) {\n            var that = this, parentPopup;\n\n            options = options || {};\n\n            if (options.isRtl) {\n                options.origin = options.origin || BOTTOM + \" \" + RIGHT;\n                options.position = options.position || TOP + \" \" + RIGHT;\n            }\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            that.collisions = options.collision ? options.collision.split(\" \") : [];\n            that.downEvent = kendo.applyEventMap(MOUSEDOWN, kendo.guid());\n\n            if (that.collisions.length === 1) {\n                that.collisions.push(that.collisions[0]);\n            }\n\n            parentPopup = $(that.options.anchor).closest(\".k-popup,.k-group\").filter(\":not([class^=km-])\"); // When popup is in another popup, make it relative.\n\n            options.appendTo = $($(options.appendTo)[0] || parentPopup[0] || document.body);\n\n            that.element.hide()\n                .addClass(\"k-popup k-group k-reset\")\n                .toggleClass(\"k-rtl\", !!options.isRtl)\n                .css({ position : ABSOLUTE })\n                .appendTo(options.appendTo)\n                .attr(\"aria-hidden\", true)\n                .on(\"mouseenter\" + NS, function() {\n                    that._hovered = true;\n                })\n                .on(\"wheel\" + NS, function(e) {\n                    var list = $(e.target).find(\".k-list\");\n                    var scrollArea = list.parent();\n                    if (list.length && list.is(\":visible\") && ((scrollArea.scrollTop() === 0 && e.originalEvent.deltaY < 0) ||\n                        (scrollArea.scrollTop() === scrollArea.prop('scrollHeight') - scrollArea.prop('offsetHeight') && e.originalEvent.deltaY > 0))) {\n                           e.preventDefault();\n                    }\n                })\n                .on(\"mouseleave\" + NS, function() {\n                    that._hovered = false;\n                });\n\n            that.wrapper = $();\n\n            if (options.animation === false) {\n                options.animation = { open: { effects: {} }, close: { hide: true, effects: {} } };\n            }\n\n            extend(options.animation.open, {\n                complete: function() {\n                    that.wrapper.css({ overflow: VISIBLE }); // Forcing refresh causes flickering in mobile.\n                    that._activated = true;\n                    that._trigger(ACTIVATE);\n                }\n            });\n\n            extend(options.animation.close, {\n                complete: function() {\n                    that._animationClose();\n                }\n            });\n\n            that._mousedownProxy = function(e) {\n                that._mousedown(e);\n            };\n\n            if (support.mobileOS.android) {\n                that._resizeProxy = function(e) {\n                    setTimeout(function() {\n                        that._resize(e);\n                    }, 600); //Logic from kendo.onResize\n                };\n            } else {\n                that._resizeProxy = function(e) {\n                    that._resize(e);\n                };\n            }\n\n            if (options.toggleTarget) {\n                $(options.toggleTarget).on(options.toggleEvent + NS, $.proxy(that.toggle, that));\n            }\n        },\n\n        events: [\n            OPEN,\n            ACTIVATE,\n            CLOSE,\n            DEACTIVATE\n        ],\n\n        options: {\n            name: \"Popup\",\n            toggleEvent: \"click\",\n            origin: BOTTOM + \" \" + LEFT,\n            position: TOP + \" \" + LEFT,\n            anchor: BODY,\n            appendTo: null,\n            collision: \"flip fit\",\n            viewport: window,\n            copyAnchorStyles: true,\n            autosize: false,\n            modal: false,\n            adjustSize: {\n                width: 0,\n                height: 0\n            },\n            animation: {\n                open: {\n                    effects: \"slideIn:down\",\n                    transition: true,\n                    duration: 200\n                },\n                close: { // if close animation effects are defined, they will be used instead of open.reverse\n                    duration: 100,\n                    hide: true\n                }\n            },\n            omitOriginOffsets: false\n        },\n\n        _animationClose: function() {\n            var that = this;\n            var location = that.wrapper.data(LOCATION);\n\n            that.wrapper.hide();\n\n            if (location) {\n                that.wrapper.css(location);\n            }\n\n            if (that.options.anchor != BODY) {\n                that._hideDirClass();\n            }\n\n            that._closing = false;\n            that._trigger(DEACTIVATE);\n        },\n\n        destroy: function() {\n            var that = this,\n                options = that.options,\n                element = that.element.off(NS),\n                parent;\n\n            Widget.fn.destroy.call(that);\n\n            if (options.toggleTarget) {\n                $(options.toggleTarget).off(NS);\n            }\n\n            if (!options.modal) {\n                DOCUMENT_ELEMENT.off(that.downEvent, that._mousedownProxy);\n                that._toggleResize(false);\n            }\n\n            kendo.destroy(that.element.children());\n            element.removeData();\n\n            if (options.appendTo[0] === document.body) {\n                parent = element.parent(\".k-animation-container\");\n\n                if (parent[0]) {\n                    parent.remove();\n                } else {\n                    element.remove();\n                }\n            }\n        },\n\n        open: function(x, y) {\n            var that = this,\n                fixed = { isFixed: !isNaN(parseInt(y,10)), x: x, y: y },\n                element = that.element,\n                options = that.options,\n                animation, wrapper,\n                anchor = $(options.anchor),\n                mobile = element[0] && element.hasClass(\"km-widget\");\n\n            if (!that.visible()) {\n                if (options.copyAnchorStyles) {\n                    if (mobile && styles[0] == \"font-size\") {\n                        styles.shift();\n                    }\n                    element.css(kendo.getComputedStyles(anchor[0], styles));\n                }\n\n                if (element.data(\"animating\") || that._trigger(OPEN)) {\n                    return;\n                }\n\n                that._activated = false;\n\n                if (!options.modal) {\n                    DOCUMENT_ELEMENT.off(that.downEvent, that._mousedownProxy)\n                                .on(that.downEvent, that._mousedownProxy);\n\n                    // this binding hangs iOS in editor\n                    // all elements in IE7/8 fire resize event, causing mayhem\n                    that._toggleResize(false);\n                    that._toggleResize(true);\n                }\n\n                that.wrapper = wrapper = kendo.wrap(element, options.autosize)\n                                        .css({\n                                            overflow: HIDDEN,\n                                            display: \"block\",\n                                            position: ABSOLUTE\n                                        })\n                                        .attr(\"aria-hidden\", false);\n\n                if (support.mobileOS.android) {\n                    wrapper.css(TRANSFORM, \"translatez(0)\"); // Android is VERY slow otherwise. Should be tested in other droids as well since it may cause blur.\n                }\n\n                wrapper.css(POSITION);\n\n                if ($(options.appendTo)[0] == document.body) {\n                    wrapper.css(TOP, \"-10000px\");\n                }\n\n                that.flipped = that._position(fixed);\n                animation = that._openAnimation();\n\n                if (options.anchor != BODY) {\n                    that._showDirClass(animation);\n                }\n\n                if (!element.is(\":visible\") && element.data(\"olddisplay\") === undefined) {\n                    element.show();\n                    element.data(\"olddisplay\", element.css(\"display\"));\n                    element.hide();\n                }\n\n                element.data(EFFECTS, animation.effects)\n                       .kendoStop(true)\n                       .kendoAnimate(animation)\n                       .attr(\"aria-hidden\", false);\n            }\n        },\n\n        _location: function(isFixed) {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                wrapper,\n                anchor = $(options.anchor),\n                mobile = element[0] && element.hasClass(\"km-widget\");\n\n            if (options.copyAnchorStyles) {\n                if (mobile && styles[0] == \"font-size\") {\n                    styles.shift();\n                }\n                element.css(kendo.getComputedStyles(anchor[0], styles));\n            }\n\n            that.wrapper = wrapper = kendo.wrap(element, options.autosize)\n                                    .css({\n                                        overflow: HIDDEN,\n                                        display: \"block\",\n                                        position: ABSOLUTE\n                                    });\n\n            if (support.mobileOS.android) {\n                wrapper.css(TRANSFORM, \"translatez(0)\"); // Android is VERY slow otherwise. Should be tested in other droids as well since it may cause blur.\n            }\n\n            wrapper.css(POSITION);\n\n            if ($(options.appendTo)[0] == document.body) {\n                wrapper.css(TOP, \"-10000px\");\n            }\n\n            that._position(isFixed || {});\n\n            var offset = wrapper.offset();\n            return {\n                width: kendo._outerWidth(wrapper),\n                height: kendo._outerHeight(wrapper),\n                left: offset.left,\n                top: offset.top\n            };\n        },\n\n        _openAnimation: function() {\n            var animation = extend(true, {}, this.options.animation.open);\n            animation.effects = kendo.parseEffects(animation.effects, this.flipped);\n\n            return animation;\n        },\n\n        _hideDirClass: function() {\n            var anchor = $(this.options.anchor);\n            var direction = ((anchor.attr(\"class\") || \"\").match(ACTIVEBORDERREGEXP) || [\"\", \"down\"])[1];\n            var dirClass = ACTIVEBORDER + \"-\" + direction;\n\n            anchor\n                .removeClass(dirClass)\n                .children(ACTIVECHILDREN)\n                .removeClass(ACTIVE)\n                .removeClass(dirClass);\n\n            this.element.removeClass(ACTIVEBORDER + \"-\" + kendo.directions[direction].reverse);\n        },\n\n        _showDirClass: function(animation) {\n            var direction = animation.effects.slideIn ? animation.effects.slideIn.direction : \"down\";\n            var dirClass = ACTIVEBORDER + \"-\" + direction;\n\n            $(this.options.anchor)\n                .addClass(dirClass)\n                .children(ACTIVECHILDREN)\n                .addClass(ACTIVE)\n                .addClass(dirClass);\n\n            this.element.addClass(ACTIVEBORDER + \"-\" + kendo.directions[direction].reverse);\n        },\n\n        position: function() {\n            if (this.visible()) {\n                this.flipped = this._position();\n                //this._hideDirClass();\n                //this._showDirClass(this._openAnimation());\n            }\n        },\n\n        toggle: function() {\n            var that = this;\n\n            that[that.visible() ? CLOSE : OPEN]();\n        },\n\n        visible: function() {\n            return this.element.is(\":\" + VISIBLE);\n        },\n\n        close: function(skipEffects) {\n            var that = this,\n                options = that.options, wrap,\n                animation, openEffects, closeEffects;\n\n            if (that.visible()) {\n                wrap = (that.wrapper[0] ? that.wrapper : kendo.wrap(that.element).hide());\n\n                that._toggleResize(false);\n\n                if (that._closing || that._trigger(CLOSE)) {\n                    that._toggleResize(true);\n                    return;\n                }\n\n                // Close all inclusive popups.\n                that.element.find(\".k-popup\").each(function () {\n                    var that = $(this),\n                        popup = that.data(\"kendoPopup\");\n\n                    if (popup) {\n                        popup.close(skipEffects);\n                    }\n                });\n\n                DOCUMENT_ELEMENT.off(that.downEvent, that._mousedownProxy);\n\n                if (skipEffects) {\n                    animation = { hide: true, effects: {} };\n                } else {\n                    animation = extend(true, {}, options.animation.close);\n                    openEffects = that.element.data(EFFECTS);\n                    closeEffects = animation.effects;\n\n                    if (!closeEffects && !kendo.size(closeEffects) && openEffects && kendo.size(openEffects)) {\n                        animation.effects = openEffects;\n                        animation.reverse = true;\n                    }\n\n                    that._closing = true;\n                }\n\n                that.element\n                        .kendoStop(true)\n                        .attr(\"aria-hidden\", true);\n                wrap\n                    .css({ overflow: HIDDEN }) // stop callback will remove hidden overflow\n                    .attr(\"aria-hidden\", true);\n                that.element.kendoAnimate(animation);\n\n                if (skipEffects) {\n                    that._animationClose();\n                }\n            }\n        },\n\n        _trigger: function(ev) {\n            return this.trigger(ev, { type: ev });\n        },\n\n        _resize: function(e) {\n            var that = this;\n\n            if (support.resize.indexOf(e.type) !== -1) {\n                clearTimeout(that._resizeTimeout);\n                that._resizeTimeout = setTimeout(function() {\n                    that._position();\n                    that._resizeTimeout = null;\n                }, 50);\n            } else {\n                if (!that._hovered || (that._activated && that.element.find(\".k-list\").length > 0)) {\n                    that.close();\n                }\n            }\n        },\n\n        _toggleResize: function(toggle) {\n            var method = toggle ? \"on\" : \"off\";\n            var eventNames = support.resize;\n\n            if (!(support.mobileOS.ios || support.mobileOS.android || support.browser.safari)) {\n                eventNames += \" \" + SCROLL;\n            }\n\n            if (toggle && !this.scrollableParents) {\n                this.scrollableParents = this._scrollableParents();\n            }\n\n            if (this.scrollableParents && this.scrollableParents.length) {\n                this.scrollableParents[method](SCROLL, this._resizeProxy);\n            }\n\n            WINDOW[method](eventNames, this._resizeProxy);\n        },\n\n        _mousedown: function(e) {\n            var that = this,\n                container = that.element[0],\n                options = that.options,\n                anchor = $(options.anchor)[0],\n                toggleTarget = options.toggleTarget,\n                target = kendo.eventTarget(e),\n                popup = $(target).closest(\".k-popup\"),\n                mobile = popup.parent().parent(\".km-shim\").length;\n\n            popup = popup[0];\n            if (!mobile && popup && popup !== that.element[0]){\n                return;\n            }\n\n            // This MAY result in popup not closing in certain cases.\n            if ($(e.target).closest(\"a\").data(\"rel\") === \"popover\") {\n                return;\n            }\n\n            if (!contains(container, target) && !contains(anchor, target) && !(toggleTarget && contains($(toggleTarget)[0], target))) {\n                that.close();\n            }\n        },\n\n        _fit: function(position, size, viewPortSize) {\n            var output = 0;\n\n            if (position + size > viewPortSize) {\n                output = viewPortSize - (position + size);\n            }\n\n            if (position < 0) {\n                output = -position;\n            }\n\n            return output;\n        },\n\n        _flip: function(offset, size, anchorSize, viewPortSize, origin, position, boxSize) {\n            var output = 0;\n                boxSize = boxSize || size;\n\n            if (position !== origin && position !== CENTER && origin !== CENTER) {\n                if (offset + boxSize > viewPortSize) {\n                    output += -(anchorSize + size);\n                }\n\n                if (offset + output < 0) {\n                    output += anchorSize + size;\n                }\n            }\n            return output;\n        },\n\n        _scrollableParents: function() {\n            return $(this.options.anchor)\n                       .parentsUntil(\"body\")\n                       .filter(function(index, element) {\n                           return kendo.isScrollable(element);\n                       });\n        },\n\n        _position: function(fixed) {\n            var that = this,\n                //element = that.element.css(POSITION, \"\"), /* fixes telerik/kendo-ui-core#790, comes from telerik/kendo#615 */\n                element = that.element,\n                wrapper = that.wrapper,\n                options = that.options,\n                viewport = $(options.viewport),\n                zoomLevel = support.zoomLevel(),\n                isWindow = !!((viewport[0] == window) && window.innerWidth && (zoomLevel <= 1.02)),\n                anchor = $(options.anchor),\n                origins = options.origin.toLowerCase().split(\" \"),\n                positions = options.position.toLowerCase().split(\" \"),\n                collisions = that.collisions,\n                siblingContainer, parents,\n                parentZIndex, zIndex = 10002,\n                idx = 0,\n                docEl = document.documentElement,\n                length, viewportOffset, viewportWidth, viewportHeight;\n\n            if (options.viewport === window) {\n                viewportOffset = {\n                    top: (window.pageYOffset || document.documentElement.scrollTop || 0),\n                    left: (window.pageXOffset || document.documentElement.scrollLeft || 0)\n                };\n            } else {\n                viewportOffset = viewport.offset();\n            }\n\n            if (isWindow) {\n                viewportWidth = window.innerWidth;\n                viewportHeight = window.innerHeight;\n            } else {\n                viewportWidth = viewport.width();\n                viewportHeight = viewport.height();\n            }\n\n            if (isWindow && docEl.scrollHeight - docEl.clientHeight > 0) {\n                 var sign = options.isRtl ? -1 : 1;\n\n                 viewportWidth -= sign * kendo.support.scrollbar();\n            }\n\n            siblingContainer = anchor.parents().filter(wrapper.siblings());\n\n            if (siblingContainer[0]) {\n                parentZIndex = Math.max(Number(siblingContainer.css(\"zIndex\")), 0);\n\n                // set z-index to be more than that of the container/sibling\n                // compensate with more units for window z-stack\n                if (parentZIndex) {\n                    zIndex = parentZIndex + 10;\n                } else {\n                    parents = anchor.parentsUntil(siblingContainer);\n                    for (length = parents.length; idx < length; idx++) {\n                        parentZIndex = Number($(parents[idx]).css(\"zIndex\"));\n                        if (parentZIndex && zIndex < parentZIndex) {\n                            zIndex = parentZIndex + 10;\n                        }\n                    }\n                }\n            }\n\n            wrapper.css(\"zIndex\", zIndex);\n\n            if (fixed && fixed.isFixed) {\n                wrapper.css({ left: fixed.x, top: fixed.y });\n            } else {\n                wrapper.css(that._align(origins, positions));\n            }\n\n            var pos = getOffset(wrapper, POSITION, anchor[0] === wrapper.offsetParent()[0]),\n                offset = getOffset(wrapper),\n                anchorParent = anchor.offsetParent().parent(\".k-animation-container,.k-popup,.k-group\"); // If the parent is positioned, get the current positions\n\n            if (anchorParent.length) {\n                pos = getOffset(wrapper, POSITION, true);\n                offset = getOffset(wrapper);\n            }\n\n            offset.top -= viewportOffset.top;\n            offset.left -= viewportOffset.left;\n\n            if (!that.wrapper.data(LOCATION)) { // Needed to reset the popup location after every closure - fixes the resize bugs.\n                wrapper.data(LOCATION, extend({}, pos));\n            }\n\n            var offsets = extend({}, offset),\n                location = extend({}, pos),\n                adjustSize = options.adjustSize;\n\n            if (collisions[0] === \"fit\") {\n                location.top += that._fit(offsets.top, outerHeight(wrapper) + adjustSize.height, viewportHeight / zoomLevel);\n            }\n\n            if (collisions[1] === \"fit\") {\n                location.left += that._fit(offsets.left, outerWidth(wrapper) + adjustSize.width, viewportWidth / zoomLevel);\n            }\n\n            var flipPos = extend({}, location);\n            var elementHeight = outerHeight(element);\n            var wrapperHeight =  outerHeight(wrapper);\n\n            if (!wrapper.height() && elementHeight) {\n                wrapperHeight = wrapperHeight + elementHeight;\n            }\n\n            if (collisions[0] === \"flip\") {\n                location.top += that._flip(offsets.top, elementHeight, outerHeight(anchor), viewportHeight / zoomLevel, origins[0], positions[0], wrapperHeight);\n            }\n\n            if (collisions[1] === \"flip\") {\n                location.left += that._flip(offsets.left, outerWidth(element), outerWidth(anchor), viewportWidth / zoomLevel, origins[1], positions[1], outerWidth(wrapper));\n            }\n\n            element.css(POSITION, ABSOLUTE);\n            wrapper.css(location);\n\n            return (location.left != flipPos.left || location.top != flipPos.top);\n        },\n\n        _align: function(origin, position) {\n            var that = this,\n                element = that.wrapper,\n                anchor = $(that.options.anchor),\n                verticalOrigin = origin[0],\n                horizontalOrigin = origin[1],\n                verticalPosition = position[0],\n                horizontalPosition = position[1],\n                anchorOffset = getOffset(anchor),\n                appendTo = $(that.options.appendTo),\n                appendToOffset,\n                width = outerWidth(element),\n                height = outerHeight(element) || outerHeight(element.children().first()),\n                anchorWidth = outerWidth(anchor),\n                anchorHeight = outerHeight(anchor),\n                top = that.options.omitOriginOffsets ? 0 : anchorOffset.top,\n                left = that.options.omitOriginOffsets ? 0 : anchorOffset.left,\n                round = Math.round;\n\n            if (appendTo[0] != document.body) {\n                appendToOffset = getOffset(appendTo);\n                top -= appendToOffset.top;\n                left -= appendToOffset.left;\n            }\n\n\n            if (verticalOrigin === BOTTOM) {\n                top += anchorHeight;\n            }\n\n            if (verticalOrigin === CENTER) {\n                top += round(anchorHeight / 2);\n            }\n\n            if (verticalPosition === BOTTOM) {\n                top -= height;\n            }\n\n            if (verticalPosition === CENTER) {\n                top -= round(height / 2);\n            }\n\n            if (horizontalOrigin === RIGHT) {\n                left += anchorWidth;\n            }\n\n            if (horizontalOrigin === CENTER) {\n                left += round(anchorWidth / 2);\n            }\n\n            if (horizontalPosition === RIGHT) {\n                left -= width;\n            }\n\n            if (horizontalPosition === CENTER) {\n                left -= round(width / 2);\n            }\n\n            return {\n                top: top,\n                left: left\n            };\n        }\n    });\n\n    ui.plugin(Popup);\n\n    var stableSort = kendo.support.stableSort;\n    var tabKeyTrapNS = \"kendoTabKeyTrap\";\n    var focusableNodesSelector = \"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]\";\n    var TabKeyTrap = Class.extend({\n        init: function(element) {\n            this.element = $(element);\n            this.element.autoApplyNS(tabKeyTrapNS);\n        },\n\n        trap: function() {\n            this.element.on(\"keydown\", proxy(this._keepInTrap, this));\n        },\n\n        removeTrap: function() {\n            this.element.kendoDestroy(tabKeyTrapNS);\n        },\n\n        destroy: function() {\n            this.element.kendoDestroy(tabKeyTrapNS);\n            this.element = undefined;\n        },\n\n        shouldTrap: function () {\n            return true;\n        },\n\n        _keepInTrap: function(e) {\n            if (e.which !== 9 || !this.shouldTrap() || e.isDefaultPrevented()) {\n                return;\n            }\n\n            var elements = this._focusableElements();\n            var sortedElements = this._sortFocusableElements(elements);\n            var next = this._nextFocusable(e, sortedElements);\n\n            this._focus(next);\n\n            e.preventDefault();\n        },\n        _focusableElements: function(){\n            var elements = this.element.find(focusableNodesSelector).filter(function(i, item){\n                return item.tabIndex >= 0 && $(item).is(':visible') && !$(item).is('[disabled]');\n            });\n\n            if (this.element.is(\"[tabindex]\")) {\n                elements.push(this.element[0]);\n            }\n\n            return elements;\n        },\n        _sortFocusableElements: function(elements){\n            var sortedElements;\n\n            if (stableSort) {\n                sortedElements = elements.sort(function(prev, next) {\n                    return prev.tabIndex - next.tabIndex;\n                });\n            } else {\n                var attrName = \"__k_index\";\n                elements.each(function(i, item){\n                    item.setAttribute(attrName, i);\n                });\n\n                sortedElements = elements.sort(function(prev, next) {\n                    return prev.tabIndex === next.tabIndex ?\n                        parseInt(prev.getAttribute(attrName), 10) - parseInt(next.getAttribute(attrName), 10) :\n                        prev.tabIndex - next.tabIndex;\n                });\n\n                elements.removeAttr(attrName);\n            }\n\n            return sortedElements;\n        },\n        _nextFocusable: function(e, elements){\n            var count = elements.length;\n            var current = elements.index(e.target);\n\n            return elements.get((current + (e.shiftKey ? -1 : 1)) % count);\n        },\n        _focus: function(element){\n            if (element.nodeName == \"IFRAME\") {\n                element.contentWindow.document.body.focus();\n                return;\n            }\n\n            element.focus();\n\n            if (element.nodeName == \"INPUT\" && element.setSelectionRange && this._haveSelectionRange(element)) {\n                element.setSelectionRange(0, element.value.length);\n            }\n        },\n        _haveSelectionRange: function(element){\n            var elementType = element.type.toLowerCase();\n\n            return elementType === \"text\" || elementType === \"search\" ||\n            elementType === \"url\" || elementType === \"tel\" ||\n            elementType === \"password\";\n        }\n    });\n    ui.Popup.TabKeyTrap = TabKeyTrap;\n})(window.kendo.jQuery);\n\n\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.notification',[ \"./kendo.core\", \"./kendo.popup\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"notification\",\n    name: \"Notification\",\n    category: \"web\",\n    description: \"The Notification widget displays user alerts.\",\n    depends: [ \"core\", \"popup\" ],\n    features: [ {\n        id: \"notification-fx\",\n        name: \"Animation\",\n        description: \"Support for animation\",\n        depends: [ \"fx\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        proxy = $.proxy,\n        extend = $.extend,\n        setTimeout = window.setTimeout,\n        CLICK = \"click\",\n        SHOW = \"show\",\n        HIDE = \"hide\",\n        KNOTIFICATION = \"k-notification\",\n        KICLOSE = \".k-notification-wrap .k-i-close\",\n        KHIDING = \"k-hiding\",\n        INFO = \"info\",\n        SUCCESS = \"success\",\n        WARNING = \"warning\",\n        ERROR = \"error\",\n        TOP = \"top\",\n        LEFT = \"left\",\n        BOTTOM = \"bottom\",\n        RIGHT = \"right\",\n        UP = \"up\",\n        NS = \".kendoNotification\",\n        WRAPPER = '<div role=\"alert\" aria-live=\"polite\" class=\"k-widget k-popup k-notification\"></div>',\n        TEMPLATE = '<div class=\"k-notification-wrap\">' +\n                '<span class=\"k-icon k-i-#:typeIcon#\" title=\"#:typeIcon#\"></span>' +\n                '<div class=\"k-notification-content\">#=content#</div>' +\n                '<span aria-hidden=\"true\" class=\"#: closeButton ? \"\" : \"k-hidden\"# k-icon k-i-close\" title=\"Hide\"></span>' +\n            '</div>',\n        SAFE_TEMPLATE = TEMPLATE.replace(\"#=content#\", \"#:content#\");\n\n    var Notification = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n\n            if (!options.appendTo || !$(options.appendTo).is(element)) {\n                that.element.hide();\n            }\n\n            that._compileTemplates(options.templates);\n            that._guid = \"_\" + kendo.guid();\n            that._isRtl = kendo.support.isRtl(element);\n            that._compileStacking(options.stacking, options.position.top, options.position.left);\n\n            kendo.notify(that);\n        },\n\n        events: [\n            SHOW,\n            HIDE\n        ],\n\n        options: {\n            name: \"Notification\",\n            position: {\n                pinned: true,\n                top: null,\n                left: null,\n                bottom: 20,\n                right: 20\n            },\n            stacking: \"default\",\n            hideOnClick: true,\n            button: false,\n            allowHideAfter: 0,\n            autoHideAfter: 5000,\n            appendTo: null,\n            width: null,\n            height: null,\n            templates: [],\n            title: null,\n            animation: {\n                open: {\n                    effects: \"fade:in\",\n                    duration: 300\n                },\n                close: {\n                    effects: \"fade:out\",\n                    duration: 600,\n                    hide: true\n                }\n            }\n        },\n\n        _compileTemplates: function(templates) {\n            var that = this;\n            var kendoTemplate = kendo.template;\n\n            that._compiled = {};\n\n            $.each(templates, function(key, value) {\n                that._compiled[value.type] = kendoTemplate(value.template || $(\"#\" + value.templateId).html());\n            });\n\n            that._defaultCompiled = kendoTemplate(TEMPLATE);\n            that._safeCompiled = kendoTemplate(SAFE_TEMPLATE);\n        },\n\n        _getCompiled: function(type, safe) {\n            var defaultCompiled = safe ? this._safeCompiled : this._defaultCompiled;\n\n            return type ? this._compiled[type] || defaultCompiled : defaultCompiled;\n        },\n\n        _compileStacking: function(stacking, top, left) {\n            var that = this,\n                paddings = { paddingTop: 0, paddingRight: 0, paddingBottom: 0, paddingLeft: 0 },\n                horizontalAlignment = left !== null ? LEFT : RIGHT,\n                origin, position;\n\n            switch (stacking) {\n                case \"down\":\n                    origin = BOTTOM + \" \" + horizontalAlignment;\n                    position = TOP + \" \" + horizontalAlignment;\n                    delete paddings.paddingBottom;\n                break;\n                case RIGHT:\n                    origin = TOP + \" \" + RIGHT;\n                    position = TOP + \" \" + LEFT;\n                    delete paddings.paddingRight;\n                break;\n                case LEFT:\n                    origin = TOP + \" \" + LEFT;\n                    position = TOP + \" \" + RIGHT;\n                    delete paddings.paddingLeft;\n                break;\n                case UP:\n                    origin = TOP + \" \" + horizontalAlignment;\n                    position = BOTTOM + \" \" + horizontalAlignment;\n                    delete paddings.paddingTop;\n                break;\n                default:\n                    if (top !== null) {\n                        origin = BOTTOM + \" \" + horizontalAlignment;\n                        position = TOP + \" \" + horizontalAlignment;\n                        delete paddings.paddingBottom;\n                    } else {\n                        origin = TOP + \" \" + horizontalAlignment;\n                        position = BOTTOM + \" \" + horizontalAlignment;\n                        delete paddings.paddingTop;\n                    }\n                break;\n            }\n\n            that._popupOrigin = origin;\n            that._popupPosition = position;\n            that._popupPaddings = paddings;\n        },\n\n        _attachPopupEvents: function(options, popup) {\n            var that = this,\n                allowHideAfter = options.allowHideAfter,\n                attachDelay = !isNaN(allowHideAfter) && allowHideAfter > 0,\n                closeIcon;\n\n            function attachClick(target) {\n                target.on(CLICK + NS, function () {\n                    that._hidePopup(popup);\n                });\n            }\n\n            if (options.hideOnClick) {\n                popup.bind(\"activate\", function() {\n                    if (attachDelay) {\n                        setTimeout(function(){\n                            attachClick(popup.element);\n                        }, allowHideAfter);\n                    } else {\n                        attachClick(popup.element);\n                    }\n                });\n            } else if (options.button) {\n                closeIcon = popup.element.find(KICLOSE);\n                if (attachDelay) {\n                    setTimeout(function(){\n                        attachClick(closeIcon);\n                    }, allowHideAfter);\n                } else {\n                    attachClick(closeIcon);\n                }\n            }\n        },\n\n        _showPopup: function(wrapper, options) {\n            var that = this,\n                autoHideAfter = options.autoHideAfter,\n                x = options.position.left,\n                y = options.position.top,\n                popup, openPopup;\n\n            openPopup = $(\".\" + that._guid + \":not(.\" + KHIDING + \")\").last();\n\n            popup = new kendo.ui.Popup(wrapper, {\n                anchor: openPopup[0] ? openPopup : document.body,\n                origin: that._popupOrigin,\n                position: that._popupPosition,\n                animation: options.animation,\n                copyAnchorStyles: false,\n                modal: true,\n                collision: \"\",\n                isRtl: that._isRtl,\n                close: function() {\n                    that._triggerHide(this.element);\n                },\n                deactivate: function(e) {\n                    e.sender.element.off(NS);\n                    e.sender.element.find(KICLOSE).off(NS);\n                    e.sender.destroy();\n                }\n            });\n\n            that._attachPopupEvents(options, popup);\n\n            wrapper.removeClass(\"k-group k-reset\");\n\n            if (openPopup[0]) {\n                popup.open();\n            } else {\n                if (x === null) {\n                    x = $(window).width() - wrapper.outerWidth() - options.position.right;\n                }\n\n                if (y === null) {\n                    y = $(window).height() - wrapper.outerHeight() - options.position.bottom;\n                }\n\n                popup.open(x, y);\n            }\n\n            popup.wrapper.addClass(that._guid).css(extend({margin:0,zIndex:10050}, that._popupPaddings));\n\n            if (options.position.pinned) {\n                popup.wrapper.css(\"position\", \"fixed\");\n                if (openPopup[0]) {\n                    that._togglePin(popup.wrapper, true);\n                }\n            } else if (!openPopup[0]) {\n                that._togglePin(popup.wrapper, false);\n            }\n\n            if (autoHideAfter > 0) {\n                setTimeout(function () {\n                    that._hidePopup(popup);\n                }, autoHideAfter);\n            }\n        },\n\n        _hidePopup: function (popup) {\n            popup.wrapper.addClass(KHIDING);\n            popup.close();\n        },\n\n        _togglePin: function(wrapper, pin) {\n            var win = $(window),\n                sign = pin ? -1 : 1;\n\n            wrapper.css({\n                top: parseInt(wrapper.css(TOP), 10) + sign * win.scrollTop(),\n                left: parseInt(wrapper.css(LEFT), 10) + sign * win.scrollLeft()\n            });\n        },\n\n        _attachStaticEvents: function(options, wrapper) {\n            var that = this,\n                allowHideAfter = options.allowHideAfter,\n                attachDelay = !isNaN(allowHideAfter) && allowHideAfter > 0;\n\n            function attachClick(target) {\n                target.on(CLICK + NS, proxy(that._hideStatic, that, wrapper));\n            }\n\n            if (options.hideOnClick) {\n                if (attachDelay) {\n                    setTimeout(function(){\n                        attachClick(wrapper);\n                    }, allowHideAfter);\n                } else {\n                    attachClick(wrapper);\n                }\n            } else if (options.button) {\n                if (attachDelay) {\n                    setTimeout(function(){\n                        attachClick(wrapper.find(KICLOSE));\n                    }, allowHideAfter);\n                } else {\n                    attachClick(wrapper.find(KICLOSE));\n                }\n            }\n        },\n\n        _showStatic: function(wrapper, options) {\n            var that = this,\n                autoHideAfter = options.autoHideAfter,\n                animation = options.animation,\n                insertionMethod = options.stacking == UP || options.stacking == LEFT ? \"prependTo\" : \"appendTo\",\n                initializedNotifications;\n\n            wrapper\n                .removeClass(\"k-popup\")\n                .addClass(that._guid)\n                [insertionMethod](options.appendTo)\n                .hide()\n                .kendoAnimate(animation.open || false);\n\n            initializedNotifications = that.getNotifications();\n            initializedNotifications.each(function(idx, element) {\n                that._attachStaticEvents(options, $(element));\n\n                if (autoHideAfter > 0) {\n                    setTimeout(function(){\n                        that._hideStatic($(element));\n                    }, autoHideAfter);\n                }\n            });\n        },\n\n        _hideStatic: function(wrapper) {\n            wrapper.kendoAnimate(extend(this.options.animation.close || false, { complete: function() {\n                wrapper.off(NS).find(KICLOSE).off(NS);\n                wrapper.remove();\n            }}));\n            this._triggerHide(wrapper);\n        },\n\n        _triggerHide: function(element) {\n            this.trigger(HIDE, { element: element });\n            this.angular(\"cleanup\", function(){\n                return { elements: element };\n            });\n        },\n\n        show: function(content, type, safe) {\n            var that = this,\n                options = that.options,\n                wrapper = $(WRAPPER),\n                contentId = kendo.guid(),\n                args, defaultArgs;\n\n            if (!type) {\n                type = INFO;\n            }\n\n            wrapper.attr(\"aria-label\", type);\n\n            if (content !== null && content !== undefined && content !== \"\") {\n\n                if (kendo.isFunction(content)) {\n                    content = content();\n                }\n\n                defaultArgs = {typeIcon: type, content: \"\", closeButton: options.button};\n\n                if ($.isPlainObject(content)) {\n                    args = extend(defaultArgs, content);\n                } else {\n                    args = extend(defaultArgs, {content: content});\n                }\n\n                wrapper\n                    .addClass(KNOTIFICATION + \"-\" + type)\n                    .toggleClass(KNOTIFICATION + \"-button\", options.button)\n                    .toggleClass(KNOTIFICATION + \"-closable\", options.button)\n                    .attr({\n                        \"data-role\": \"alert\",\n                        title: options.title\n                    })\n                    .css({width: options.width, height: options.height})\n                    .append(that._getCompiled(type, safe)(args));\n\n                wrapper.find(\".k-notification-content\").attr(\"id\", contentId);\n                wrapper.attr(\"aria-describedby\", contentId);\n\n                that.angular(\"compile\", function(){\n                    return {\n                        elements: wrapper,\n                        data: [{ dataItem: args }]\n                    };\n                });\n\n                if ($(options.appendTo)[0]) {\n                    that._showStatic(wrapper, options);\n                } else {\n                    that._showPopup(wrapper, options);\n                }\n\n                that.trigger(SHOW, {element: wrapper});\n            }\n\n            return that;\n        },\n\n        showText: function(content, type) {\n            this.show(content, type, true);\n        },\n\n        info: function(content) {\n            return this.show(content, INFO);\n        },\n\n        success: function(content) {\n            return this.show(content, SUCCESS);\n        },\n\n        warning: function(content) {\n            return this.show(content, WARNING);\n        },\n\n        error: function(content) {\n            return this.show(content, ERROR);\n        },\n\n        hide: function() {\n            var that = this,\n                openedNotifications = that.getNotifications();\n\n            if (that.options.appendTo) {\n                openedNotifications.each(function(idx, element){\n                    that._hideStatic($(element));\n                });\n            } else {\n                openedNotifications.each(function(idx, element){\n                    var popup = $(element).data(\"kendoPopup\");\n                    if (popup) {\n                        that._hidePopup(popup);\n                    }\n                });\n            }\n\n            return that;\n        },\n\n        getNotifications: function() {\n            var that = this,\n                guidElements = $(\".\" + that._guid + \":not(.\" + KHIDING + \")\");\n\n            if (that.options.appendTo) {\n                return guidElements;\n            } else {\n                return guidElements.children(\".\" + KNOTIFICATION);\n            }\n        },\n\n        setOptions: function(newOptions) {\n            var that = this,\n                options;\n\n            Widget.fn.setOptions.call(that, newOptions);\n\n            options = that.options;\n\n            if (newOptions.templates !== undefined) {\n                that._compileTemplates(options.templates);\n            }\n\n            if (newOptions.stacking !== undefined || newOptions.position !== undefined) {\n                that._compileStacking(options.stacking, options.position.top, options.position.left);\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.getNotifications().off(NS).find(KICLOSE).off(NS);\n        }\n    });\n\n    kendo.ui.plugin(Notification);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.tooltip',[ \"./kendo.core\", \"./kendo.popup\", \"./kendo.fx\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"tooltip\",\n    name: \"Tooltip\",\n    category: \"web\",\n    description: \"The Tooltip widget displays a popup hint for a given html element.\",\n    depends: [ \"core\", \"popup\" ],\n    features: [ {\n        id: \"tooltip-fx\",\n        name: \"Animation\",\n        description: \"Support for animation\",\n        depends: [ \"fx\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        Popup = kendo.ui.Popup,\n        isFunction = kendo.isFunction,\n        isPlainObject = $.isPlainObject,\n        extend = $.extend,\n        proxy = $.proxy,\n        DOCUMENT = $(document),\n        isLocalUrl = kendo.isLocalUrl,\n        ARIAIDSUFFIX = \"_tb_active\",\n        DESCRIBEDBY = \"aria-describedby\",\n        SHOW = \"show\",\n        HIDE = \"hide\",\n        ERROR = \"error\",\n        CONTENTLOAD = \"contentLoad\",\n        REQUESTSTART = \"requestStart\",\n        KCONTENTFRAME = \"k-content-frame\",\n        TEMPLATE = '<div role=\"tooltip\" class=\"k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#\">' +\n            '<div class=\"k-tooltip-content\"></div>' +\n            '#if (!autoHide) {# <div class=\"k-tooltip-button\"><a href=\"\\\\#\" class=\"k-icon k-i-close\" title=\"Close\"></a></div> #}#' +\n            '#if (callout){ #<div class=\"k-callout k-callout-#=dir#\"></div>#}#' +\n        '</div>',\n        IFRAMETEMPLATE = kendo.template(\n            \"<iframe frameborder='0' class='\" + KCONTENTFRAME + \"' src='#= content.url #'>\" +\n                \"This page requires frames in order to show content\" +\n            \"</iframe>\"\n        ),\n        NS = \".kendoTooltip\",\n        POSITIONS = {\n            bottom: {\n                origin: \"bottom center\",\n                position: \"top center\"\n            },\n            top: {\n                origin: \"top center\",\n                position: \"bottom center\"\n            },\n            left: {\n                origin: \"center left\",\n                position: \"center right\",\n                collision: \"fit flip\"\n            },\n            right: {\n                origin: \"center right\",\n                position: \"center left\",\n                collision: \"fit flip\"\n            },\n            center: {\n                position: \"center center\",\n                origin: \"center center\"\n            }\n        },\n        REVERSE = {\n            \"top\": \"bottom\",\n            \"bottom\": \"top\",\n            \"left\": \"right\",\n            \"right\": \"left\",\n            \"center\": \"center\"\n        },\n        DIRCLASSES = {\n            bottom: \"n\",\n            top: \"s\",\n            left: \"e\",\n            right: \"w\",\n            center: \"n\"\n        },\n        DIMENSIONS = {\n            \"horizontal\": { offset: \"top\", size: \"outerHeight\" },\n            \"vertical\": { offset: \"left\", size: \"outerWidth\" }\n        },\n        DEFAULTCONTENT = function(e) {\n            return e.target.data(kendo.ns + \"title\");\n        };\n\n    function restoreTitle(element) {\n        while(element.length) {\n            if (restoreTitleAttributeForElement(element)) {\n                break;\n            }\n            element = element.parent();\n        }\n    }\n\n    function restoreTitleAttributeForElement(element) {\n        var title = element.data(kendo.ns + \"title\");\n        if (title) {\n            element.attr(\"title\", title);\n            element.removeData(kendo.ns + \"title\");\n            return true;\n        }\n    }\n\n    function saveTitleAttributeForElement(element) {\n        var title = element.attr(\"title\");\n        if (title) {\n            element.data(kendo.ns + \"title\", title);\n            element.attr(\"title\", \"\");\n            return true;\n        }\n    }\n\n    function saveTitleAttributes(element) {\n        while(element.length && !element.is(\"body\")) {\n            if (saveTitleAttributeForElement(element)) {\n                break;\n            }\n            element = element.parent();\n        }\n    }\n\n    var TooltipBase = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                axis;\n\n            Widget.fn.init.call(that, element, options);\n\n            axis = that.options.position.match(/left|right/) ? \"horizontal\" : \"vertical\";\n\n            that.dimensions = DIMENSIONS[axis];\n\n            if (kendo.support.touch && this._isShownOnMouseEnter()) {\n                that.element.on(kendo.support.mousedown + NS, that.options.filter, proxy(that._showOn, that));\n            }\n\n            that.element.on(that.options.showOn + NS, that.options.filter, proxy(that._showOn, that));\n        },\n\n        options: {\n            name: \"TooltipBase\",\n            filter: \"\",\n            offset: 0,\n            showAfter: 100,\n            hideAfter: 100,\n            callout: true,\n            position: \"bottom\",\n            showOn: \"mouseenter\",\n            animation: {\n                open: {\n                    effects: \"fade:in\",\n                    duration: 0\n                },\n                close: {\n                    duration: 40,\n                    hide: true\n                }\n            }\n        },\n\n        destroy: function() {\n            var popup = this.popup;\n\n            if (popup) {\n                popup.element.off(NS);\n                popup.destroy();\n            }\n\n            clearTimeout(this.timeout);\n\n            Widget.fn.destroy.call(this);\n        },\n\n        hide: function() {\n            if (this.popup) {\n                this.popup.close();\n            }\n        },\n\n        show: function(target) {\n            target = target || this.element;\n\n            this._saveTitle(target);\n            this._show(target);\n        },\n\n        target: function() {\n            if (this.popup) {\n                return this.popup.options.anchor;\n            }\n            return null;\n        },\n\n        _showOn: function(e) {\n            var that = this;\n\n            var currentTarget = $(e.currentTarget);\n            if (that._isShownOnClick() && !that._isShownOnMouseEnter()) {\n                that._show(currentTarget);\n            } else if (that._isShownOnFocus()) {\n                that._saveTitle(currentTarget);\n                that._show(currentTarget);\n            } else {\n                clearTimeout(that.timeout);\n\n                that.timeout = setTimeout(function() {\n                    that._show(currentTarget);\n                }, that.options.showAfter);\n            }\n        },\n\n        _isShownOnFocus: function(){\n            return this.options.showOn && this.options.showOn.match(/focus/);\n        },\n\n        _isShownOnMouseEnter: function(){\n            return this.options.showOn && this.options.showOn.match(/mouseenter/);\n        },\n\n        _isShownOnClick: function(){\n            return this.options.showOn && this.options.showOn.match(/click/);\n        },\n\n        _positionCallout: function() {\n            var that = this,\n                position = that.options.position,\n                dimensions = that.dimensions,\n                offset = dimensions.offset,\n                popup = that.popup,\n                anchor = popup.options.anchor,\n                anchorOffset = $(anchor).offset(),\n                elementOffset = $(popup.element).offset(),\n                cssClass = DIRCLASSES[popup.flipped ? REVERSE[position] : position],\n                offsetAmount = anchorOffset[offset] - elementOffset[offset] + ($(anchor)[dimensions.size]() / 2);\n\n            that._offset(position, that.options.offset);\n\n            that.arrow\n               .removeClass(\"k-callout-n k-callout-s k-callout-w k-callout-e\")\n               .addClass(\"k-callout-\" + cssClass)\n               .css(offset, offsetAmount);\n        },\n\n        _offset: function(position, offsetAmount, arrowWidth) {\n            var that = this,\n                isTopLeft = position == \"top\" || position == \"left\",\n                isFlipped = that.popup.flipped,\n                direction = (isTopLeft && isFlipped) || (!isTopLeft && !isFlipped) ? 1 : -1,\n                marginRule = isTopLeft ? \"margin-\" + position : \"margin-\" + REVERSE[position],\n                offset = ((arrowWidth || kendo._outerWidth(that.arrow)) / 2) + offsetAmount;\n\n            that.popup.wrapper.css(marginRule, offset * direction + \"px\");\n        },\n\n        _addDescribedBy: function () {\n            var that = this,\n                anchor = that.popup.options.anchor,\n                ariaId = anchor[0].id || that.element[0].id || kendo.guid(),\n                describedBy = [];\n\n            if(anchor.attr(DESCRIBEDBY)) {\n                describedBy.push(anchor.attr(DESCRIBEDBY));\n            }\n\n            if (ariaId) {\n                describedBy.push(ariaId + ARIAIDSUFFIX);\n                anchor.attr(DESCRIBEDBY, describedBy.join(\" \"));\n                that.popup.element.attr(\"id\", ariaId + ARIAIDSUFFIX);\n            }\n\n        },\n\n        _removeDescribedBy: function(target) {\n            var tooltipId = this.popup.element.attr(\"id\"),\n                currentDescribedBy = target.attr(DESCRIBEDBY),\n                arrayAttr, finalArray, finalDescribedbyAttr;\n\n            if(!currentDescribedBy) {\n                return;\n            }\n\n            arrayAttr = currentDescribedBy.split(\" \");\n\n            if(arrayAttr && arrayAttr.length > 0) {\n                finalArray = arrayAttr.filter(function (val) {\n                    return val !== tooltipId;\n                });\n            }\n\n            if(finalArray && finalArray.length > 0) {\n                finalDescribedbyAttr = finalArray.join(\" \");\n                target.attr(DESCRIBEDBY, finalDescribedbyAttr);\n            } else {\n                target.removeAttr(DESCRIBEDBY);\n            }\n        },\n\n        _openPopup: function() {\n            if (!this.popup) {\n                return;\n            }\n\n            this.popup._hovered = true;\n            this.popup.open();\n        }\n    });\n    kendo.ui.plugin(TooltipBase);\n\n    var Tooltip = TooltipBase.extend({\n        init: function(element, options) {\n            var that = this,\n                axis;\n\n            TooltipBase.fn.init.call(that, element, options);\n\n            axis = that.options.position.match(/left|right/) ? \"horizontal\" : \"vertical\";\n\n            that.dimensions = DIMENSIONS[axis];\n\n            that._documentKeyDownHandler = proxy(that._documentKeyDown, that);\n\n            if (this._isShownOnMouseEnter() || this._isShownOnClick()) {\n                that.element.on(\"mouseenter\" + NS, that.options.filter, proxy(that._mouseenter, that));\n            }\n\n            if (this.options.autoHide && this._isShownOnMouseEnter()) {\n                that.element.on(\"mouseleave\" + NS, that.options.filter, proxy(that._mouseleave, that));\n            }\n\n            if (this.options.autoHide && this._isShownOnFocus()) {\n                that.element.on(\"blur\" + NS, that.options.filter, proxy(that._blur, that));\n            }\n\n            if (kendo.support.touch) {\n                that.element.on(kendo.support.mousedown + NS, that.options.filter, proxy(that._mouseenter, that));\n            }\n        },\n\n        options: {\n            name: \"Tooltip\",\n            filter: \"\",\n            content: DEFAULTCONTENT,\n            showAfter: 100,\n            callout: true,\n            offset: 0,\n            position: \"bottom\",\n            showOn: \"mouseenter\",\n            autoHide: true,\n            width: null,\n            height: null,\n            animation: {\n                open: {\n                    effects: \"fade:in\",\n                    duration: 0\n                },\n                close: {\n                    duration: 40,\n                    hide: true\n                }\n            }\n        },\n\n        events: [ SHOW, HIDE, CONTENTLOAD, ERROR, REQUESTSTART ],\n\n        _mouseenter: function(e) {\n            saveTitleAttributes($(e.currentTarget));\n        },\n\n        _saveTitle:function (target) {\n            saveTitleAttributes(target);\n        },\n\n        _appendContent: function(target) {\n            var that = this,\n                contentOptions = that.options.content,\n                element = that.content,\n                showIframe = that.options.iframe,\n                iframe;\n\n            if (isPlainObject(contentOptions) && contentOptions.url) {\n                if (!(\"iframe\" in that.options)) {\n                    showIframe = !isLocalUrl(contentOptions.url);\n                }\n\n                that.trigger(REQUESTSTART, { options: contentOptions, target: target });\n\n                if (!showIframe) {\n                    element.empty();\n                    kendo.ui.progress(element, true);\n\n                    // perform AJAX request\n                    that._ajaxRequest(contentOptions);\n                } else {\n                    element.hide();\n\n                    iframe = element.find(\".\" + KCONTENTFRAME)[0];\n\n                    if (iframe) {\n                        // refresh existing iframe\n                        iframe.src = contentOptions.url || iframe.src;\n                    } else {\n                        element.html(IFRAMETEMPLATE({ content: contentOptions }));\n                    }\n\n                    element.find(\".\" + KCONTENTFRAME)\n                        .off(\"load\" + NS)\n                        .on(\"load\" + NS, function(){\n                            that.trigger(CONTENTLOAD);\n                            element.show();\n                        });\n                }\n            } else if (contentOptions && isFunction(contentOptions)) {\n                contentOptions = contentOptions({ sender: this, target: target });\n                element.html(contentOptions || \"\");\n            } else {\n                element.html(contentOptions);\n            }\n\n            that.angular(\"compile\", function(){\n                return { elements: element };\n            });\n        },\n\n        _ajaxRequest: function(options) {\n            var that = this;\n\n            that.contentLoading = true;\n\n            jQuery.ajax(extend({\n                type: \"GET\",\n                dataType: \"html\",\n                cache: false,\n                error: function (xhr, status) {\n                    kendo.ui.progress(that.content, false);\n\n                    that.trigger(ERROR, { status: status, xhr: xhr });\n                },\n                success: proxy(function (data) {\n                    kendo.ui.progress(that.content, false);\n\n                    that.content.html(data);\n\n                    that.contentLoading = false;\n\n                    that.trigger(CONTENTLOAD);\n\n                    that._openPopup();\n                }, that)\n            }, options));\n        },\n\n        _documentKeyDown: function(e) {\n            if (e.keyCode === kendo.keys.ESC) {\n                this.hide();\n            }\n        },\n\n        refresh: function() {\n            var that = this,\n                popup = that.popup;\n\n            if (popup && popup.options.anchor) {\n                that._appendContent(popup.options.anchor);\n            }\n        },\n\n        _show: function(target) {\n            var that = this,\n                current = that.target();\n\n            if (!that.popup) {\n                that._initPopup();\n            }\n\n            if (current && current[0] != target[0]) {\n                that.popup.close();\n                that.popup.element.kendoStop(true, true);// animation can be too long to hide the element before it is shown again\n            }\n\n            if (!current || current[0] != target[0]) {\n                that._appendContent(target);\n                that.popup.options.anchor = target;\n            }\n\n            that.popup.one(\"deactivate\", function() {\n                restoreTitle(target);\n\n                that._removeDescribedBy(target);\n\n                this.element\n                    .removeAttr(\"id\")\n                    .attr(\"aria-hidden\", true);\n\n                DOCUMENT.off(\"keydown\" + NS, that._documentKeyDownHandler);\n            });\n\n            if (!that.contentLoading) {\n                that._openPopup();\n            }\n        },\n\n        _initPopup: function() {\n            var that = this,\n                options = that.options,\n                wrapper = $(kendo.template(TEMPLATE)({\n                    callout: options.callout && options.position !== \"center\",\n                    dir: DIRCLASSES[options.position],\n                    autoHide: options.autoHide\n                }));\n\n            that.popup = new Popup(wrapper, extend({\n                autosize:true,\n                activate: function() {\n                    that._addDescribedBy();\n\n                    if (options.callout) {\n                        that._positionCallout();\n                    } else {\n                        that._offset(that.options.position, that.options.offset);\n                    }\n\n                    this.element.removeAttr(\"aria-hidden\");\n\n                    DOCUMENT.on(\"keydown\" + NS, that._documentKeyDownHandler);\n\n                    that.trigger(SHOW);\n                    that.popup._hovered = undefined;\n                },\n                close: function() {\n                    that.trigger(HIDE);\n                },\n                copyAnchorStyles: false,\n                animation: options.animation\n            }, POSITIONS[options.position]));\n\n            wrapper.css({\n                width: options.width,\n                height: options.height\n            });\n\n            that.content = wrapper.find(\".k-tooltip-content\");\n            that.arrow = wrapper.find(\".k-callout\");\n\n            if (options.autoHide && this._isShownOnMouseEnter()) {\n                wrapper.on(\"mouseleave\" + NS, proxy(that._mouseleave, that));\n            } else {\n                wrapper.on(\"click\" + NS, \".k-tooltip-button\", proxy(that._closeButtonClick, that));\n            }\n        },\n\n        _closeButtonClick: function(e) {\n            e.preventDefault();\n            this.hide();\n        },\n\n        _mouseleave: function(e) {\n            var that = this;\n\n            clearTimeout(that.timeout);\n\n            that.timeout = setTimeout(function() {\n                that._closePopup(e.currentTarget);\n            }, that.options.hideAfter);\n        },\n\n        _blur: function(e){\n            this._closePopup(e.currentTarget);\n        },\n\n        _closePopup: function(target){\n            if (this.popup && !this.popup._hovered) {\n                this.popup.close();\n            } else {\n                restoreTitle($(target));\n            }\n        },\n\n        destroy: function() {\n            this.element.off(NS);\n\n            DOCUMENT.off(\"keydown\" + NS, this._documentKeyDownHandler);\n\n            TooltipBase.fn.destroy.call(this);\n        }\n    });\n\n    kendo.ui.plugin(Tooltip);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.toolbar',[ \"./kendo.core\", \"./kendo.userevents\", \"./kendo.popup\", \"./kendo.html.button\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"toolbar\",\n    name: \"ToolBar\",\n    category: \"web\",\n    description: \"The ToolBar widget displays one or more command buttons divided into groups.\",\n    depends: [ \"core\", \"html.button\"  ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Class = kendo.Class,\n        Widget = kendo.ui.Widget,\n        proxy = $.proxy,\n        isFunction = kendo.isFunction,\n        keys = kendo.keys,\n        outerWidth = kendo._outerWidth,\n        ns = \".kendoToolBar\",\n\n        TOOLBAR = \"k-toolbar\",\n        KBUTTON = \"k-button\",\n        BUTTON_DEFAULTS = \"k-button-md k-rounded-md k-button-solid k-button-solid-base\",\n        OVERFLOW_BUTTON = \"k-overflow-button\",\n        TOGGLE_BUTTON = \"k-toggle-button\",\n        BUTTON_GROUP = \"k-button-group\",\n        SPLIT_BUTTON = \"k-split-button\",\n        SPLIT_BUTTON_ARROW = \"k-split-button-arrow\",\n        LIST_CONTAINER = \"k-list-container k-split-container\",\n        ICON_BUTTON = \"k-icon-button\",\n        KSEPARATOR = \"k-separator\",\n        SPACER_CLASS = \"k-spacer\",\n        POPUP = \"k-popup\",\n        RESIZABLE_TOOLBAR = \"k-toolbar-resizable\",\n        STATE_ACTIVE = \"k-active\",\n        STATE_DISABLED = \"k-disabled\",\n        STATE_HIDDEN = \"k-state-hidden\",\n        HIDDEN = \"k-hidden\",\n        GROUP_START = \"k-group-start\",\n        GROUP_END = \"k-group-end\",\n        MENU_LINK = \"k-menu-link\",\n        OVERFLOW_GROUP = \"k-overflow-group\",\n        OVERFLOW_HIDDEN = \"k-overflow-hidden\",\n        OVERFLOW_ANCHOR = \"k-overflow-anchor\",\n        OVERFLOW_CONTAINER = \"k-overflow-container\",\n        OVERFLOW_WRAPPER = \"k-overflow-wrapper\",\n        FIRST_TOOLBAR_VISIBLE = \"k-toolbar-first-visible\",\n        LAST_TOOLBAR_VISIBLE = \"k-toolbar-last-visible\",\n        BUTTON_ROUNDED_MD = \"k-rounded-md\",\n\n        MENU_GROUP = \"k-group k-menu-group k-reset k-menu-group-md\",\n\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_PRESSED = \"aria-pressed\",\n\n        CLICK = \"click\",\n        TOGGLE = \"toggle\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        FOCUS = \"focus\",\n        FOCUSIN = \"focusin\",\n        KEYDOWN = \"keydown\",\n        TAP = \"tap\",\n\n        SPACER = \"spacer\",\n        BOTH = \"both\",\n        PRIMARY = \"primary\",\n        HREF = \"href\",\n        ROLE = \"role\",\n        BUTTON = \"button\",\n        SEPARATOR = \"separator\",\n        OVERFLOW = \"overflow\",\n        NEXT = \"next\",\n        PREV = \"prev\",\n        TABINDEX = \"tabindex\",\n        TEMPLATE = \"template\",\n\n        OVERFLOW_OPEN = \"overflowOpen\",\n        OVERFLOW_CLOSE = \"overflowClose\",\n        OVERFLOW_NEVER = \"never\",\n        OVERFLOW_AUTO = \"auto\",\n        OVERFLOW_ALWAYS = \"always\",\n\n        OPTION_LIST_SUFFIX = \"_optionlist\",\n\n        KENDO_UID_ATTR = kendo.attr(\"uid\"),\n\n        POPUP_ITEM_TEMPLATE = '<li class=\"k-menu-item k-item\">',\n\n        MENU_LINK_SPAN = '<span tabindex=\"0\" class=\"k-link k-menu-link\">' +\n                '<span class=\"k-menu-link-text\">#:text#</span>' +\n            '</span>',\n\n        MENU_LINK_A = '<a href=\"#:href#\" class=\"k-link k-menu-link\">' +\n                '<span class=\"k-menu-link-text\">#:text#</span>' +\n            '</a>',\n\n        EMPTY = \" \",\n        NOTHING = \"\",\n        DOT = \".\",\n        COMMA = \",\",\n        ID = \"id\";\n\n        kendo.toolbar = {};\n\n        var components = {\n            overflowAnchor: '<div tabindex=\"0\" class=\"k-overflow-anchor k-button k-button-md k-rounded-md k-button-flat k-button-flat-base\" title=\"More tools\" role=\"button\"></div>',\n            overflowContainer: '<ul class=\"k-overflow-container k-list-container\"></ul>'\n        };\n\n        kendo.toolbar.registerComponent = function(name, toolbar, overflow) {\n            components[name] = {\n                toolbar: toolbar,\n                overflow: overflow\n            };\n        };\n\n        var Item = kendo.Class.extend({\n            addOverflowAttr: function() {\n                this.element.attr(kendo.attr(OVERFLOW), this.options.overflow || OVERFLOW_AUTO);\n            },\n\n            addUidAttr: function() {\n                this.element.attr(KENDO_UID_ATTR, this.options.uid);\n            },\n\n            addIdAttr: function() {\n                if (this.options.id) {\n                    this.element.attr(ID, this.options.id);\n                }\n            },\n\n            addOverflowIdAttr: function() {\n                if (this.options.id) {\n                    this.element.attr(ID, this.options.id + \"_overflow\");\n                }\n            },\n\n            attributes: function() {\n                var attributes = this.options.attributes,\n                    classes;\n\n                if (attributes) {\n                    if (attributes.class) {\n                        classes = attributes.class;\n\n                        this.element.addClass(classes);\n\n                        delete attributes.class;\n                    }\n\n                    this.element.attr(attributes);\n\n                    attributes.class = classes;\n                }\n            },\n\n            show: function() {\n                this.element.removeClass(STATE_HIDDEN);\n                this.element.removeClass(HIDDEN);\n                this.options.hidden = false;\n            },\n\n            hide: function() {\n                this.element.addClass(STATE_HIDDEN);\n                this.element.addClass(HIDDEN);\n\n                if (this.overflow && this.overflowHidden){\n                    this.overflowHidden();\n                }\n                this.options.hidden = true;\n            },\n\n            remove: function() {\n                this.element.remove();\n            },\n\n            enable: function(isEnabled) {\n                if (isEnabled === undefined) {\n                    isEnabled = true;\n                }\n                this.element.toggleClass(STATE_DISABLED, !isEnabled);\n                this.element.attr(ARIA_DISABLED, !isEnabled);\n\n                this.options.enable = isEnabled;\n            },\n\n            twin: function() {\n                var uid = this.element.attr(KENDO_UID_ATTR);\n                if (this.overflow && this.options.splitContainerId) {\n                    return $(\"#\" + this.options.splitContainerId)\n                            .find(\"[\" + KENDO_UID_ATTR + \"='\" + uid + \"']\")\n                            .data(this.options.type);\n                } else if (this.overflow) {\n                    return this.toolbar\n                            .element\n                            .find(\"[\" + KENDO_UID_ATTR + \"='\" + uid + \"']\")\n                            .data(this.options.type);\n                } else if (this.toolbar.options.resizable) {\n                    return this.toolbar\n                            .popup.element\n                            .find(\"[\" + KENDO_UID_ATTR + \"='\" + uid + \"']\")\n                            .data(this.options.type);\n                }\n            }\n        });\n\n        kendo.toolbar.Item = Item;\n\n        var Button = Item.extend({\n            init: function(options, toolbar) {\n                var element = options.useButtonTag ? $('<button></button>') : $('<a role=\"button\" href></a>');\n\n                this.element = element;\n                this.options = $.extend({}, this.options, options);\n                this.toolbar = toolbar;\n\n                this.attributes();\n\n                if (options.primary) {\n                    this.options.themeColor = PRIMARY;\n                }\n\n                if (options.togglable) {\n                    element.addClass(TOGGLE_BUTTON);\n                    this.toggle(options.selected);\n                }\n\n                if (options.url !== undefined && !options.useButtonTag) {\n                    element.attr(HREF, options.url);\n                    if (options.mobile) {\n                        element.attr(kendo.attr(ROLE), BUTTON);\n                    }\n                }\n\n                if (options.group) {\n                    element.attr(kendo.attr(\"group\"), options.group);\n                    this.group = this.toolbar.addToGroup(this, options.group);\n                }\n\n                if (!options.togglable && options.click && isFunction(options.click)) {\n                    this.clickHandler = options.click;\n                }\n\n                if (options.togglable && options.toggle && isFunction(options.toggle)) {\n                    this.toggleHandler = options.toggle;\n                }\n            },\n\n            options: {\n                showIcon: BOTH,\n                showText: BOTH\n            },\n\n            toggle: function(state, propagate) {\n                state = !!state;\n\n                if (this.group && state) {\n                    this.group.select(this);\n                } else if (!this.group) {\n                    this.select(state);\n                }\n\n                if (propagate && this.twin()) {\n                    this.twin().toggle(state);\n                }\n            },\n\n            getParentGroup: function() {\n                if (this.options.isChild) {\n                    return this.element.closest(DOT + BUTTON_GROUP).data(\"buttonGroup\");\n                }\n            }\n        });\n\n        kendo.toolbar.Button = Button;\n\n        var ToolBarButton = Button.extend({\n            init: function(options, toolbar) {\n                Button.fn.init.call(this, options, toolbar);\n\n                var element = this.element;\n                options = this.options;\n\n                element.addClass(KBUTTON);\n\n                this.addIdAttr();\n\n                if (options.align) {\n                    element.addClass(\"k-align-\" + options.align);\n                }\n\n                if (!!options.text && (options.showText == \"toolbar\" ||  options.showText == BOTH)) {\n                    if (options.mobile) {\n                        element.html('<span class=\"km-text\">' + options.text + \"</span>\");\n                    } else {\n                        element.html(options.text);\n                    }\n                } else if (!!options.text) {\n                    element.attr(\"aria-label\", options.text);\n                }\n\n                if(options.icon || options.spriteCssClass || options.imageUrl) {\n                    if(options.showIcon !== \"toolbar\" && options.showIcon !== BOTH) {\n                        options.icon  = null;\n                        options.spriteCssClass = null;\n                        options.imageUrl = null;\n                    }\n                }\n\n                kendo.html.renderButton(element, options);\n\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.enable(options.enable);\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                this.element.data({\n                    type: BUTTON,\n                    button: this\n                });\n            },\n\n            select: function(selected) {\n                if (selected === undefined) {\n                    selected = false;\n                }\n\n                if (this.options.togglable) {\n                    this.element.attr(ARIA_PRESSED, selected);\n                }\n\n                this.element.toggleClass(STATE_ACTIVE, selected);\n                this.options.selected = selected;\n            }\n        });\n\n        kendo.toolbar.ToolBarButton = ToolBarButton;\n\n        var OverflowButton = Button.extend({\n            init: function(options, toolbar) {\n                this.overflow = true;\n\n                Button.fn.init.call(this, $.extend({}, options), toolbar);\n\n                var element = this.element;\n                options = this.options;\n\n                if (!!options.text && (options.showText == OVERFLOW ||  options.showText == BOTH)) {\n                    if (options.mobile) {\n                        element.html('<span class=\"km-text\">' + options.text + \"</span>\");\n                    } else {\n                        element.html(options.text);\n                    }\n                } else if (!!options.text) {\n                    element.attr(\"aria-label\", options.text);\n                }\n\n                if(options.icon || options.spriteCssClass || options.imageUrl) {\n                    if(options.showIcon !== OVERFLOW && options.showIcon !== BOTH) {\n                        options.icon  = null;\n                        options.spriteCssClass = null;\n                        options.imageUrl = null;\n                    }\n                }\n\n                kendo.html.renderButton(element, options);\n\n                if (!options.isChild) {\n                    this._wrap();\n                }\n\n                this.addOverflowIdAttr();\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.enable(options.enable);\n\n                element.addClass(OVERFLOW_BUTTON + EMPTY + KBUTTON);\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                if (options.togglable){\n                    this.toggle(options.selected);\n                }\n\n                this.element.data({\n                    type: BUTTON,\n                    button: this\n                });\n            },\n\n            _wrap: function() {\n                this.element = this.element.wrap(POPUP_ITEM_TEMPLATE).parent();\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            },\n\n            select: function(selected) {\n                if (selected === undefined) {\n                    selected = false;\n                }\n\n                if (this.options.isChild) {\n                    this.element.toggleClass(STATE_ACTIVE, selected);\n                } else {\n                    this.element.find(DOT + KBUTTON).toggleClass(STATE_ACTIVE, selected);\n                }\n                this.options.selected = selected;\n            }\n        });\n\n        kendo.toolbar.OverflowButton = OverflowButton;\n        kendo.toolbar.registerComponent(BUTTON, ToolBarButton, OverflowButton);\n\n        var ButtonGroup = Item.extend({\n            createButtons: function(buttonConstructor) {\n                var options = this.options;\n                var items = options.buttons || [];\n                var item;\n\n                for (var i = 0; i < items.length; i++) {\n                    if (!items[i].uid) {\n                        items[i].uid = kendo.guid();\n                    }\n                    item = new buttonConstructor($.extend({ mobile: options.mobile, isChild: true, type: BUTTON }, items[i]), this.toolbar);\n                    item.element.appendTo(this.element);\n                }\n            },\n\n            refresh: function() {\n                this.element.children().filter(\":not('.\" + STATE_HIDDEN + \"')\").first().addClass(GROUP_START);\n                this.element.children().filter(\":not('.\" + STATE_HIDDEN + \"')\").last().addClass(GROUP_END);\n            }\n        });\n\n        kendo.toolbar.ButtonGroup = ButtonGroup;\n\n        var ToolBarButtonGroup = ButtonGroup.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<div></div>');\n                this.options = options;\n                this.toolbar = toolbar;\n\n                this.addIdAttr();\n\n                if (options.align) {\n                    element.addClass(\"k-align-\" + options.align);\n                }\n\n                this.createButtons(ToolBarButton);\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.refresh();\n\n                element.addClass(BUTTON_GROUP);\n\n                this.element.data({\n                    type: \"buttonGroup\",\n                    buttonGroup: this\n                });\n            }\n        });\n\n        kendo.toolbar.ToolBarButtonGroup = ToolBarButtonGroup;\n\n        var OverflowButtonGroup = ButtonGroup.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<li></li>');\n                this.options = options;\n                this.toolbar = toolbar;\n                this.overflow = true;\n\n                this.addOverflowIdAttr();\n\n                this.createButtons(OverflowButton);\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.refresh();\n\n                element.addClass((options.mobile ? NOTHING : BUTTON_GROUP) + EMPTY + OVERFLOW_GROUP);\n\n                this.element.data({\n                    type: \"buttonGroup\",\n                    buttonGroup: this\n                });\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        kendo.toolbar.OverflowButtonGroup = OverflowButtonGroup;\n        kendo.toolbar.registerComponent(\"buttonGroup\", ToolBarButtonGroup, OverflowButtonGroup);\n\n        var ToolBarMenuButton = ToolBarButton.extend({\n            init: function(options, toolbar) {\n                var element, img, span;\n\n                options = this.options = $.extend({}, this.options, options);\n\n                if (options.url !== undefined) {\n                    element = $(kendo.template(MENU_LINK_A)({\n                        href: options.url,\n                        text: options.text\n                    }));\n                } else {\n                    element = $(kendo.template(MENU_LINK_SPAN)({\n                        text: options.text\n                    }));\n                }\n\n                this.element = element;\n                this.toolbar = toolbar;\n\n                if (options.click && isFunction(options.click)) {\n                    this.clickHandler = options.click;\n                }\n\n                if (options.imageUrl) {\n                    img = $('<img alt=\"icon\" class=\"k-image\" />').prependTo(element);\n                    img.attr(\"src\", options.imageUrl);\n                } else if (options.icon) {\n                    span = $('<span></span>').prependTo(element);\n                    span.attr(\"class\", \"k-icon k-i-\" + options.icon);\n                } else if (options.spriteCssClass) {\n                    span = $('<span class=\"k-sprite\"></span>').prependTo(element);\n                    span.addClass(options.spriteCssClass);\n                }\n\n                this.addIdAttr();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.attributes();\n                this.enable(options.enable);\n\n                if (options.group) {\n                    element.attr(kendo.attr(\"group\"), options.group);\n                    this.group = this.toolbar.addToGroup(this, options.group);\n                }\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                this.element.data({\n                    type: BUTTON,\n                    button: this\n                });\n            }\n        });\n\n        kendo.toolbar.ToolBarMenuButton = ToolBarMenuButton;\n\n        var ToolBarSplitButton = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<div class=\"' + SPLIT_BUTTON + EMPTY + BUTTON_GROUP + EMPTY + BUTTON_ROUNDED_MD + '\" tabindex=\"0\"></div>');\n\n                this.options = options;\n                this.toolbar = toolbar;\n\n                this.mainButton = new ToolBarButton($.extend({}, options, { hidden: false }), toolbar);\n                this.arrowButton = $('<a class=\"' + KBUTTON + EMPTY + BUTTON_DEFAULTS + EMPTY + ICON_BUTTON + EMPTY + SPLIT_BUTTON_ARROW + '\"><span class=\"' + (options.mobile ? \"km-icon km-arrowdown\" : \"k-icon k-i-arrow-s\") + '\"></span></a>');\n                this.popupElement = $('<ul class=\"' + LIST_CONTAINER + EMPTY + MENU_GROUP + '\"></ul>');\n\n                this.mainButton.element\n                    .removeAttr(\"href tabindex\")\n                    .appendTo(element);\n\n                this.arrowButton.appendTo(element);\n                this.popupElement.appendTo(element);\n\n                if (options.align) {\n                    element.addClass(\"k-align-\" + options.align);\n                }\n\n                if (!options.id) {\n                    options.id = options.uid;\n                }\n\n                element.attr(ID, options.id + \"_wrapper\");\n\n                this.addOverflowAttr();\n                this.addUidAttr();\n\n                this.createMenuButtons();\n                this.createPopup();\n                this._navigatable();\n\n                this.mainButton.main = true;\n\n                this.enable(options.enable);\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                element.data({\n                    type: \"splitButton\",\n                    splitButton: this,\n                    kendoPopup: this.popup\n                });\n            },\n\n            _navigatable: function() {\n                var that = this;\n\n                that.popupElement.on(KEYDOWN + ns, DOT + MENU_LINK, function(e) {\n                    var li = $(e.target).parent();\n\n                    e.preventDefault();\n\n                    if (e.keyCode === keys.ESC || e.keyCode === keys.TAB || (e.altKey && e.keyCode === keys.UP)) {\n                        that.toggle();\n                        that.focus();\n                    } else if (e.keyCode === keys.DOWN) {\n                        findFocusableSibling(li, NEXT).trigger(FOCUS);\n                    } else if (e.keyCode === keys.UP) {\n                        findFocusableSibling(li, PREV).trigger(FOCUS);\n                    } else if (e.keyCode === keys.SPACEBAR || e.keyCode === keys.ENTER) {\n                        that.toolbar.userEvents.trigger(TAP, { target: $(e.target) });\n                    } else if (e.keyCode === keys.HOME) {\n                        li.parent().find(\":kendoFocusable\").first().trigger(FOCUS);\n                    } else if (e.keyCode === keys.END) {\n                        li.parent().find(\":kendoFocusable\").last().trigger(FOCUS);\n                    }\n                });\n            },\n\n            createMenuButtons: function() {\n                var options = this.options;\n                var items = options.menuButtons;\n                var item;\n\n                for (var i = 0; i < items.length; i++) {\n                    item = new ToolBarMenuButton($.extend({ mobile: options.mobile, type: BUTTON, click: options.click }, items[i]), this.toolbar);\n                    item.element.wrap(POPUP_ITEM_TEMPLATE).parent().appendTo(this.popupElement);\n                }\n            },\n\n            createPopup: function() {\n                var that = this;\n                var options = this.options;\n                var element = this.element;\n\n                this.popupElement\n                        .attr(ID, options.id + OPTION_LIST_SUFFIX)\n                        .attr(KENDO_UID_ATTR, options.rootUid);\n\n                if (options.mobile) {\n                    this.popupElement = actionSheetWrap(this.popupElement);\n                }\n\n                this.popup = this.popupElement.kendoPopup({\n                    appendTo: options.mobile ? $(options.mobile).children(\".km-pane\") : null,\n                    anchor: element,\n                    isRtl: this.toolbar._isRtl,\n                    copyAnchorStyles: false,\n                    animation: options.animation,\n                    open: function(e){\n                        var isDefaultPrevented = that.toolbar.trigger(OPEN, { target: element });\n\n                        if(isDefaultPrevented){\n                            e.preventDefault();\n                            return;\n                        }\n\n                        that.adjustPopupWidth(e.sender);\n                    },\n                    activate: function() {\n                        this.element.find(\":kendoFocusable\").first().trigger(FOCUS);\n                    },\n                    close: function(e) {\n                        var isDefaultPrevented = that.toolbar.trigger(CLOSE, { target: element });\n                        if(isDefaultPrevented){\n                            e.preventDefault();\n                        }\n                        element.trigger(FOCUS);\n                    }\n                }).data(\"kendoPopup\");\n\n                this.popup.element.on(CLICK + ns, \"a.k-button\", preventClick);\n            },\n\n            adjustPopupWidth: function (popup) {\n                var anchor = popup.options.anchor,\n                    computedWidth = outerWidth(anchor),\n                    width;\n\n                kendo.wrap(popup.element).addClass(\"k-split-wrapper\");\n\n                if (popup.element.css(\"box-sizing\") !== \"border-box\") {\n                    width = computedWidth - (outerWidth(popup.element) - popup.element.width());\n                } else {\n                    width = computedWidth;\n                }\n\n                popup.element.css({\n                    fontFamily: anchor.css(\"font-family\"),\n                    \"min-width\": width\n                });\n            },\n\n            remove: function() {\n                this.popup.element.off(CLICK + ns, \"a.k-button\");\n                this.popup.destroy();\n                this.element.remove();\n            },\n\n            toggle: function() {\n                if(this.options.enable || this.popup.visible()){\n                    this.popup.toggle();\n                }\n            },\n\n            enable: function(isEnabled) {\n                if (isEnabled === undefined) {\n                    isEnabled = true;\n                }\n\n                this.mainButton.enable(isEnabled);\n                this.element.toggleClass(STATE_DISABLED, !isEnabled);\n                this.element.attr(ARIA_DISABLED, !isEnabled);\n                this.options.enable = isEnabled;\n            },\n\n            focus: function() {\n                this.element.trigger(FOCUS);\n            },\n\n            hide: function() {\n                if (this.popup) {\n                    this.popup.close();\n                }\n\n                this.element.addClass(STATE_HIDDEN);\n                this.element.addClass(HIDDEN);\n                this.options.hidden = true;\n            },\n\n            show: function() {\n                this.element.removeClass(STATE_HIDDEN);\n                this.element.removeClass(HIDDEN);\n                this.options.hidden = false;\n            }\n        });\n\n        kendo.toolbar.ToolBarSplitButton = ToolBarSplitButton;\n\n        var OverflowSplitButton = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<li class=\"' + SPLIT_BUTTON + '\"></li>'),\n                    items = options.menuButtons,\n                    item, splitContainerId;\n\n                this.options = options;\n                this.toolbar = toolbar;\n                this.overflow = true;\n                splitContainerId = (options.id || options.uid) + OPTION_LIST_SUFFIX;\n\n                this.mainButton = new OverflowButton($.extend({ isChild: true }, options));\n                this.mainButton.element.appendTo(element);\n\n                for (var i = 0; i < items.length; i++) {\n                    item = new OverflowButton($.extend({ mobile: options.mobile, type: BUTTON, splitContainerId: splitContainerId, isChild: true }, items[i], { click: options.click }), this.toolbar);\n                    item.element.appendTo(element);\n                }\n\n                this.addUidAttr();\n                this.addOverflowAttr();\n\n                this.mainButton.main = true;\n\n                element.data({\n                    type: \"splitButton\",\n                    splitButton: this\n                });\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        kendo.toolbar.OverflowSplitButton = OverflowSplitButton;\n        kendo.toolbar.registerComponent(\"splitButton\", ToolBarSplitButton, OverflowSplitButton);\n\n        var ToolBarSeparator = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<div>&nbsp;</div>');\n\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n\n                this.attributes();\n                this.addIdAttr();\n                this.addUidAttr();\n                this.addOverflowAttr();\n\n                element.addClass(KSEPARATOR);\n                element.attr(ROLE, SEPARATOR);\n\n                element.data({\n                    type: SEPARATOR,\n                    separator: this\n                });\n            }\n        });\n\n        var OverflowSeparator = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<li>&nbsp;</li>');\n\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n                this.overflow = true;\n\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowIdAttr();\n\n                element.addClass(KSEPARATOR);\n                element.attr(ROLE, SEPARATOR);\n\n                element.data({\n                    type: SEPARATOR,\n                    separator: this\n                });\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        kendo.toolbar.registerComponent(\"separator\", ToolBarSeparator, OverflowSeparator);\n\n        var ToolBarSpacer = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<div>&nbsp;</div>');\n\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n\n                element.addClass(SPACER_CLASS);\n\n                element.data({\n                    type: SPACER\n                });\n            }\n        });\n\n        kendo.toolbar.registerComponent(SPACER, ToolBarSpacer);\n\n        var TemplateItem = Item.extend({\n            init: function(template, options, toolbar) {\n                var element = isFunction(template) ? template(options) : template;\n\n                if (!(element instanceof jQuery)) {\n                    element = $(\"<div></div>\").html(element);\n                } else {\n                    element = element.wrap(\"<div></div>\").parent();\n                }\n\n                this.element = element;\n                this.options = options;\n                this.options.type = TEMPLATE;\n                this.toolbar = toolbar;\n\n                this.attributes();\n                this.addUidAttr();\n                this.addIdAttr();\n                this.addOverflowAttr();\n\n                element.data({\n                    type: TEMPLATE,\n                    template: this\n                });\n            }\n        });\n\n        kendo.toolbar.TemplateItem = TemplateItem;\n\n        var OverflowTemplateItem = Item.extend({\n            init: function(template, options, toolbar) {\n                var element = isFunction(template) ? $(template(options)) : $(template);\n\n                if (!(element instanceof jQuery)) {\n                    element = $(\"<li></li>\").html(element);\n                } else {\n                    element = element.wrap(\"<li></li>\").parent();\n                }\n\n                this.element = element;\n                this.options = options;\n                this.options.type = TEMPLATE;\n                this.toolbar = toolbar;\n                this.overflow = true;\n\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowIdAttr();\n                this.addOverflowAttr();\n\n                element.data({\n                    type: TEMPLATE,\n                    template: this\n                });\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        kendo.toolbar.OverflowTemplateItem = OverflowTemplateItem;\n\n        function toggleActive(e) {\n            if (!e.target.is(\".k-toggle-button\")) {\n                e.target.toggleClass(STATE_ACTIVE, e.type == \"press\");\n            }\n        }\n\n        function actionSheetWrap(element) {\n            element = $(element);\n\n            return element.hasClass(\"km-actionsheet\") ? element.closest(\".km-popup-wrapper\") : element.addClass(\"km-widget km-actionsheet\")\n                             .wrap('<div class=\"km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup\"></div>').parent()\n                             .wrap('<div class=\"km-popup-wrapper k-popup\"></div>').parent();\n        }\n\n        function preventClick(e) {\n            if ($(e.target).closest(\"a.k-button\").length) {\n                e.preventDefault();\n            }\n        }\n\n        function findFocusableSibling (element, dir) {\n            var getSibling = dir === NEXT ? $.fn.next : $.fn.prev;\n            var getter = dir === NEXT ? $.fn.first : $.fn.last;\n            var candidate = getSibling.call(element);\n\n            if(!candidate.length && element.is(DOT + OVERFLOW_ANCHOR)){\n                return element;\n            }\n\n            if (candidate.is(\":kendoFocusable\") || !candidate.length) {\n                return candidate;\n            }\n\n            if (candidate.find(\":kendoFocusable\").length) {\n                return getter.call(candidate.find(\":kendoFocusable\"));\n            }\n\n            return findFocusableSibling(candidate, dir);\n        }\n\n        var Group = Class.extend({\n            init: function(name) {\n                this.name = name;\n                this.buttons = [];\n            },\n\n            add: function(button) {\n                this.buttons[this.buttons.length] = button;\n            },\n\n            remove: function(button) {\n                var index = $.inArray(button, this.buttons);\n                this.buttons.splice(index, 1);\n            },\n\n            select: function(button) {\n                var tmp;\n                for (var i = 0; i < this.buttons.length; i ++) {\n                    tmp = this.buttons[i];\n\n                    tmp.select(false);\n                }\n\n                button.select(true);\n                if (button.twin()) {\n                    button.twin().select(true);\n                }\n            }\n        });\n\n        var ToolBar = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n\n                options = that.options;\n                element = that.wrapper = that.element;\n\n                element.addClass(TOOLBAR + \" k-widget\");\n                element.attr(ROLE, \"toolbar\");\n\n                this.uid = kendo.guid();\n                this._isRtl = kendo.support.isRtl(element);\n                this._groups = {};\n                element.attr(KENDO_UID_ATTR, this.uid);\n\n                that.isMobile = (typeof options.mobile === \"boolean\") ? options.mobile : that.element.closest(\".km-root\")[0];\n                that.animation = that.isMobile ? { open: { effects: \"fade\" } } : {};\n\n                if (that.isMobile) {\n                    element.addClass(\"km-widget\");\n                    KBUTTON = \"km-button\";\n                    BUTTON_GROUP = \"km-buttongroup\";\n                    STATE_ACTIVE = \"km-state-active\";\n                    STATE_DISABLED = \"km-state-disabled\";\n                }\n\n                if(options.resizable) {\n                    that._renderOverflow();\n                    element.addClass(RESIZABLE_TOOLBAR);\n\n                    that.overflowUserEvents = new kendo.UserEvents(that.element, {\n                        threshold: 5,\n                        allowSelection: true,\n                        filter: DOT + OVERFLOW_ANCHOR,\n                        tap: proxy(that._toggleOverflow, that)\n                    });\n\n                    that._resizeHandler = kendo.onResize(function() {\n                        that.resize();\n                    });\n                } else {\n                    that.popup = { element: $([]) };\n                }\n\n                if(options.items && options.items.length) {\n                    for (var i = 0; i < options.items.length; i++) {\n                        that.add(options.items[i]);\n                    }\n\n                    if(options.resizable) {\n                        that._shrink(that.element.innerWidth());\n                    }\n                }\n\n                that.userEvents = new kendo.UserEvents(document.documentElement, {\n                    threshold: 5,\n                    allowSelection: true,\n                    filter:\n                        \"[\" + KENDO_UID_ATTR + \"=\" + this.uid + \"] a.\" + KBUTTON + COMMA + EMPTY +\n                        \"[\" + KENDO_UID_ATTR + \"=\" + this.uid + \"] .\" + MENU_LINK + COMMA + EMPTY +\n                        \"[\" + KENDO_UID_ATTR + \"=\" + this.uid + \"] .\" + OVERFLOW_BUTTON,\n                    tap: proxy(that._buttonClick, that),\n                    press: toggleActive,\n                    release: toggleActive\n                });\n\n                that.element.on(CLICK + ns, \"a.k-button\", preventClick);\n                that._navigatable();\n\n                if (options.resizable) {\n                    that.popup.element.on(CLICK + ns, + \"a.k-button\", preventClick);\n                }\n\n                if (options.resizable) {\n                    this._toggleOverflowAnchor();\n                }\n\n                kendo.notify(that);\n            },\n\n            events: [\n                CLICK,\n                TOGGLE,\n                OPEN,\n                CLOSE,\n                OVERFLOW_OPEN,\n                OVERFLOW_CLOSE\n            ],\n\n            options: {\n                name: \"ToolBar\",\n                items: [],\n                resizable: true,\n                mobile: null\n            },\n\n            addToGroup: function(button, groupName) {\n                var group;\n\n                if (!this._groups[groupName]) {\n                    group = this._groups[groupName] = new Group();\n                } else {\n                    group = this._groups[groupName];\n                }\n\n                group.add(button);\n                return group;\n            },\n\n            destroy: function() {\n                var that = this;\n\n                that.element.find(DOT + SPLIT_BUTTON).each(function(idx, element) {\n                    $(element).data(\"kendoPopup\").destroy();\n                });\n\n                that.element.off(ns, \"a.k-button\");\n\n                that.userEvents.destroy();\n\n                if (that.options.resizable) {\n                    kendo.unbindResize(that._resizeHandler);\n                    that.overflowUserEvents.destroy();\n                    that.popup.element.off(ns, \"a.k-button\");\n                    that.popup.destroy();\n                }\n\n                Widget.fn.destroy.call(that);\n            },\n\n            add: function(options) {\n                var component = components[options.type],\n                    template = options.template,\n                    tool, that = this,\n                    itemClasses = that.isMobile ? NOTHING : \"k-item\",\n                    overflowTemplate = options.overflowTemplate,\n                    overflowTool;\n\n                $.extend(options, {\n                    uid: kendo.guid(),\n                    animation: that.animation,\n                    mobile: that.isMobile,\n                    rootUid: that.uid\n                });\n\n                if (options.menuButtons) {\n                    for (var i = 0; i < options.menuButtons.length; i++) {\n                        $.extend(options.menuButtons[i], {\n                            uid: kendo.guid()\n                        });\n                    }\n                }\n\n                if ((template && !overflowTemplate) || options.type === SPACER) {\n                    options.overflow = OVERFLOW_NEVER;\n                } else if (!options.overflow) {\n                    options.overflow = OVERFLOW_AUTO;\n                }\n\n                //add the command in the overflow popup\n                if (options.overflow !== OVERFLOW_NEVER && that.options.resizable) {\n                    if (overflowTemplate) { //template command\n                         overflowTool = new OverflowTemplateItem(overflowTemplate, options, that);\n                    } else if (component) { //build-in command\n                        overflowTool = new component.overflow(options, that);\n                        overflowTool.element.addClass(itemClasses);\n                    }\n\n                    if (overflowTool) {\n                        if (options.overflow === OVERFLOW_AUTO) {\n                            overflowTool.overflowHidden();\n                        }\n\n                        overflowTool.element.appendTo(that.popup.container);\n                        that.angular(\"compile\", function(){\n                            return { elements: overflowTool.element.get() };\n                        });\n                    }\n                }\n\n                //add the command in the toolbar container\n                if (options.overflow !== OVERFLOW_ALWAYS) {\n                    if (template) { //template command\n                        tool = new TemplateItem(template, options, that);\n                    } else if (component) { //build-in command\n                        tool = new component.toolbar(options, that);\n                    }\n\n                    if (tool) {\n                        tool.element.appendTo(that.element);\n\n                        that.angular(\"compile\", function(){\n                            return { elements: tool.element.get() };\n                        });\n                    }\n                }\n            },\n\n            _getItem: function(candidate) {\n                var element,\n                    toolbarItem,\n                    overflowItem,\n                    isResizable = this.options.resizable,\n                    type;\n\n                //find toolbar item\n\n                element = this.element.find(candidate);\n                if (!element.length) {\n                    element = $(\".k-split-container[data-uid=\" + this.uid + \"]\").find(candidate);\n                }\n\n                type = element.length ? element.data(\"type\") : NOTHING;\n                toolbarItem = element.data(type);\n\n                if (toolbarItem) {\n                    if (toolbarItem.main) {\n                        element = element.parent(DOT + SPLIT_BUTTON);\n                        type = \"splitButton\";\n                        toolbarItem = element.data(type);\n                    }\n\n                    if (isResizable) {\n                        overflowItem = toolbarItem.twin();\n                    }\n                } else if (isResizable) { //find overflow item\n                    element = this.popup.element.find(candidate);\n                    type = element.length ? element.data(\"type\") : NOTHING;\n                    overflowItem = element.data(type);\n\n                    if (overflowItem && overflowItem.main) {\n                        element = element.parent(DOT + SPLIT_BUTTON);\n                        type = \"splitButton\";\n                        overflowItem = element.data(type);\n                    }\n                }\n\n                return {\n                    type: type,\n                    toolbar: toolbarItem,\n                    overflow: overflowItem\n                };\n            },\n\n            remove: function(candidate) {\n                var item = this._getItem(candidate);\n\n                if (item.toolbar) { item.toolbar.remove(); }\n                if (item.overflow) { item.overflow.remove(); }\n\n                this.resize(true);\n            },\n\n            hide: function(candidate) {\n                var item = this._getItem(candidate);\n                var buttonGroupInstance;\n\n                if (item.toolbar) {\n                    if (item.toolbar.options.type === BUTTON && item.toolbar.options.isChild) {\n                        buttonGroupInstance = item.toolbar.getParentGroup();\n\n                        item.toolbar.hide();\n\n                        if (buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if (!item.toolbar.options.hidden) {\n                        item.toolbar.hide();\n                    }\n                }\n\n                if (item.overflow) {\n                    if (item.overflow.options.type === BUTTON && item.overflow.options.isChild) {\n                        buttonGroupInstance = item.overflow.getParentGroup();\n\n                        item.overflow.hide();\n\n                        if(buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if(!item.overflow.options.hidden) {\n                        item.overflow.hide();\n                    }\n                }\n\n                this.resize(true);\n            },\n\n            show: function(candidate) {\n                var item = this._getItem(candidate);\n                var buttonGroupInstance;\n\n                if (item.toolbar) {\n                    if (item.toolbar.options.type === BUTTON && item.toolbar.options.isChild) {\n                        buttonGroupInstance = item.toolbar.getParentGroup();\n                        item.toolbar.show();\n\n                        if (buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if(item.toolbar.options.hidden) {\n                        item.toolbar.show();\n                    }\n                }\n\n                if (item.overflow) {\n                    if (item.overflow.options.type === BUTTON && item.overflow.options.isChild) {\n                        buttonGroupInstance = item.overflow.getParentGroup();\n\n                        item.toolbar.show();\n\n                        if (buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if(item.overflow.options.hidden) {\n                        item.overflow.show();\n                    }\n                }\n\n                this.resize(true);\n            },\n\n            enable: function(element, enable) {\n                var item = this._getItem(element);\n\n                if (typeof enable == \"undefined\") {\n                    enable = true;\n                }\n\n                if (item.toolbar) { item.toolbar.enable(enable); }\n                if (item.overflow) { item.overflow.enable(enable); }\n            },\n\n            getSelectedFromGroup: function(groupName) {\n                return this.element.find(DOT + TOGGLE_BUTTON + \"[data-group='\" + groupName + \"']\").filter(DOT + STATE_ACTIVE);\n            },\n\n            toggle: function(button, checked) {\n                var element = $(button),\n                    item = element.data(BUTTON);\n\n                if (item.options.togglable) {\n                    if (checked === undefined) {\n                        checked = true;\n                    }\n                    item.toggle(checked, true);\n                }\n            },\n\n            _renderOverflow: function() {\n                var that = this,\n                    overflowContainer = components.overflowContainer,\n                    isRtl = that._isRtl,\n                    horizontalDirection = isRtl ? \"left\" : \"right\";\n\n                that.overflowAnchor = $(components.overflowAnchor).addClass(KBUTTON);\n\n                that.element.append(that.overflowAnchor);\n\n                if (that.isMobile) {\n                    that.overflowAnchor.append('<span class=\"km-icon km-more\"></span>');\n                    overflowContainer = actionSheetWrap(overflowContainer);\n                } else {\n                    that.overflowAnchor.append('<span class=\"k-icon k-i-more-vertical\"></span>');\n                }\n\n                that.popup = new kendo.ui.Popup(overflowContainer, {\n                    origin: \"bottom \" + horizontalDirection,\n                    position: \"top \" + horizontalDirection,\n                    anchor: that.overflowAnchor,\n                    isRtl: isRtl,\n                    animation: that.animation,\n                    appendTo: that.isMobile ? $(that.isMobile).children(\".km-pane\") : null,\n                    copyAnchorStyles: false,\n                    open: function (e) {\n                        var wrapper = kendo.wrap(that.popup.element)\n                            .addClass(OVERFLOW_WRAPPER);\n\n                        if (!that.isMobile) {\n                            wrapper.css(\"margin-left\", (isRtl ? -1 : 1) * ((outerWidth(wrapper) - wrapper.width()) / 2 + 1));\n                        } else {\n                            that.popup.container.css(\"max-height\", (parseFloat($(\".km-content:visible\").innerHeight()) - 15) + \"px\");\n                        }\n\n                        if (that.trigger(OVERFLOW_OPEN)) {\n                            e.preventDefault();\n                        }\n                    },\n                    activate: function() {\n                        this.element.find(\":kendoFocusable\").first().trigger(FOCUS);\n                    },\n                    close: function (e) {\n                        if (that.trigger(OVERFLOW_CLOSE)) {\n                            e.preventDefault();\n                        }\n\n                        this.element.trigger(FOCUS);\n                    }\n                });\n\n                that.popup.element.on(KEYDOWN + ns, DOT + KBUTTON, function(e) {\n                    var target = $(e.target),\n                        li = target.parent(),\n                        isComplexTool = li.is(DOT + BUTTON_GROUP) || li.is(DOT + SPLIT_BUTTON),\n                        element;\n\n                    e.preventDefault();\n\n                    if (e.keyCode === keys.ESC || e.keyCode === keys.TAB || (e.altKey && e.keyCode === keys.UP)) {\n\n                        that._toggleOverflow();\n                        that.overflowAnchor.trigger(FOCUS);\n                    } else if (e.keyCode === keys.DOWN) {\n                        element = !isComplexTool || (isComplexTool && target.is(\":last-child\")) ? li : target;\n                        findFocusableSibling(element, NEXT).trigger(FOCUS);\n                    } else if (e.keyCode === keys.UP) {\n                        element = !isComplexTool || (isComplexTool && target.is(\":first-child\")) ? li : target;\n                        findFocusableSibling(element, PREV).trigger(FOCUS);\n                    } else if (e.keyCode === keys.SPACEBAR || e.keyCode === keys.ENTER) {\n                        that.userEvents.trigger(TAP, { target: $(e.target) });\n                        that.overflowAnchor.trigger(FOCUS);\n                    } else if (e.keyCode === keys.HOME) {\n                        li.parent().find(\":kendoFocusable\").first().trigger(FOCUS);\n                    } else if (e.keyCode === keys.END) {\n                        li.parent().find(\":kendoFocusable\").last().trigger(FOCUS);\n                    }\n                });\n\n                if (that.isMobile) {\n                    that.popup.container = that.popup.element.find(DOT + OVERFLOW_CONTAINER);\n                } else {\n                    that.popup.container = that.popup.element;\n                }\n\n                that.popup.container.attr(KENDO_UID_ATTR, this.uid);\n            },\n\n            _toggleOverflowAnchor: function() {\n                var hasVisibleChildren = false;\n                var paddingEnd = this._isRtl ? \"padding-left\" : \"padding-right\";\n\n                if (this.options.mobile) {\n                    hasVisibleChildren = this.popup.element.find(DOT + OVERFLOW_CONTAINER).children(\":not(.\" + OVERFLOW_HIDDEN + \", .\" + POPUP + \")\").length > 0;\n                } else {\n                    hasVisibleChildren = this.popup.element.children(\":not(.\" + OVERFLOW_HIDDEN + \", .\" + POPUP + \")\").length > 0;\n                }\n\n                if (hasVisibleChildren) {\n                    this.overflowAnchor.css({\n                        visibility: \"visible\",\n                        width: NOTHING\n                    });\n                    this.wrapper.css(paddingEnd, this.overflowAnchor.outerWidth(true));\n                } else {\n                    this.overflowAnchor.css({\n                        visibility: \"hidden\",\n                        width: \"1px\"\n                    });\n                    this.wrapper.css(paddingEnd, NOTHING);\n                }\n            },\n\n            _buttonClick: function(e) {\n                var that = this, popup,\n                    target, item, splitContainer,\n                    isSplitButtonArrow = e.target.closest(DOT + SPLIT_BUTTON_ARROW).length,\n                    handler, eventData, urlTarget;\n\n                e.preventDefault();\n\n                if (isSplitButtonArrow) {\n                    that._toggle(e);\n                    return;\n                }\n\n                target = $(e.target).closest(DOT + KBUTTON + COMMA + EMPTY + DOT + MENU_LINK, that.element);\n\n                if (target.hasClass(OVERFLOW_ANCHOR)) {\n                    return;\n                }\n\n                item = target.data(BUTTON);\n\n                if (!item && that.popup) {\n                    target = $(e.target).closest(DOT + OVERFLOW_BUTTON, that.popup.container);\n                    item = target.parent(\"li\").data(BUTTON);\n                }\n\n                if (!item || !item.options.enable) {\n                    return;\n                }\n\n                if (item.options.togglable) {\n                    handler = isFunction(item.toggleHandler) ? item.toggleHandler : null;\n\n                    item.toggle(!item.options.selected, true);\n                    eventData = { target: target, group: item.options.group, checked: item.options.selected, id: item.options.id, item: item };\n\n                    if (handler) { handler.call(that, eventData); }\n                    that.trigger(TOGGLE, eventData);\n                } else {\n                    handler = isFunction(item.clickHandler) ? item.clickHandler : null;\n                    eventData = { sender: that, target: target, id: item.options.id, item: item };\n\n                    if (handler) { handler.call(that, eventData); }\n                    that.trigger(CLICK, eventData);\n                }\n\n                if (item.options.url) {\n                    if (item.options.attributes && item.options.attributes.target) {\n                        urlTarget = item.options.attributes.target;\n                    }\n                    window.open(item.options.url, urlTarget || \"_self\");\n                }\n\n                if (target.hasClass(OVERFLOW_BUTTON)) {\n                    that.popup.close();\n                }\n\n                splitContainer = target.closest(\".k-split-container\");\n                if (splitContainer[0]) {\n                    popup = splitContainer.data(\"kendoPopup\");\n                    (popup ? popup : splitContainer.parents(\".km-popup-wrapper\").data(\"kendoPopup\")).close();\n                }\n            },\n\n            _navigatable: function() {\n                var that = this;\n\n                that.element\n                    .attr(TABINDEX, 0)\n                    .on(FOCUSIN + ns, function(ev) {\n                        var target = $(ev.target);\n                        var element = $(this).find(\":kendoFocusable\").first();\n\n                        if (!target.is(DOT + TOOLBAR) || element.length === 0) {\n                            return;\n                        }\n\n                        if (element.is(DOT + OVERFLOW_ANCHOR)) {\n                            element = findFocusableSibling(element, NEXT);\n                        }\n\n                        if(element.length) {\n                            element[0].focus();\n                        }\n                    })\n                    .on(KEYDOWN + ns, proxy(that._keydown, that));\n            },\n\n            _keydown: function(e) {\n                var target = $(e.target),\n                    keyCode = e.keyCode,\n                    items = this.element.children(\":not(.k-separator):visible\"),\n                    direction = this._isRtl ? -1 : 1;\n\n                if (keyCode === keys.TAB) {\n                    var element = target.parentsUntil(this.element).last(),\n                        lastHasFocus = false,\n                        firstHasFocus = false,\n                        isOnlyOverflowAnchor = false;\n\n                    if(!items.not(DOT + OVERFLOW_ANCHOR).length){\n                        isOnlyOverflowAnchor = true;\n                    }\n\n                    if (!element.length) {\n                        element = target;\n                    }\n\n                    if (element.is(DOT + OVERFLOW_ANCHOR) && !isOnlyOverflowAnchor) {\n                        var lastItemNotOverflowAnchor = items.last();\n\n                        if (e.shiftKey) {\n                            e.preventDefault();\n                        }\n\n                        if (lastItemNotOverflowAnchor.is(\":kendoFocusable\")) {\n                            items.last().trigger(FOCUS);\n                        } else {\n                            items.last().find(\":kendoFocusable\").last().trigger(FOCUS);\n                        }\n                    }\n\n                    if (!e.shiftKey && items.index(element) === items.length - 1) {\n                        if (element.is(DOT + BUTTON_GROUP)) {\n                            lastHasFocus = target.is(\":last-child\");\n                        } else {\n                            lastHasFocus = true;\n                        }\n                    }\n\n                    var isFirstTool = items.index(element) === items.not(\".k-overflow-anchor\").first().index();\n                    if (e.shiftKey && isFirstTool) {\n                        if (element.is(DOT + BUTTON_GROUP)) {\n                            firstHasFocus = target.is(\":first-child\");\n                        } else {\n                            firstHasFocus = true;\n                        }\n                    }\n\n                    if (lastHasFocus && this.overflowAnchor && this.overflowAnchor.css(\"visibility\") !== \"hidden\" && !isOnlyOverflowAnchor) {\n                        e.preventDefault();\n                        this.overflowAnchor.trigger(FOCUS);\n                    }\n\n                    if (firstHasFocus || (isOnlyOverflowAnchor && e.shiftKey)) {\n                        e.preventDefault();\n                        var prevFocusable = this._getPrevFocusable(this.wrapper);\n                        if (prevFocusable) {\n                            prevFocusable.trigger(FOCUS);\n                        }\n                    }\n                    this._preventNextFocus = false;\n                }\n\n                if (e.altKey && keyCode === keys.DOWN) {\n                    var splitButton = $(document.activeElement).data(\"splitButton\");\n                    var isOverflowAnchor = $(document.activeElement).is(DOT + OVERFLOW_ANCHOR);\n\n                    if (splitButton) {\n                        splitButton.toggle();\n                    } else if (isOverflowAnchor) {\n                        this._toggleOverflow();\n                    }\n\n                    return;\n                }\n\n                if ((keyCode === keys.SPACEBAR || keyCode === keys.ENTER) && !target.is(\"input, checkbox\")) {\n\n                    if(keyCode === keys.SPACEBAR){\n                        e.preventDefault(); //prevent spacebar to scroll the page down\n                    }\n\n                    if (target.is(DOT + SPLIT_BUTTON)) {\n                        target = target.children().first();\n                        this.userEvents.trigger(TAP, { target: target });\n                    } else if (keyCode === keys.SPACEBAR) {\n                        this.userEvents.trigger(TAP, { target: target });\n                    }\n\n                    return;\n                }\n\n                if (keyCode === keys.HOME) {\n                    if (target.is(\".k-dropdown\") || target.is(\"input\")) {\n                        return;\n                    }\n\n                    if (this.overflowAnchor) {\n                        items.eq(1).trigger(FOCUS);\n                    } else {\n                        items.first().trigger(FOCUS);\n                    }\n                    e.preventDefault();\n                } else if (keyCode === keys.END) {\n                    if (target.is(\".k-dropdown\") || target.is(\"input\")) {\n                        return;\n                    }\n                    if (this.overflowAnchor && $(this.overflowAnchor).css(\"visibility\") != \"hidden\") {\n                        this.overflowAnchor.trigger(FOCUS);\n                    } else {\n                        items.last().trigger(FOCUS);\n                    }\n                    e.preventDefault();\n                } else if (keyCode === keys.RIGHT && !this._preventNextFocus && !target.is(\"input, select, .k-dropdown, .k-colorpicker\") && this._getNextElement(e.target, 1 * direction)) {\n                    this._getNextElement(e.target, 1 * direction).focus();\n                    e.preventDefault();\n                } else if (keyCode === keys.LEFT && !this._preventNextFocus && !target.is(\"input, select, .k-dropdown, .k-colorpicker\") && this._getNextElement(e.target, -1 * direction)) {\n                    this._getNextElement(e.target, -1 * direction).focus();\n                    e.preventDefault();\n                }\n            },\n\n            _getNextElement: function (item, direction) {\n                var items = this.element.children(\":not(.k-separator, .k-spacer):visible\");\n                var itemIndex = items.index(item) === -1 ? items.index(item.parentElement) : items.index(item);\n                var startIndex = this.overflowAnchor ? 1 : 0;\n                var directionNumber = direction;\n                var searchIndex = direction === 1 ? items.length - 1 : startIndex;\n                var index = direction === 1 ? startIndex : items.length - 1;\n                var focusableItem = items[itemIndex + direction];\n                this._preventNextFocus = false;\n\n                if ($(item).closest(DOT + BUTTON_GROUP).not(DOT + SPLIT_BUTTON).length && !$(item).is(direction === 1 ? \":last-child\" : \":first-child\")) {\n                    return $(item)\n                        .closest(DOT + BUTTON_GROUP)\n                        .children()[$(item)\n                        .closest(DOT + BUTTON_GROUP)\n                        .children()\n                        .index(item) + direction];\n                }\n\n                if (this.overflowAnchor && item === this.overflowAnchor[0] && direction === -1) {\n                    focusableItem = items[items.length - 1];\n                }\n\n                if (itemIndex === searchIndex) {\n                    focusableItem = !this.overflowAnchor ||\n                        (this.overflowAnchor &&\n                        $(this.overflowAnchor).css(\"visibility\") === \"hidden\") ? items[index] : this.overflowAnchor;\n                }\n\n                while (!$(focusableItem).is(\":kendoFocusable\")) {\n                    if (direction === -1 && $(focusableItem).closest(DOT + BUTTON_GROUP).length) {\n                        focusableItem = $(focusableItem).children(\":not(label, div)\").last();\n                    } else {\n                        focusableItem = $(focusableItem).children(\":not(label, div)\").first();\n                    }\n                    if (!focusableItem.length) {\n                        directionNumber = directionNumber + direction;\n                        focusableItem = items[itemIndex + directionNumber];\n                        if (!focusableItem) {\n                            return this.overflowAnchor;\n                        }\n                    }\n\n                    if ($(focusableItem).hasClass(\"k-combobox\")) {\n                        focusableItem = $(focusableItem).find(\"input\");\n                    }\n                    this._preventNextFocus = $(focusableItem).closest(DOT + BUTTON_GROUP).length ? false : true;\n                }\n\n                return focusableItem;\n            },\n\n            _getPrevFocusable: function(element) {\n                if (element.is(\"html\")) {\n                    return element;\n                }\n\n                var elementToFocus, prevElement,\n                    prevElements = element.prevAll();\n                prevElements.each(function(){\n                    prevElement = $(this);\n                    if (prevElement.is(\":kendoFocusable\")) {\n                        elementToFocus = prevElement;\n                        return false;\n                    } else if (prevElement.find(\":kendoFocusable\").length > 0) {\n                        elementToFocus = prevElement.find(\":kendoFocusable\").last();\n                        return false;\n                    }\n                });\n                if (elementToFocus) {\n                    return elementToFocus;\n                } else {\n                    return this._getPrevFocusable(element.parent());\n                }\n            },\n\n            _toggle: function(e) {\n                var splitButton = $(e.target).closest(DOT + SPLIT_BUTTON).data(\"splitButton\");\n\n                e.preventDefault();\n\n                if (!splitButton.options.enable) {\n                    return;\n                }\n\n                splitButton.toggle();\n            },\n\n            _toggleOverflow: function() {\n                this.popup.toggle();\n            },\n\n            _resize: function(e) {\n                var containerWidth = e.width;\n\n                if (!this.options.resizable) {\n                    return;\n                }\n\n                this.popup.close();\n\n                this._shrink(containerWidth);\n                this._stretch(containerWidth);\n\n                this._markVisibles();\n\n                this._toggleOverflowAnchor();\n            },\n\n            _childrenWidth: function() {\n                var childrenWidth = 0;\n\n                this.element.children(\":visible:not(.\" + STATE_HIDDEN + COMMA + EMPTY + DOT + SPACER_CLASS + \")\").each(function() {\n                    childrenWidth += outerWidth($(this), true);\n                });\n\n                return Math.ceil(childrenWidth);\n            },\n\n            _shrink: function(containerWidth) {\n                var commandElement,\n                    visibleCommands;\n\n                if (containerWidth < this._childrenWidth()) {\n                    visibleCommands = this.element.children(\":visible:not([data-overflow='never'], .\" + OVERFLOW_ANCHOR + \")\");\n\n                    for (var i = visibleCommands.length - 1; i >= 0; i--) {\n                        commandElement = visibleCommands.eq(i);\n\n                        if (containerWidth > this._childrenWidth()) {\n                            break;\n                        } else {\n                            this._hideItem(commandElement);\n                        }\n                    }\n                }\n            },\n\n            _stretch: function(containerWidth) {\n                var commandElement,\n                    hiddenCommands;\n\n                if (containerWidth > this._childrenWidth()) {\n                    hiddenCommands = this.element.children(\":hidden:not('.\" + STATE_HIDDEN + \"')\");\n\n                    for (var i = 0; i < hiddenCommands.length ; i++) {\n                        commandElement = hiddenCommands.eq(i);\n                        if (containerWidth < this._childrenWidth() || !this._showItem(commandElement, containerWidth)) {\n                            break;\n                        }\n                    }\n                }\n            },\n\n            _hideItem: function(item) {\n                item.addClass(HIDDEN);\n\n                if (this.popup) {\n                    this.popup.container\n                        .find(\">li[data-uid='\" + item.data(\"uid\") + \"']\")\n                        .removeClass(OVERFLOW_HIDDEN);\n                }\n            },\n\n            _showItem: function(item, containerWidth) {\n                // From jquery.outerWidth docs:\n                //  > jQuery will attempt to temporarily show and then re-hide an element\n                //  > in order to measure its dimensions, but this is unreliable\n                // Thus we show and hide the item\n                item.removeClass(HIDDEN);\n                var itemOuterWidth = outerWidth(item, true);\n                item.addClass(HIDDEN);\n\n                if (item.length && containerWidth > this._childrenWidth() + itemOuterWidth) {\n\n                    item.removeClass(HIDDEN);\n\n                    if (this.popup) {\n                        this.popup.container\n                            .find(\">li[data-uid='\" + item.data(\"uid\") + \"']\")\n                            .addClass(OVERFLOW_HIDDEN);\n                    }\n\n                    return true;\n                }\n\n                return false;\n            },\n\n            _markVisibles: function() {\n                var overflowItems = this.popup.container.children(),\n                    toolbarItems = this.element.children(\":not(.k-overflow-anchor)\"),\n                    visibleOverflowItems = overflowItems.filter(\":not(.k-overflow-hidden)\"),\n                    visibleToolbarItems = toolbarItems.filter(\":visible\");\n\n                overflowItems.add(toolbarItems).removeClass(FIRST_TOOLBAR_VISIBLE + EMPTY + LAST_TOOLBAR_VISIBLE);\n                visibleOverflowItems.first().add(visibleToolbarItems.first()).addClass(FIRST_TOOLBAR_VISIBLE);\n                visibleOverflowItems.last().add(visibleToolbarItems.last()).addClass(LAST_TOOLBAR_VISIBLE);\n            }\n\n        });\n\n    kendo.ui.plugin(ToolBar);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.list',[ \"./kendo.data\", \"./kendo.popup\" ], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"list\",\n    name: \"List\",\n    category: \"framework\",\n    depends: [ \"data\", \"popup\" ],\n    hidden: true\n};\n\n/*jshint evil: true*/\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        outerHeight = kendo._outerHeight,\n        percentageUnitsRegex = /^\\d+(\\.\\d+)?%$/i,\n        Widget = ui.Widget,\n        keys = kendo.keys,\n        support = kendo.support,\n        htmlEncode = kendo.htmlEncode,\n        activeElement = kendo._activeElement,\n        outerWidth = kendo._outerWidth,\n        ObservableArray = kendo.data.ObservableArray,\n        ID = \"id\",\n        CHANGE = \"change\",\n        FOCUSED = \"k-focus\",\n        HOVER = \"k-hover\",\n        KSELECTED = \"k-selected\",\n        LOADING = \"k-i-loading\",\n        LIST = \"k-list\",\n        TABLE = \"k-table\",\n        DATA_TABLE = \"k-data-table\",\n        TABLE_MD = \"k-table-md\",\n        LIST_UL = \"k-list-ul\",\n        TABLE_LIST = \"k-table-list\",\n        FIXED_GROUP_HEADER = \".k-list-group-sticky-header\",\n        GROUP_LABEL = \".k-list-item-group-label\",\n        ITEMSELECTOR = \".k-list-item\",\n        LABELIDPART = \"_label\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        CASCADE = \"cascade\",\n        SELECT = \"select\",\n        CLICK = \"click\",\n        MOUSELEAVE = \"mouseleave\",\n        MOUSEENTER = \"mouseenter\",\n        ACTIVATE = \"activate\",\n        DEACTIVATE = \"deactivate\",\n        DATA_BINDING = \"dataBinding\",\n        DATA_BOUND = \"dataBound\",\n        SELECTED_ITEM_CHANGE = \"selectedItemChange\",\n        SELECTED = \"selected\",\n        REQUESTSTART = \"requestStart\",\n        REQUESTEND = \"requestEnd\",\n        BLUR = \"blur\",\n        FOCUS = \"focus\",\n        FOCUSOUT = \"focusout\",\n        extend = $.extend,\n        proxy = $.proxy,\n        isArray = Array.isArray,\n        browser = support.browser,\n        HIDDENCLASS = \"k-hidden\",\n        WIDTH = \"width\",\n        TEXT = \"text\",\n        VALUE = \"value\",\n        isIE = browser.msie,\n        quotRegExp = /\"/g,\n        alternativeNames = {\n            \"ComboBox\": [ \"DropDownList\", \"MultiColumnComboBox\" ],\n            \"DropDownList\": [ \"ComboBox\", \"MultiColumnComboBox\" ],\n            \"MultiColumnComboBox\": [ \"ComboBox\", \"DropDownList\" ]\n        },\n\n        UL_EL = '<ul unselectable=\"on\"/>',\n        LIST_EL = \"<div class='k-list'/>\",\n        NO_DATA_EL = '<div class=\"k-no-data\" style=\"display: none;\"></div>',\n        LIST_FOOTER_EL = '<div class=\"k-list-footer\"></div>',\n        TABLE_FOOTER_EL = '<div class=\"k-table-footer\">' +\n                '<span class=\"k-table-td\"></span>' +\n            '</div>',\n        MOUSEDOWN = \"mousedown\",\n        LIST_SUFFIX = \"-list\",\n        LISTBOX_SUFFIX = \"_listbox\",\n        ARIA_LABELLEDBY = \"aria-labelledby\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        ARIA_AUTOCOMPLETE = \"aria-autocomplete\",\n        ARIA_CONTROLS = \"aria-controls\",\n        ARIA_LIVE = \"aria-live\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        ARIA_BUSY = \"aria-busy\",\n        ARIA_MULTISELECTABLE = \"aria-multiselectable\",\n        ARIA_SELECTED = \"aria-selected\",\n        GROUP_ROW_SEL = \".k-table-group-row\";\n\n    var List = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this,\n                id;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n            options = that.options;\n\n            that._isSelect = element.is(SELECT);\n\n            if (that._isSelect && that.element[0].length) {\n                if (!options.dataSource) {\n                    options.dataTextField = options.dataTextField || TEXT;\n                    options.dataValueField = options.dataValueField || VALUE;\n                }\n            }\n\n            that._listSize = kendo.cssProperties.getValidClass({\n                widget: \"List\",\n                propName: \"size\",\n                value: options.size\n            });\n\n            that.ul = $(UL_EL).attr({\n                tabIndex: -1,\n                \"aria-hidden\": true\n            });\n\n            that.list = $(LIST_EL)\n                .addClass(that._listSize)\n                .append(that.ul);\n\n            id = element.attr(ID);\n\n            if (!id) {\n                id = kendo.guid();\n            }\n\n            that.list.attr(ID, id + LIST_SUFFIX);\n            that.ul.attr(ID, id + LISTBOX_SUFFIX);\n\n            if (options.columns && options.columns.length) {\n                that.list.removeClass(LIST).addClass(DATA_TABLE);\n                that.list.removeClass(that._listSize).addClass(TABLE_MD);\n\n                that.ul.removeClass(LIST_UL).addClass(TABLE);\n\n                that._columnsHeader();\n            }\n\n            that._header();\n            that._noData();\n            that._footer();\n            that._accessors();\n            that._initValue();\n        },\n\n        options: {\n            valuePrimitive: false,\n            footerTemplate: \"\",\n            headerTemplate: \"\",\n            noDataTemplate: true,\n            size: \"medium\",\n            messages: {\n                \"noData\": \"No data found.\",\n                \"clear\": \"clear\"\n            }\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n\n            if (options && options.enable !== undefined) {\n                options.enabled = options.enable;\n            }\n\n            if (options.columns && options.columns.length) {\n                this._columnsHeader();\n            }\n\n            this._header();\n            this._noData();\n            this._footer();\n\n            this._renderFooter();\n            this._renderNoData();\n        },\n\n        focus: function() {\n            this._focused.trigger(FOCUS);\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        },\n\n        _header: function() {\n            var list = this;\n            var header = $(list.header);\n            var template = list.options.headerTemplate;\n\n            this._angularElement(header, \"cleanup\");\n            kendo.destroy(header);\n            header.remove();\n\n            if (!template) {\n                list.header = null;\n                return;\n            }\n\n            var headerTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n            header = $(headerTemplate({}));\n\n            list.header = header[0] ? header : null;\n\n            if (list.list.parent.length > 0) {\n                list.list.before(header);\n            }\n\n            this._angularElement(list.header, \"compile\");\n        },\n\n        _columnsHeader: function() {\n            var list = this;\n            var columnsHeader = $(list.columnsHeader);\n\n            this._angularElement(columnsHeader, \"cleanup\");\n            kendo.destroy(columnsHeader);\n            columnsHeader.remove();\n\n            var header = \"<div class='k-table-header'><div class='k-table-header-wrap'><table class='k-table' role='presentation'>\";\n            var colGroup = \"<colgroup>\";\n            var row = \"<tr class='k-table-row'>\";\n\n            for (var idx = 0; idx < this.options.columns.length; idx++) {\n                var currentColumn = this.options.columns[idx];\n                var title = currentColumn.title || currentColumn.field || \"\";\n                var template = currentColumn.headerTemplate || title;\n                var columnsHeaderTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n                var currentWidth = currentColumn.width;\n                var currentWidthInt = parseInt(currentWidth, 10);\n                var widthStyle = '';\n\n                if (currentWidth && !isNaN(currentWidthInt)) {\n                    widthStyle += \"style='width:\";\n                    widthStyle += currentWidthInt;\n                    widthStyle += percentageUnitsRegex.test(currentWidth) ? \"%\" : \"px\";\n                    widthStyle += \";'\";\n                }\n\n                colGroup += \"<col \" + widthStyle + \"/>\";\n\n                row += \"<th class='k-table-th'>\";\n                row += columnsHeaderTemplate(currentColumn);\n                row += \"</th>\";\n            }\n            colGroup += \"</colgroup>\";\n            row += \"</tr>\";\n            header += colGroup;\n            header += \"<thead class='k-table-thead'>\";\n            header += row;\n            header += \"</thead></table></div></div>\";\n\n            list.columnsHeader = columnsHeader = $(header);\n            list.list.prepend(columnsHeader);\n\n            this._angularElement(list.columnsHeader, \"compile\");\n        },\n\n        _noData: function() {\n            var list = this;\n            var noData = $(list.noData);\n            var template = list.options.noDataTemplate === true ? list.options.messages.noData : list.options.noDataTemplate;\n\n            list.angular(\"cleanup\", function() { return { elements: noData }; });\n            kendo.destroy(noData);\n            noData.remove();\n\n            if (!template) {\n                list.noData = null;\n                return;\n            }\n\n            list.noData = $(NO_DATA_EL).appendTo(list.list);\n            list.noDataTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n        },\n\n        _footer: function() {\n            var list = this;\n            var footer = $(list.footer);\n            var template = list.options.footerTemplate;\n            var footerEl = this.options.columns && this.options.columns.length ? TABLE_FOOTER_EL : LIST_FOOTER_EL;\n\n            this._angularElement(footer, \"cleanup\");\n            kendo.destroy(footer);\n            footer.remove();\n\n            if (!template) {\n                list.footer = null;\n                return;\n            }\n\n            list.footer = $(footerEl).appendTo(list.list);\n            list.footerTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n        },\n\n        _listOptions: function(options) {\n            var that = this;\n            var currentOptions = that.options;\n            var virtual = currentOptions.virtual;\n            var changeEventOption = { change: proxy(that._listChange, that) };\n            var listBoundHandler = proxy(that._listBound, that);\n            var focusedElm = that._focused;\n            var inputId = that.element.attr(\"id\");\n            var labelElm = $(\"label[for=\\\"\" + that.element.attr(\"id\") + \"\\\"]\");\n            var labelledBy = focusedElm.attr(ARIA_LABELLEDBY);\n\n            if (!labelledBy && labelElm.length) {\n                labelledBy = labelElm.attr(\"id\") || that._generateLabelId(labelElm, inputId || kendo.guid());\n            }\n\n            virtual = typeof virtual === \"object\" ? virtual : {};\n\n            options = $.extend({\n                autoBind: false,\n                selectable: true,\n                dataSource: that.dataSource,\n                click: proxy(that._click, that),\n                activate: proxy(that._activateItem, that),\n                columns: currentOptions.columns,\n                deactivate: proxy(that._deactivateItem, that),\n                dataBinding: function() {\n                    that.trigger(DATA_BINDING);\n                },\n                dataBound: listBoundHandler,\n                height: currentOptions.height,\n                dataValueField: currentOptions.dataValueField,\n                dataTextField: currentOptions.dataTextField,\n                groupTemplate: currentOptions.groupTemplate,\n                fixedGroupTemplate: currentOptions.fixedGroupTemplate,\n                template: currentOptions.template,\n                ariaLabel: focusedElm.attr(ARIA_LABEL),\n                ariaLabelledBy: labelledBy,\n                listSize: that._listSize\n            }, options, virtual, changeEventOption);\n\n            if (!options.template) {\n                options.template = \"#:\" + kendo.expr(options.dataTextField, \"data\") + \"#\";\n            }\n\n            if (currentOptions.$angular) {\n                options.$angular = currentOptions.$angular;\n            }\n\n            return options;\n        },\n\n        _initList: function() {\n            var that = this;\n            var listOptions = that._listOptions({\n                selectedItemChange: proxy(that._listChange, that)\n            });\n\n            if (!that.options.virtual) {\n                that.listView = new kendo.ui.StaticList(that.ul, listOptions);\n            } else {\n                that.listView = new kendo.ui.VirtualList(that.ul, listOptions);\n                that.list.addClass(\"k-virtual-list\");\n            }\n\n            that.listView.bind(\"listBound\", proxy(that._listBound, that));\n            that._setListValue();\n        },\n\n        _setListValue: function(value) {\n            value = value || this.options.value;\n\n            if (value !== undefined) {\n                this.listView.value(value)\n                    .done(proxy(this._updateSelectionState, this));\n            }\n        },\n\n        _updateSelectionState: $.noop,\n\n        _listMousedown: function(e) {\n            if (!this.filterInput || this.filterInput[0] !== e.target) {\n                e.preventDefault();\n            }\n        },\n\n        _isFilterEnabled: function() {\n            var filter = this.options.filter;\n            return filter && filter !== \"none\";\n        },\n\n        _hideClear: function() {\n            var list = this;\n\n            if (list._clear) {\n                list._clear.addClass(HIDDENCLASS);\n            }\n        },\n\n        _showClear: function() {\n            if (this._clear) {\n                this._clear.removeClass(HIDDENCLASS);\n            }\n        },\n\n        _clearValue: function() {\n            this._clearText();\n            this._accessor(\"\");\n            this.listView.value([]);\n\n            if (this._isSelect) {\n                this._customOption = undefined;\n            }\n\n            if (this._isFilterEnabled() && !this.options.enforceMinLength) {\n                this._filter({ word: \"\", open: false });\n\n                if (this.options.highlightFirst) {\n                    this.listView.focus(0);\n                }\n            }\n            this._change();\n        },\n\n        _clearText: function() {\n            this.text(\"\");\n        },\n\n        _clearFilter: function() {\n            if (!this.options.virtual) {\n                this.listView.bound(false);\n            }\n\n            this._filterSource();\n        },\n\n        _filterSource: function(filter, force) {\n            var that = this;\n            var options = that.options;\n            var isMultiColumnFiltering = options.filterFields && filter && filter.logic && filter.filters && filter.filters.length;\n            var dataSource = that.dataSource;\n            var expression = extend({}, dataSource.filter() || {});\n            var resetPageSettings = filter || (expression.filters && expression.filters.length && !filter);\n\n            var removed = removeFiltersForField(expression, options.dataTextField);\n\n            this._clearFilterExpressions(expression);\n\n            if ((filter || removed) && that.trigger(\"filtering\", { filter: filter })) {\n                return $.Deferred().reject().promise();\n            }\n\n            var newExpression = {\n                filters: [],\n                logic: \"and\"\n            };\n\n            if (isMultiColumnFiltering) {\n                newExpression.filters.push(filter);\n            } else {\n                this._pushFilterExpression(newExpression, filter);\n            }\n\n            if (isValidFilterExpr(expression)) {\n                if (newExpression.logic === expression.logic) {\n                    newExpression.filters = newExpression.filters.concat(expression.filters);\n                } else {\n                    newExpression.filters.push(expression);\n                }\n            }\n\n            if (that._cascading) {\n                this.listView.setDSFilter(newExpression);\n            }\n\n            var dataSourceState = extend({}, {\n                page: resetPageSettings ? 1 : dataSource.page(),\n                pageSize: resetPageSettings ? dataSource.options.pageSize : dataSource.pageSize(),\n                sort: dataSource.sort(),\n                filter: dataSource.filter(),\n                group: dataSource.group(),\n                aggregate: dataSource.aggregate()\n            }, { filter: newExpression });\n\n            return dataSource[force ? \"read\" : \"query\"](dataSource._mergeState(dataSourceState));\n        },\n\n        _pushFilterExpression: function(newExpression, filter) {\n            if (isValidFilterExpr(filter) && filter.value !== \"\") {\n                newExpression.filters.push(filter);\n            }\n        },\n\n        _clearFilterExpressions: function(expression) {\n            if (!expression.filters) {\n                return;\n            }\n\n            var filtersToRemove;\n\n            for (var i = 0; i < expression.filters.length; i++) {\n                if (\"fromFilter\" in expression.filters[i]) {\n                    filtersToRemove = i;\n                }\n            }\n\n            if (!isNaN(filtersToRemove)) {\n                expression.filters.splice(filtersToRemove, 1);\n            }\n        },\n\n        _angularElement: function(element, action) {\n            if (!element) {\n                return;\n            }\n\n            this.angular(action, function() {\n                return { elements: element };\n            });\n        },\n\n        _renderNoData: function() {\n            var list = this;\n            var noData = list.noData;\n\n            if (!noData) {\n                return;\n            }\n\n            this._angularElement(noData, \"cleanup\");\n            noData.html(list.noDataTemplate({ instance: list }));\n            this._angularElement(noData, \"compile\");\n        },\n\n        _toggleNoData: function(show) {\n            $(this.noData).toggle(show);\n        },\n\n        _toggleHeader: function(show) {\n            var groupHeader = this.listView.content.prev(FIXED_GROUP_HEADER);\n            groupHeader.toggle(show);\n        },\n\n        _renderFooter: function() {\n            var list = this,\n                footer = list.footer ? this.options.columns && this.options.columns.length ? list.footer.children().first() : list.footer : null;\n\n            if (!footer) {\n                return;\n            }\n\n            this._angularElement(footer, \"cleanup\");\n            footer.html(list.footerTemplate({ instance: list }));\n            this._angularElement(footer, \"compile\");\n        },\n\n        _allowOpening: function() {\n            return this.options.noDataTemplate || this.dataSource.flatView().length;\n        },\n\n        _initValue: function() {\n            var that = this,\n                value = that.options.value;\n\n            if (value !== null) {\n                that.element.val(value);\n            } else {\n                value = that._accessor();\n                that.options.value = value;\n            }\n\n            that._old = value;\n        },\n\n        _ignoreCase: function() {\n            var that = this,\n                model = that.dataSource.reader.model,\n                field;\n\n            if (model && model.fields) {\n                field = model.fields[that.options.dataTextField];\n\n                if (field && field.type && field.type !== \"string\") {\n                    that.options.ignoreCase = false;\n                }\n            }\n        },\n\n        _focus: function(candidate) {\n            return this.listView.focus(candidate);\n        },\n\n        _filter: function(options) {\n            var that = this;\n            var widgetOptions = that.options;\n            var word = options.word;\n            var filterFields = widgetOptions.filterFields;\n            var field = widgetOptions.dataTextField;\n            var expression;\n\n            if (filterFields && filterFields.length) {\n                expression = {\n                    logic: \"or\",\n                    filters: [],\n                    fromFilter: true\n                };\n                for (var i = 0; i < filterFields.length; i++) {\n                    this._pushFilterExpression(expression, that._buildExpression(word, filterFields[i]));\n                }\n            } else {\n                expression = that._buildExpression(word, field);\n            }\n\n            that._open = options.open;\n            that._filterSource(expression);\n        },\n\n        _buildExpression: function(value, field) {\n            var that = this;\n            var widgetOptions = that.options;\n            var ignoreCase = widgetOptions.ignoreCase;\n            var accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n\n            return {\n                value: ignoreCase ? (accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase()) : value,\n                field: field,\n                operator: widgetOptions.filter,\n                ignoreCase: ignoreCase\n            };\n        },\n\n        _clearButton: function() {\n            var list = this;\n            var clearTitle = list.options.messages.clear;\n\n            if (!list._clear) {\n                list._clear = $('<span unselectable=\"on\" class=\"k-clear-value\" title=\"' + clearTitle + '\"><span class=\"k-icon k-i-x\"></span></span>').attr({\n                    \"role\": \"button\",\n                    \"tabIndex\": -1\n                });\n            }\n\n            if (!list.options.clearButton) {\n                list._clear.remove();\n            }\n            this._hideClear();\n        },\n\n        search: function(word) {\n            var options = this.options;\n\n            word = typeof word === \"string\" ? word : this._inputValue();\n\n            clearTimeout(this._typingTimeout);\n\n            if ((!options.enforceMinLength && !word.length) || word.length >= options.minLength) {\n                this._state = \"filter\";\n                if (this.listView) {\n                    this.listView._emptySearch = !kendo.trim(word).length;\n                }\n\n                if (!this._isFilterEnabled()) {\n                    this._searchByWord(word);\n                } else {\n                    this._filter({ word: word, open: true });\n                }\n            }\n        },\n\n        current: function(candidate) {\n            return this._focus(candidate);\n        },\n\n        items: function() {\n            return this.ul[0].children;\n        },\n\n        destroy: function() {\n            var that = this;\n            var ns = that.ns;\n\n            Widget.fn.destroy.call(that);\n\n            that._unbindDataSource();\n\n            that.listView.destroy();\n            that.list.off(ns);\n\n            that.popup.destroy();\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n        },\n\n        dataItem: function(index) {\n            var that = this;\n\n            if (index === undefined) {\n                return that.listView.selectedDataItems()[0];\n            }\n\n            if (typeof index !== \"number\") {\n                if (that.options.virtual) {\n                    return that.dataSource.getByUid($(index).data(\"uid\"));\n                }\n\n                index = $(that.items()).index(index);\n            }\n\n            return that.dataSource.flatView()[index];\n        },\n\n        _activateItem: function() {\n            var current = this.listView.focus();\n            if (current) {\n                this._focused.add(this.filterInput).attr(ARIA_ACTIVEDESCENDANT, current.attr(\"id\"));\n            }\n        },\n\n        _deactivateItem: function() {\n            this._focused.add(this.filterInput).removeAttr(ARIA_ACTIVEDESCENDANT);\n        },\n\n        _accessors: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var getter = kendo.getter;\n            var textField = element.attr(kendo.attr(\"text-field\"));\n            var valueField = element.attr(kendo.attr(\"value-field\"));\n\n            if (!options.dataTextField && textField) {\n                options.dataTextField = textField;\n            }\n\n            if (!options.dataValueField && valueField) {\n                options.dataValueField = valueField;\n            }\n\n            that._text = getter(options.dataTextField);\n            that._value = getter(options.dataValueField);\n        },\n\n        _aria: function(id) {\n            var that = this,\n                options = that.options,\n                element = that._focused,\n                autocomplete;\n\n            if (options.suggest !== undefined) {\n                if (options.filter === \"none\") {\n                    if (options.suggest === true) {\n                        autocomplete = \"inline\";\n                    } else {\n                        autocomplete = \"none\";\n                    }\n                } else {\n                    if (options.suggest === true) {\n                        autocomplete = \"both\";\n                    } else {\n                        autocomplete = \"list\";\n                    }\n                }\n\n                element.attr(ARIA_AUTOCOMPLETE, autocomplete);\n            }\n\n            id = id ? id + \" \" + that.ul[0].id : that.ul[0].id;\n\n            element.attr({\n                \"aria-owns\": id,\n                \"aria-controls\": id\n            });\n\n            if (that.filterInput && that.filterInput.length > 0) {\n                that.filterInput.attr(ARIA_CONTROLS, id);\n            }\n\n            that.ul.attr(ARIA_LIVE, !that._isFilterEnabled() ? \"off\" : \"polite\");\n\n            that._ariaLabel();\n        },\n\n        _ariaLabel: function() {\n            var that = this;\n            var focusedElm = that._focused;\n            var inputElm = that.element;\n            var inputId = inputElm.attr(\"id\");\n            var labelElm = $(\"label[for=\\\"\" + inputId + \"\\\"]\");\n            var ariaLabel = inputElm.attr(ARIA_LABEL);\n            var ariaLabelledBy = inputElm.attr(ARIA_LABELLEDBY);\n\n            if (focusedElm === inputElm) {\n                return;\n            }\n\n            if (ariaLabel) {\n                focusedElm.attr(ARIA_LABEL, ariaLabel);\n            } else if (ariaLabelledBy) {\n                focusedElm.attr(ARIA_LABELLEDBY, ariaLabelledBy);\n            } else if (labelElm.length) {\n                var labelId = labelElm.attr(\"id\") || that._generateLabelId(labelElm, inputId || kendo.guid());\n                focusedElm.attr(ARIA_LABELLEDBY, labelId);\n            }\n        },\n\n        _generateLabelId: function(label, inputId) {\n            var labelId = inputId + LABELIDPART;\n            label.attr(\"id\", labelId);\n\n            return labelId;\n        },\n\n        _blur: function() {\n            var that = this;\n\n            that._change();\n            that.close();\n            that._userTriggered = false;\n        },\n\n        _isValueChanged: function(value) {\n            return value !== unifyType(this._old, typeof value);\n        },\n\n        _change: function() {\n            var that = this;\n            var index = that.selectedIndex;\n            var optionValue = that.options.value;\n            var value = that.value();\n            var trigger;\n\n            if (that._isSelect && !that.listView.bound() && optionValue) {\n                value = optionValue;\n            }\n\n            if (that._isValueChanged(value)) {\n                trigger = true;\n            } else if (that._valueBeforeCascade !== undefined && that._valueBeforeCascade !== unifyType(that._old, typeof that._valueBeforeCascade) && that._userTriggered) {\n                trigger = true;\n            } else if (index !== undefined && index !== that._oldIndex && !that.listView.isFiltered()) {\n                trigger = true;\n            }\n\n            if (trigger) {\n\n                if (that._old === null || that._old === \"\" || value === \"\") {\n                    that._valueBeforeCascade = that._old = value;\n                } else {\n                    if (that.dataItem()) {\n                        that._valueBeforeCascade = that._old = that.options.dataValueField ? that.dataItem()[that.options.dataValueField] : that.dataItem();\n                    } else {\n                        that._valueBeforeCascade = that._old = null;\n                    }\n                }\n                that._oldIndex = index;\n\n                if (!that._typing) {\n                    // trigger the DOM change event so any subscriber gets notified\n                    that.element.trigger(CHANGE);\n                }\n\n                that.trigger(CHANGE);\n            }\n\n            that.typing = false;\n        },\n\n        _data: function() {\n            return this.dataSource.view();\n        },\n\n        _enable: function() {\n            var that = this,\n                options = that.options,\n                disabled = that.element.is(\"[disabled]\");\n\n            if (options.enable !== undefined) {\n                options.enabled = options.enable;\n            }\n\n            if (!options.enabled || disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(that.element.is(\"[readonly]\"));\n            }\n        },\n\n        _dataValue: function(dataItem) {\n            var value = this._value(dataItem);\n\n            if (value === undefined) {\n                value = this._text(dataItem);\n            }\n\n            return value;\n        },\n\n        _offsetHeight: function() {\n            var offsetHeight = 0;\n            var siblings = this.listView.content.parent().prevAll(\":visible\");\n\n            siblings.each(function() {\n                var element = $(this);\n\n                offsetHeight += outerHeight(element, true);\n            });\n\n            return offsetHeight;\n        },\n\n        _height: function(length) {\n            var that = this;\n            var list = that.list;\n            var height = that.options.height;\n            var visible = that.popup.visible();\n            var isMccb = this.options.columns && this.options.columns.length;\n            var offsetTop, popups;\n\n            if (length || that.options.noDataTemplate) {\n                // Check where animation container stays\n                popups = list.parent().add(list.closest(\".k-animation-container\")).show();\n\n                if (!list.parent().is(\":visible\")) {\n                    popups.hide();\n                    return;\n                }\n\n                height = that.listView.content[0].scrollHeight > height ? height : \"auto\";\n\n                popups.height(height);\n\n                if (height !== \"auto\") {\n                    offsetTop = that._offsetHeight();\n\n                    height = height - offsetTop;\n\n                    if (isMccb) {\n                        height = height - (outerHeight($(that.footer)) || 0) - (outerHeight($(that.columnsHeader)) || 0);\n                    }\n                }\n\n                if (isMccb) {\n                    that.listView.content.outerHeight(height);\n                } else {\n                    that.listView.content.parent().outerHeight(height);\n                }\n\n                if (!visible) {\n                    popups.hide();\n                }\n            }\n\n            return height;\n        },\n\n        _openHandler: function(e) {\n            this._adjustListWidth();\n\n            if (this.trigger(OPEN)) {\n                e.preventDefault();\n            } else {\n                this._focused.attr(ARIA_EXPANDED, true);\n                this.ul.attr(ARIA_HIDDEN, false);\n            }\n        },\n\n        _adjustListWidth: function() {\n            var that = this,\n                list = that.list.parent(),\n                width = list[0].style.width,\n                wrapper = that.wrapper,\n                computedStyle, computedWidth;\n\n            if (!list.data(WIDTH) && width) {\n                return;\n            }\n\n            computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\n            computedWidth = parseFloat(computedStyle && computedStyle.width) || outerWidth(wrapper);\n\n            if (computedStyle && browser.msie) { // getComputedStyle returns different box in IE.\n                computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\n            }\n\n            if (list.css(\"box-sizing\") !== \"border-box\") {\n                width = computedWidth - (outerWidth(list) - list.width());\n            } else {\n                width = computedWidth;\n            }\n\n            list.css({\n                fontFamily: wrapper.css(\"font-family\"),\n                width: that.options.autoWidth ? \"auto\" : width,\n                minWidth: width,\n                whiteSpace: that.options.autoWidth ? \"nowrap\" : \"normal\"\n            })\n            .data(WIDTH, width);\n\n            return true;\n        },\n\n        _closeHandler: function(e) {\n            if (this.trigger(CLOSE)) {\n                e.preventDefault();\n            } else {\n                this._focused.attr(ARIA_EXPANDED, false);\n                this.ul.attr(ARIA_HIDDEN, true);\n            }\n        },\n\n        _focusItem: function() {\n            var listView = this.listView;\n            var noFocusedItem = !listView.focus();\n            var index = last(listView.select());\n\n            if (index === undefined && this.options.highlightFirst && noFocusedItem) {\n                index = 0;\n            }\n\n            if (index !== undefined) {\n                listView.focus(index);\n            } else if (noFocusedItem) {\n                listView.scrollToIndex(0);\n            }\n        },\n\n        _calculateGroupPadding: function(height) {\n            var li = this.ul.children(\".k-first\").first();\n            var groupHeader = this.listView.content.prev(FIXED_GROUP_HEADER);\n            var padding = 0;\n            var direction = 'right';\n\n            if (groupHeader[0] && groupHeader[0].style.display !== \"none\") {\n                if (height !== \"auto\") {\n                    padding = kendo.support.scrollbar();\n                }\n\n                if (this.element.parents('.k-rtl').length) {\n                    direction = 'left';\n                }\n\n                padding += parseFloat(li.css(\"border-\" + direction + \"-width\"), 10) + parseFloat(li.children(GROUP_LABEL).css(\"padding-\" + direction), 10);\n                groupHeader.css(\"padding-\" + direction, padding);\n            }\n        },\n\n        _calculatePopupHeight: function(force) {\n            var height = this._height(this.dataSource.flatView().length || force);\n            this._calculateGroupPadding(height);\n            this._calculateColumnsHeaderPadding(height);\n        },\n\n        _calculateColumnsHeaderPadding: function(height) {\n            if (this.options.columns && this.options.columns.length) {\n                var list = this;\n                var isRtl = support.isRtl(list.wrapper);\n                var scrollbar = kendo.support.scrollbar();\n\n                list.columnsHeader.css((isRtl ? \"padding-left\" : \"padding-right\"), height !== \"auto\" ? scrollbar : 0);\n            }\n        },\n\n        _refreshScroll: function() {\n            var listView = this.listView;\n            var enableYScroll = listView.element.height() > listView.content.height();\n\n            if (this.options.autoWidth) {\n                listView.content.css({\n                    overflowX: \"hidden\",\n                    overflowY: enableYScroll ? \"scroll\" : \"auto\"\n                });\n            }\n        },\n\n        _resizePopup: function(force) {\n            if (this.options.virtual) {\n                return;\n            }\n\n            if (!this.popup.element.is(\":visible\")) {\n                this.popup.one(\"open\", (function(force) {\n                    return proxy(function() {\n                        this._calculatePopupHeight(force);\n                    }, this);\n                }).call(this, force));\n\n                this.popup.one(ACTIVATE, proxy(this._refreshScroll, this));\n            } else {\n                this._calculatePopupHeight(force);\n            }\n        },\n\n        _popup: function() {\n            var list = this;\n\n            list.list.wrap(\"<div>\");\n\n            list.popup = new ui.Popup(list.list.parent(), extend({}, list.options.popup, {\n                anchor: list.wrapper,\n                open: proxy(list._openHandler, list),\n                close: proxy(list._closeHandler, list),\n                animation: list.options.animation,\n                isRtl: support.isRtl(list.wrapper),\n                autosize: list.options.autoWidth\n            }));\n\n            list.popup.element.prepend(list.header)\n                .on(MOUSEDOWN + this.ns, proxy(this._listMousedown, this));\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === MOUSEENTER);\n        },\n\n        _toggle: function(open, preventFocus) {\n            var that = this;\n            var touchEnabled = support.mobileOS && (support.touch || support.MSPointers || support.pointers);\n\n            open = open !== undefined ? open : !that.popup.visible();\n\n            if (!preventFocus && !touchEnabled && that._focused[0] !== activeElement()) {\n                that._prevent = true;\n                that._focused.trigger(FOCUS);\n                that._prevent = false;\n            }\n\n            that[open ? OPEN : CLOSE]();\n        },\n\n        _triggerCascade: function() {\n            var that = this;\n\n            if (!that._cascadeTriggered || that.value() !== unifyType(that._cascadedValue, typeof that.value())) {\n                that._cascadedValue = that.value();\n                that._cascadeTriggered = true;\n                that.trigger(CASCADE, { userTriggered: that._userTriggered });\n            }\n        },\n\n        _triggerChange: function() {\n            if (this._valueBeforeCascade !== this.value()) {\n                this.trigger(CHANGE);\n            }\n        },\n\n        _unbindDataSource: function() {\n            var that = this;\n\n            that.dataSource.unbind(REQUESTSTART, that._requestStartHandler)\n                           .unbind(REQUESTEND, that._requestEndHandler)\n                           .unbind(\"error\", that._errorHandler);\n        },\n\n        requireValueMapper: function(options, value) {\n            var hasValue = (options.value instanceof Array ? options.value.length : options.value) || (value instanceof Array ? value.length : value);\n            if (hasValue && options.virtual && typeof options.virtual.valueMapper !== \"function\") {\n                throw new Error(\"ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function\");\n            }\n        }\n    });\n\n    function unifyType(value, type) {\n        if (value !== undefined && value !== \"\" && value !== null) {\n            if (type === \"boolean\") {\n                if (typeof value !== \"boolean\") {\n                    value = value.toString().toLowerCase() === \"true\";\n                }\n                value = Boolean(value);\n            } else if (type === \"number\") {\n                value = Number(value);\n            } else if (type === \"string\") {\n                value = value.toString();\n            }\n        }\n\n        return value;\n    }\n\n    extend(List, {\n        inArray: function(node, parentNode) {\n            var idx, length, siblings = parentNode.children;\n\n            if (!node || node.parentNode !== parentNode) {\n                return -1;\n            }\n\n            for (idx = 0, length = siblings.length; idx < length; idx++) {\n                if (node === siblings[idx]) {\n                    return idx;\n                }\n            }\n\n            return -1;\n        },\n        unifyType: unifyType\n    });\n\n    kendo.ui.List = List;\n\n    ui.Select = List.extend({\n        init: function(element, options) {\n            List.fn.init.call(this, element, options);\n            this._initial = this.element.val();\n        },\n\n        setDataSource: function(dataSource) {\n            var that = this;\n            var parent;\n\n            that.options.dataSource = dataSource;\n\n            that._dataSource();\n\n            if (that.listView.bound()) {\n                that._initialIndex = null;\n                that.listView._current = null;\n            }\n\n            that.listView.setDataSource(that.dataSource);\n\n            if (that.options.autoBind) {\n                that.dataSource.fetch();\n            }\n\n            parent = that._parentWidget();\n\n            if (parent) {\n                that._cascadeSelect(parent);\n            }\n        },\n\n        close: function() {\n            this.popup.close();\n        },\n\n        select: function(candidate) {\n            var that = this;\n\n            if (candidate === undefined) {\n                return that.selectedIndex;\n            } else {\n                return that._select(candidate).done(function() {\n                    that._cascadeValue = that._old = that._accessor();\n                    that._oldIndex = that.selectedIndex;\n                });\n            }\n        },\n\n        _accessor: function(value, idx) {\n            return this[this._isSelect ? \"_accessorSelect\" : \"_accessorInput\"](value, idx);\n        },\n\n        _accessorInput: function(value) {\n            var element = this.element[0];\n\n            if (value === undefined) {\n                return element.value;\n            } else {\n                if (value === null) {\n                    value = \"\";\n                }\n                element.value = value;\n            }\n        },\n\n        _accessorSelect: function(value, idx) {\n            var element = this.element[0];\n            var hasValue;\n\n            if (value === undefined) {\n                return getSelectedOption(element).value || \"\";\n            }\n\n            getSelectedOption(element).selected = false;\n\n            if (idx === undefined) {\n                idx = -1;\n            }\n\n            hasValue = (value !== null && value !== \"\");\n\n            if (hasValue && idx == -1) {\n                this._custom(value);\n            } else {\n                if (value) {\n                    element.value = value;\n                } else {\n                    element.selectedIndex = idx;\n                }\n            }\n        },\n\n        _syncValueAndText: function() {\n            return true;\n        },\n\n        _custom: function(value) {\n            var that = this;\n            var element = that.element;\n            var custom = that._customOption;\n\n            if (!custom) {\n                custom = $(\"<option/>\");\n                that._customOption = custom;\n\n                element.append(custom);\n            }\n\n            custom.text(value);\n            custom[0].selected = true;\n        },\n\n        _hideBusy: function() {\n            var that = this;\n            clearTimeout(that._busy);\n            that._arrowIcon.removeClass(LOADING);\n            that._focused.attr(ARIA_BUSY, false);\n            that._busy = null;\n            that._showClear();\n        },\n\n        _showBusy: function(e) {\n            var that = this;\n\n            if (e.isDefaultPrevented()) {\n                return;\n            }\n\n            that._request = true;\n\n            if (that._busy) {\n                return;\n            }\n\n            that._busy = setTimeout(function() {\n                if (that._arrowIcon) { //destroyed after request start\n                    that._focused.attr(ARIA_BUSY, true);\n                    that._arrowIcon.addClass(LOADING);\n                    that._hideClear();\n                }\n            }, 100);\n        },\n\n        _requestEnd: function() {\n            this._request = false;\n            this._hideBusy();\n        },\n\n        _dataSource: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                dataSource = options.dataSource || {},\n                idx;\n\n            dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            if (that._isSelect) {\n                idx = element[0].selectedIndex;\n                if (idx > -1) {\n                    options.index = idx;\n                }\n\n                dataSource.select = element;\n                dataSource.fields = [{ field: options.dataTextField },\n                                     { field: options.dataValueField }];\n            }\n\n            if (that.dataSource) {\n                that._unbindDataSource();\n            } else {\n                that._requestStartHandler = proxy(that._showBusy, that);\n                that._requestEndHandler = proxy(that._requestEnd, that);\n                that._errorHandler = proxy(that._hideBusy, that);\n            }\n\n            that.dataSource = kendo.data.DataSource.create(dataSource)\n                                   .bind(REQUESTSTART, that._requestStartHandler)\n                                   .bind(REQUESTEND, that._requestEndHandler)\n                                   .bind(\"error\", that._errorHandler);\n        },\n\n        _firstItem: function() {\n            this.listView.focusFirst();\n        },\n\n        _lastItem: function() {\n            this.listView.focusLast();\n        },\n\n        _nextItem: function() {\n            return this.listView.focusNext();\n        },\n\n        _prevItem: function() {\n            return this.listView.focusPrev();\n        },\n\n        _getNormalizedDataItem: function(candidate) {\n            var that = this,\n                listView = that.listView,\n                isIndex = typeof candidate === \"number\",\n                hasOptionLabel = that.optionLabel && that.optionLabel.length,\n                index;\n\n            if (isIndex) {\n                index = hasOptionLabel ? --candidate : candidate;\n            } else {\n                index = listView.getElementIndex(candidate);\n            }\n\n            return listView.dataItemByIndex(index);\n        },\n\n        _getNormalizedSelectCandidate: function(candidate) {\n            var that = this,\n                hasOptionLabel = that.optionLabel && that.optionLabel.length,\n                isIndex = typeof candidate === \"number\",\n                normalizedCandidate = candidate;\n\n            if (hasOptionLabel && isIndex) {\n                normalizedCandidate++;\n            }\n\n            return normalizedCandidate;\n        },\n\n        _move: function(e) {\n            var that = this;\n            var listView = that.listView;\n            var key = e.keyCode;\n            var down = key === keys.DOWN;\n            var isVirtual = that.options.virtual;\n            var dataItem;\n            var pressed;\n            var current;\n            var moveIndex;\n            var selectCandidate;\n\n            if (key === keys.UP || down) {\n                if (e.altKey) {\n                    that.toggle(down);\n                } else {\n                    if (!listView.bound() && !that.ul[0].firstChild) {\n                        if (!that._fetch) {\n                            that.dataSource.one(CHANGE, function() {\n                                that._fetch = false;\n                                that._move(e);\n                            });\n\n                            that._fetch = true;\n                            that._filterSource();\n                        }\n\n                        e.preventDefault();\n\n                        return true; //pressed\n                    }\n\n                    current = that._focus();\n\n                    if (!that._fetch && (!current || current.hasClass(KSELECTED))) {\n                        if (down) {\n                            moveIndex = that._nextItem();\n\n                            if ((isVirtual && moveIndex <= 0) || (!that._focus() && !moveIndex) ) {\n                                that._lastItem();\n                            }\n                        } else {\n                            moveIndex = that._prevItem();\n\n                            if ((isVirtual && moveIndex >= listView.dataSource.total() - 1) || (!that._focus() && !moveIndex)) {\n                                that._firstItem();\n                            }\n                        }\n                    }\n\n                    selectCandidate = that._getNormalizedSelectCandidate(that._get(that._focus()) || moveIndex || 0);\n\n                    that._select(selectCandidate, true).done(function() {\n                        var done = function() {\n                            if (!that.popup.visible()) {\n                                that._blur();\n                            }\n\n                            if (that._cascadedValue === null) {\n                                that._cascadedValue = that.value();\n                            } else {\n                                that._cascadedValue = that.dataItem() ? that.dataItem()[that.options.dataValueField] || that.dataItem() : null;\n                            }\n                        };\n\n                        if (that.trigger(SELECT, { dataItem: that._getNormalizedDataItem(selectCandidate), item: that._focus() })) {\n                            that._select(current).done(done);\n                        } else {\n                            done();\n                        }\n                    });\n                }\n\n                e.preventDefault();\n                pressed = true;\n            } else if (key === keys.ENTER || key === keys.TAB) {\n                if (that.popup.visible()) {\n                    e.preventDefault();\n                }\n\n                current = that._focus();\n                dataItem = that.dataItem();\n\n                if (!that.popup.visible() && (!dataItem || that.text() !== that._text(dataItem))) {\n                    current = null;\n                }\n\n                var activeFilter = that.filterInput && that.filterInput[0] === activeElement();\n                var selection;\n\n                if (current) {\n                    dataItem = listView.dataItemByIndex(listView.getElementIndex(current));\n                    var shouldTrigger = true;\n\n                    if (dataItem) {\n                        shouldTrigger = that._value(dataItem) !== List.unifyType(that.value(), typeof that._value(dataItem));\n                    }\n\n                    if (shouldTrigger && that.trigger(SELECT, { dataItem: dataItem, item: current })) {\n                        return;\n                    }\n\n                    selection = that._select(current);\n                } else if (that.input) {\n                    if (that._syncValueAndText() || that._isSelect) {\n                        that._accessor(that.input.val());\n                    }\n                    that.listView.value(that.input.val());\n                }\n\n                if (that._focusElement) {\n                    that._focusElement(that.wrapper);\n                }\n\n                if (activeFilter && key === keys.TAB) {\n                    that.wrapper.focusout();\n                } else {\n                    if (selection && typeof selection.done === \"function\") {\n                        selection.done(function() {\n                            that._blur();\n                        });\n                    } else {\n                        that._blur();\n                    }\n                }\n\n                that.close();\n                pressed = true;\n            } else if (key === keys.ESC) {\n                if (that.popup.visible()) {\n                    e.preventDefault();\n                }\n                that.close();\n                pressed = true;\n            } else if (that.popup.visible() && (key === keys.PAGEDOWN || key === keys.PAGEUP)) {\n                e.preventDefault();\n\n                var direction = key === keys.PAGEDOWN ? 1 : -1;\n                listView.scrollWith(direction * listView.screenHeight());\n\n                pressed = true;\n            }\n\n            return pressed;\n        },\n\n        _fetchData: function() {\n            var that = this;\n            var hasItems = !!that.dataSource.view().length;\n\n            if (that._request || that.options.cascadeFrom) {\n                return;\n            }\n\n            if (!that.listView.bound() && !that._fetch && !hasItems) {\n                that._fetch = true;\n                that.dataSource.fetch().done(function() {\n                    that._fetch = false;\n                });\n            }\n        },\n\n        _options: function(data, optionLabel, value) {\n            var that = this,\n                element = that.element,\n                htmlElement = element[0],\n                length = data.length,\n                options = \"\",\n                option,\n                dataItem,\n                dataText,\n                dataValue,\n                idx = 0;\n\n            if (optionLabel) {\n                options = optionLabel;\n            }\n\n            for (; idx < length; idx++) {\n                option = \"<option\";\n                dataItem = data[idx];\n                dataText = that._text(dataItem);\n                dataValue = that._value(dataItem);\n\n                if (dataValue !== undefined) {\n                    dataValue += \"\";\n\n                    if (dataValue.indexOf('\"') !== -1) {\n                        dataValue = dataValue.replace(quotRegExp, \"&quot;\");\n                    }\n\n                    option += ' value=\"' + dataValue + '\"';\n                }\n\n                option += \">\";\n\n                if (dataText !== undefined) {\n                    option += htmlEncode(dataText);\n                }\n\n                option += \"</option>\";\n                options += option;\n            }\n\n            element.html(options);\n\n            if (value !== undefined) {\n                htmlElement.value = value;\n                if (htmlElement.value && !value) {\n                    htmlElement.selectedIndex = -1;\n                }\n            }\n\n            if (htmlElement.selectedIndex !== -1) {\n                option = getSelectedOption(htmlElement);\n\n                if (option) {\n                    option.setAttribute(SELECTED, SELECTED);\n                }\n            }\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    setTimeout(function() {\n                        that.value(that._initial);\n                    });\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _parentWidget: function() {\n            var name = this.options.name;\n\n            if (!this.options.cascadeFrom) {\n                return;\n            }\n\n            var parentElement = $(\"#\" + this.options.cascadeFrom);\n            var parent = parentElement.data(\"kendo\" + name);\n\n            if (!parent) {\n                for (var i = 0; i < alternativeNames[name].length; i += 1) {\n                    parent = parentElement.data(\"kendo\" + alternativeNames[name][i]);\n\n                    if (!!parent) {\n                        break;\n                    }\n                }\n            }\n\n            return parent;\n        },\n\n        _cascade: function() {\n            var that = this;\n            var options = that.options;\n            var cascade = options.cascadeFrom;\n            var parent;\n\n            if (cascade) {\n                parent = that._parentWidget();\n\n                if (!parent) {\n                    return;\n                }\n\n                that._cascadeHandlerProxy = proxy(that._cascadeHandler, that);\n                that._cascadeFilterRequests = [];\n\n                options.autoBind = false;\n\n                parent.bind(\"set\", function() { //will cascade\n                    that.one(\"set\", function(e) { //get your value\n                        that._selectedValue = e.value || that._accessor();\n                    });\n                });\n\n                parent.first(CASCADE, that._cascadeHandlerProxy);\n\n                //refresh was called\n                if (parent.listView.bound()) {\n                    that._toggleCascadeOnFocus();\n                    that._cascadeSelect(parent);\n                } else {\n                    parent.one(DATA_BOUND, function() {\n                        that._toggleCascadeOnFocus();\n                        if (parent.popup.visible()) {\n                            parent._focused.trigger(FOCUS);\n                        }\n                    });\n\n                    if (!parent.value()) {\n                        that.enable(false);\n                    }\n                }\n            }\n        },\n\n        _toggleCascadeOnFocus: function() {\n            var that = this;\n            var parent = that._parentWidget();\n            var focusout = isIE && parent instanceof ui.DropDownList ? BLUR : FOCUSOUT;\n\n            parent._focused.add(parent.filterInput).on(FOCUS, function() {\n                parent.unbind(CASCADE, that._cascadeHandlerProxy);\n                parent.unbind(CHANGE, that._cascadeHandlerProxy);\n                parent.first(CHANGE, that._cascadeHandlerProxy);\n            });\n\n            parent._focused.add(parent.filterInput).on(focusout, function() {\n                parent.unbind(CHANGE, that._cascadeHandlerProxy);\n                parent.unbind(CASCADE, that._cascadeHandlerProxy);\n                parent.first(CASCADE, that._cascadeHandlerProxy);\n            });\n        },\n\n        _cascadeHandler: function(e) {\n            var parent = this._parentWidget();\n            var valueBeforeCascade = this.value();\n\n            this._userTriggered = e.userTriggered || parent._userTriggered;\n\n            if (this.listView.bound()) {\n                this._clearSelection(parent, true);\n            }\n\n            this._cascadeSelect(parent, valueBeforeCascade);\n        },\n\n        _cascadeChange: function(parent) {\n            var that = this;\n            var value = that._accessor() || that._selectedValue;\n\n            if (!that._cascadeFilterRequests.length) {\n                that._selectedValue = null;\n            }\n\n            if (that._userTriggered) {\n                that._clearSelection(parent, true);\n            } else if (value) {\n                if (value !== unifyType(that.listView.value()[0], typeof value)) {\n                    that.value(value);\n                }\n\n                if (!that.dataSource.view()[0] || that.selectedIndex === -1) {\n                    that._clearSelection(parent, true);\n                }\n            } else if (that.dataSource.flatView().length) {\n                that.select(that.options.index);\n            }\n\n            that.enable();\n            that._triggerCascade();\n            that._triggerChange();\n            that._userTriggered = false;\n        },\n\n        _cascadeSelect: function(parent, valueBeforeCascade) {\n            var that = this;\n            var dataItem = parent.dataItem();\n            var filterValue = dataItem ? dataItem[that.options.cascadeFromParentField] || parent._value(dataItem) : null;\n            var valueField = that.options.cascadeFromField || parent.options.dataValueField;\n            var expressions;\n\n            that._valueBeforeCascade = valueBeforeCascade !== undefined ? valueBeforeCascade : that.value();\n\n            if (filterValue || filterValue === 0) {\n                expressions = that.dataSource.filter() || {};\n                removeFiltersForField(expressions, valueField);\n\n                var handler = function() {\n                    var currentHandler = that._cascadeFilterRequests.shift();\n                    if (currentHandler) {\n                        that.unbind('dataBound', currentHandler);\n                    }\n\n                    currentHandler = that._cascadeFilterRequests[0];\n                    if (currentHandler) {\n                        that.first('dataBound', currentHandler);\n                    }\n\n                    that._cascadeChange(parent);\n                };\n\n                that._cascadeFilterRequests.push(handler);\n\n                if (that._cascadeFilterRequests.length === 1) {\n                    that.first('dataBound', handler);\n                }\n\n                that._cascading = true;\n                that._filterSource({\n                    field: valueField,\n                    operator: \"eq\",\n                    value: filterValue\n                });\n                that._cascading = false;\n            } else {\n                that.enable(false);\n                that._clearSelection(parent);\n                that._triggerCascade();\n                that._triggerChange();\n                that._userTriggered = false;\n            }\n        }\n    });\n\n    var STATIC_LIST_NS = \".StaticList\";\n\n    var StaticList = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            this.element.attr(\"role\", \"listbox\")\n                        .on(CLICK + STATIC_LIST_NS, \"li\", proxy(this._click, this))\n                        .on(MOUSEENTER + STATIC_LIST_NS, \"li\", function() { $(this).addClass(HOVER); })\n                        .on(MOUSELEAVE + STATIC_LIST_NS, \"li\", function() { $(this).removeClass(HOVER); });\n\n            if (options && options.ariaLabel) {\n                this.element.attr(ARIA_LABEL, options.ariaLabel);\n            } else if (options && options.ariaLabelledBy) {\n                this.element.attr(ARIA_LABELLEDBY, options.ariaLabelledBy);\n            }\n\n            if (support.touch) {\n                this._touchHandlers();\n            }\n\n            if (this.options.selectable === \"multiple\") {\n                this.element.attr(ARIA_MULTISELECTABLE, true);\n            }\n\n            if (this.options.columns && this.options.columns.length) {\n                var thead = this.element.parent().find('.k-table-thead');\n                var row = $('<tr class=\"k-table-group-row\">' +\n                    '<th class=\"k-table-th\" colspan=\"' + this.options.columns.length + '\"></th>' +\n                '</tr>');\n\n                thead.append(row);\n\n                this.header = row.find(\".k-table-th\");\n\n                this.content = this.element.wrap(\"<div class='k-table-body k-table-scroller' unselectable='on'></div>\").parent();\n\n                this.element.addClass(TABLE_LIST);\n            } else {\n                this.content = this.element.wrap(\"<div class='k-list-content k-list-scroller' unselectable='on'></div>\").parent();\n                this.header = this.content.before('<div class=\"k-list-group-sticky-header\" style=\"display:none\"></div>').prev();\n                this.element.addClass(LIST_UL);\n            }\n\n            this.bound(false);\n\n            this._optionID = kendo.guid();\n\n            this._selectedIndices = [];\n\n            this._view = [];\n            this._dataItems = [];\n            this._values = [];\n\n            var value = this.options.value;\n\n            if (value) {\n                this._values = Array.isArray(value) ? value.slice(0) : [value];\n            }\n\n            this._getter();\n            this._templates();\n\n            this.setDataSource(this.options.dataSource);\n\n            this._onScroll = proxy(function() {\n                var that = this;\n                clearTimeout(that._scrollId);\n\n                that._scrollId = setTimeout(function() {\n                    that._renderHeader();\n                }, 50);\n            }, this);\n        },\n\n        options: {\n            name: \"StaticList\",\n            dataValueField: null,\n            valuePrimitive: false,\n            selectable: true,\n            template: null,\n            groupTemplate: null,\n            fixedGroupTemplate: null,\n            ariaLabel: null,\n            ariaLabelledBy: null\n        },\n\n        events: [\n           CLICK,\n            CHANGE,\n           ACTIVATE,\n           DEACTIVATE,\n           DATA_BINDING,\n           DATA_BOUND,\n           SELECTED_ITEM_CHANGE\n        ],\n\n        setDataSource: function(source) {\n            var that = this;\n            var dataSource = source || {};\n            var value;\n\n            dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n            dataSource = kendo.data.DataSource.create(dataSource);\n\n            if (that.dataSource) {\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n\n                value = that.value();\n\n                that.value([]);\n                that.bound(false);\n\n                that.value(value);\n            } else {\n                that._refreshHandler = proxy(that.refresh, that);\n            }\n\n            that.setDSFilter(dataSource.filter());\n\n            that.dataSource = dataSource.bind(CHANGE, that._refreshHandler);\n            that._fixedHeader();\n        },\n\n        _touchHandlers: function() {\n            var that = this;\n            var startY;\n            var endY;\n            var tapPosition = function(event) {\n                return (event.originalEvent || event).changedTouches[0].pageY;\n            };\n\n            that.element.on(\"touchstart\" + STATIC_LIST_NS, function(e) {\n                startY = tapPosition(e);\n            });\n\n            that.element.on(\"touchend\" + STATIC_LIST_NS, function(e) {\n                if (e.isDefaultPrevented()) {\n                    return;\n                }\n\n                endY = tapPosition(e);\n\n                if (Math.abs(endY - startY) < 10) {\n                    that._touchTriggered = true;\n                    that._triggerClick($(e.target).closest(ITEMSELECTOR).get(0));\n                }\n            });\n        },\n\n        skip: function() {\n            return this.dataSource.skip();\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n\n            this._getter();\n            this._templates();\n            this._render();\n        },\n\n        destroy: function() {\n            this.element.off(STATIC_LIST_NS);\n\n            if (this._refreshHandler) {\n                this.dataSource.unbind(CHANGE, this._refreshHandler);\n            }\n\n            clearTimeout(this._scrollId);\n\n            Widget.fn.destroy.call(this);\n        },\n\n        dataItemByIndex: function(index) {\n            return this.dataSource.flatView()[index];\n        },\n\n        screenHeight: function() {\n            return this.content[0].clientHeight;\n        },\n\n        scrollToIndex: function(index) {\n            var item = this.element[0].children[index];\n\n            if (item) {\n                this.scroll(item);\n            }\n        },\n\n        scrollWith: function(value) {\n            this.content.scrollTop(this.content.scrollTop() + value);\n        },\n\n        scroll: function(item) {\n            if (!item) {\n                return;\n            }\n\n            if (item[0]) {\n                item = item[0];\n            }\n\n            var content = this.content[0],\n                itemOffsetTop = item.offsetTop,\n                itemOffsetHeight = item.offsetHeight,\n                contentScrollTop = content.scrollTop,\n                contentOffsetHeight = content.clientHeight,\n                bottomDistance = itemOffsetTop + itemOffsetHeight;\n\n                if (contentScrollTop > itemOffsetTop) {\n                    contentScrollTop = itemOffsetTop;\n                } else if (bottomDistance > (contentScrollTop + contentOffsetHeight)) {\n                    contentScrollTop = (bottomDistance - contentOffsetHeight);\n                }\n\n                content.scrollTop = contentScrollTop;\n        },\n\n        selectedDataItems: function(dataItems) {\n            if (dataItems === undefined) {\n                return this._dataItems.slice();\n            }\n\n            this._dataItems = dataItems;\n            this._values = this._getValues(dataItems);\n        },\n\n        _getValues: function(dataItems) {\n            var getter = this._valueGetter;\n\n            return $.map(dataItems, function(dataItem) {\n                return getter(dataItem);\n            });\n        },\n\n        focusNext: function() {\n            var current = this.focus();\n\n            if (!current) {\n                current = 0;\n            } else {\n                current = current.next();\n            }\n\n            this.focus(current);\n        },\n\n        focusPrev: function() {\n            var current = this.focus();\n\n            if (!current) {\n                current = this.element[0].children.length - 1;\n            } else {\n                current = current.prev();\n            }\n\n            this.focus(current);\n        },\n\n        focusFirst: function() {\n            this.focus(this.element[0].children[0]);\n        },\n\n        focusLast: function() {\n            this.focus(last(this.element[0].children));\n        },\n\n        focus: function(candidate) {\n            var that = this;\n            var id = that._optionID;\n            var hasCandidate;\n\n            if (candidate === undefined) {\n                return that._current;\n            }\n\n            candidate = last(that._get(candidate));\n            candidate = $(this.element[0].children[candidate]);\n\n            if (that._current) {\n                that._current\n                    .removeClass(FOCUSED)\n                    .removeAttr(ID);\n\n                that.trigger(DEACTIVATE);\n            }\n\n            hasCandidate = !!candidate[0];\n\n            if (hasCandidate) {\n                candidate.addClass(FOCUSED);\n                that.scroll(candidate);\n\n                candidate.attr(\"id\", id);\n            }\n\n            that._current = hasCandidate ? candidate : null;\n            that.trigger(ACTIVATE);\n        },\n\n        focusIndex: function() {\n            return this.focus() ? this.focus().index() : undefined;\n        },\n\n        skipUpdate: function(skipUpdate) {\n            this._skipUpdate = skipUpdate;\n        },\n\n        select: function(indices) {\n            var that = this;\n            var selectable = that.options.selectable;\n            var singleSelection = selectable !== \"multiple\" && selectable !== false;\n            var selectedIndices = that._selectedIndices;\n            var uiSelectedIndices = [this.element.find(\".k-selected\").index()];\n\n            var added = [];\n            var removed = [];\n            var result;\n\n            if (indices === undefined) {\n                return selectedIndices.slice();\n            }\n\n            indices = that._get(indices);\n\n            if (indices.length === 1 && indices[0] === -1) {\n                indices = [];\n            }\n\n            var deferred = $.Deferred().resolve();\n            var filtered = that.isFiltered();\n\n            if (filtered && !singleSelection && that._deselectFiltered(indices)) {\n                return deferred;\n            }\n\n            if (singleSelection && !filtered &&\n                $.inArray(last(indices), selectedIndices) !== -1 && $.inArray(last(indices), uiSelectedIndices) !== -1) {\n\n                if (that._dataItems.length && that._view.length) {\n                    that._dataItems = [that._view[selectedIndices[0]].item];\n                }\n\n                return deferred;\n            }\n\n            result = that._deselect(indices);\n\n            removed = result.removed;\n            indices = result.indices;\n\n            if (indices.length) {\n                if (singleSelection) {\n                    indices = [last(indices)];\n                }\n\n                added = that._select(indices);\n            }\n\n            if (added.length || removed.length) {\n                that._valueComparer = null;\n                that.trigger(CHANGE, {\n                    added: added,\n                    removed: removed\n                });\n            }\n\n            return deferred;\n        },\n\n        removeAt: function(position) {\n            this._selectedIndices.splice(position, 1);\n            this._values.splice(position, 1);\n            this._valueComparer = null;\n\n            return {\n                position: position,\n                dataItem: this._dataItems.splice(position, 1)[0]\n            };\n        },\n\n        setValue: function(value) {\n            value = Array.isArray(value) || value instanceof ObservableArray ? value.slice(0) : [value];\n\n            this._values = value;\n\n            this._valueComparer = null;\n        },\n\n        value: function(value) {\n            var that = this;\n            var deferred = that._valueDeferred;\n            var indices;\n\n            if (value === undefined) {\n                return that._values.slice();\n            }\n\n            that.setValue(value);\n\n            if (!deferred || deferred.state() === \"resolved\") {\n                that._valueDeferred = deferred = $.Deferred();\n            }\n\n            if (that.bound()) {\n                indices = that._valueIndices(that._values);\n\n                if (that.options.selectable === \"multiple\") {\n                    that.select(-1);\n                }\n\n                that.select(indices);\n\n                deferred.resolve();\n            }\n\n            that._skipUpdate = false;\n\n            return deferred;\n        },\n\n        items: function() {\n            return this.element.children(ITEMSELECTOR);\n        },\n\n        _click: function(e) {\n            if (this._touchTriggered)\n            {\n                this._touchTriggered = false;\n                return;\n            }\n\n            if (!e.isDefaultPrevented()) {\n                this._triggerClick(e.currentTarget);\n            }\n        },\n\n        _triggerClick: function(item) {\n            if (!this.trigger(CLICK, { item: $(item) })) {\n                this.select(item);\n            }\n        },\n\n        _valueExpr: function(type, values) {\n            var that = this;\n            var idx = 0;\n\n            var body;\n            var comparer;\n            var normalized = [];\n\n            if (!that._valueComparer || that._valueType !== type) {\n                that._valueType = type;\n\n                for (; idx < values.length; idx++) {\n                    normalized.push(unifyType(values[idx], type));\n                }\n\n                body = \"for (var idx = 0; idx < \" + normalized.length + \"; idx++) {\" +\n                        \" if (current === values[idx]) {\" +\n                        \"   return idx;\" +\n                        \" }\" +\n                        \"} \" +\n                        \"return -1;\";\n\n                comparer = new Function(\"current\", \"values\", body);\n\n                that._valueComparer = function(current) {\n                    return comparer(current, normalized);\n                };\n            }\n\n            return that._valueComparer;\n        },\n\n        _dataItemPosition: function(dataItem, values) {\n            var value = this._valueGetter(dataItem);\n\n            var valueExpr = this._valueExpr(typeof value, values);\n\n            return valueExpr(value);\n        },\n\n        _getter: function() {\n            this._valueGetter = kendo.getter(this.options.dataValueField);\n        },\n\n        _deselect: function(indices) {\n            var that = this;\n            var children = that.element[0].children;\n            var selectable = that.options.selectable;\n            var selectedIndices = that._selectedIndices;\n            var dataItems = that._dataItems;\n            var values = that._values;\n            var removed = [];\n            var i = 0;\n            var j;\n\n            var index, selectedIndex;\n            var removedIndices = 0;\n\n            indices = indices.slice();\n\n            if (selectable === true || !indices.length) {\n                for (; i < selectedIndices.length; i++) {\n                    $(children[selectedIndices[i]]).removeClass(KSELECTED).attr(ARIA_SELECTED, false);\n\n                    removed.push({\n                        position: i,\n                        dataItem: dataItems[i]\n                    });\n                }\n\n                that._values = [];\n                that._dataItems = [];\n                that._selectedIndices = [];\n            } else if (selectable === \"multiple\") {\n                for (; i < indices.length; i++) {\n                    index = indices[i];\n\n                    if (!$(children[index]).hasClass(KSELECTED)) {\n                        continue;\n                    }\n\n                    for (j = 0; j < selectedIndices.length; j++) {\n                        selectedIndex = selectedIndices[j];\n\n                        if (selectedIndex === index) {\n                            $(children[selectedIndex]).removeClass(KSELECTED).attr(ARIA_SELECTED, false);\n                            var dataItem = this._view[index].item;\n                            var position = this._dataItemPosition(dataItem, this._values);\n\n                            removed.push({\n                                position: position,\n                                dataItem: dataItem\n                            });\n\n                            dataItems.splice(j, 1);\n                            selectedIndices.splice(j, 1);\n                            indices.splice(i, 1);\n                            values.splice(j, 1);\n\n                            removedIndices += 1;\n                            i -= 1;\n                            j -= 1;\n                            break;\n                        }\n                    }\n                }\n            }\n\n            return {\n                indices: indices,\n                removed: removed\n            };\n        },\n\n        _deselectFiltered: function(indices) {\n            var children = this.element[0].children;\n            var dataItem, index, position;\n            var removed = [];\n            var idx = 0;\n\n            for (; idx < indices.length; idx++) {\n                index = indices[idx];\n\n                dataItem = this._view[index].item;\n                position = this._dataItemPosition(dataItem, this._values);\n\n                if (position > -1) {\n                    removed.push(this.removeAt(position));\n                    $(children[index]).removeClass(KSELECTED);\n                }\n            }\n\n            if (removed.length) {\n                this.trigger(CHANGE, {\n                    added: [],\n                    removed: removed\n                });\n\n                return true;\n            }\n\n            return false;\n        },\n\n        _select: function(indices) {\n            var that = this;\n            var children = that.element[0].children;\n            var data = that._view;\n            var dataItem, index;\n            var added = [];\n            var idx = 0;\n\n            if (last(indices) !== -1) {\n                that.focus(indices);\n            }\n\n            for (; idx < indices.length; idx++) {\n                index = indices[idx];\n                dataItem = data[index];\n\n                if (index === -1 || !dataItem) {\n                    continue;\n                }\n\n                dataItem = dataItem.item;\n\n                that._selectedIndices.push(index);\n                that._dataItems.push(dataItem);\n                that._values.push(that._valueGetter(dataItem));\n\n                $(children[index]).addClass(KSELECTED).attr(ARIA_SELECTED, true);\n\n                added.push({\n                    dataItem: dataItem\n                });\n            }\n\n            return added;\n        },\n\n        getElementIndex: function(element) {\n            return $(element).data(\"offset-index\");\n        },\n\n        _get: function(candidate) {\n            if (typeof candidate === \"number\") {\n                candidate = [candidate];\n            } else if (!isArray(candidate)) {\n                candidate = this.getElementIndex(candidate);\n                candidate = [candidate !== undefined ? candidate : -1];\n            }\n\n            return candidate;\n        },\n\n        _template: function() {\n            var that = this;\n            var options = that.options;\n            var template = options.template;\n\n            if (!template) {\n                template = kendo.template('<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-list-item\"><span class=\"k-list-item-text\">${' + kendo.expr(options.dataTextField, \"data\") + \"}</span></li>\", { useWithBlock: false });\n            } else {\n                template = kendo.template(template);\n                template = function(data) {\n                    return '<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-list-item\">' + template(data) + \"</li>\";\n                };\n            }\n\n            return template;\n        },\n\n        _templates: function() {\n            var template;\n            var options = this.options;\n            var templates = {\n                template: options.template,\n                groupTemplate: options.groupTemplate,\n                fixedGroupTemplate: options.fixedGroupTemplate\n            };\n\n            if (options.columns) {\n                for (var i = 0; i < options.columns.length; i++) {\n                    var currentColumn = options.columns[i];\n                    var templateText = currentColumn.field ? currentColumn.field.toString() : TEXT;\n\n                    templates[\"column\" + i] = currentColumn.template || \"#: \" + templateText + \"#\";\n                }\n            }\n\n            for (var key in templates) {\n                template = templates[key];\n                if (template && typeof template !== \"function\") {\n                    templates[key] = kendo.template(template);\n                }\n            }\n\n            this.templates = templates;\n        },\n\n        _normalizeIndices: function(indices) {\n            var newIndices = [];\n            var idx = 0;\n\n            for (; idx < indices.length; idx++) {\n                if (indices[idx] !== undefined) {\n                    newIndices.push(indices[idx]);\n                }\n            }\n\n            return newIndices;\n        },\n\n        _valueIndices: function(values, indices) {\n            var data = this._view;\n            var idx = 0;\n            var index;\n\n            indices = indices ? indices.slice() : [];\n\n            if (!values.length) {\n                return [];\n            }\n\n            for (; idx < data.length; idx++) {\n                index = this._dataItemPosition(data[idx].item, values);\n\n                if (index !== -1) {\n                    indices[index] = idx;\n                }\n            }\n\n            return this._normalizeIndices(indices);\n        },\n\n        _firstVisibleItem: function() {\n            var element = this.element[0];\n            var content = this.content[0];\n            var scrollTop = content.scrollTop;\n            var itemHeight = $(element.children[0]).height();\n            var itemIndex = Math.floor(scrollTop / itemHeight) || 0;\n            var item = element.children[itemIndex] || element.lastChild;\n            var forward = item.offsetTop < scrollTop;\n\n            while (item) {\n                if (forward) {\n                    if ((item.offsetTop + itemHeight) > scrollTop || !item.nextSibling) {\n                        break;\n                    }\n\n                    item = item.nextSibling;\n                } else {\n                    if (item.offsetTop <= scrollTop || !item.previousSibling) {\n                        break;\n                    }\n\n                    item = item.previousSibling;\n                }\n            }\n\n            return this._view[$(item).data(\"offset-index\")];\n        },\n\n        _fixedHeader: function() {\n            if (this.isGrouped() && this.templates.fixedGroupTemplate) {\n                if (this.header.closest(GROUP_ROW_SEL).length) {\n                    this.header.closest(GROUP_ROW_SEL).show();\n                } else {\n                    this.header.show();\n                }\n\n                this.content.scroll(this._onScroll);\n            } else {\n                if (this.header.closest(GROUP_ROW_SEL).length) {\n                    this.header.closest(GROUP_ROW_SEL).hide();\n                } else {\n                    this.header.hide();\n                }\n\n                this.content.off(\"scroll\", this._onScroll);\n            }\n        },\n\n        _renderHeader: function() {\n            var template = this.templates.fixedGroupTemplate;\n            if (!template) {\n                return;\n            }\n\n            var visibleItem = this._firstVisibleItem();\n\n            if (visibleItem && visibleItem.group.toString().length) {\n                this.header.html(template(visibleItem.group));\n            }\n        },\n\n        _renderItem: function(context) {\n            var item = '<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" ';\n\n            var dataItem = context.item;\n            var notFirstItem = context.index !== 0;\n            var selected = context.selected;\n            var isGrouped = this.isGrouped();\n            var hasColumns = this.options.columns && this.options.columns.length;\n            var altRow = context.index % 2 === 1 ? \" k-table-alt-row\" : \"\";\n\n            if (hasColumns) {\n                item += ('class=\"k-table-row' + altRow);\n            } else {\n                item += 'class=\"k-list-item';\n            }\n\n            if (notFirstItem && context.newGroup) {\n                item += ' k-first';\n            }\n\n            if (context.isLastGroupedItem && hasColumns) {\n                item += ' k-last';\n            }\n\n            if (selected) {\n                item += ' k-selected';\n            }\n\n            item += '\" aria-selected=\"' + (selected ? \"true\" : \"false\") + '\" data-offset-index=\"' + context.index + '\">';\n            if (hasColumns) {\n                item += this._renderColumns(dataItem);\n            } else {\n                item += '<span class=\"k-list-item-text\">';\n                item += this.templates.template(dataItem);\n                item += '</span>';\n            }\n\n            if (notFirstItem && context.newGroup) {\n                if (hasColumns) {\n                    item += '<span class=\"k-table-td k-table-group-td\"><span>' + this.templates.groupTemplate(context.group) + '</span></span>';\n                } else {\n                    item += '<div class=\"k-list-item-group-label\">' + this.templates.groupTemplate(context.group) + '</div>';\n                }\n            } else if (isGrouped && hasColumns) {\n                item += '<span class=\"k-table-td k-table-spacer-td\"></span>';\n            }\n\n            return item + \"</li>\";\n        },\n\n        _renderColumns: function(dataItem) {\n            var item = \"\";\n\n            for (var i = 0; i < this.options.columns.length; i++) {\n                var currentWidth = this.options.columns[i].width;\n                var currentWidthInt = parseInt(currentWidth, 10);\n                var widthStyle = '';\n\n                if (currentWidth && !isNaN(currentWidthInt)) {\n                    widthStyle += \"style='width:\";\n                    widthStyle += currentWidthInt;\n                    widthStyle += percentageUnitsRegex.test(currentWidth) ? \"%\" : \"px\";\n                    widthStyle += \";'\";\n                }\n                item += \"<span class='k-table-td' \" + widthStyle + \">\";\n                item += this.templates[\"column\" + i](dataItem);\n                item += \"</span>\";\n            }\n\n            return item;\n        },\n\n        _render: function() {\n            var html = \"\";\n\n            var i = 0;\n            var idx = 0;\n            var context;\n            var dataContext = [];\n            var view = this.dataSource.view();\n            var values = this.value();\n\n            var group, newGroup, j;\n            var isGrouped = this.isGrouped();\n\n            if (isGrouped) {\n                for (i = 0; i < view.length; i++) {\n                    group = view[i];\n                    newGroup = true;\n\n                    for (j = 0; j < group.items.length; j++) {\n                        context = {\n                            selected: this._selected(group.items[j], values),\n                            item: group.items[j],\n                            group: group.value,\n                            newGroup: newGroup,\n                            isLastGroupedItem: j === group.items.length - 1,\n                            index: idx };\n                        dataContext[idx] = context;\n                        idx += 1;\n\n                        html += this._renderItem(context);\n                        newGroup = false;\n                    }\n                }\n            } else {\n                for (i = 0; i < view.length; i++) {\n                    context = { selected: this._selected(view[i], values), item: view[i], index: i };\n\n                    dataContext[i] = context;\n\n                    html += this._renderItem(context);\n                }\n            }\n\n            this._view = dataContext;\n\n            this.element[0].innerHTML = html;\n\n            if (isGrouped && dataContext.length) {\n                this._renderHeader();\n            }\n        },\n\n        _selected: function(dataItem, values) {\n            var select = !this.isFiltered() || this.options.selectable === \"multiple\";\n            return select && this._dataItemPosition(dataItem, values) !== -1;\n        },\n\n        setDSFilter: function(filter) {\n            this._lastDSFilter = extend({}, filter);\n        },\n\n        isFiltered: function() {\n            if (!this._lastDSFilter) {\n                this.setDSFilter(this.dataSource.filter());\n            }\n\n            return !kendo.data.Query.compareFilters(this.dataSource.filter(), this._lastDSFilter);\n        },\n\n        refresh: function(e) {\n            var that = this;\n            var action = e && e.action;\n            var skipUpdateOnBind = that.options.skipUpdateOnBind;\n            var isItemChange = action === \"itemchange\";\n            var result;\n\n            that.trigger(DATA_BINDING);\n            that._angularItems(\"cleanup\");\n\n            that._fixedHeader();\n\n            that._render();\n\n            that.bound(true);\n\n            if (isItemChange || action === \"remove\") {\n                result = mapChangedItems(that._dataItems, e.items);\n\n                if (result.changed.length) {\n                    if (isItemChange) {\n                        that.trigger(SELECTED_ITEM_CHANGE, {\n                            items: result.changed\n                        });\n                    } else {\n                        that.value(that._getValues(result.unchanged));\n                    }\n                }\n            } else if (that.isFiltered() || that._skipUpdate || that._emptySearch) {\n                that.focus(0);\n                if (that._skipUpdate) {\n                    that._skipUpdate = false;\n                    that._selectedIndices = that._valueIndices(that._values, that._selectedIndices);\n                }\n            } else if (!skipUpdateOnBind && (!action || action === \"add\")) {\n                that.value(that._values);\n            }\n\n            if (that._valueDeferred) {\n                that._valueDeferred.resolve();\n            }\n\n            that._angularItems(\"compile\");\n            that.trigger(DATA_BOUND);\n        },\n\n        bound: function(bound) {\n            if (bound === undefined) {\n                return this._bound;\n            }\n\n            this._bound = bound;\n        },\n\n        isGrouped: function() {\n            return (this.dataSource.group() || []).length;\n        }\n    });\n\n    ui.plugin(StaticList);\n\n    function last(list) {\n        return list[list.length - 1];\n    }\n\n    function getSelectedOption(select) {\n        var index = select.selectedIndex;\n        return index > -1 ? select.options[index] : {};\n    }\n\n    function mapChangedItems(selected, itemsToMatch) {\n        var itemsLength = itemsToMatch.length;\n        var selectedLength = selected.length;\n        var dataItem;\n        var found;\n        var i, j;\n\n        var changed = [];\n        var unchanged = [];\n\n        if (selectedLength) {\n            for (i = 0; i < selectedLength; i++) {\n                dataItem = selected[i];\n                found = false;\n\n                for (j = 0; j < itemsLength; j++) {\n                    if (dataItem === itemsToMatch[j]) {\n                        found = true;\n                        changed.push({ index: i, item: dataItem });\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    unchanged.push(dataItem);\n                }\n            }\n        }\n\n        return {\n            changed: changed,\n            unchanged: unchanged\n        };\n    }\n\n    function isValidFilterExpr(expression) {\n        if (!expression || $.isEmptyObject(expression)) {\n            return false;\n        }\n\n        if (expression.filters && !expression.filters.length) {\n            return false;\n        }\n\n        return true;\n    }\n\n    function removeFiltersForField(expression, field) {\n        var filters;\n        var found = false;\n\n        if (expression.filters) {\n            filters = $.grep(expression.filters, function(filter) {\n                found = removeFiltersForField(filter, field);\n                if (filter.filters) {\n                    return filter.filters.length;\n                } else {\n                    return filter.field != field;\n                }\n            });\n\n            if (!found && expression.filters.length !== filters.length) {\n                found = true;\n            }\n\n            expression.filters = filters;\n        }\n\n        return found;\n    }\n\n    kendo.cssProperties.registerPrefix(\"List\", \"k-list-\");\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.calendar',[ \"./kendo.core\", \"./kendo.selectable\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"calendar\",\n    name: \"Calendar\",\n    category: \"web\",\n    description: \"The Calendar widget renders a graphical calendar that supports navigation and selection.\",\n    depends: [ \"core\", \"selectable\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        keys = kendo.keys,\n        parse = kendo.parseDate,\n        adjustDST = kendo.date.adjustDST,\n        weekInYear = kendo.date.weekInYear,\n        Selectable = kendo.ui.Selectable,\n        extractFormat = kendo._extractFormat,\n        template = kendo.template,\n        getCulture = kendo.getCulture,\n        transitions = kendo.support.transitions,\n        transitionOrigin = transitions ? transitions.css + \"transform-origin\" : \"\",\n        cellTemplate = template('<td class=\"#=data.cssClass#\" role=\"gridcell\"><a tabindex=\"-1\" class=\"k-link\" href=\"\\\\#\" data-#=data.ns#value=\"#=data.dateString#\">#=data.value#</a></td>', { useWithBlock: false }),\n        emptyCellTemplate = template('<td role=\"gridcell\" class=\"k-calendar-td k-out-of-range\"><a class=\"k-link\"></a></td>', { useWithBlock: false }),\n        otherMonthCellTemplate = template('<td role=\"gridcell\" class=\"k-calendar-td k-out-of-range\">&nbsp;</td>', { useWithBlock: false }),\n        weekNumberTemplate = template('<td class=\"k-calendar-td k-alt\">#= data.weekNumber #</td>', { useWithBlock: false }),\n        outerWidth = kendo._outerWidth,\n        ns = \".kendoCalendar\",\n        CLICK = \"click\" + ns,\n        KEYDOWN_NS = \"keydown\" + ns,\n        ID = \"id\",\n        MIN = \"min\",\n        LEFT = \"left\",\n        SLIDE = \"slideIn\",\n        MONTH = \"month\",\n        CENTURY = \"century\",\n        CHANGE = \"change\",\n        NAVIGATE = \"navigate\",\n        VALUE = \"value\",\n        HOVER = \"k-state-hover\",\n        DISABLED = \"k-state-disabled\",\n        FOCUSED = \"k-state-focused\",\n        OTHERMONTH = \"k-other-month\",\n        OUTOFRANGE = \"k-out-of-range\",\n        TODAY = \"k-nav-today\",\n        CELLSELECTOR = \"td:has(.k-link)\",\n        CELLSELECTORVALID = \"td:has(.k-link):not(.\" + DISABLED + \"):not(.\" + OUTOFRANGE + \")\",\n        WEEKCOLUMNSELECTOR = \"td:not(:has(.k-link))\",\n        SELECTED = \"k-state-selected\",\n        BLUR = \"blur\" + ns,\n        FOCUS = \"focus\",\n        FOCUS_WITH_NS = FOCUS + ns,\n        MOUSEENTER = support.touch ? \"touchstart\" : \"mouseenter\",\n        MOUSEENTER_WITH_NS = support.touch ? \"touchstart\" + ns : \"mouseenter\" + ns,\n        MOUSELEAVE = support.touch ? \"touchend\" + ns + \" touchmove\" + ns : \"mouseleave\" + ns,\n        MS_PER_MINUTE = 60000,\n        MS_PER_DAY = 86400000,\n        PREVARROW = \"_prevArrow\",\n        NEXTARROW = \"_nextArrow\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_SELECTED = \"aria-selected\",\n        ARIA_LABEL = \"aria-label\",\n        proxy = $.proxy,\n        extend = $.extend,\n        DATE = Date,\n        views = {\n            month: 0,\n            year: 1,\n            decade: 2,\n            century: 3\n        },\n        HEADERSELECTOR = '.k-header, .k-calendar-header',\n        CLASSIC_HEADER_TEMPLATE = '<div class=\"k-header k-hstack\">' +\n            '<a href=\"\\\\#\" #=actionAttr#=\"prev\" role=\"button\" class=\"k-nav-prev k-button #=size# k-rounded-md k-button-flat k-button-flat-base k-icon-button\" ' + ARIA_LABEL + '=\"Previous\"><span class=\"k-button-icon k-icon k-i-arrow-60-left\"></span></a>' +\n            '<a href=\"\\\\#\" #=actionAttr#=\"nav-up\" role=\"button\" aria-live=\"assertive\" aria-atomic=\"true\" class=\"k-nav-fast k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-flex\"></a>' +\n            '<a href=\"\\\\#\" #=actionAttr#=\"next\" role=\"button\" class=\"k-nav-next k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button\" ' + ARIA_LABEL + '=\"Next\"><span class=\"k-icon k-i-arrow-60-right\"></span></a>' +\n        '</div>',\n        MODERN_HEADER_TEMPLATE = '<div class=\"k-calendar-header k-hstack\">' +\n            '<a href=\"\\\\#\" #=actionAttr#=\"nav-up\" role=\"button\" aria-live=\"assertive\" aria-atomic=\"true\" class=\"k-calendar-title k-title k-button #=size# k-rounded-md k-button-flat k-button-flat-base \"></a>' +\n            '<span class=\"k-spacer\"></span>' +\n            '<span class=\"k-calendar-nav k-hstack\">' +\n                '<a #=actionAttr#=\"prev\" class=\"k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button k-prev-view\">' +\n                    '<span class=\"k-button-icon k-icon k-i-arrow-60-left\"></span>' +\n                '</a>' +\n                '<a #=actionAttr#=\"today\" class=\"k-nav-today\">#=messages.today#</a>' +\n                '<a #=actionAttr#=\"next\" class=\"k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button k-next-view\">' +\n                    '<span class=\"k-button-icon k-icon k-i-arrow-60-right\"></span>' +\n                '</a>' +\n            '</span>' +\n        '</div>';\n\n    var Calendar = Widget.extend({\n        init: function(element, options) {\n            var that = this, value, id;\n            options = options || {};\n            options.componentType = options.componentType || \"classic\";\n            Widget.fn.init.call(that, element, options);\n\n            element = that.wrapper = that.element;\n            options = that.options;\n\n            options.url = kendo.unescape(options.url);\n\n            that.options.disableDates = getDisabledExpr(that.options.disableDates);\n\n            that._templates();\n\n            that._selectable();\n\n            that._header();\n\n            that._viewWrapper();\n\n            if (that.options.hasFooter) {\n                that._footer(that.footer);\n            } else {\n                that._today = that.element.find('a.k-nav-today');\n                that._toggle();\n            }\n\n            id = element\n                .addClass(\"k-widget k-calendar \" + (options.weekNumber ? \" k-week-number\" : \"\"))\n                .on(MOUSEENTER_WITH_NS + \" \" + MOUSELEAVE, CELLSELECTOR, mousetoggle)\n                .on(KEYDOWN_NS, \"table.k-content\", proxy(that._move, that))\n                .on(CLICK + \" touchend\", CELLSELECTOR, function(e) {\n                    var link = e.currentTarget.firstChild,\n                        value = toDateObject(link);\n\n                    if (link.href.indexOf(\"#\") != -1) {\n                        e.preventDefault();\n                    }\n\n                    if (that._view.name == \"month\" && that.options.disableDates(value)) {\n                        return;\n                    }\n                    if (that._view.name != \"month\" || options.selectable == \"single\") {\n                            that._click($(link));\n                    }\n                })\n                .on(\"mouseup\" + ns, \"table.k-content, .k-footer\", function() {\n                    that._focusView(that.options.focusOnNav !== false);\n                })\n                .attr(ID);\n\n            if (that._isMultipleSelection() && that.options.weekNumber) {\n                element.on(CLICK, WEEKCOLUMNSELECTOR, function(e) {\n                        var first = $(e.currentTarget).closest(\"tr\").find(CELLSELECTORVALID).first(),\n                            last = that.selectable._lastActive = $(e.currentTarget).closest(\"tr\").find(CELLSELECTORVALID).last();\n                        that.selectable.selectRange(first, last, { event: e});\n                        that._current = that._value = toDateObject(last.find(\"a\"));\n                        that._setCurrent(that._current);\n                });\n            }\n\n            normalize(options);\n            value = parse(options.value, options.format, options.culture);\n            that._selectDates = [];\n\n            that._index = views[options.start];\n\n            that._current = new DATE(+restrictValue(value, options.min, options.max));\n\n            that._addClassProxy = function() {\n                that._active = true;\n\n                if (that._cell.hasClass(DISABLED)) {\n                    var todayString = that._view.toDateString(getToday());\n                    that._cell = that._cellByDate(todayString);\n                }\n\n                that._cell.addClass(FOCUSED);\n            };\n\n            that._removeClassProxy = function() {\n                that._active = false;\n                if (that._cell) {\n                    that._cell.removeClass(FOCUSED);\n                }\n            };\n\n            that.value(value);\n\n            if (that._isMultipleSelection() && options.selectDates.length > 0) {\n                that.selectDates(options.selectDates);\n            }\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"Calendar\",\n            value: null,\n            min: new DATE(1900, 0, 1),\n            max: new DATE(2099, 11, 31),\n            dates: [],\n            disableDates: null,\n            url: \"\",\n            culture: \"\",\n            footer : \"\",\n            format : \"\",\n            month : {},\n            weekNumber: false,\n            selectable: \"single\",\n            selectDates: [],\n            start: MONTH,\n            depth: MONTH,\n            size: \"medium\",\n            animation: {\n                horizontal: {\n                    effects: SLIDE,\n                    reverse: true,\n                    duration: 500,\n                    divisor: 2\n                },\n                vertical: {\n                    effects: \"zoomIn\",\n                    duration: 400\n                }\n            },\n            messages: {\n                weekColumnHeader: \"\",\n                today: \"Today\"\n            },\n            componentType: \"classic\"\n        },\n\n        events: [\n            CHANGE,\n            NAVIGATE\n        ],\n\n        componentTypes: {\n            \"classic\": {\n                header: {\n                    template: CLASSIC_HEADER_TEMPLATE\n                },\n                hasFooter: true,\n                linksSelector: \".k-button\",\n                contentClasses: \"k-calendar-table k-content\"\n            },\n            \"modern\": {\n                header: {\n                    template: MODERN_HEADER_TEMPLATE\n                },\n                hasFooter: false,\n                linksSelector: \".k-button\",\n                contentClasses: \"k-calendar-table k-content k-calendar-content\"\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            normalize(options);\n\n            options.disableDates = getDisabledExpr(options.disableDates);\n            that._destroySelectable();\n\n            Widget.fn.setOptions.call(that, options);\n\n            that._templates();\n\n            that._selectable();\n\n            that._viewWrapper();\n\n            if (that.options.hasFooter) {\n                that._footer(that.footer);\n            } else {\n                that.element.find(\".k-footer\").hide();\n                that._toggle();\n            }\n            that._index = views[that.options.start];\n\n            that.navigate();\n\n            if (options.weekNumber) {\n                that.element.addClass('k-week-number');\n            }\n        },\n\n        destroy: function() {\n            var that = this,\n            today = that._today;\n\n            that.element.off(ns);\n            that._title.off(ns);\n            that[PREVARROW].off(ns);\n            that[NEXTARROW].off(ns);\n            that._destroySelectable();\n            kendo.destroy(that._table);\n\n            if (today) {\n                kendo.destroy(today.off(ns));\n            }\n\n            Widget.fn.destroy.call(that);\n        },\n\n        current: function() {\n            return this._current;\n        },\n\n        view: function() {\n            return this._view;\n        },\n\n        focus: function(table) {\n            table = table || this._table;\n            this._bindTable(table);\n            table.trigger(\"focus\");\n        },\n\n        min: function(value) {\n            return this._option(MIN, value);\n        },\n\n        max: function(value) {\n            return this._option(\"max\", value);\n        },\n\n        navigateToPast: function() {\n            this._navigate(PREVARROW, -1);\n        },\n\n        navigateToFuture: function() {\n            this._navigate(NEXTARROW, 1);\n        },\n\n        navigateUp: function() {\n            var that = this,\n            index = that._index;\n\n            if (that._title.hasClass(DISABLED)) {\n                return;\n            }\n\n            that.navigate(that._current, ++index);\n        },\n\n        navigateDown: function(value) {\n            var that = this,\n            index = that._index,\n            depth = that.options.depth;\n\n            if (!value) {\n                return;\n            }\n\n            if (index === views[depth]) {\n                if (!isEqualDate(that._value, that._current) || !isEqualDate(that._value, value)) {\n                    that.value(value);\n                    that.trigger(CHANGE);\n                }\n                return;\n            }\n\n            that.navigate(value, --index);\n        },\n\n        navigate: function(value, view) {\n            view = isNaN(view) ? views[view] : view;\n\n            var that = this,\n                options = that.options,\n                culture = options.culture,\n                min = options.min,\n                max = options.max,\n                title = that._title,\n                from = that._table,\n                old = that._oldTable,\n                currentValue = that._current,\n                future = value && +value > +currentValue,\n                vertical = view !== undefined && view !== that._index,\n                to, currentView, compare,\n                disabled,\n                viewWrapper = that.element.children(\".k-calendar-view\");\n\n            if (!value) {\n                value = currentValue;\n            }\n\n            that._current = value = new DATE(+restrictValue(value, min, max));\n\n            if (view === undefined) {\n                view = that._index;\n            } else {\n                that._index = view;\n            }\n\n            that._view = currentView = calendar.views[view];\n            compare = currentView.compare;\n\n            disabled = view === views[CENTURY];\n            title.toggleClass(DISABLED, disabled).attr(ARIA_DISABLED, disabled);\n\n            disabled = compare(value, min) < 1;\n            that[PREVARROW].toggleClass(DISABLED, disabled).attr(ARIA_DISABLED, disabled);\n\n            disabled = compare(value, max) > -1;\n            that[NEXTARROW].toggleClass(DISABLED, disabled).attr(ARIA_DISABLED, disabled);\n\n            if (from && old && old.data(\"animating\")) {\n                old.kendoStop(true, true);\n                from.kendoStop(true, true);\n            }\n\n            that._oldTable = from;\n\n            if (!from || that._changeView) {\n                title.html(currentView.title(value, min, max, culture));\n\n                that._table = to = $(currentView.content(extend({\n                    min: min,\n                    max: max,\n                    date: value,\n                    url: options.url,\n                    dates: options.dates,\n                    format: options.format,\n                    otherMonth : true,\n                    culture: culture,\n                    disableDates: options.disableDates,\n                    isWeekColumnVisible: options.weekNumber,\n                    messages: options.messages,\n                    contentClasses: that.options.contentClasses\n                }, that[currentView.name])));\n\n                addClassToViewContainer(to, currentView.name);\n                var replace = from && from.data(\"start\") === to.data(\"start\");\n                that._animate({\n                    from: from,\n                    to: to,\n                    vertical: vertical,\n                    future: future,\n                    replace: replace\n                });\n\n                viewWrapper.removeClass(\"k-calendar-monthview k-calendar-yearview k-calendar-decadeview k-calendar-centuryview\");\n                viewWrapper.addClass(\"k-calendar-\" + currentView.name + \"view\");\n\n                that.trigger(NAVIGATE);\n\n                that._focus(value);\n            }\n\n            if (view === views[options.depth] && that._selectDates.length > 0) {\n                that._visualizeSelectedDatesInView();\n            }\n\n            if (that.options.selectable === \"single\") {\n                if (view === views[options.depth] && that._value && !that.options.disableDates(that._value)) {\n                    that._selectCell(that._value);\n                }\n            }\n\n            that._setCurrent(value);\n\n            if (!from && that._cell) {\n                that._cell.removeClass(FOCUSED);\n            }\n\n            that._changeView = true;\n        },\n\n        selectDates: function(dates) {\n            var that = this,\n                validSelectedDates,\n                datesUnique;\n\n            if (dates === undefined) {\n                return that._selectDates;\n            }\n\n            datesUnique = dates\n                .map(function (date) { return date.getTime(); })\n                .filter(function (date, position, array) {\n                    return array.indexOf(date) === position;\n                })\n                .map(function (time) { return new Date(time); });\n\n            validSelectedDates = $.grep(datesUnique, function(value) {\n                if (value) {\n                    return +that._validateValue(new Date(value.setHours(0, 0, 0, 0))) === +value;\n                }\n            });\n            that._selectDates = validSelectedDates.length > 0 ? validSelectedDates : (datesUnique.length === 0 ? datesUnique : that._selectDates);\n            that._visualizeSelectedDatesInView();\n        },\n\n        value: function(value) {\n            var that = this,\n                old = that._view,\n                view = that._view;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            value = that._validateValue(value);\n            if (value && that._isMultipleSelection()) {\n                var date = new Date(+value);\n                date.setHours(0, 0, 0, 0);\n                that._selectDates = [date];\n                that.selectable._lastActive = null;\n            }\n            if (old && value === null && that._cell) {\n                that._cell.removeClass(SELECTED);\n            } else {\n                that._changeView = !value || view && view.compare(value, that._current) !== 0;\n                that.navigate(value);\n            }\n        },\n\n        _validateValue: function(value) {\n            var that = this,\n                options = that.options,\n                min = options.min,\n                max = options.max;\n\n            if (value === null) {\n                that._current = createDate(that._current.getFullYear(), that._current.getMonth(), that._current.getDate());\n            }\n\n            value = parse(value, options.format, options.culture);\n\n            if (value !== null) {\n                value = new DATE(+value);\n\n                if (!isInRange(value, min, max)) {\n                    value = null;\n                }\n            }\n\n            if (value === null || !that.options.disableDates(new Date(+value))) {\n                that._value = value;\n            } else if (that._value === undefined) {\n                that._value = null;\n            }\n\n            return that._value;\n        },\n\n        _visualizeSelectedDatesInView: function() {\n            var that = this;\n             var selectedDates = {};\n            $.each(that._selectDates, function(index, value) {\n                selectedDates[kendo.calendar.views[0].toDateString(value)] = value;\n            });\n            that.selectable.clear();\n             var cells = that._table\n                .find(CELLSELECTOR)\n                .filter(function(index, element) {\n                    return selectedDates[$(element.firstChild).attr(kendo.attr(VALUE))];\n                });\n            if (cells.length > 0) {\n                that.selectable._selectElement(cells, true);\n            }\n        },\n\n        _isMultipleSelection: function() {\n            var that = this;\n            return that.options.selectable === \"multiple\";\n        },\n\n        _selectable: function() {\n            var that = this;\n            if (!that._isMultipleSelection()) {\n                return;\n            }\n\n            var selectable = that.options.selectable,\n            selectableOptions = Selectable.parseOptions(selectable);\n\n            if (selectableOptions.multiple) {\n                that.element.attr(\"aria-multiselectable\", \"true\");\n            }\n            that.selectable = new Selectable(that.wrapper, {\n                aria: true,\n                //excludes the anchor element\n                inputSelectors: \"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up\",\n                multiple: selectableOptions.multiple,\n                filter: \"table.k-month:eq(0) \" + CELLSELECTORVALID,\n                change: proxy(that._onSelect, that),\n                relatedTarget: proxy(that._onRelatedTarget, that)\n            });\n        },\n\n        _onRelatedTarget: function(target) {\n            var that = this;\n\n            if (that.selectable.options.multiple && target.is(CELLSELECTORVALID)) {\n                that._current = toDateObject(target.find(\"a\"));\n                that._setCurrent(that._current);\n            }\n\n        },\n\n        _onSelect: function(e) {\n            var that = this,\n                eventArgs = e,\n                selectableOptions = Selectable.parseOptions(that.options.selectable);\n\n            if (!selectableOptions.multiple) {\n                if ($(eventArgs.event.currentTarget).is(\"td\") && !$(eventArgs.event.currentTarget).hasClass(\"k-state-selected\")) {\n                    $(eventArgs.event.currentTarget).addClass(\"k-state-selected\");\n                }\n                else {\n                    that._click($(eventArgs.event.currentTarget).find(\"a\"));\n                }\n                return;\n            }\n\n            if (eventArgs.event.ctrlKey || eventArgs.event.metaKey) {\n                if ($(eventArgs.event.currentTarget).is(CELLSELECTORVALID)) {\n                    that._toggleSelection($(eventArgs.event.currentTarget));\n                }\n                else {\n                    that._cellsBySelector(CELLSELECTORVALID).each(function(index, element){\n                        var value = toDateObject($(element).find(\"a\"));\n                        that._deselect(value);\n                    });\n                    that._addSelectedCellsToArray();\n                }\n            }\n            else if (eventArgs.event.shiftKey) {\n                that._rangeSelection(that._cell);\n            }\n            else if ($(eventArgs.event.currentTarget).is(CELLSELECTOR)) {\n                that.value(toDateObject($(eventArgs.event.currentTarget).find(\"a\")));\n            }\n            else {\n                that._selectDates = [];\n                that._addSelectedCellsToArray();\n            }\n             that.trigger(CHANGE);\n        },\n\n        _destroySelectable: function() {\n            var that = this;\n\n            if (that.selectable) {\n                that.selectable.destroy();\n                that.selectable = null;\n            }\n        },\n\n        //when ctrl key is clicked\n        _toggleSelection: function(currentCell) {\n            var that = this,\n                date = toDateObject(currentCell.find(\"a\"));\n                if (currentCell.hasClass(\"k-state-selected\")) {\n                    that._selectDates.push(date);\n                }\n                else {\n                    that._deselect(date);\n                }\n        },\n\n        //shift selection\n        _rangeSelection: function(toDateCell, startDate) {\n            var that = this,\n                fromDate  = startDate || toDateObject(that.selectable.value().first().find(\"a\")),\n                toDate = toDateObject(toDateCell.find(\"a\")),\n                daysDifference;\n\n            if (that.selectable._lastActive || that._value) {\n                fromDate = that.selectable._lastActive? toDateObject(that.selectable._lastActive.find(\"a\")): new Date(+that._value);\n            } else {\n                that.selectable._lastActive = startDate? that._cellByDate(that._view.toDateString(startDate), CELLSELECTORVALID): that.selectable.value().first();\n            }\n\n            that._selectDates = [];\n            daysDifference = daysBetweenTwoDates(fromDate, toDate);\n            addDaysToArray(that._selectDates, daysDifference, fromDate, that.options.disableDates);\n\n            that._visualizeSelectedDatesInView();\n        },\n\n        _cellsBySelector: function(selector) {\n            var that = this;\n            return that._table.find(selector);\n        },\n\n        _addSelectedCellsToArray: function() {\n            var that = this;\n            that.selectable.value().each(function(index, item) {\n                var date = toDateObject($(item.firstChild));\n                if (!that.options.disableDates(date)) {\n                    that._selectDates.push(date);\n                }\n            });\n        },\n\n         _deselect: function(date) {\n            var that = this;\n             var currentDateIndex = that._selectDates.map(Number).indexOf(+date);\n            if (currentDateIndex != -1) {\n                that._selectDates.splice(currentDateIndex, 1);\n            }\n        },\n\n        _dateInView: function(date) {\n            var that = this,\n                firstDateInView = toDateObject(that._cellsBySelector(CELLSELECTORVALID).first().find(\"a\")),\n                lastDateInView = toDateObject(that._cellsBySelector(CELLSELECTORVALID).last().find(\"a\"));\n\n            return +date <= +lastDateInView && +date >= +firstDateInView;\n        },\n\n        _isNavigatable: function(currentValue, cellIndex) {\n            var that = this;\n            var isDisabled = that.options.disableDates;\n            var cell;\n            var index;\n\n            if (that._view.name == \"month\") {\n                return !isDisabled(currentValue);\n            } else {\n                index = that.wrapper.find(\".\"+FOCUSED).index();\n                cell = that.wrapper.find(\".k-content td\").eq(index + cellIndex);\n                return cell.is(CELLSELECTORVALID) || !isDisabled(currentValue);\n            }\n        },\n\n        _move: function(e) {\n            var that = this,\n                options = that.options,\n                key = e.keyCode,\n                view = that._view,\n                index = that._index,\n                min = that.options.min,\n                max = that.options.max,\n                currentValue = new DATE(+that._current),\n                isRtl = kendo.support.isRtl(that.wrapper),\n                isDisabled = that.options.disableDates,\n                value, prevent, method, temp;\n\n            if (e.target === that._table[0]) {\n                that._active = true;\n            }\n\n            if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                value = 1;\n                prevent = true;\n            } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                value = -1;\n                prevent = true;\n            } else if (key == keys.UP) {\n                value = index === 0 ? -7 : -4;\n                prevent = true;\n            } else if (key == keys.DOWN) {\n                value = index === 0 ? 7 : 4;\n                prevent = true;\n            }\n            else if (key == keys.SPACEBAR) {\n                value = 0;\n                prevent = true;\n            }\n            else if (key == keys.HOME || key == keys.END) {\n                method = key == keys.HOME ? \"first\" : \"last\";\n                temp = view[method](currentValue);\n                currentValue = new DATE(temp.getFullYear(), temp.getMonth(), temp.getDate(), currentValue.getHours(), currentValue.getMinutes(), currentValue.getSeconds(), currentValue.getMilliseconds());\n                currentValue.setFullYear(temp.getFullYear());\n                prevent = true;\n            }\n\n            if (e.ctrlKey || e.metaKey) {\n                if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                    that.navigateToFuture();\n                    prevent = true;\n                } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                    that.navigateToPast();\n                    prevent = true;\n                } else if (key == keys.UP) {\n                    that.navigateUp();\n                    prevent = true;\n                } else if (key == keys.DOWN) {\n                    that._click($(that._cell[0].firstChild));\n                    prevent = true;\n                }\n                  else if ((key == keys.ENTER || key == keys.SPACEBAR) && that._isMultipleSelection()) {\n                    that._keyboardToggleSelection(e);\n\n                    var focusedDate = toDateObject($(that._cell[0]).find(\"a\"));\n                    that._setCurrent(focusedDate);\n\n                }\n            } else if (e.shiftKey) {\n                if (value !== undefined || method) {\n                    if (!method) {\n                        view.setDate(currentValue, value);\n                    }\n\n                    if (!isInRange(currentValue, min, max)) {\n                        currentValue = restrictValue(currentValue, options.min, options.max);\n                    }\n\n                    if (isDisabled(currentValue)) {\n                        currentValue = that._nextNavigatable(currentValue, value);\n                    }\n\n                    min = createDate(min.getFullYear(), min.getMonth(), min.getDate());\n                    if (that._isMultipleSelection()) {\n                        that._keyboardRangeSelection(e, currentValue);\n                    }\n                    else {\n                        that._focus(currentValue);\n                    }\n                }\n            } else {\n                if (key == keys.ENTER || key == keys.SPACEBAR) {\n                    if (view.name == \"month\" && that._isMultipleSelection()) {\n                        that.value(toDateObject($(that._cell.find(\"a\"))));\n                        that.selectable._lastActive = $(that._cell[0]);\n                        that.trigger(CHANGE);\n                    }\n                    else {\n                        that._click($(that._cell[0].firstChild));\n                    }\n                    prevent = true;\n                } else if (key == keys.PAGEUP) {\n                    prevent = true;\n                    that.navigateToPast();\n                } else if (key == keys.PAGEDOWN) {\n                    prevent = true;\n                    that.navigateToFuture();\n                }\n\n                if (value || method) {\n                    if (!method) {\n                        view.setDate(currentValue, value);\n                    }\n\n                    min = createDate(min.getFullYear(), min.getMonth(), min.getDate());\n\n                    if (!isInRange(currentValue, min, max)) {\n                        currentValue = restrictValue(currentValue, options.min, options.max);\n                    }\n\n                    if (!that._isNavigatable(currentValue, value)) {\n                        currentValue = that._nextNavigatable(currentValue, value);\n                    }\n\n                    if (that._isMultipleSelection()) {\n                        if (!that._dateInView(currentValue)) {\n                            that.navigate(currentValue);\n                        }\n                        else {\n                            that._current = currentValue;\n                            that._setCurrent(currentValue);\n                        }\n                    }\n                    else {\n                        that._focus(currentValue);\n                    }\n                }\n            }\n\n            if (prevent) {\n                e.preventDefault();\n            }\n\n            return that._current;\n        },\n\n        _keyboardRangeSelection: function(event, currentValue) {\n            var that = this,\n                fromDate,\n                daysDifference;\n\n            if (!that._dateInView(currentValue)) {\n                that._selectDates = [];\n\n                fromDate = that.selectable._lastActive? toDateObject(that.selectable._lastActive.find(\"a\")): currentValue;\n                daysDifference = daysBetweenTwoDates(fromDate, new Date(+currentValue));\n\n                addDaysToArray(that._selectDates, daysDifference, fromDate, that.options.disableDates);\n\n                that.navigate(currentValue);\n                that._current = currentValue;\n                that.selectable._lastActive = that.selectable._lastActive || that._cellByDate(that._view.toDateString(currentValue), CELLSELECTORVALID);\n                that.trigger(CHANGE);\n                return;\n            }\n            that.selectable.options.filter = that.wrapper.find(\"table\").length > 1 && +currentValue > +that._current? \"table.k-month:eq(1) \" + CELLSELECTORVALID: \"table.k-month:eq(0) \" + CELLSELECTORVALID;\n            that._setCurrent(currentValue);\n            that._current = currentValue;\n\n            that._rangeSelection(that._cellByDate(that._view.toDateString(currentValue), CELLSELECTORVALID), currentValue);\n\n            that.trigger(CHANGE);\n\n            that.selectable.options.filter = \"table.k-month:eq(0) \" + CELLSELECTORVALID;\n        },\n\n        _keyboardToggleSelection: function(event) {\n            var that = this;\n\n            event.currentTarget = that._cell[0];\n            that.selectable._lastActive = $(that._cell[0]);\n\n            if ($(that._cell[0]).hasClass(SELECTED)) {\n                that.selectable._unselect($(that._cell[0]));\n                that.selectable.trigger(CHANGE, { event: event});\n            }\n            else {\n                that.selectable.value($(that._cell[0]), { event: event});\n            }\n        },\n\n        _nextNavigatable: function(currentValue, value) {\n            var that = this,\n            disabled = true,\n            view = that._view,\n            min = that.options.min,\n            max = that.options.max,\n            isDisabled = that.options.disableDates,\n            navigatableDate = new Date(currentValue.getTime());\n\n            view.setDate(navigatableDate, -value);\n\n            while (disabled) {\n                view.setDate(currentValue, value);\n\n                if (!isInRange(currentValue, min, max)) {\n                    currentValue = navigatableDate;\n                    break;\n                }\n                disabled = isDisabled(currentValue);\n            }\n            return currentValue;\n        },\n\n        _animate: function(options) {\n            var that = this;\n            var from = options.from;\n            var to = options.to;\n            var active = that._active;\n            var viewWrapper = that.element.children(\".k-calendar-view\");\n\n            if (!from) {\n                viewWrapper.append(to);\n                that._bindTable(to);\n            } else if (from.parent().data(\"animating\")) {\n                from.off(ns);\n                from.parent().kendoStop(true, true).remove();\n                from.remove();\n\n                viewWrapper.append(to);\n                that._focusView(active);\n            } else if (!from.is(\":visible\") || that.options.animation === false || options.replace) {\n                to.insertAfter(from);\n                from.off(ns).remove();\n\n                that._focusView(active);\n            } else {\n                that[options.vertical ? \"_vertical\" : \"_horizontal\"](from, to, options.future);\n            }\n        },\n\n        _horizontal: function(from, to, future) {\n            var that = this,\n                active = that._active,\n                horizontal = that.options.animation.horizontal,\n                effects = horizontal.effects,\n                viewWidth = outerWidth(from);\n\n            if (effects && effects.indexOf(SLIDE) != -1) {\n                from.add(to).css({ width: viewWidth });\n\n                from.wrap(\"<div/>\");\n\n                that._focusView(active, from);\n\n                from.parent()\n                .css({\n                    position: \"relative\",\n                    width: viewWidth * 2,\n                    \"float\": LEFT,\n                    \"margin-left\": future ? 0 : -viewWidth\n                });\n\n                to[future ? \"insertAfter\" : \"insertBefore\"](from);\n\n                extend(horizontal, {\n                    effects: SLIDE + \":\" + (future ? \"right\" : LEFT),\n                    complete: function() {\n                        from.off(ns).remove();\n                        that._oldTable = null;\n\n                        to.unwrap();\n\n                        that._focusView(active);\n\n                    }\n                });\n\n                from.parent().kendoStop(true, true).kendoAnimate(horizontal);\n            }\n        },\n\n        _vertical: function(from, to) {\n            var that = this,\n                vertical = that.options.animation.vertical,\n                effects = vertical.effects,\n                active = that._active, //active state before from's blur\n                cell, position;\n\n            if (effects && effects.indexOf(\"zoom\") != -1) {\n                to.insertBefore(from);\n\n                from.css({\n                    position: \"absolute\",\n                    width: to.width()\n                });\n\n                if (transitionOrigin) {\n                    cell = that._cellByDate(that._view.toDateString(that._current));\n                    position = cell.position();\n                    position = (position.left + parseInt(cell.width() / 2, 10)) + \"px\" + \" \" + (position.top + parseInt(cell.height() / 2, 10) + \"px\");\n                    to.css(transitionOrigin, position);\n                }\n\n                from.kendoStop(true, true).kendoAnimate({\n                    effects: \"fadeOut\",\n                    duration: 600,\n                    complete: function() {\n                        from.off(ns).remove();\n                        that._oldTable = null;\n\n                        that._focusView(active);\n                    }\n                });\n\n                to.kendoStop(true, true).kendoAnimate(vertical);\n            }\n        },\n\n        _cellByDate: function(value, selector) {\n            return this._table.find(selector ? selector : \"td:not(.\" + OTHERMONTH + \")\")\n            .filter(function() {\n                return $(this.firstChild).attr(kendo.attr(VALUE)) === value;\n            });\n        },\n\n        _selectCell: function (date) {\n            var that = this,\n                cell = that._selectedCell,\n                value = that._view.toDateString(date);\n\n                if (cell && cell[0]) {\n                    cell[0].removeAttribute(ARIA_SELECTED);\n                    cell.removeClass(SELECTED);\n                }\n\n                cell = that._cellByDate(value, that.options.selectable == \"multiple\" ? CELLSELECTOR: \"td:not(.\" + OTHERMONTH + \")\");\n\n                that._selectedCell = cell;\n                cell.addClass(SELECTED)\n                    .attr(ARIA_SELECTED, true);\n        },\n\n        _setCurrent: function (date) {\n            var that = this,\n                id = kendo.guid(),\n                cell = that._cell,\n                value = that._view.toDateString(date);\n\n                if (cell && cell[0]) {\n                    cell.removeClass(FOCUSED);\n                    cell[0].removeAttribute(ARIA_LABEL);\n                    cell[0].removeAttribute(ID);\n                }\n\n                cell = that._cellByDate(value, that.options.selectable == \"multiple\" ? CELLSELECTOR: \"td:not(.\" + OTHERMONTH + \")\");\n\n                that._cell = cell;\n\n                cell.attr(ID, id)\n                    .addClass(FOCUSED);\n\n                if (that._table[0]) {\n                    that._table[0].removeAttribute(\"aria-activedescendant\");\n                    that._table.attr(\"aria-activedescendant\", id);\n                }\n        },\n\n        _bindTable: function (table) {\n            table\n            .on(FOCUS_WITH_NS, this._addClassProxy)\n            .on(BLUR, this._removeClassProxy);\n        },\n\n        _click: function(link) {\n            var that = this,\n            options = that.options,\n            currentValue = new Date(+that._current),\n            value = toDateObject(link);\n\n            adjustDST(value, 0);\n\n            if (that._view.name == \"month\" && that.options.disableDates(value)) {\n                value = that._value;\n            }\n\n            that._view.setDate(currentValue, value);\n\n            that.navigateDown(restrictValue(currentValue, options.min, options.max));\n        },\n\n        _focus: function(value) {\n            var that = this,\n            view = that._view;\n\n            if (view.compare(value, that._current) !== 0) {\n                that.navigate(value);\n            } else {\n                that._current = value;\n                that._setCurrent(value);\n            }\n        },\n\n        _focusView: function(active, table) {\n            if (active) {\n                this.focus(table);\n            }\n        },\n\n        _viewWrapper: function() {\n            var that = this;\n            var element = that.element;\n            var viewWrapper = element.children(\".k-calendar-view\");\n\n            if (!viewWrapper[0]) {\n                viewWrapper = $(\"<div class='k-calendar-view' />\").insertAfter(element.find(HEADERSELECTOR));\n            }\n        },\n\n        _footer: function(template) {\n            var that = this,\n            today = getToday(),\n            element = that.element,\n            footer = element.find(\".k-footer\");\n\n            if (!template) {\n                that._toggle(false);\n                footer.hide();\n                return;\n            }\n\n            if (!footer[0]) {\n                footer = $('<div class=\"k-footer\"><a href=\"#\" class=\"k-link k-nav-today\"></a></div>').appendTo(element);\n            }\n\n            that._today = footer.show()\n                .find(\".k-link\")\n                .html(template(today))\n                .attr(\"title\", kendo.toString(today, \"D\", that.options.culture));\n\n            that._toggle();\n        },\n\n        _header: function() {\n            var that = this,\n            element = that.element,\n            linksSelector = that.options.linksSelector;\n\n            if (!element.find(HEADERSELECTOR)[0]) {\n                element.html(kendo.template(that.options.header.template)($.extend(true,{}, that.options, {actionAttr: kendo.attr(\"action\"), size: kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size)})));\n            }\n\n            element.find(linksSelector)\n                .on(CLICK + \" touchend\" + ns, function() { return false; } );\n\n            that._title = element.find('[' + kendo.attr(\"action\") + '=\"nav-up\"]').on(CLICK + \" touchend\" + ns, function () {\n                that._active = that.options.focusOnNav !== false;\n                that.navigateUp();\n            });\n            that[PREVARROW] = element.find('[' + kendo.attr(\"action\") + '=\"prev\"]').on(CLICK + \" touchend\" + ns, function () {\n                that._active = that.options.focusOnNav !== false;\n                that.navigateToPast();\n            });\n            that[NEXTARROW] = element.find('[' + kendo.attr(\"action\") + '=\"next\"]').on(CLICK + \" touchend\" + ns, function () {\n                that._active = that.options.focusOnNav !== false;\n                that.navigateToFuture();\n            });\n            element.find('[' + kendo.attr(\"action\") + '=\"today\"]').on(CLICK + \" touchend\" + ns, proxy(that._todayClick, that));\n\n        },\n\n        _navigate: function(arrow, modifier) {\n            var that = this,\n            index = that._index + 1,\n            currentValue = new DATE(+that._current);\n\n            if (that._isMultipleSelection()) {\n                var firstDayCurrentMonth = that._table.find(\"td:not(.k-other-month):not(.k-out-of-range)\").has(\".k-link\").first();\n                currentValue = toDateObject(firstDayCurrentMonth.find(\"a\"));\n                that._current = new Date(+currentValue);\n            }\n\n            arrow = that[arrow];\n\n            if (!arrow.hasClass(DISABLED)) {\n                if (index > 3) {\n                    currentValue.setFullYear(currentValue.getFullYear() + 100 * modifier);\n                } else {\n                    calendar.views[index].setDate(currentValue, modifier);\n                }\n\n                that.navigate(currentValue);\n            }\n        },\n\n        _option: function(option, value) {\n            var that = this,\n                options = that.options,\n                currentValue = that._value || that._current,\n                isBigger;\n\n            if (value === undefined) {\n                return options[option];\n            }\n\n            value = parse(value, options.format, options.culture);\n\n            if (!value) {\n                return;\n            }\n\n            options[option] = new DATE(+value);\n\n            if (option === MIN) {\n                isBigger = value > currentValue;\n            } else {\n                isBigger = currentValue > value;\n            }\n\n            if (isBigger || isEqualMonth(currentValue, value)) {\n                if (isBigger) {\n                    that._value = null;\n                }\n                that._changeView = true;\n            }\n\n            if (!that._changeView) {\n                that._changeView = !!(options.month.content || options.month.empty);\n            }\n\n            that.navigate(that._value);\n\n            that._toggle();\n        },\n\n        _toggle: function(toggle) {\n            var that = this,\n                options = that.options,\n                isTodayDisabled = that.options.disableDates(getToday()),\n                link = that._today,\n                todayClass = that._todayClass();\n\n            if (toggle === undefined) {\n                toggle = isInRange(getToday(), options.min, options.max);\n            }\n\n            if (link) {\n                link.off(CLICK);\n\n                if (toggle && !isTodayDisabled) {\n                    link.addClass(todayClass)\n                    .removeClass(DISABLED)\n                    .on(CLICK, proxy(that._todayClick, that));\n                } else {\n                    link.removeClass(todayClass)\n                    .addClass(DISABLED)\n                    .on(CLICK, prevent);\n                }\n            }\n        },\n\n        _todayClass: function() {\n            return TODAY;\n        },\n\n        _todayClick: function(e) {\n            var that = this,\n            depth = views[that.options.depth],\n            disabled = that.options.disableDates,\n            today = getToday();\n\n            e.preventDefault();\n\n            if (disabled(today)) {\n                return;\n            }\n\n            if (that._view.compare(that._current, today) === 0 && that._index == depth) {\n                that._changeView = false;\n            }\n\n            if (that._isMultipleSelection()) {\n                that._selectDates = [today];\n                that.selectable._lastActive = null;\n            }\n\n            that._value = today;\n            that.navigate(today, depth);\n\n            that.trigger(CHANGE);\n        },\n\n        _templates: function() {\n            var that = this,\n                options = that.options,\n                footer = options.footer,\n                month = options.month,\n                content = month.content,\n                weekNumber = month.weekNumber,\n                empty = month.empty,\n                footerTemplate = '#= kendo.toString(data,\"D\",\"' + options.culture +'\") #';\n\n            that.month = {\n                content: template('<td class=\"#=data.cssClass#\" role=\"gridcell\"><a tabindex=\"-1\" class=\"k-link#=data.linkClass#\" href=\"#=data.url#\" ' + kendo.attr(VALUE) + '=\"#=data.dateString#\" title=\"#=data.title#\">' + (content || \"#=data.value#\") + '</a></td>', { useWithBlock: !!content }),\n                empty: template('<td role=\"gridcell\">' + (empty || \"&nbsp;\") + \"</td>\", { useWithBlock: !!empty }),\n                weekNumber: template('<td class=\"k-alt\">' + (weekNumber || \"#= data.weekNumber #\") + \"</td>\", { useWithBlock: !!weekNumber })\n            };\n\n            if (footer && footer !== true) {\n                footerTemplate = footer;\n            }\n\n            that.footer = footer !== false ? template(footerTemplate, { useWithBlock: false }) : null;\n        },\n\n        _updateAria: function (ariaTemplate, date) {\n            var that = this;\n            var cell = that._cell;\n            var valueType = that.view().valueType();\n            var current = date || that.current();\n            var text;\n\n            if (valueType === \"month\") {\n                text = kendo.toString(current, \"MMMM\");\n            } else if (valueType === \"date\") {\n                text = kendo.toString(current, \"D\");\n            } else {\n                text = cell.text();\n            }\n\n            cell.attr(\"aria-label\", ariaTemplate({ current: current, valueType: valueType, text: text }));\n\n            return cell.attr(\"id\");\n        }\n    });\n\n    ui.plugin(Calendar);\n\n    var calendar = {\n        firstDayOfMonth: function (date) {\n            return createDate(\n                date.getFullYear(),\n                date.getMonth(),\n                1\n            );\n        },\n\n        firstVisibleDay: function (date, calendarInfo) {\n            calendarInfo = calendarInfo || kendo.culture().calendar;\n\n            var firstDay = calendarInfo.firstDay,\n            firstVisibleDay = new DATE(date.getFullYear(), date.getMonth(), 1, date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds());\n            firstVisibleDay.setFullYear(date.getFullYear());\n\n            while (firstVisibleDay.getDay() != firstDay) {\n                calendar.setTime(firstVisibleDay, -1 * MS_PER_DAY);\n            }\n\n            return firstVisibleDay;\n        },\n\n        setTime: function (date, time) {\n            var tzOffsetBefore = date.getTimezoneOffset(),\n            resultDATE = new DATE(date.getTime() + time),\n            tzOffsetDiff = resultDATE.getTimezoneOffset() - tzOffsetBefore;\n\n            date.setTime(resultDATE.getTime() + tzOffsetDiff * MS_PER_MINUTE);\n        },\n        views: [{\n            name: MONTH,\n            title: function(date, min, max, culture) {\n                return getCalendarInfo(culture).months.names[date.getMonth()] + \" \" + date.getFullYear();\n            },\n            content: function(options) {\n                var that = this,\n                    idx = 0,\n                    min = options.min,\n                    max = options.max,\n                    date = options.date,\n                    dates = options.dates,\n                    format = options.format,\n                    culture = options.culture,\n                    navigateUrl = options.url,\n                    showHeader = options.showHeader,\n                    otherMonth = options.otherMonth,\n                    isWeekColumnVisible = options.isWeekColumnVisible,\n                    hasUrl = navigateUrl && dates[0],\n                    currentCalendar = getCalendarInfo(culture),\n                    firstDayIdx = currentCalendar.firstDay,\n                    days = currentCalendar.days,\n                    names = shiftArray(days.names, firstDayIdx),\n                    shortNames = shiftArray(days.namesShort, firstDayIdx),\n                    start = calendar.firstVisibleDay(date, currentCalendar),\n                    firstDayOfMonth = that.first(date),\n                    lastDayOfMonth = that.last(date),\n                    toDateString = that.toDateString,\n                    today = getToday(),\n                    contentClasses = options.contentClasses,\n                    html = '<table tabindex=\"0\" role=\"grid\" class=\"' + contentClasses + '\" cellspacing=\"0\" data-start=\"' + toDateString(start) + '\">';\n\n                if (showHeader) {\n                    html += '<caption class=\"k-calendar-caption k-month-header\">' + this.title(date, min, max, culture) + '</caption>';\n                }\n\n                html += '<thead class=\"k-calendar-thead\"><tr role=\"row\" class=\"k-calendar-tr\">';\n\n                if (isWeekColumnVisible) {\n                    html += '<th scope=\"col\" class=\"k-calendar-th k-alt\">' + options.messages.weekColumnHeader + '</th>';\n                }\n\n                for (; idx < 7; idx++) {\n                    html += '<th scope=\"col\" class=\"k-calendar-th\" title=\"' + names[idx] + '\">' + shortNames[idx] + '</th>';\n                }\n\n                adjustDST(today, 0);\n                today = +today;\n\n                return view({\n                    cells: 42,\n                    perRow: 7,\n                    html: html += '</tr></thead><tbody class=\"k-calendar-tbody\"><tr role=\"row\" class=\"k-calendar-tr\">',\n                    start: start,\n                    isWeekColumnVisible: isWeekColumnVisible,\n                    weekNumber: options.weekNumber,\n                    min: createDate(min.getFullYear(), min.getMonth(), min.getDate()),\n                    max: createDate(max.getFullYear(), max.getMonth(), max.getDate()),\n                    otherMonth : otherMonth,\n                    content: options.content,\n                    lastDayOfMonth : lastDayOfMonth,\n                    empty: options.empty,\n                    setter: that.setDate,\n                    disableDates: options.disableDates,\n                    build: function(date, idx, disableDates) {\n                        var cssClass = [ \"k-calendar-td\" ],\n                            day = date.getDay(),\n                            linkClass = \"\",\n                            url = \"#\";\n\n                        if (date < firstDayOfMonth || date > lastDayOfMonth) {\n                            cssClass.push(OTHERMONTH);\n                        }\n\n                        if (disableDates(date)) {\n                            cssClass.push(DISABLED);\n                        }\n\n                        if (+date === today) {\n                            cssClass.push(\"k-today\");\n                        }\n\n                        if (day === 0 || day === 6) {\n                            cssClass.push(\"k-weekend\");\n                        }\n\n                        if (hasUrl && inArray(+date, dates)) {\n                            url = navigateUrl.replace(\"{0}\", kendo.toString(date, format, culture));\n                            linkClass = \" k-action-link\";\n                        }\n\n                        return {\n                            date: date,\n                            dates: dates,\n                            ns: kendo.ns,\n                            title: kendo.toString(date, \"D\", culture),\n                            value: date.getDate(),\n                            dateString: toDateString(date),\n                            cssClass: cssClass.join(\" \"),\n                            linkClass: linkClass,\n                            url: url\n                        };\n                    },\n                    weekNumberBuild: function(date) {\n                        return {\n                            weekNumber: weekInYear(date, kendo.culture().calendar.firstDay),\n                            currentDate: date\n                        };\n                    }\n                });\n            },\n            first: function(date) {\n                return calendar.firstDayOfMonth(date);\n            },\n            last: function(date) {\n                var last = createDate(date.getFullYear(), date.getMonth() + 1, 0),\n                first = calendar.firstDayOfMonth(date),\n                timeOffset = Math.abs(last.getTimezoneOffset() - first.getTimezoneOffset());\n\n                if (timeOffset) {\n                    last.setHours(first.getHours() + (timeOffset / 60));\n                }\n\n                return last;\n            },\n            compare: function(date1, date2) {\n                var result,\n                month1 = date1.getMonth(),\n                year1 = date1.getFullYear(),\n                month2 = date2.getMonth(),\n                year2 = date2.getFullYear();\n\n                if (year1 > year2) {\n                    result = 1;\n                } else if (year1 < year2) {\n                    result = -1;\n                } else {\n                    result = month1 == month2 ? 0 : month1 > month2 ? 1 : -1;\n                }\n\n                return result;\n            },\n            setDate: function(date, value) {\n                var hours = date.getHours();\n                if (value instanceof DATE) {\n                    date.setFullYear(value.getFullYear(), value.getMonth(), value.getDate());\n                } else {\n                    calendar.setTime(date, value * MS_PER_DAY);\n                }\n                adjustDST(date, hours);\n            },\n            toDateString: function(date) {\n                return date.getFullYear() + \"/\" + date.getMonth() + \"/\" + date.getDate();\n            },\n            valueType: function () {\n                return \"date\";\n            }\n        },\n        {\n            name: \"year\",\n            title: function(date) {\n                return date.getFullYear();\n            },\n            content: function(options) {\n                var namesAbbr = getCalendarInfo(options.culture).months.namesAbbr,\n                toDateString = this.toDateString,\n                min = options.min,\n                max = options.max,\n                html = \"\";\n\n                if (options.showHeader) {\n                    html += '<table tabindex=\"0\" role=\"grid\" class=\"k-calendar-table k-content k-meta-view\" cellspacing=\"0\">';\n                        html += '<caption class=\"k-calendar-caption k-meta-header\">';\n                            html += this.title(options.date);\n                        html += '</caption>';\n                        html += '<tbody class=\"k-calendar-tbody\">';\n                            html += '<tr role=\"row\" class=\"k-calendar-tr\">';\n                }\n\n                return view({\n                    min: createDate(min.getFullYear(), min.getMonth(), 1),\n                    max: createDate(max.getFullYear(), max.getMonth(), 1),\n                    start: createDate(options.date.getFullYear(), 0, 1),\n                    html: html,\n                    setter: this.setDate,\n                    build: function(date) {\n                        var cssClass = [ \"k-calendar-td\" ];\n\n                        return {\n                            value: namesAbbr[date.getMonth()],\n                            ns: kendo.ns,\n                            dateString: toDateString(date),\n                            cssClass: cssClass.join(\" \")\n                        };\n                    }\n                });\n            },\n            first: function(date) {\n                return createDate(date.getFullYear(), 0, date.getDate());\n            },\n            last: function(date) {\n                return createDate(date.getFullYear(), 11, date.getDate());\n            },\n            compare: function(date1, date2){\n                return compare(date1, date2);\n            },\n            setDate: function(date, value) {\n                var month,\n                hours = date.getHours();\n\n                if (value instanceof DATE) {\n                    month = value.getMonth();\n\n                    date.setFullYear(value.getFullYear(), month, date.getDate());\n\n                    if (month !== date.getMonth()) {\n                        date.setDate(0);\n                    }\n                } else {\n                    month = date.getMonth() + value;\n\n                    date.setMonth(month);\n\n                    if (month > 11) {\n                        month -= 12;\n                    }\n\n                    if (month > 0 && date.getMonth() != month) {\n                        date.setDate(0);\n                    }\n                }\n\n                adjustDST(date, hours);\n            },\n            toDateString: function(date) {\n                return date.getFullYear() + \"/\" + date.getMonth() + \"/1\";\n            },\n            valueType: function () {\n                return \"month\";\n            }\n        },\n        {\n            name: \"decade\",\n            title: function(date, min, max) {\n                return title(date, min, max, 10);\n            },\n            content: function(options) {\n                var year = options.date.getFullYear(),\n                toDateString = this.toDateString,\n                html = \"\";\n\n                if (options.showHeader) {\n                    html += '<table tabindex=\"0\" role=\"grid\" class=\"k-calendar-table k-content k-meta-view\" cellspacing=\"0\">';\n                        html += '<caption class=\"k-meta-header\">';\n                            html += this.title(options.date, options.min, options.max);\n                        html += '</caption>';\n                        html += '<tbody class=\"k-calendar-thead\">';\n                            html += '<tr role=\"row\" class=\"k-calendar-tr\">';\n                }\n\n                return view({\n                    start: createDate(year - year % 10 - 1, 0, 1),\n                    min: createDate(options.min.getFullYear(), 0, 1),\n                    max: createDate(options.max.getFullYear(), 0, 1),\n                    otherMonth : options.otherMonth,\n                    html : html,\n                    setter: this.setDate,\n                    build: function(date, idx) {\n                        var cssClass = [ \"k-calendar-td\" ];\n\n                        if (idx === 0 || idx === 11) {\n                            cssClass.push(OTHERMONTH);\n                        }\n\n                        return {\n                            value: date.getFullYear(),\n                            ns: kendo.ns,\n                            dateString: toDateString(date),\n                            cssClass: cssClass.join(\" \")\n                        };\n                    }\n                });\n            },\n            first: function(date) {\n                var year = date.getFullYear();\n                return createDate(year - year % 10, date.getMonth(), date.getDate());\n            },\n            last: function(date) {\n                var year = date.getFullYear();\n                return createDate(year - year % 10 + 9, date.getMonth(), date.getDate());\n            },\n            compare: function(date1, date2) {\n                return compare(date1, date2, 10);\n            },\n            setDate: function(date, value) {\n                setDate(date, value, 1);\n            },\n            toDateString: function(date) {\n                return date.getFullYear() + \"/0/1\";\n            },\n            valueType: function () {\n                return \"year\";\n            }\n        },\n        {\n            name: CENTURY,\n            title: function(date, min, max) {\n                return title(date, min, max, 100);\n            },\n            content: function(options) {\n                var year = options.date.getFullYear(),\n                min = options.min.getFullYear(),\n                max = options.max.getFullYear(),\n                toDateString = this.toDateString,\n                minYear = min,\n                maxYear = max,\n                html = \"\";\n\n                minYear = minYear - minYear % 10;\n                maxYear = maxYear - maxYear % 10;\n\n                if (maxYear - minYear < 10) {\n                    maxYear = minYear + 9;\n                }\n\n                if (options.showHeader) {\n                    html += '<table tabindex=\"0\" role=\"grid\" class=\"k-calendar-table k-content k-meta-view\" cellspacing=\"0\">';\n                        html += '<caption class=\"k-calendar-caption k-meta-header\">';\n                            html += this.title(options.date, options.min, options.max);\n                        html += '</caption>';\n                        html += '<tbody class=\"k-calendar-tbody\">';\n                            html += '<tr role=\"row\" class=\"k-calendar-tr\">';\n                }\n\n                return view({\n                    start: createDate(year - year % 100 - 10, 0, 1),\n                    min: createDate(minYear, 0, 1),\n                    max: createDate(maxYear, 0, 1),\n                    otherMonth : options.otherMonth,\n                    html : html,\n                    setter: this.setDate,\n                    build: function(date, idx) {\n                        var cssClass = [ \"k-calendar-td\" ];\n                        var start = date.getFullYear(),\n                            end = start + 9;\n\n                        if (idx === 0 || idx === 11) {\n                            cssClass.push(OTHERMONTH);\n                        }\n\n                        if (start < min) {\n                            start = min;\n                        }\n\n                        if (end > max) {\n                            end = max;\n                        }\n\n                        return {\n                            ns: kendo.ns,\n                            value: start + \" - \" + end,\n                            dateString: toDateString(date),\n                            cssClass: cssClass.join(\" \")\n                        };\n                    }\n                });\n            },\n            first: function(date) {\n                var year = date.getFullYear();\n                return createDate(year - year % 100, date.getMonth(), date.getDate());\n            },\n            last: function(date) {\n                var year = date.getFullYear();\n                return createDate(year - year % 100 + 99, date.getMonth(), date.getDate());\n            },\n            compare: function(date1, date2) {\n                return compare(date1, date2, 100);\n            },\n            setDate: function(date, value) {\n                setDate(date, value, 10);\n            },\n            toDateString: function(date) {\n                var year = date.getFullYear();\n                return (year - year % 10) + \"/0/1\";\n            },\n            valueType: function () {\n                return \"decade\";\n            }\n        }]\n    };\n\n    function title(date, min, max, modular) {\n        var start = date.getFullYear(),\n            minYear = min.getFullYear(),\n            maxYear = max.getFullYear(),\n            end;\n\n        start = start - start % modular;\n        end = start + (modular - 1);\n\n        if (start < minYear) {\n            start = minYear;\n        }\n        if (end > maxYear) {\n            end = maxYear;\n        }\n\n        return start + \"-\" + end;\n    }\n\n    function view(options) {\n        var idx = 0,\n            data,\n            min = options.min,\n            max = options.max,\n            start = options.start,\n            setter = options.setter,\n            build = options.build,\n            weekNumberBuild = options.weekNumberBuild,\n            length = options.cells || 12,\n            isWeekColumnVisible = options.isWeekColumnVisible,\n            cellsPerRow = options.perRow || 4,\n            otherMonth = options.otherMonth,\n            lastDayOfMonth = options.lastDayOfMonth,\n            weekNumber = options.weekNumber || weekNumberTemplate,\n            content = options.content || cellTemplate,\n            empty = options.empty || emptyCellTemplate,\n            otherMonthTemplate = options.otherMonthCellTemplate || otherMonthCellTemplate,\n            html = options.html || '<table tabindex=\"0\" role=\"grid\" class=\"k-calendar-table k-content k-meta-view\" cellspacing=\"0\"><tbody class=\"k-calendar-tbody\"><tr role=\"row\" class=\"k-calendar-tr\">';\n\n        if (isWeekColumnVisible) {\n            html += weekNumber(weekNumberBuild(start));\n        }\n\n\n        for (; idx < length; idx++) {\n            if (idx > 0 && idx % cellsPerRow === 0) {\n                html += '</tr><tr role=\"row\" class=\"k-calendar-tr\">';\n                if (isWeekColumnVisible) {\n                    html += otherMonth || (+start <= +lastDayOfMonth) ? weekNumber(weekNumberBuild(start)) : weekNumber({ weekNumber : \"&nbsp;\"});\n                }\n            }\n\n            start = createDate(start.getFullYear(), start.getMonth(), start.getDate());\n            adjustDST(start, 0);\n\n            data = build(start, idx, options.disableDates);\n\n            html += (data.cssClass.indexOf(OTHERMONTH) !== -1 && !otherMonth) ? otherMonthTemplate(data) : isInRange(start, min, max) ? content(data) : empty(data);\n\n            setter(start, 1);\n        }\n\n        return html + \"</tr></tbody></table>\";\n    }\n\n    function compare(date1, date2, modifier) {\n        var year1 = date1.getFullYear(),\n            start  = date2.getFullYear(),\n            end = start,\n            result = 0;\n\n        if (modifier) {\n            start = start - start % modifier;\n            end = start - start % modifier + modifier - 1;\n        }\n\n        if (year1 > end) {\n            result = 1;\n        } else if (year1 < start) {\n            result = -1;\n        }\n\n        return result;\n    }\n\n    function getToday() {\n        var today = new DATE();\n        return new DATE(today.getFullYear(), today.getMonth(), today.getDate());\n    }\n\n    function restrictValue (value, min, max) {\n        var today = getToday();\n\n        if (value) {\n            today = new DATE(+value);\n        }\n\n        if (min > today) {\n            today = new DATE(+min);\n        } else if (max < today) {\n            today = new DATE(+max);\n        }\n        return today;\n    }\n\n    function isInRange(date, min, max) {\n        return +date >= +min && +date <= +max;\n    }\n\n    function shiftArray(array, idx) {\n        return array.slice(idx).concat(array.slice(0, idx));\n    }\n\n    function setDate(date, value, multiplier) {\n        value = value instanceof DATE ? value.getFullYear() : date.getFullYear() + multiplier * value;\n        date.setFullYear(value);\n    }\n\n    function daysBetweenTwoDates(startDate, endDate) {\n        if (+endDate < +startDate) {\n            var temp = +startDate;\n            calendar.views[0].setDate(startDate, endDate);\n            calendar.views[0].setDate(endDate, new Date(temp));\n        }\n        var fromDateUTC = Date.UTC(startDate.getFullYear(), startDate.getMonth(), startDate.getDate());\n        var endDateUTC = Date.UTC(endDate.getFullYear(), endDate.getMonth(), endDate.getDate());\n\n        return Math.ceil((+endDateUTC - +fromDateUTC) / kendo.date.MS_PER_DAY);\n    }\n\n    function addDaysToArray(array, numberOfDays, fromDate, disableDates) {\n        for (var i = 0; i <= numberOfDays; i++) {\n            var nextDay = new Date(fromDate.getTime());\n            nextDay = new Date(nextDay.setDate(nextDay.getDate() + i));\n            if (!disableDates(nextDay)) {\n                array.push(nextDay);\n            }\n        }\n    }\n\n    function mousetoggle(e) {\n        var disabled = $(this).hasClass(\"k-state-disabled\");\n\n        if (!disabled) {\n            $(this).toggleClass(HOVER, MOUSEENTER.indexOf(e.type) > -1 || e.type == FOCUS);\n        }\n    }\n\n    function prevent (e) {\n        e.preventDefault();\n    }\n\n    // creates date with full year\n    function createDate(year, month, date) {\n        var dateObject = new DATE(year, month, date);\n        dateObject.setFullYear(year, month, date);\n        return dateObject;\n    }\n\n    function getCalendarInfo(culture) {\n        return getCulture(culture).calendars.standard;\n    }\n\n    function normalize(options) {\n        var start = views[options.start],\n            depth = views[options.depth],\n            culture = getCulture(options.culture);\n\n        options.format = extractFormat(options.format || culture.calendars.standard.patterns.d);\n\n        if (isNaN(start)) {\n            start = 0;\n            options.start = MONTH;\n        }\n\n        if (depth === undefined || depth > start) {\n            options.depth = MONTH;\n        }\n\n        if (options.dates === null) {\n            options.dates = [];\n        }\n    }\n\n    function addClassToViewContainer(element, currentView) {\n        element.addClass(\"k-\" + currentView);\n    }\n\n    function inArray(date, dates) {\n        for (var i = 0, length = dates.length; i < length; i++) {\n            if (date === +dates[i]) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    function isEqualDatePart(value1, value2) {\n        if (value1) {\n            return value1.getFullYear() === value2.getFullYear() &&\n                value1.getMonth() === value2.getMonth() &&\n                value1.getDate() === value2.getDate();\n        }\n\n        return false;\n    }\n\n    function isEqualMonth(value1, value2) {\n        if (value1) {\n            return value1.getFullYear() === value2.getFullYear() &&\n                value1.getMonth() === value2.getMonth();\n        }\n\n        return false;\n    }\n\n\n    function getDisabledExpr(option) {\n        if (kendo.isFunction(option)) {\n            return option;\n        }\n\n        if (Array.isArray(option)) {\n            return createDisabledExpr(option);\n        }\n        return $.noop;\n    }\n\n    function convertDatesArray(dates) {\n        var result = [];\n        for (var i = 0; i < dates.length; i++) {\n            result.push(dates[i].setHours(0, 0, 0, 0));\n        }\n        return result;\n    }\n\n    function createDisabledExpr(dates) {\n        var body, callback,\n            disabledDates = [],\n            days = [\"su\", \"mo\", \"tu\", \"we\", \"th\", \"fr\", \"sa\"],\n            searchExpression = \"if (found) {\"+\n                    \" return true \" +\n                \"} else {\" +\n                    \"return false\" +\n                \"}\";\n\n        if (dates[0] instanceof DATE) {\n            disabledDates = convertDatesArray(dates);\n            body = \"var clonedDate = new Date(date); var found = date && window.kendo.jQuery.inArray(clonedDate.setHours(0, 0, 0, 0),[\"+ disabledDates +\"]) > -1;\" + searchExpression;\n        } else {\n            for (var i = 0; i < dates.length; i++) {\n                var day = dates[i].slice(0,2).toLowerCase();\n                var index = $.inArray(day, days);\n                if (index > -1) {\n                    disabledDates.push(index);\n                }\n            }\n            body = \"var clonedDate = new Date(date); var found = date && window.kendo.jQuery.inArray(clonedDate.getDay(),[\"+ disabledDates +\"]) > -1;\" + searchExpression;\n        }\n\n        callback = new Function(\"date\", body); //jshint ignore:line\n\n        return callback;\n    }\n\n    function isEqualDate(oldValue, newValue) {\n       if (oldValue instanceof Date && newValue instanceof Date) {\n           oldValue = oldValue.getTime();\n           newValue = newValue.getTime();\n       }\n\n       return oldValue === newValue;\n    }\n\n    function toDateObject(link) {\n        var value = $(link).attr(kendo.attr(VALUE)).split(\"/\");\n        //Safari cannot create correctly date from \"1/1/2090\"\n        value = createDate(value[0], value[1], value[2]);\n\n        return value;\n    }\n\n    calendar.isEqualDatePart = isEqualDatePart;\n    calendar.isEqualDate = isEqualDate;\n    calendar.restrictValue = restrictValue;\n    calendar.isInRange = isInRange;\n    calendar.addClassToViewContainer = addClassToViewContainer;\n    calendar.normalize = normalize;\n    calendar.viewsEnum = views;\n    calendar.disabled = getDisabledExpr;\n    calendar.toDateObject = toDateObject;\n    calendar.getToday = getToday;\n    calendar.createDate = createDate;\n\n    kendo.calendar = calendar;\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.dateinput',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"dateinput\",\n    name: \"DateInput\",\n    category: \"web\",\n    description: \"The DateInput widget allows to edit date by typing.\",\n    depends: [ \"core\" ]\n};\n\n(function ($, undefined) {\n    var global = window;\n    var kendo = global.kendo;\n    var caret = kendo.caret;\n    var ui = kendo.ui;\n    var Widget = ui.Widget;\n    var keys = kendo.keys;\n    var ns = \".kendoDateInput\";\n    var proxy = $.proxy;\n    var objectToString = {}.toString;\n\n    var INPUT_EVENT_NAME = (kendo.support.propertyChangeEvent ? \"propertychange.kendoDateInput input\" : \"input\") + ns;\n\n    var FOCUSED = \"k-focus\";\n    var STATEDISABLED = \"k-disabled\";\n    var STATEINVALID = \"k-invalid\";\n\n    var DISABLED = \"disabled\";\n    var READONLY = \"readonly\";\n    var CHANGE = \"change\";\n\n    var knownSymbols = \"dMyHhmftsz\";\n\n    var DateInput = Widget.extend({\n        init: function (element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n\n            options = that.options;\n            options.format = kendo._extractFormat(options.format || kendo.getCulture(options.culture).calendars.standard.patterns.d);\n            options.min = kendo.parseDate(element.attr(\"min\")) || kendo.parseDate(options.min);\n            options.max = kendo.parseDate(element.attr(\"max\")) || kendo.parseDate(options.max);\n\n            var wrapperClass = (element.parent().attr(\"class\") || \"\");\n            var skipWrapping = wrapperClass.indexOf(\"picker\") >= 0 && wrapperClass.indexOf(\"rangepicker\") < 0;\n\n            if (skipWrapping) {\n                that.wrapper = element.parent();\n            } else {\n                that.wrapper = element.wrap(\"<span class='k-dateinput k-input'></span>\").parent();\n                that.wrapper.addClass(element[0].className).removeClass('input-validation-error');\n                that.wrapper[0].style.cssText = element[0].style.cssText;\n                element.css({\n                    height: element[0].style.height\n                });\n            }\n\n            that._validationIcon = $(\"<span class='k-input-validation-icon k-icon k-i-warning k-hidden'></span>\").insertAfter(element);\n\n            that._form();\n\n            that.element\n                .addClass(skipWrapping ? \" \" : \"k-input-inner\")\n                .attr(\"autocomplete\", \"off\")\n                .on(\"focus\" + ns, function() {\n                    that.wrapper.addClass(FOCUSED);\n                })\n                .on(\"focusout\" + ns, function () {\n                    that.wrapper.removeClass(FOCUSED);\n                    that._change();\n                });\n\n            try {\n                element[0].setAttribute(\"type\", \"text\");\n            } catch (e) {\n                element[0].type = \"text\";\n            }\n\n            var disabled = element.is(\"[disabled]\") || $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(element.is(\"[readonly]\"));\n            }\n\n            that.value(that.options.value || element.val());\n            that._applyCssClasses();\n\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"DateInput\",\n            culture: \"\",\n            value: \"\",\n            format: \"\",\n            min: new Date(1900, 0, 1),\n            max: new Date(2099, 11, 31),\n            messages: {\n                \"year\": \"year\",\n                \"month\": \"month\",\n                \"day\": \"day\",\n                \"weekday\": \"day of the week\",\n                \"hour\": \"hours\",\n                \"minute\": \"minutes\",\n                \"second\": \"seconds\",\n                \"dayperiod\": \"AM/PM\"\n            },\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        min: function (value) {\n            if (value !== undefined) {\n                this.options.min = value;\n            } else {\n                return this.options.min;\n            }\n        },\n\n        max: function (value) {\n            if (value !== undefined) {\n                this.options.max = value;\n            } else {\n                return this.options.max;\n            }\n        },\n\n        setOptions: function (options) {\n            var that = this;\n            Widget.fn.setOptions.call(that, options);\n            this._unbindInput();\n            this._bindInput();\n            this._updateElementValue();\n        },\n\n        destroy: function () {\n            var that = this;\n            that.element.off(ns);\n\n            if (that._formElement) {\n                that._formElement.off(\"reset\", that._resetHandler);\n            }\n\n            Widget.fn.destroy.call(that);\n        },\n\n        value: function (value) {\n            if (value === undefined) {\n                return this._dateTime.getDateObject();\n            }\n\n            if (value === null) {\n                value = \"\";\n            }\n\n            if (objectToString.call(value) !== \"[object Date]\") {\n                value = kendo.parseDate(value, this.options.format, this.options.culture);\n            }\n\n            if (value && !value.getTime()) {\n                value = null;\n            }\n\n            this._dateTime = new customDateTime(value, this.options.format, this.options.culture, this.options.messages);\n\n            this._updateElementValue();\n            this._oldValue = value;\n        },\n\n        _updateElementValue: function () {\n            var stringAndFromat = this._dateTime.toPair(this.options.format, this.options.culture, this.options.messages);\n            this.element.val(stringAndFromat[0]);\n            this._oldText = stringAndFromat[0];\n            this._format = stringAndFromat[1];\n        },\n\n        readonly: function (readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function (enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        },\n\n        _bindInput: function () {\n            var that = this;\n            that.element\n                .on(\"focus\" + ns, function() {\n                    that.wrapper.addClass(FOCUSED);\n                })\n                .on(\"focusout\" + ns, function () {\n                    that.wrapper.removeClass(FOCUSED);\n                    that._change();\n                })\n                .on(\"paste\" + ns, proxy(that._paste, that))\n                .on(\"keydown\" + ns, proxy(that._keydown, that))\n                .on(INPUT_EVENT_NAME, proxy(that._input, that))\n                .on(\"mouseup\" + ns, proxy(that._mouseUp, that))\n                .on(\"DOMMouseScroll\" + ns + \" mousewheel\" + ns, proxy(that._scroll, that));\n        },\n\n        _unbindInput: function () {\n            this.element\n                .off(\"keydown\" + ns)\n                .off(\"paste\" + ns)\n                .off(\"focus\" + ns)\n                .off(\"focusout\" + ns)\n                .off(INPUT_EVENT_NAME)\n                .off(\"mouseup\" + ns)\n                .off(\"DOMMouseScroll\" + ns + \" mousewheel\" + ns);\n        },\n\n        _editable: function (options) {\n            var that = this;\n            var element = that.element;\n            var disable = options.disable;\n            var readonly = options.readonly;\n            var wrapper = that.wrapper;\n\n            that._unbindInput();\n\n            if (!readonly && !disable) {\n                wrapper.removeClass(STATEDISABLED);\n                if(element && element.length) {\n                    element[0].removeAttribute(DISABLED);\n                    element[0].removeAttribute(READONLY);\n                }\n\n                that._bindInput();\n            } else {\n                if (disable) {\n                    wrapper.addClass(STATEDISABLED);\n                    element.attr(DISABLED, disable);\n                    if(element && element.length) {\n                        element[0].removeAttribute(READONLY);\n                    }\n                }\n                if (readonly) {\n                    element.attr(READONLY, readonly);\n                }\n            }\n        },\n\n        _change: function () {\n            var that = this;\n            var oldValue = that._oldValue;\n            var value = that.value();\n\n            if (value && that.min() && value < that.min()) {\n                that.value(that.min());\n                value = that.value();\n            }\n            if (value && that.max() && value > that.max()) {\n                that.value(that.max());\n                value = that.value();\n            }\n\n            if (oldValue && value && value.getTime() !== oldValue.getTime() ||\n                oldValue && !value ||\n                !oldValue && value\n            ) {\n                that._oldValue = value;\n                that.trigger(CHANGE);\n                that.element.trigger(CHANGE);\n            }\n        },\n\n        _input: function () {\n            var that = this;\n            var element = that.element[0];\n            var blinkInvalid = false;\n\n            if (kendo._activeElement() !== element) {\n                return;\n            }\n\n            var diff = approximateStringMatching(\n                this._oldText,\n                this._format,\n                this.element[0].value,\n                caret(this.element[0])[0]);\n\n            var navigationOnly = (diff.length === 1 && diff[0][1] === \" \");\n            if (!navigationOnly) {\n                for (var i = 0; i < diff.length; i++) {\n                    var valid = this._dateTime.parsePart(diff[i][0], diff[i][1]);\n                    blinkInvalid = blinkInvalid || !valid;\n                }\n            }\n            this._updateElementValue();\n\n            if (diff.length && diff[0][0] !== \" \") {\n                this._selectSegment(diff[0][0]);\n\n                //android fix\n                if (!navigationOnly) {\n                    var difSym = diff[0][0];\n                    setTimeout(function () { that._selectSegment(difSym); });\n                }\n            }\n            if (navigationOnly) {\n                var newEvent = { keyCode: 39, preventDefault: function () { } };\n                this._keydown(newEvent);\n            }\n            if (blinkInvalid) {\n                that._blinkInvalidState();\n            }\n        },\n\n        _blinkInvalidState: function () {\n            var that = this;\n\n            that._addInvalidState();\n            clearTimeout(that._invalidStateTimeout);\n            that._invalidStateTimeout = setTimeout(proxy(that._removeInvalidState, that), 100);\n        },\n\n        _addInvalidState: function() {\n            var that = this;\n\n            that.wrapper.addClass(STATEINVALID);\n            that._validationIcon.removeClass(\"k-hidden\");\n        },\n\n        _removeInvalidState: function () {\n            var that = this;\n\n            that.wrapper.removeClass(STATEINVALID);\n            that._validationIcon.addClass(\"k-hidden\");\n            that._invalidStateTimeout = null;\n        },\n\n        _mouseUp: function () {\n            var selection = caret(this.element[0]);\n            if (selection[0] === selection[1]) {\n                this._selectNearestSegment();\n            }\n        },\n\n        _scroll: function (e) {\n            if (kendo._activeElement() !== this.element[0] || this.element.is(\"[readonly]\")) {\n                return;\n            }\n            e = window.event || e;\n\n            var newEvent = { keyCode: 37, preventDefault: function () { } };\n\n            if (e.shiftKey) {\n                newEvent.keyCode = (e.wheelDelta || -e.detail) > 0 ? 37 : 39;\n            } else {\n                newEvent.keyCode = (e.wheelDelta || -e.detail) > 0 ? 38 : 40;\n            }\n            this._keydown(newEvent);\n            e.returnValue = false;\n            if (e.preventDefault) {\n                e.preventDefault();\n            }\n            if (e.stopPropagation) {\n                e.stopPropagation();\n            }\n        },\n\n        _form: function () {\n            var that = this;\n            var element = that.element;\n            var formId = element.attr(\"form\");\n            var form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n            var initialValue = element[0].value;\n\n            if (!initialValue && that.options.value) {\n                initialValue = that.options.value;\n            }\n\n            if (form[0]) {\n                that._resetHandler = function () {\n                    setTimeout(function () {\n                        that.value(initialValue);\n                    });\n                };\n\n                that._formElement = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _paste: function (e) {\n            e.preventDefault();\n        },\n\n        _keydown: function (e) {\n            var key = e.keyCode;\n            var selection;\n            if (key == 37 || key == 39) { //left/right\n                e.preventDefault();\n                selection = caret(this.element[0]);\n                if (selection[0] != selection[1]) {\n                    this._selectNearestSegment();\n                }\n                var dir = (key == 37) ? -1 : 1;\n                var index = (dir == -1) ? caret(this.element[0])[0] - 1 : caret(this.element[0])[1] + 1;\n                while (index >= 0 && index < this._format.length) {\n                    if (knownSymbols.indexOf(this._format[index]) >= 0) {\n                        this._selectSegment(this._format[index]);\n                        break;\n                    }\n                    index += dir;\n                }\n            }\n            if (key == 38 || key == 40) { //up/down\n                e.preventDefault();\n                selection = caret(this.element[0]);\n                var symbol = this._format[selection[0]];\n                if (knownSymbols.indexOf(symbol) >= 0) {\n                    var interval = 1;\n                    if (symbol == 'm') {\n                        interval = this.options.interval || 1;\n                    }\n                    this._dateTime.modifyPart(symbol, key == 38 ? interval * 1 : interval * -1);\n                    this._updateElementValue();\n                    this._selectSegment(symbol);\n                    this.element.trigger(CHANGE);\n                }\n            }\n            if (kendo.support.browser.msie && kendo.support.browser.version < 10) {\n                var keycode = e.keyCode ? e.keyCode : e.which;\n                if (keycode === 8 || keycode === 46) {\n                    var that = this;\n                    setTimeout(function () {\n                        that._input();\n                    }, 0);\n                }\n            }\n            if (key === keys.ENTER){\n                this._change();\n            }\n        },\n\n        _selectNearestSegment: function () {\n            var selection = caret(this.element[0]);\n            var start = selection[0];\n            for (var i = start, j = start - 1; i < this._format.length || j >= 0; i++ , j--) {\n                if (i < this._format.length && knownSymbols.indexOf(this._format[i]) !== -1) {\n                    this._selectSegment(this._format[i]);\n                    return;\n                }\n                if (j >= 0 && knownSymbols.indexOf(this._format[j]) !== -1) {\n                    this._selectSegment(this._format[j]);\n                    return;\n                }\n            }\n        },\n\n        _selectSegment: function (symbol) {\n            var begin = -1, end = 0;\n            for (var i = 0; i < this._format.length; i++) {\n                if (this._format[i] === symbol) {\n                    end = i + 1;\n                    if (begin === -1) {\n                        begin = i;\n                    }\n                }\n            }\n            if (begin < 0) {\n                begin = 0;\n            }\n            caret(this.element, begin, end);\n        }\n\n    });\n\n    kendo.cssProperties.registerPrefix(\"DateInput\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"DateInput\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(DateInput);\n\n    var customDateTime = function (initDate, initFormat, initCulture, initMessages) {\n\n        var value = null;\n        var year = true, month = true, date = true, hours = true, minutes = true, seconds = true, milliseconds = true;\n        var typedMonthPart = \"\";\n        var typedDayPeriodPart = \"\";\n        var placeholders = {};\n\n        //TODO: rewrite pad method\n        var zeros = [\"\", \"0\", \"00\", \"000\", \"0000\"];\n        function pad(number, digits, end) {\n            number = number + \"\";\n            digits = digits || 2;\n            end = digits - number.length;\n\n            if (end) {\n                return zeros[digits].substring(0, end) + number;\n            }\n\n            return number;\n        }\n        var dateFormatRegExp = /dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|\"[^\"]*\"|'[^']*'/g;\n        var months = null, calendar = null, days = null, returnsFormat = false;\n        var matcher = function (match) {\n            var mins, sign;\n            var result;\n\n            switch (match) {\n                case (\"d\"): result = date ? value.getDate() : placeholders.day; break;\n                case (\"dd\"): result = date ? pad(value.getDate()) : placeholders.day; break;\n                case (\"ddd\"): result = date && month && year ? days.namesAbbr[value.getDay()] : placeholders.weekday; break;\n                case (\"dddd\"): result = date && month && year ? days.names[value.getDay()] : placeholders.weekday; break;\n\n                case (\"M\"): result = month ? value.getMonth() + 1 : placeholders.month; break;\n                case (\"MM\"): result = month ? pad(value.getMonth() + 1) : placeholders.month; break;\n                case (\"MMM\"): result = month ? months.namesAbbr[value.getMonth()] : placeholders.month; break;\n                case (\"MMMM\"): result = month ? months.names[value.getMonth()] : placeholders.month; break;\n\n                case (\"yy\"): result = year ? pad(value.getFullYear() % 100) : placeholders.year; break;\n                case (\"yyyy\"): result = year ? pad(value.getFullYear(), 4) : placeholders.year; break;\n\n                case (\"h\"): result = hours ? value.getHours() % 12 || 12 : placeholders.hour; break;\n                case (\"hh\"): result = hours ? pad(value.getHours() % 12 || 12) : placeholders.hour; break;\n                case (\"H\"): result = hours ? value.getHours() : placeholders.hour; break;\n                case (\"HH\"): result = hours ? pad(value.getHours()) : placeholders.hour; break;\n\n                case (\"m\"): result = minutes ? value.getMinutes() : placeholders.minute; break;\n                case (\"mm\"): result = minutes ? pad(value.getMinutes()) : placeholders.minute; break;\n                case (\"s\"): result = seconds ? value.getSeconds() : placeholders.second; break;\n                case (\"ss\"): result = seconds ? pad(value.getSeconds()) : placeholders.second; break;\n                case (\"f\"): result = milliseconds ? Math.floor(value.getMilliseconds() / 100) : milliseconds; break;\n                case (\"ff\"):\n                    result = value.getMilliseconds();\n                    if (result > 99) {\n                        result = Math.floor(result / 10);\n                    }\n                    result = milliseconds ? pad(result) : match;\n                    break;\n                case (\"fff\"): result = milliseconds ? pad(value.getMilliseconds(), 3) : match; break;\n                case (\"tt\"): result = hours ? (value.getHours() < 12 ? calendar.AM[0] : calendar.PM[0]) : placeholders.dayperiod; break;\n                case (\"zzz\"):\n                    mins = value.getTimezoneOffset();\n                    sign = mins < 0;\n                    result = Math.abs(mins / 60).toString().split(\".\")[0];\n                    mins = Math.abs(mins) - (result * 60);\n                    result = (sign ? \"+\" : \"-\") + pad(result);\n                    result += \":\" + pad(mins);\n                    break;\n                case (\"z\"):\n                case (\"zz\"):\n                    result = value.getTimezoneOffset() / 60;\n                    sign = result < 0;\n                    result = Math.abs(result).toString().split(\".\")[0];\n                    result = (sign ? \"+\" : \"-\") + (match === \"zz\" ? pad(result) : result);\n                    break;\n            }\n            result = (result !== undefined ? result : match.slice(1, match.length - 1));\n\n            if (returnsFormat) {\n                result = \"\" + result;\n                var formatResult = \"\";\n                if (match == \"ddd\") { match = \"EEE\"; }\n                if (match == \"dddd\") { match = \"EEEE\"; }\n                for (var i = 0; i < result.length; i++) {\n                    formatResult += match[0];\n                }\n                return formatResult;\n            } else {\n                return result;\n            }\n        };\n\n        function generateMatcher(retFormat) {\n            returnsFormat = retFormat;\n            return matcher;\n        }\n\n        function setExisting(symbol, val) {\n            switch (symbol) {\n                case \"y\": year = val; break;\n                case \"M\": month = val;\n                    if (!val) {\n                        value.setMonth(0);\n                        typedMonthPart = \"\";\n                    }\n                    break;\n                case \"d\": date = val; break;\n                case \"H\":\n                case \"h\": hours = val;\n                    if (!val) {\n                        typedDayPeriodPart = \"\";\n                    }\n                    break;\n                case \"m\": minutes = val; break;\n                case \"s\": seconds = val; break;\n                default: return;\n            }\n        }\n\n        this.setValue = function (val) {\n            date = val;\n        };\n\n        this.getValue = function () {\n            return date;\n        };\n\n        this.modifyPart = function (symbol, offset) {\n            var newValue = new Date((value && value.getTime) ? value.getTime() : value);\n            switch (symbol) {\n                case \"y\": newValue.setFullYear(newValue.getFullYear() + offset); break;\n                case \"M\":\n                    var newMonth = newValue.getMonth() + offset;\n                    newValue.setMonth(newMonth);\n                    if (newValue.getMonth() % 12 !== (newMonth + 12) % 12) {\n                        //handle case when new month does not have such date\n                        newValue.setDate(1);\n                        newValue.setMonth(newMonth);\n                    }\n                    break;\n                case \"d\":\n                case \"E\": newValue.setDate(newValue.getDate() + offset); break;\n                case \"H\":\n                case \"h\": newValue.setHours(newValue.getHours() + offset); break;\n                case \"m\": newValue.setMinutes(newValue.getMinutes() + offset); break;\n                case \"s\": newValue.setSeconds(newValue.getSeconds() + offset); break;\n                case \"t\": newValue.setHours((newValue.getHours() + 12) % 24); break;\n                default: break;\n            }\n            if (newValue.getFullYear() > 0) {\n                setExisting(symbol, true);\n                value = newValue;\n            }\n        };\n\n        this.parsePart = function (symbol, currentChar) {\n            if (!currentChar) {\n                setExisting(symbol, false);\n                return true;\n            }\n            var newValue = new Date((value && value.getTime) ? value.getTime() : value);\n            var lastDateOfMonth = new Date(newValue.getFullYear(), newValue.getMonth() + 1, 0).getDate();\n            var newHours;\n            switch (symbol) {\n                case \"d\":\n                    var newDate = (date ? newValue.getDate() * 10 : 0) + parseInt(currentChar, 10);\n                    if (isNaN(newDate)) { return; }\n                    while (newDate > lastDateOfMonth) {\n                        newDate = parseInt(newDate.toString().slice(1), 10);\n                    }\n                    if (newDate < 1) {\n                        date = false;\n                    } else {\n                        newValue.setDate(newDate);\n                        if (newValue.getMonth() !== value.getMonth()) {\n                            return;\n                        }\n                        date = true;\n                    }\n                    break;\n                case \"M\":\n                    var newMonth = (month ? (newValue.getMonth() + 1) * 10 : 0) + parseInt(currentChar, 10);\n                    if (!isNaN(newMonth)) {\n                        while (newMonth > 12) {\n                            newMonth = parseInt(newMonth.toString().slice(1), 10);\n                        }\n                        if (newMonth < 1) {\n                            month = false;\n                        } else {\n                            newValue.setMonth(newMonth - 1);\n                            if (newValue.getMonth() !== newMonth - 1) {\n                                newValue.setDate(1);\n                                newValue.setMonth(newMonth - 1);\n                            }\n                            month = true;\n                        }\n                    }\n                    else {\n                        var monthNames = calendar.months.names;\n                        typedMonthPart += currentChar.toLowerCase();\n\n                        while (typedMonthPart.length > 0) {\n                            for (var i = 0; i < monthNames.length; i++) {\n                                if (monthNames[i].toLowerCase().indexOf(typedMonthPart) === 0) {\n                                    newValue.setMonth(i);\n                                    month = true;\n                                    value = newValue;\n                                    return true;\n                                }\n                            }\n                            typedMonthPart = typedMonthPart.substring(1, typedMonthPart.length);\n                        }\n                        return false;\n                    }\n                    break;\n                case \"y\":\n                    var newYear = (year ? (newValue.getFullYear()) * 10 : 0) + parseInt(currentChar, 10);\n                    if (isNaN(newYear)) {return;}\n                    while (newYear > 9999) {\n                        newYear = parseInt(newYear.toString().slice(1), 10);\n                    }\n                    if (newYear < 1) {\n                        year = false;\n                    } else {\n                        newValue.setFullYear(newYear);\n                        year = true;\n                    }\n                    break;\n                case \"h\":\n                    newHours = (hours ? (newValue.getHours() % 12 || 12) * 10 : 0) + parseInt(currentChar, 10);\n                    if (isNaN(newHours)) { return; }\n                    while (newHours > 12) {\n                        newHours = parseInt(newHours.toString().slice(1), 10);\n                    }\n                    newValue.setHours(Math.floor(newValue.getHours() / 12) * 12 + newHours % 12);\n                    hours = true;\n                    break;\n                case \"H\":\n                    newHours = (hours ? (newValue.getHours()) * 10 : 0) + parseInt(currentChar, 10);\n                    if (isNaN(newHours)) { return; }\n                    while (newHours > 23) {\n                        newHours = parseInt(newHours.toString().slice(1), 10);\n                    }\n                    newValue.setHours(newHours);\n                    hours = true;\n                    break;\n                case \"m\":\n                    var newMinutes = (minutes ? (newValue.getMinutes()) * 10 : 0) + parseInt(currentChar, 10);\n                    if (isNaN(newMinutes)) { return; }\n                    while (newMinutes > 59) {\n                        newMinutes = parseInt(newMinutes.toString().slice(1), 10);\n                    }\n                    newValue.setMinutes(newMinutes);\n                    minutes = true;\n                    break;\n                case \"s\":\n                    var newSeconds = (seconds ? (newValue.getSeconds()) * 10 : 0) + parseInt(currentChar, 10);\n                    if (isNaN(newSeconds)) { return; }\n                    while (newSeconds > 59) {\n                        newSeconds = parseInt(newSeconds.toString().slice(1), 10);\n                    }\n                    newValue.setSeconds(newSeconds);\n                    seconds = true;\n                    break;\n                case \"t\":\n                    if (hours) {\n                        typedDayPeriodPart += currentChar.toLowerCase();\n                        while (typedDayPeriodPart.length > 0) {\n                            if (calendar.AM[0].toLowerCase().indexOf(typedDayPeriodPart) === 0 && newValue.getHours() >= 12 ||\n                                calendar.PM[0].toLowerCase().indexOf(typedDayPeriodPart) === 0 && newValue.getHours() < 12) {\n                                newValue.setHours((newValue.getHours() + 12) % 24);\n                                value = newValue;\n                                return true;\n                            }\n                            typedDayPeriodPart = typedDayPeriodPart.substring(1, typedDayPeriodPart.length);\n                        }\n                        return false;\n                    }\n                    break;\n                default: break;\n            }\n            value = newValue;\n            return true;\n        };\n\n        this.toPair = function (format, culture , messages) {\n            if (!format) {\n                return [\"\", \"\"];\n            }\n            culture = kendo.getCulture(culture);\n            calendar = culture.calendars.standard;\n            format = calendar.patterns[format] || format;\n            days = calendar.days;\n            months = calendar.months;\n            placeholders = messages;\n            return [\n                format.replace(dateFormatRegExp, generateMatcher(false)),\n                format.replace(dateFormatRegExp, generateMatcher(true))\n            ];\n        };\n\n        this.getDateObject = function () {\n            return (year && month && date && hours && minutes && seconds && milliseconds) ?\n                new Date(value.getTime()) : null;\n        };\n\n        if (!initDate) {\n            value = new Date();\n            var sampleFormat = this.toPair(initFormat, initCulture, initMessages)[1];\n            for (var i = 0; i < sampleFormat.length; i++) {\n                setExisting(sampleFormat[i], false);\n            }\n        } else {\n            value = new Date(initDate.getTime());\n        }\n    };\n\n    function approximateStringMatching(oldText, oldFormat, newText, caret){\n        var oldTextSeparator = oldText[caret + oldText.length - newText.length];\n        oldText = oldText.substring(0, caret + oldText.length - newText.length);\n        newText = newText.substring(0, caret);\n        var diff = [];\n        var i;\n        //handle typing single character over the same selection\n        if (oldText === newText && caret > 0) {\n            diff.push([oldFormat[caret - 1], newText[caret - 1]]);\n            return diff;\n        }\n        if (oldText.indexOf(newText) === 0 && (newText.length === 0 || oldFormat[newText.length - 1] !== oldFormat[newText.length])) {\n            //handle delete/backspace\n            var deletedSymbol = \"\";\n            for (i = newText.length; i < oldText.length; i++) {\n                if (oldFormat[i] !== deletedSymbol && knownSymbols.indexOf(oldFormat[i]) >= 0) {\n                    deletedSymbol = oldFormat[i];\n                    diff.push([deletedSymbol, \"\"]);\n                }\n            }\n            return diff;\n        }\n\n        //handle entering space or separator, for nagivation to next item\n        if (newText[newText.length - 1] === \" \" || newText[newText.length - 1] === oldTextSeparator) {\n            return [[oldFormat[caret - 1], \" \"]];\n        }\n\n        //handle inserting text (new text is longer than previous)\n        //handle typing over literal as well\n        if (newText.indexOf(oldText) === 0 || knownSymbols.indexOf(oldFormat[caret - 1]) === -1) {\n            var symbol = oldFormat[0];\n            for (i = Math.max(0, oldText.length - 1); i < oldFormat.length; i++) {\n                if (knownSymbols.indexOf(oldFormat[i]) >= 0) {\n                    symbol = oldFormat[i];\n                    break;\n                }\n            }\n            return [[symbol, newText[caret - 1]]];\n        }\n        //handle typing over correctly selected part\n        return [[oldFormat[caret - 1], newText[caret - 1]]];\n}\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.datepicker',[ \"./kendo.calendar\", \"./kendo.popup\",  \"./kendo.dateinput\", \"./kendo.html.button\"], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"datepicker\",\n    name: \"DatePicker\",\n    category: \"web\",\n    description: \"The DatePicker widget allows the user to select a date from a calendar or by direct input.\",\n    depends: [ \"calendar\", \"popup\", \"html.button\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n    ui = kendo.ui,\n    html = kendo.html,\n    Widget = ui.Widget,\n    parse = kendo.parseDate,\n    keys = kendo.keys,\n    support = kendo.support,\n    template = kendo.template,\n    activeElement = kendo._activeElement,\n    DIV = \"<div />\",\n    SPAN = \"<span />\",\n    ns = \".kendoDatePicker\",\n    CLICK = \"click\" + ns,\n    UP = support.mouseAndTouchPresent ? kendo.applyEventMap(\"up\", ns.slice(1)) : CLICK,\n    OPEN = \"open\",\n    CLOSE = \"close\",\n    CHANGE = \"change\",\n    DISABLED = \"disabled\",\n    READONLY = \"readonly\",\n    FOCUSED = \"k-focus\",\n    SELECTED = \"k-state-selected\",\n    STATEDISABLED = \"k-disabled\",\n    HOVER = \"k-hover\",\n    HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n    MOUSEDOWN = \"mousedown\" + ns,\n    ID = \"id\",\n    MIN = \"min\",\n    MAX = \"max\",\n    MONTH = \"month\",\n    ARIA_DISABLED = \"aria-disabled\",\n    ARIA_READONLY = \"aria-readonly\",\n    ARIA_EXPANDED = \"aria-expanded\",\n    ARIA_HIDDEN = \"aria-hidden\",\n    calendar = kendo.calendar,\n    isInRange = calendar.isInRange,\n    restrictValue = calendar.restrictValue,\n    isEqualDatePart = calendar.isEqualDatePart,\n    extend = $.extend,\n    proxy = $.proxy,\n    DATE = Date;\n\n    function normalize(options) {\n        var parseFormats = options.parseFormats,\n            format = options.format;\n\n        calendar.normalize(options);\n\n\n        parseFormats = Array.isArray(parseFormats) ? parseFormats : [parseFormats];\n\n        if (!parseFormats.length) {\n            parseFormats.push(\"yyyy-MM-dd\");\n        }\n\n        if ($.inArray(format, parseFormats) === -1) {\n            parseFormats.splice(0, 0, options.format);\n        }\n\n        options.parseFormats = parseFormats;\n    }\n\n    function preventDefault(e) {\n        e.preventDefault();\n    }\n\n    var DateView = function(options) {\n        var that = this, id,\n            body = document.body,\n            div = $(DIV).attr(ARIA_HIDDEN, \"true\")\n                        .addClass(\"k-calendar-container\");\n\n        that.options = options = options || {};\n        id = options.id;\n\n        if(!options.omitPopup){\n            div.appendTo(body);\n            that.popup = new ui.Popup(div, extend(options.popup, options, { name: \"Popup\", isRtl: kendo.support.isRtl(options.anchor) }));\n        } else {\n            div = options.dateDiv;\n        }\n        if (id) {\n            id += \"_dateview\";\n\n            div.attr(ID, id);\n            that._dateViewID = id;\n        }\n        that.div = div;\n\n        that.value(options.value);\n    };\n\n    DateView.prototype = {\n        _calendar: function() {\n            var that = this;\n            var calendar = that.calendar;\n            var options = that.options;\n            var div;\n\n            if (!calendar) {\n                div = $(DIV).attr(ID, kendo.guid())\n                            .appendTo(options.omitPopup ? options.dateDiv : that.popup.element)\n                            .on(MOUSEDOWN, preventDefault)\n                            .on(CLICK, \"td:has(.k-link)\", proxy(that._click, that));\n\n\n                that.calendar = calendar = new ui.Calendar(div, { componentType: options.componentType, size: options.size, messages: options.messages });\n                that._setOptions(options);\n\n                div.addClass(kendo.getValidCssClass(\"k-calendar-\", \"size\", options.size));\n\n                calendar.navigate(that._value || that._current, options.start);\n\n                that.value(that._value);\n            }\n        },\n\n        _setOptions: function(options) {\n            this.calendar.setOptions({\n                focusOnNav: false,\n                change: options.change,\n                culture: options.culture,\n                dates: options.dates,\n                depth: options.depth,\n                footer: options.footer,\n                format: options.format,\n                max: options.max,\n                min: options.min,\n                month: options.month,\n                weekNumber: options.weekNumber,\n                start: options.start,\n                messages: options.messages,\n                disableDates: options.disableDates\n            });\n        },\n\n        setOptions: function(options) {\n            var old = this.options;\n            var disableDates = options.disableDates;\n\n            if (disableDates) {\n                options.disableDates = calendar.disabled(disableDates);\n            }\n\n            this.options = extend(old, options, {\n                change: old.change,\n                close: old.close,\n                open: old.open\n            });\n\n            if (this.calendar) {\n                this._setOptions(this.options);\n            }\n        },\n\n        destroy: function() {\n            if(this.popup){\n                this.popup.destroy();\n            }\n        },\n\n        open: function() {\n            var that = this;\n            var popupHovered;\n\n            that._calendar();\n\n            // In some cases when the popup is opened resize is triggered which will cause it to close\n            // Setting the below flag will prevent this from happening\n            // Reference: https://github.com/telerik/kendo/pull/7553\n            popupHovered = that.popup._hovered;\n            that.popup._hovered = true;\n\n            that.popup.open();\n\n            setTimeout(function() {\n                that.popup._hovered = popupHovered;\n            }, 1);\n        },\n\n        close: function() {\n            if (this.popup) {\n                this.popup.close();\n            }\n        },\n\n        min: function(value) {\n            this._option(MIN, value);\n        },\n\n        max: function(value) {\n            this._option(MAX, value);\n        },\n\n        toggle: function() {\n            var that = this;\n\n            that[that.popup.visible() ? CLOSE : OPEN]();\n        },\n\n        move: function(e) {\n            var that = this,\n                key = e.keyCode,\n                calendar = that.calendar,\n                selectIsClicked = e.ctrlKey && key == keys.DOWN || key == keys.ENTER,\n                handled = false;\n\n            if (e.altKey) {\n                if (key == keys.DOWN) {\n                    that.open();\n                    e.preventDefault();\n                    handled = true;\n                } else if (key == keys.UP) {\n                    that.close();\n                    e.preventDefault();\n                    handled = true;\n                }\n\n            } else if (that.popup && that.popup.visible()) {\n\n                if (key == keys.ESC || (selectIsClicked && calendar._cell.hasClass(SELECTED))) {\n                    that.close();\n                    e.preventDefault();\n                    return true;\n                }\n                //spacebar selects a date in the calendar\n                if (key != keys.SPACEBAR) {\n                    that._current = calendar._move(e);\n                }\n\n                handled = true;\n            }\n\n            return handled;\n        },\n\n        current: function(date) {\n            this._current = date;\n            if (this.calendar) {\n                this.calendar._focus(date);\n            }\n        },\n\n        value: function(value) {\n            var that = this,\n                calendar = that.calendar,\n                options = that.options,\n                disabledDate = options.disableDates;\n\n            if (disabledDate && disabledDate(value)) {\n                value = null;\n            }\n\n            that._value = value;\n            that._current = new DATE(+restrictValue(value, options.min, options.max));\n\n            if (calendar) {\n                calendar.value(value);\n            }\n        },\n\n        _click: function(e) {\n\n            if (e.currentTarget.className.indexOf(SELECTED) !== -1) {\n                this.calendar.trigger(\"change\");\n                this.close();\n            }\n        },\n\n        _option: function(option, value) {\n            var that = this;\n            var calendar = that.calendar;\n\n            that.options[option] = value;\n\n            if (calendar) {\n                calendar[option](value);\n            }\n        }\n    };\n\n    DateView.normalize = normalize;\n\n    kendo.DateView = DateView;\n\n    var DatePicker = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                initialValue,\n                disabled,\n                div;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n            options = that.options;\n\n            options.disableDates = kendo.calendar.disabled(options.disableDates);\n\n            options.min = parse(element.attr(\"min\")) || parse(options.min);\n            options.max = parse(element.attr(\"max\")) || parse(options.max);\n\n            normalize(options);\n\n            that._initialOptions = extend({}, options);\n\n            that._wrapper();\n\n            that.dateView = new DateView(extend({}, options, {\n                id: element.attr(ID),\n                anchor: that.wrapper,\n                change: function() {\n                    // calendar is the current scope\n                    that._change(this.value());\n                    that.close();\n                },\n                close: function(e) {\n                    if (that.trigger(CLOSE)) {\n                        e.preventDefault();\n                    } else {\n                        element.attr(ARIA_EXPANDED, false);\n                        div.attr(ARIA_HIDDEN, true);\n                    }\n                },\n                open: function(e) {\n                    var options = that.options,\n                        date;\n\n                    if (that.trigger(OPEN)) {\n                        e.preventDefault();\n                    } else {\n                        if (that.element.val() !== that._oldText) {\n                            date = parse(element.val(), options.parseFormats, options.culture);\n\n                            that.dateView[date ? \"current\" : \"value\"](date);\n                        }\n\n                        element.attr(ARIA_EXPANDED, true);\n                        div.attr(ARIA_HIDDEN, false);\n\n                        that._updateARIA(date);\n\n                    }\n                }\n            }));\n            div = that.dateView.div;\n\n            that._icon();\n\n            try {\n                element[0].setAttribute(\"type\", \"text\");\n            } catch(e) {\n                element[0].type = \"text\";\n            }\n\n            element\n                .addClass(\"k-input-inner\")\n                .attr({\n                    role: \"combobox\",\n                    \"aria-expanded\": false,\n                    \"aria-haspopup\": \"grid\",\n                    \"aria-owns\": that.dateView._dateViewID,\n                    \"autocomplete\": \"off\"\n                });\n            that._reset();\n            that._template();\n\n            disabled = element.is(\"[disabled]\") || $(that.element).parents(\"fieldset\").is(':disabled');\n            if (disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(element.is(\"[readonly]\"));\n            }\n\n            initialValue = parse(options.value || that.element.val(), options.parseFormats, options.culture);\n\n            that._createDateInput(options);\n\n            that._old = that._update(initialValue || that.element.val());\n            that._oldText = element.val();\n            that._applyCssClasses();\n\n            kendo.notify(that);\n        },\n        events: [\n        OPEN,\n        CLOSE,\n        CHANGE],\n        options: {\n            name: \"DatePicker\",\n            value: null,\n            footer: \"\",\n            format: \"\",\n            culture: \"\",\n            parseFormats: [],\n            min: new Date(1900, 0, 1),\n            max: new Date(2099, 11, 31),\n            start: MONTH,\n            depth: MONTH,\n            animation: {},\n            month: {},\n            dates: [],\n            disableDates: null,\n            ARIATemplate: 'Current focused #=data.valueType# is #=data.text#',\n            dateInput: false,\n            weekNumber: false,\n            messages: {\n                weekColumnHeader: \"\"\n            },\n            componentType: \"classic\",\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        setOptions: function(options) {\n            var that = this;\n            var value = that._value;\n\n            Widget.fn.setOptions.call(that, options);\n\n            options = that.options;\n\n            options.min = parse(options.min);\n            options.max = parse(options.max);\n\n            normalize(options);\n\n            that._dateIcon.off(ns);\n            that._dateIcon.remove();\n\n            that.dateView.setOptions(options);\n            that._icon();\n            that._editable(options);\n            that._createDateInput(options);\n\n            if (!that._dateInput) {\n                that.element.val(kendo.toString(value, options.format, options.culture));\n            }\n\n            if (value) {\n                that._updateARIA(value);\n            }\n        },\n\n        _editable: function(options) {\n            var that = this,\n                icon = that._dateIcon.off(ns),\n                element = that.element.off(ns),\n                wrapper = that.wrapper.off(ns),\n                readonly = options.readonly,\n                disable = options.disable;\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n                if(element && element.length) {\n                    element[0].removeAttribute(DISABLED);\n                    element[0].removeAttribute(READONLY);\n                }\n                element.attr(ARIA_DISABLED, false)\n                       .attr(ARIA_READONLY, false)\n                       .on(\"keydown\" + ns, proxy(that._keydown, that))\n                       .on(\"focusout\" + ns, proxy(that._blur, that))\n                       .on(\"focus\" + ns, function() {\n                           that.wrapper.addClass(FOCUSED);\n                       });\n\n               icon.on(UP, proxy(that._click, that))\n                   .on(MOUSEDOWN, preventDefault);\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable)\n                       .attr(ARIA_READONLY, readonly);\n            }\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n            if (this._dateInput) {\n                this._dateInput._editable({\n                    readonly: readonly === undefined ? true : readonly,\n                    disable: false\n                });\n            }\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n            if (this._dateInput) {\n                this._dateInput._editable({\n                    readonly: false,\n                    disable: !(enable = enable === undefined ? true : enable)\n                });\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that.dateView.destroy();\n\n            that.element.off(ns);\n            that._dateIcon.off(ns);\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n        },\n\n        open: function() {\n            this.dateView.open();\n        },\n\n        close: function() {\n            this.dateView.close();\n        },\n\n        min: function(value) {\n            return this._option(MIN, value);\n        },\n\n        max: function(value) {\n            return this._option(MAX, value);\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            that._old = that._update(value);\n\n            if (that._old === null) {\n                if (that._dateInput) {\n                    that._dateInput.value(that._old);\n                } else {\n                    that.element.val(\"\");\n                }\n            }\n\n            that._oldText = that.element.val();\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === \"mouseenter\");\n        },\n\n        _blur: function() {\n            var that = this,\n                value = that.element.val();\n\n            that.close();\n            if (value !== that._oldText) {\n                that._change(value);\n                if (!value) {\n                    that.dateView.current(kendo.calendar.getToday());\n                }\n            }\n\n            that.wrapper.removeClass(FOCUSED);\n        },\n\n        _click: function(e) {\n            var that = this;\n\n            that.dateView.toggle();\n            that._focusElement(e.type);\n        },\n\n        _focusElement: function(eventType) {\n            var element = this.element;\n\n            if ((!support.touch || (support.mouseAndTouchPresent && !(eventType || \"\").match(/touch/i))) && element[0] !== activeElement()) {\n                element.trigger(\"focus\");\n            }\n        },\n\n        _change: function(value) {\n            var that = this,\n            oldValue = that.element.val(),\n            dateChanged;\n\n            value = that._update(value);\n            dateChanged = !kendo.calendar.isEqualDate(that._old, value);\n\n            var valueUpdated = dateChanged && !that._typing;\n            var textFormatted = oldValue !== that.element.val();\n\n            if (valueUpdated || textFormatted) {\n                that.element.trigger(CHANGE);\n            }\n\n            if (dateChanged) {\n                that._old = value;\n                that._oldText = that.element.val();\n\n                that.trigger(CHANGE);\n            }\n\n            that._typing = false;\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                dateView = that.dateView,\n                value = that.element.val(),\n                handled = false;\n\n            if (!dateView.popup.visible() && e.keyCode == keys.ENTER && value !== that._oldText) {\n                that._change(value);\n            } else {\n                handled = dateView.move(e);\n                that._updateARIA(dateView._current);\n\n                if (!handled) {\n                    that._typing = true;\n                } else if (that._dateInput && e.stopImmediatePropagation) {\n                    e.stopImmediatePropagation();\n                }\n            }\n        },\n\n        _icon: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                icon;\n\n            icon = element.next(\"button.k-input-button\");\n\n            if (!icon[0]) {\n                icon = $(html.renderButton('<button aria-label=\"select\" tabindex=\"-1\" class=\"k-input-button k-button k-icon-button\"></button>', {\n                    icon: \"calendar\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: null,\n                    rounded: null\n                })).insertAfter(element);\n            }\n\n            that._dateIcon = icon.attr({\n                \"role\": \"button\",\n                \"aria-controls\": that.dateView._dateViewID\n            });\n        },\n\n        _option: function(option, value) {\n            var that = this,\n                options = that.options;\n\n            if (value === undefined) {\n                return options[option];\n            }\n\n            value = parse(value, options.parseFormats, options.culture);\n\n            if (!value) {\n                return;\n            }\n\n            options[option] = new DATE(+value);\n            that.dateView[option](value);\n        },\n\n        _update: function(value) {\n            var that = this,\n                options = that.options,\n                min = options.min,\n                max = options.max,\n                current = that._value,\n                date = parse(value, options.parseFormats, options.culture),\n                isSameType = (date === null && current === null) || (date instanceof Date && current instanceof Date),\n                formattedValue;\n\n            if (options.disableDates(date)) {\n                date = null;\n                if (!that._old && !that.element.val()) {\n                    value = null;\n                }\n            }\n\n            if (+date === +current && isSameType) {\n                formattedValue = kendo.toString(date, options.format, options.culture);\n\n                if (formattedValue !== value && !(that._dateInput && !date)) {\n                    that.element.val(date === null ? value : formattedValue);\n                }\n\n                return date;\n            }\n\n            if (date !== null && isEqualDatePart(date, min)) {\n                date = restrictValue(date, min, max);\n            } else if (!isInRange(date, min, max)) {\n                date = null;\n            }\n\n            that._value = date;\n            that.dateView.value(date);\n            if (that._dateInput && date) {\n                that._dateInput.value(date || value);\n            } else {\n                that.element.val(kendo.toString(date || value, options.format, options.culture));\n            }\n            that._updateARIA(date);\n\n            return date;\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper;\n\n            wrapper = element.parents(\".k-datepicker\");\n\n            if (!wrapper[0]) {\n                wrapper = element.wrap(SPAN).parent();\n            }\n\n            wrapper[0].style.cssText = element[0].style.cssText;\n            element.css({\n                height: element[0].style.height\n            });\n\n            that.wrapper = wrapper.addClass(\"k-datepicker k-input\")\n                .addClass(element[0].className).removeClass('input-validation-error');\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                options = that.options,\n                disabledDate = options.disableDates,\n                parseFormats = options.parseFormats.length ? options.parseFormats : null,\n                optionsValue = that._initialOptions.value,\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\"),\n                initialValue = element[0].defaultValue;\n\n            if (optionsValue && (disabledDate && disabledDate(optionsValue))) {\n                optionsValue = null;\n            }\n\n            if ((!initialValue || !kendo.parseDate(initialValue, parseFormats, options.culture)) && optionsValue) {\n                element.attr(\"value\", kendo.toString(optionsValue, options.format, options.culture));\n            }\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    that.value(optionsValue || element[0].defaultValue);\n                    that.max(that._initialOptions.max);\n                    that.min(that._initialOptions.min);\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _template: function() {\n            this._ariaTemplate = proxy(template(this.options.ARIATemplate), this);\n        },\n\n        _createDateInput: function(options) {\n            if (this._dateInput) {\n                this._dateInput.destroy();\n                this._dateInput = null;\n            }\n\n            if (options.dateInput ) {\n                this._dateInput = new ui.DateInput(this.element, {\n                    culture: options.culture,\n                    format: options.format,\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    rounded: options.rounded,\n                    min: options.min,\n                    max: options.max\n                });\n            }\n        },\n\n        _updateARIA: function(date) {\n            var that = this;\n            var calendar = that.dateView.calendar;\n\n            if (that.element && that.element.length) {\n                that.element[0].removeAttribute(\"aria-activedescendant\");\n            }\n\n            if (calendar) {\n                that.element.attr(\"aria-activedescendant\", calendar._updateAria(that._ariaTemplate, date));\n            }\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"DatePicker\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"DatePicker\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(DatePicker);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.virtuallist',[ \"./kendo.data\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"virtuallist\",\n    name: \"VirtualList\",\n    category: \"framework\",\n    depends: [ \"data\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        DataBoundWidget = ui.DataBoundWidget,\n        proxy = $.proxy,\n        percentageUnitsRegex = /^\\d+(\\.\\d+)?%$/i,\n        LIST_CONTENT = \"k-list-content k-virtual-content\",\n        TABLE_CONTENT = \"k-table-body k-table-scroller\",\n        HEADER = \"k-list-group-sticky-header\",\n        LIST_ITEM = \"k-list-item\",\n        TABLE_ITEM = \"k-table-row\",\n        HEIGHTCONTAINER = \"k-height-container\",\n        GROUPITEM = \"k-list-item-group-label\",\n        LIST_UL = \"k-list-ul\",\n        TABLE_LIST = \"k-table-list\",\n\n        SELECTED = \"k-selected\",\n        FOCUSED = \"k-focus\",\n        HOVER = \"k-hover\",\n        CHANGE = \"change\",\n        CLICK = \"click\",\n        LISTBOUND = \"listBound\",\n        ITEMCHANGE = \"itemChange\",\n\n        ACTIVATE = \"activate\",\n        DEACTIVATE = \"deactivate\",\n\n        GROUP_ROW_SEL = \".k-table-group-row\",\n\n        VIRTUAL_LIST_NS = \".VirtualList\";\n\n    function lastFrom(array) {\n        return array[array.length - 1];\n    }\n\n    function toArray(value) {\n        return value instanceof Array ? value : [value];\n    }\n\n    function isPrimitive(dataItem) {\n        return typeof dataItem === \"string\" || typeof dataItem === \"number\" || typeof dataItem === \"boolean\";\n    }\n\n    function getItemCount(screenHeight, listScreens, itemHeight) {\n        return Math.ceil(screenHeight * listScreens / itemHeight);\n    }\n\n    function appendChild(parent, className, tagName) {\n        var element = document.createElement(tagName || \"div\");\n        if (className) {\n            element.className = className;\n        }\n        parent.appendChild(element);\n\n        return element;\n    }\n\n    function getDefaultItemHeight(listSize) {\n        var mockList = $('<div class=\"k-list ' + listSize + ' k-virtual-list\">' +\n                '<div class=\"k-list-content k-virtual-content\">' +\n                    '<ul class=\"k-list-ul\">' +\n                        '<li class=\"k-list-item\">' +\n                            '<span class=\"k-list-item-text\">test</span>' +\n                        '</li>' +\n                    '</ul>' +\n                '</div>' +\n            '</div>');\n        var lineHeight;\n\n        mockList.css({\n            position: \"absolute\",\n            left: \"-200000px\",\n            visibility: \"hidden\"\n        });\n        mockList.appendTo(document.body);\n        lineHeight = parseFloat(kendo.getComputedStyles(mockList.find(\".k-list-item\")[0], [\"height\"]).height);\n        mockList.remove();\n\n        return lineHeight;\n    }\n\n    function bufferSizes(screenHeight, listScreens, opposite) { //in pixels\n        return {\n            down: screenHeight * opposite,\n            up: screenHeight * (listScreens - 1 - opposite)\n        };\n    }\n\n    function listValidator(options, screenHeight) {\n        var downThreshold = (options.listScreens - 1 - options.threshold) * screenHeight;\n        var upThreshold = options.threshold * screenHeight;\n\n        return function(list, scrollTop, lastScrollTop) {\n            if (scrollTop > lastScrollTop) {\n                return scrollTop - list.top < downThreshold;\n            } else {\n                return list.top === 0 || scrollTop - list.top > upThreshold;\n            }\n        };\n    }\n\n    function scrollCallback(element, callback) {\n        return function(force) {\n            return callback(element.scrollTop, force);\n        };\n    }\n\n    function syncList(reorder) {\n        return function(list, force) {\n            reorder(list.items, list.index, force);\n            return list;\n        };\n    }\n\n    function position(element, y) {\n        element.style.webkitTransform = 'translateY(' + y + \"px)\";\n        element.style.transform = 'translateY(' + y + \"px)\";\n    }\n\n    function map2(callback, templates) {\n        return function(arr1, arr2) {\n            for (var i = 0, len = arr1.length; i < len; i++) {\n                callback(arr1[i], arr2[i], templates);\n                if (arr2[i].item) {\n                    this.trigger(ITEMCHANGE, { item: $(arr1[i]), data: arr2[i].item, ns: kendo.ui });\n                }\n            }\n        };\n    }\n\n    function reshift(items, diff) {\n        var range;\n\n        if (diff > 0) { // down\n            range = items.splice(0, diff);\n            items.push.apply(items, range);\n        } else { // up\n            range = items.splice(diff, -diff);\n            items.unshift.apply(items, range);\n        }\n\n        return range;\n    }\n\n    function render(element, data, templates) {\n        var itemTemplate = templates.template,\n            hasColumns = this.options.columns && this.options.columns.length,\n            altRow = data.index % 2 === 1 ? \"k-table-alt-row\" : \"\";\n\n        element = $(element);\n\n        if (!data.item) {\n            itemTemplate = templates.placeholderTemplate;\n        }\n\n        if (data.index === 0 && this.header && data.group) {\n            this.header.html(templates.fixedGroupTemplate(data.group));\n        }\n\n        this.angular(\"cleanup\", function() {\n            return { elements: [ element ]};\n        });\n\n        element\n            .attr(\"data-uid\", data.item ? data.item.uid : \"\")\n            .attr(\"data-offset-index\", data.index);\n\n        if (hasColumns && data.item) {\n            if (altRow.length > 0) {\n                element.addClass(altRow);\n            } else {\n                element.removeClass(\"k-table-alt-row\");\n            }\n            element.html(renderColumns(this.options, data.item, templates));\n        } else {\n            element.find(\".\" + GROUPITEM).remove();\n            element.find(\".k-list-item-text\").html(itemTemplate(data.item || {}));\n        }\n\n        element.toggleClass(FOCUSED, data.current);\n        element.toggleClass(SELECTED, data.selected);\n        element.toggleClass(\"k-first\", data.newGroup);\n        element.toggleClass(\"k-last\", data.isLastGroupedItem);\n        element.toggleClass(\"k-loading-item\", !data.item);\n\n        if (data.index !== 0 && data.newGroup) {\n            if (hasColumns) {\n                $('<span class=\"k-table-td k-table-group-td\"><span>' + templates.groupTemplate(data.group) + '</span></span>')\n                    .appendTo(element);\n            } else {\n                $(\"<div class=\" + GROUPITEM + \"></div>\")\n                    .appendTo(element)\n                    .html(templates.groupTemplate(data.group));\n            }\n        } else if (data.group && hasColumns) {\n            element.append($('<span class=\"k-table-td k-table-spacer-td\"></span>'));\n        }\n\n        if (data.top !== undefined) {\n            position(element[0], data.top);\n        }\n\n        this.angular(\"compile\", function() {\n            return { elements: [ element ], data: [ { dataItem: data.item, group: data.group, newGroup: data.newGroup } ]};\n        });\n    }\n\n    function renderColumns(options, dataItem, templates) {\n        var item = \"\";\n\n        for (var i = 0; i < options.columns.length; i++) {\n            var currentWidth = options.columns[i].width;\n            var currentWidthInt = parseInt(currentWidth, 10);\n            var widthStyle = '';\n\n            if(currentWidth){\n                widthStyle += \"style='width:\";\n                widthStyle += currentWidthInt;\n                widthStyle += percentageUnitsRegex.test(currentWidth) ? \"%\" : \"px\";\n                widthStyle += \";'\";\n            }\n            item += \"<span class='k-table-td' \" + widthStyle + \">\";\n            item += templates[\"column\"+ i](dataItem);\n            item += \"</span>\";\n        }\n\n        return item;\n    }\n\n    function mapChangedItems(selected, itemsToMatch) {\n        var itemsLength = itemsToMatch.length;\n        var selectedLength = selected.length;\n        var dataItem;\n        var found;\n        var i, j;\n\n        var changed = [];\n        var unchanged = [];\n\n        if (selectedLength) {\n            for (i = 0; i < selectedLength; i++) {\n                dataItem = selected[i];\n                found = false;\n\n                for (j = 0; j < itemsLength; j++) {\n                    if (dataItem === itemsToMatch[j]) {\n                        found = true;\n                        changed.push({ index: i, item: dataItem });\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    unchanged.push(dataItem);\n                }\n            }\n        }\n\n        return {\n            changed: changed,\n            unchanged: unchanged\n        };\n    }\n\n    function isActivePromise(promise) {\n        return promise && promise.state() !== \"resolved\";\n    }\n\n    var VirtualList = DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this,\n                contentClasses = options.columns && options.columns.length ? TABLE_CONTENT : LIST_CONTENT;\n\n            that.bound(false);\n            that._fetching = false;\n\n            Widget.fn.init.call(that, element, options);\n\n            if (!that.options.itemHeight) {\n                that.options.itemHeight = getDefaultItemHeight(options.listSize);\n            }\n\n            options = that.options;\n\n            that.element.attr(\"role\", \"listbox\");\n\n            that.content = that.wrapper = that.element.wrap(\"<div unselectable='on' class='\" + contentClasses + \"'></div>\").parent();\n\n            if(that.options.columns && that.options.columns.length) {\n                var thead = that.element.closest(\".k-data-table\").find('.k-table-thead');\n                var row = $('<tr class=\"k-table-group-row\">' +\n                    '<th class=\"k-table-th\" colspan=\"' + that.options.columns.length + '\"></th>' +\n                '</tr>');\n\n                thead.append(row);\n\n                that.header = row.find(\".k-table-th\");\n                that.element.addClass(TABLE_LIST + \" k-virtual-table\");\n            } else {\n                that.header = that.content.before(\"<div class='\" + HEADER + \"'></div>\").prev();\n                that.element.addClass(LIST_UL);\n            }\n\n            if(options.ariaLabel) {\n                this.element.attr(\"aria-label\", options.ariaLabel);\n            } else if(options.ariaLabelledBy) {\n                this.element.attr(\"aria-labelledby\", options.ariaLabelledBy);\n            }\n\n            that.element.on(\"mouseenter\" + VIRTUAL_LIST_NS, \"li:not(.k-loading-item)\", function() { $(this).addClass(HOVER); })\n                        .on(\"mouseleave\" + VIRTUAL_LIST_NS, \"li\", function() { $(this).removeClass(HOVER); });\n\n            that._values = toArray(that.options.value);\n            that._selectedDataItems = [];\n            that._selectedIndexes = [];\n            that._rangesList = {};\n            that._promisesList = [];\n            that._optionID = kendo.guid();\n\n            that._templates();\n\n            that.setDataSource(options.dataSource);\n\n            that.content.on(\"scroll\" + VIRTUAL_LIST_NS, kendo.throttle(function() {\n                that._renderItems();\n                that._triggerListBound();\n            }, options.delay));\n\n            that._selectable();\n        },\n\n        options: {\n            name: \"VirtualList\",\n            autoBind: true,\n            delay: 100,\n            height: null,\n            listScreens: 4,\n            threshold: 0.5,\n            itemHeight: null,\n            oppositeBuffer: 1,\n            type: \"flat\",\n            selectable: false,\n            value: [],\n            dataValueField: null,\n            template: \"#:data#\",\n            placeholderTemplate: \"loading...\",\n            groupTemplate: \"#:data#\",\n            fixedGroupTemplate: \"#:data#\",\n            mapValueTo: \"index\",\n            valueMapper: null,\n            ariaLabel: null,\n            ariaLabelledBy: null\n        },\n\n        events: [\n            CHANGE,\n            CLICK,\n            LISTBOUND,\n            ITEMCHANGE,\n            ACTIVATE,\n            DEACTIVATE\n        ],\n\n        setOptions: function(options) {\n            var itemClass = this.options.columns && this.options.columns.length ? TABLE_ITEM : LIST_ITEM;\n\n            Widget.fn.setOptions.call(this, options);\n\n            if (this._selectProxy && this.options.selectable === false) {\n                this.element.off(CLICK, \".\" + itemClass, this._selectProxy);\n            } else if (!this._selectProxy && this.options.selectable) {\n                this._selectable();\n            }\n\n            this._templates();\n            this.refresh();\n        },\n\n        items: function() {\n            return $(this._items);\n        },\n\n        destroy: function() {\n            this.wrapper.off(VIRTUAL_LIST_NS);\n            this.dataSource.unbind(CHANGE, this._refreshHandler);\n            Widget.fn.destroy.call(this);\n        },\n\n        setDataSource: function(source) {\n            var that = this;\n            var dataSource = source || {};\n            var value;\n\n            dataSource = Array.isArray(dataSource) ? {data: dataSource} : dataSource;\n            dataSource = kendo.data.DataSource.create(dataSource);\n\n            if (that.dataSource) {\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n\n                that._clean();\n                that.bound(false);\n\n                that._deferValueSet = true;\n                value = that.value();\n\n                that.value([]);\n                that.mute(function() {\n                    that.value(value);\n                });\n            } else {\n                that._refreshHandler = $.proxy(that.refresh, that);\n            }\n\n            that.dataSource = dataSource.bind(CHANGE, that._refreshHandler);\n\n            that.setDSFilter(dataSource.filter());\n\n            if (dataSource.view().length !== 0) {\n                that.refresh();\n            } else if (that.options.autoBind) {\n                dataSource.fetch();\n            }\n        },\n\n        skip: function() {\n            return this.dataSource.currentRangeStart();\n        },\n\n        _triggerListBound: function () {\n            var that = this;\n            var skip = that.skip();\n\n            if (that.bound() && !that._selectingValue && that._skip !== skip) {\n                that._skip = skip;\n                that.trigger(LISTBOUND);\n            }\n        },\n\n        _getValues: function(dataItems) {\n            var getter = this._valueGetter;\n\n            return $.map(dataItems, function(dataItem) {\n                return getter(dataItem);\n            });\n        },\n\n        _highlightSelectedItems: function () {\n            for (var i = 0; i < this._selectedDataItems.length; i++) {\n                var item = this._getElementByDataItem(this._selectedDataItems[i]);\n                if(item.length){\n                    item.addClass(SELECTED);\n                }\n            }\n        },\n\n        refresh: function(e) {\n            var that = this;\n            var action = e && e.action;\n            var isItemChange = action === \"itemchange\";\n            var filtered = this.isFiltered();\n            var result;\n\n            if (that._mute) { return; }\n\n            that._deferValueSet = false;\n\n            if (!that._fetching) {\n                if (filtered) {\n                    that.focus(0);\n                }\n\n                that._createList();\n                if (!action && that._values.length && !filtered &&\n                     !that.options.skipUpdateOnBind && !that._emptySearch) {\n                    that._selectingValue = true;\n\n                    that.bound(true);\n                    that.value(that._values, true).done(function () {\n                        that._selectingValue = false;\n                        that._triggerListBound();\n                    });\n                } else {\n                    that.bound(true);\n                    that._highlightSelectedItems();\n                    that._triggerListBound();\n                }\n            } else {\n                if (that._renderItems) {\n                    that._renderItems(true);\n                }\n\n                that._triggerListBound();\n            }\n\n            if (isItemChange || action === \"remove\") {\n                result = mapChangedItems(that._selectedDataItems, e.items);\n                if (result.changed.length) {\n                    if (isItemChange) {\n                        that.trigger(\"selectedItemChange\", {\n                            items: result.changed\n                        });\n                    } else {\n                        that.value(that._getValues(result.unchanged));\n                    }\n                }\n            }\n\n            that._fetching = false;\n        },\n\n        removeAt: function(position) {\n            var value = this._values.splice(position, 1)[0];\n\n            return {\n                position: position,\n                dataItem: this._removeSelectedDataItem(value)\n            };\n        },\n\n        _removeSelectedDataItem: function (value) {\n            var that = this,\n                valueGetter = that._valueGetter;\n\n            for (var idx in that._selectedDataItems) {\n                if(valueGetter(that._selectedDataItems[idx]) === value) {\n                    that._selectedIndexes.splice(idx, 1);\n                    return that._selectedDataItems.splice(idx, 1)[0];\n                }\n            }\n        },\n\n        setValue: function(value) {\n            this._values = toArray(value);\n        },\n\n        value: function(value, _forcePrefetch) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._values.slice();\n            }\n\n            if (value === null) {\n                value = [];\n            }\n\n            value = toArray(value);\n\n            if (!that._valueDeferred || that._valueDeferred.state() === \"resolved\") {\n                that._valueDeferred = $.Deferred();\n            }\n\n            var shouldClear = that.options.selectable === \"multiple\" && that.select().length && value.length;\n\n            if (shouldClear || !value.length) {\n                that.select(-1);\n            }\n\n            that._values = value;\n\n            if ((that.bound() && !that._mute && !that._deferValueSet) || _forcePrefetch) {\n                that._prefetchByValue(value);\n            }\n\n            return that._valueDeferred;\n        },\n\n        _checkValuesOrder: function (value) {\n            if (this._removedAddedIndexes &&\n                this._removedAddedIndexes.length === value.length) {\n                    var newValue = this._removedAddedIndexes.slice();\n                    this._removedAddedIndexes = null;\n                return newValue;\n            }\n\n            return value;\n        },\n\n        _prefetchByValue: function(value) {\n            var that = this,\n                dataView = that._dataView,\n                valueGetter = that._valueGetter,\n                mapValueTo = that.options.mapValueTo,\n                item, match = false,\n                forSelection = [];\n\n            //try to find the items in the loaded data\n            for (var i = 0; i < value.length; i++) {\n                for (var idx = 0; idx < dataView.length; idx++) {\n                    item = dataView[idx].item;\n                    if (item) {\n                        match = isPrimitive(item) ? value[i] === item : value[i] === valueGetter(item);\n\n                        if (match) {\n                            forSelection.push(dataView[idx].index);\n                        }\n                    }\n                }\n            }\n\n            if (forSelection.length === value.length) {\n                that._values = [];\n                that.select(forSelection);\n                return;\n            }\n\n            //prefetch the items\n            if (typeof that.options.valueMapper === \"function\") {\n                that.options.valueMapper({\n                    value: (this.options.selectable === \"multiple\") ? value : value[0],\n                    success: function(response) {\n                        if (mapValueTo === \"index\") {\n                            that.mapValueToIndex(response);\n                        } else if (mapValueTo === \"dataItem\") {\n                            that.mapValueToDataItem(response);\n                        }\n                    }\n                });\n            } else {\n                 if (!that.value()[0]) {\n                     that.select([-1]);\n                 } else {\n                    that._selectingValue = false;\n                    that._triggerListBound();\n                 }\n            }\n        },\n\n        mapValueToIndex: function(indexes) {\n            if (indexes === undefined || indexes === -1 || indexes === null) {\n                indexes = [];\n            } else {\n                indexes = toArray(indexes);\n            }\n\n            if (!indexes.length) {\n                indexes = [-1];\n            } else {\n                var removed = this._deselect([]).removed;\n                if (removed.length) {\n                    this._triggerChange(removed, []);\n                }\n            }\n\n            this.select(indexes);\n        },\n\n        mapValueToDataItem: function(dataItems) {\n            var removed, added;\n\n            if (dataItems === undefined || dataItems === null) {\n                dataItems = [];\n            } else {\n                dataItems = toArray(dataItems);\n            }\n\n            if (!dataItems.length) {\n                this.select([-1]);\n            } else {\n                removed = $.map(this._selectedDataItems, function(item, index) {\n                    return { index: index, dataItem: item };\n                });\n\n                added = $.map(dataItems, function(item, index) {\n                    return { index: index, dataItem: item };\n                });\n\n                this._selectedDataItems = dataItems;\n\n                this._selectedIndexes = [];\n\n                for (var i = 0; i < this._selectedDataItems.length; i++) {\n                    var item = this._getElementByDataItem(this._selectedDataItems[i]);\n                    this._selectedIndexes.push(this._getIndecies(item)[0]);\n                    item.addClass(SELECTED);\n                }\n\n                this._triggerChange(removed, added);\n\n                if (this._valueDeferred) {\n                    this._valueDeferred.resolve();\n                }\n            }\n        },\n\n        deferredRange: function(index) {\n            var dataSource = this.dataSource;\n            var take = this.itemCount;\n            var ranges = this._rangesList;\n            var result = $.Deferred();\n            var defs = [];\n\n            var low = Math.floor(index / take) * take;\n            var high = Math.ceil(index / take) * take;\n\n            var pages = high === low ? [ high ] : [ low, high ];\n\n            $.each(pages, function(_, skip) {\n                var end = skip + take;\n                var existingRange = ranges[skip];\n                var deferred;\n\n                if (!existingRange || (existingRange.end !== end)) {\n                    deferred = $.Deferred();\n                    ranges[skip] = { end: end, deferred: deferred };\n\n                    dataSource._multiplePrefetch(skip, take, function() {\n                        deferred.resolve();\n                    });\n                } else {\n                    deferred = existingRange.deferred;\n                }\n\n                defs.push(deferred);\n            });\n\n            $.when.apply($, defs).then(function() {\n                result.resolve();\n            });\n\n            return result;\n        },\n\n        prefetch: function(indexes) {\n            var that = this,\n                take = this.itemCount,\n                isEmptyList = !that._promisesList.length;\n\n            if (!isActivePromise(that._activeDeferred)) {\n                that._activeDeferred = $.Deferred();\n                that._promisesList = [];\n            }\n\n            $.each(indexes, function(_, index) {\n                that._promisesList.push(that.deferredRange(that._getSkip(index, take)));\n            });\n\n            if (isEmptyList) {\n                $.when.apply($, that._promisesList).done(function() {\n                    that._promisesList = [];\n                    that._activeDeferred.resolve();\n                });\n            }\n\n            return that._activeDeferred;\n        },\n\n        _findDataItem: function(view, index) {\n            var group;\n\n            //find in grouped view\n            if (this.options.type === \"group\") {\n                for (var i = 0; i < view.length; i++) {\n                    group = view[i].items;\n                    if (group.length <= index) {\n                        index = index - group.length;\n                    } else {\n                        return group[index];\n                    }\n                }\n            }\n\n            //find in flat view\n            return view[index];\n        },\n\n        _getRange: function(skip, take) {\n            return this.dataSource._findRange(skip, Math.min(skip + take, this.dataSource.total()));\n        },\n\n        dataItemByIndex: function(index) {\n            var that = this;\n            var take = that.itemCount;\n            var skip = that._getSkip(index, take);\n            var view = this._getRange(skip, take);\n\n            //should not return item if data is not loaded\n            if (!that._getRange(skip, take).length) {\n                return null;\n            }\n\n            if (that.options.type === \"group\") {\n                kendo.ui.progress($(that.wrapper), true);\n                that.mute(function() {\n                    that.dataSource.range(skip, take, function () {\n                        kendo.ui.progress($(that.wrapper), false);\n                    });\n                    view = that.dataSource.view();\n                });\n            }\n\n            return that._findDataItem(view, [index - skip]);\n        },\n\n        selectedDataItems: function() {\n            return this._selectedDataItems.slice();\n        },\n\n        scrollWith: function(value) {\n            this.content.scrollTop(this.content.scrollTop() + value);\n        },\n\n        scrollTo: function(y) {\n            this.content.scrollTop(y); //works only if the element is visible\n        },\n\n        scrollToIndex: function(index) {\n            this.scrollTo(index * this.options.itemHeight);\n        },\n\n        focus: function(candidate) {\n            var element,\n                index,\n                data,\n                current,\n                itemHeight = this.options.itemHeight,\n                id = this._optionID,\n                triggerEvent = true;\n\n            if (candidate === undefined) {\n                current = this.element.find(\".\" + FOCUSED);\n                return current.length ? current : null;\n            }\n\n            if (typeof candidate === \"function\") {\n                data = this.dataSource.flatView();\n                for (var idx = 0; idx < data.length; idx++) {\n                    if (candidate(data[idx])) {\n                        candidate = idx;\n                        break;\n                    }\n                }\n            }\n\n            if (candidate instanceof Array) {\n                candidate = lastFrom(candidate);\n            }\n\n            if (isNaN(candidate)) {\n                element = $(candidate);\n                index = parseInt($(element).attr(\"data-offset-index\"), 10);\n            } else {\n                index = candidate;\n                element = this._getElementByIndex(index);\n            }\n\n            if (index === -1) {\n                this.element.find(\".\" + FOCUSED).removeClass(FOCUSED);\n                this._focusedIndex = undefined;\n                return;\n            }\n\n            if (element.length) { /*focus rendered item*/\n                if (element.hasClass(FOCUSED)) {\n                    triggerEvent = false;\n                }\n                if (this._focusedIndex !== undefined) {\n                    current = this._getElementByIndex(this._focusedIndex);\n                    current\n                        .removeClass(FOCUSED)\n                        .removeAttr(\"id\");\n\n                    if (triggerEvent) {\n                        this.trigger(DEACTIVATE);\n                    }\n                }\n\n                this._focusedIndex = index;\n\n                element\n                    .addClass(FOCUSED)\n                    .attr(\"id\", id);\n\n                var position = this._getElementLocation(index);\n\n                if (position === \"top\") {\n                    this.scrollTo(index * itemHeight);\n                } else if (position === \"bottom\") {\n                    this.scrollTo((index * itemHeight + itemHeight) - this._screenHeight);\n                } else if (position === \"outScreen\") {\n                    this.scrollTo(index * itemHeight);\n                }\n\n                if (triggerEvent) {\n                    this.trigger(ACTIVATE);\n                }\n            } else { /*focus non rendered item*/\n                this._focusedIndex = index;\n                this.items().removeClass(FOCUSED);\n                this.scrollToIndex(index);\n            }\n        },\n\n        focusIndex: function() {\n            return this._focusedIndex;\n        },\n\n        focusFirst: function() {\n            this.scrollTo(0);\n            this.focus(0);\n        },\n\n        focusLast: function() {\n            var lastIndex = this.dataSource.total();\n            this.scrollTo(this.heightContainer.offsetHeight);\n            this.focus(lastIndex - 1);\n        },\n\n        focusPrev: function() {\n            var index = this._focusedIndex;\n            var current;\n\n            if (!isNaN(index) && index > 0) {\n                index -= 1;\n                this.focus(index);\n\n                current = this.focus();\n                if (current && current.hasClass(\"k-loading-item\")) {\n                    index += 1;\n                    this.focus(index);\n                }\n\n                return index;\n            } else {\n                index = this.dataSource.total() - 1;\n                this.focus(index);\n                return index;\n            }\n        },\n\n        focusNext: function() {\n            var index = this._focusedIndex;\n            var lastIndex = this.dataSource.total() - 1;\n            var current;\n\n            if (!isNaN(index) && index < lastIndex) {\n                index += 1;\n                this.focus(index);\n\n                current = this.focus();\n                if (current && current.hasClass(\"k-loading-item\")) {\n                    index -= 1;\n                    this.focus(index);\n                }\n\n                return index;\n            } else {\n                index = 0;\n                this.focus(index);\n                return index;\n            }\n        },\n\n        _triggerChange: function(removed, added) {\n            removed = removed || [];\n            added = added || [];\n\n            if (removed.length || added.length) {\n                this.trigger(CHANGE, {\n                    removed: removed,\n                    added: added\n                });\n            }\n        },\n\n        select: function(candidate) {\n            var that = this,\n                indices,\n                initialIndices,\n                singleSelection = that.options.selectable !== \"multiple\",\n                prefetchStarted = isActivePromise(that._activeDeferred),\n                filtered = this.isFiltered(),\n                isAlreadySelected,\n                deferred,\n                result,\n                removed = [];\n\n            if (candidate === undefined) {\n                return that._selectedIndexes.slice();\n            }\n\n            if (!that._selectDeferred || that._selectDeferred.state() === \"resolved\") {\n                that._selectDeferred = $.Deferred();\n            }\n\n            indices = that._getIndecies(candidate);\n            isAlreadySelected = singleSelection && !filtered && lastFrom(indices) === lastFrom(this._selectedIndexes);\n            removed = that._deselectCurrentValues(indices);\n\n            if (removed.length || !indices.length || isAlreadySelected) {\n                that._triggerChange(removed);\n\n                if (that._valueDeferred) {\n                    that._valueDeferred.resolve().promise();\n                }\n\n                return that._selectDeferred.resolve().promise();\n            }\n\n            if (indices.length === 1 && indices[0] === -1) {\n                indices = [];\n            }\n\n            initialIndices = indices;\n            result = that._deselect(indices);\n            removed = result.removed;\n            indices = result.indices;\n\n            if (singleSelection) {\n                prefetchStarted = false;\n                if (indices.length) {\n                    indices = [lastFrom(indices)];\n                }\n            }\n\n            var done = function() {\n                var added = that._select(indices);\n\n                if (initialIndices.length === indices.length || singleSelection) {\n                    that.focus(indices);\n                }\n\n                that._triggerChange(removed, added);\n\n                if (that._valueDeferred) {\n                    that._valueDeferred.resolve();\n                }\n\n                that._selectDeferred.resolve();\n            };\n\n            deferred = that.prefetch(indices);\n\n            if (!prefetchStarted) {\n                if (deferred) {\n                    deferred.done(done);\n                } else {\n                    done();\n                }\n            }\n\n            return that._selectDeferred.promise();\n        },\n\n        bound: function(bound) {\n            if (bound === undefined) {\n                return this._listCreated;\n            }\n\n            this._listCreated = bound;\n        },\n\n        mute: function(callback) {\n            this._mute = true;\n            proxy(callback(), this);\n            this._mute = false;\n        },\n\n        setDSFilter: function(filter) {\n            this._lastDSFilter = $.extend({}, filter);\n        },\n\n        isFiltered: function() {\n            if (!this._lastDSFilter) {\n                this.setDSFilter(this.dataSource.filter());\n            }\n\n            return !kendo.data.Query.compareFilters(this.dataSource.filter(), this._lastDSFilter);\n        },\n\n        skipUpdate: $.noop,\n\n        _getElementByIndex: function(index) {\n            return this.items().filter(function(idx, element) {\n                return index === parseInt($(element).attr(\"data-offset-index\"), 10);\n            });\n        },\n\n        _getElementByDataItem: function(dataItem) {\n            var dataView = this._dataView,\n            valueGetter = this._valueGetter,\n                element, match;\n\n            for (var i = 0; i < dataView.length; i++) {\n                match = dataView[i].item && isPrimitive(dataView[i].item) ? dataView[i].item === dataItem : dataView[i].item && dataItem && valueGetter(dataView[i].item) == valueGetter(dataItem);\n                if (match) {\n                    element = dataView[i];\n                    break;\n                }\n            }\n\n            return element ? this._getElementByIndex(element.index) : $();\n        },\n\n        _clean: function() {\n            this.result = undefined;\n            this._lastScrollTop = undefined;\n            this._skip = undefined;\n            $(this.heightContainer).remove();\n            this.heightContainer = undefined;\n            this.element.empty();\n        },\n\n        _height: function() {\n            var hasData = !!this.dataSource.view().length,\n                height = this.options.height,\n                itemHeight = this.options.itemHeight,\n                total = this.dataSource.total();\n\n            if (!hasData) {\n                height = 0;\n            } else if (height/itemHeight > total) {\n                height = total * itemHeight;\n            }\n\n            return height;\n        },\n\n        setScreenHeight: function() {\n            var height = this._height();\n\n            this.content.height(height);\n            this._screenHeight = height;\n        },\n\n        screenHeight: function() {\n            return this._screenHeight;\n        },\n\n        _getElementLocation: function(index) {\n            var scrollTop = this.content.scrollTop(),\n                screenHeight = this._screenHeight,\n                itemHeight = this.options.itemHeight,\n                yPosition = index * itemHeight,\n                yDownPostion = yPosition + itemHeight,\n                screenEnd = scrollTop + screenHeight,\n                position;\n\n            if (yPosition === (scrollTop - itemHeight) || (yDownPostion > scrollTop && yPosition < scrollTop)) {\n                position = \"top\";\n            } else if (yPosition === screenEnd || (yPosition < screenEnd && screenEnd < yDownPostion)) {\n                position = \"bottom\";\n            } else if ((yPosition >= scrollTop) && (yPosition <= scrollTop + (screenHeight - itemHeight))) {\n                position = \"inScreen\";\n            } else {\n                position = \"outScreen\";\n            }\n\n            return position;\n        },\n\n        _templates: function() {\n            var options = this.options;\n            var templates = {\n                template: options.template,\n                placeholderTemplate: options.placeholderTemplate,\n                groupTemplate: options.groupTemplate,\n                fixedGroupTemplate: options.fixedGroupTemplate\n            };\n\n            if (options.columns) {\n                for (var i = 0; i < options.columns.length; i++) {\n                    var currentColumn = options.columns[i];\n                    var templateText = currentColumn.field ? currentColumn.field.toString(): \"text\";\n\n                    templates[\"column\"+ i] = currentColumn.template || \"#: \" + templateText + \"#\";\n                }\n            }\n\n            for (var key in templates) {\n                if (typeof templates[key] !== \"function\") {\n                    templates[key] = kendo.template(templates[key] || \"\");\n                }\n            }\n\n            this.templates = templates;\n        },\n\n        _generateItems: function(element, count) {\n            var items = [],\n                item, text,\n                itemHeight = this.options.itemHeight + \"px\",\n                itemClass = this.options.columns && this.options.columns.length ? TABLE_ITEM : LIST_ITEM;\n\n            while(count-- > 0) {\n                text = document.createElement(\"span\");\n                text.className = \"k-list-item-text\";\n\n                item = document.createElement(\"li\");\n                item.tabIndex = -1;\n                item.className = itemClass;\n                item.setAttribute(\"role\", \"option\");\n                item.style.height = itemHeight;\n                item.style.minHeight = itemHeight;\n                item.appendChild(text);\n\n                element.appendChild(item);\n\n                items.push(item);\n            }\n\n            return items;\n        },\n\n        _saveInitialRanges: function() {\n            var ranges = this.dataSource._ranges;\n            var deferred = $.Deferred();\n            deferred.resolve();\n\n            this._rangesList = {};\n            for (var i = 0; i < ranges.length; i++) {\n                this._rangesList[ranges[i].start] = { end: ranges[i].end, deferred: deferred };\n            }\n        },\n\n        _createList: function() {\n            var that = this,\n                content = that.content.get(0),\n                options = that.options,\n                dataSource = that.dataSource;\n\n            if (that.bound()) {\n                that._clean();\n            }\n\n            that._saveInitialRanges();\n            that._buildValueGetter();\n            that.setScreenHeight();\n            that.itemCount = getItemCount(that._screenHeight, options.listScreens, options.itemHeight);\n\n            if (that.itemCount > dataSource.total()) {\n                that.itemCount = dataSource.total();\n            }\n\n            that._items = that._generateItems(that.element[0], that.itemCount);\n\n            that._setHeight(options.itemHeight * dataSource.total());\n            that.options.type = (dataSource.group() || []).length ? \"group\" : \"flat\";\n\n            if (that.options.type === \"flat\") {\n                if (that.header.closest(GROUP_ROW_SEL).length) {\n                    that.header.closest(GROUP_ROW_SEL).hide();\n                } else {\n                    that.header.hide();\n                }\n            } else {\n                if (that.header.closest(GROUP_ROW_SEL).length) {\n                    that.header.closest(GROUP_ROW_SEL).show();\n                } else {\n                    that.header.show();\n                }\n            }\n\n            that.getter = that._getter(function() {\n                that._renderItems(true);\n            });\n\n            that._onScroll = function(scrollTop, force) {\n                var getList = that._listItems(that.getter);\n                return that._fixedHeader(scrollTop, getList(scrollTop, force));\n            };\n\n            that._renderItems = that._whenChanged(\n                scrollCallback(content, that._onScroll),\n                syncList(that._reorderList(that._items, $.proxy(render, that)))\n            );\n\n            that._renderItems();\n            that._calculateGroupPadding(that._screenHeight);\n            that._calculateColumnsHeaderPadding();\n        },\n\n        _setHeight: function(height) {\n            var currentHeight,\n                heightContainer = this.heightContainer;\n\n            if (!heightContainer) {\n                heightContainer = this.heightContainer = appendChild(this.content[0], HEIGHTCONTAINER);\n            } else {\n                currentHeight = heightContainer.offsetHeight;\n            }\n\n            if (height !== currentHeight) {\n                heightContainer.innerHTML = \"\";\n\n                while (height > 0) {\n                    var padHeight = Math.min(height, 250000); //IE workaround, should not create elements with height larger than 250000px\n                    appendChild(heightContainer).style.height = padHeight + \"px\";\n                    height -= padHeight;\n                }\n            }\n        },\n\n        _getter: function() {\n            var lastRequestedRange = null,\n                dataSource = this.dataSource,\n                lastRangeStart = dataSource.skip(),\n                type = this.options.type,\n                pageSize = this.itemCount,\n                flatGroups = {};\n\n            if (dataSource.pageSize() < pageSize) {\n                this.mute(function() {\n                    dataSource.pageSize(pageSize);\n                });\n            }\n\n            return function(index, rangeStart) {\n                var that = this;\n                if (!dataSource.inRange(rangeStart, pageSize)) {\n                    if (lastRequestedRange !== rangeStart) {\n                        lastRequestedRange = rangeStart;\n                        lastRangeStart = rangeStart;\n\n                        if (that._getterDeferred) {\n                            that._getterDeferred.reject();\n                        }\n\n                        that._getterDeferred = that.deferredRange(rangeStart);\n                        that._getterDeferred.then(function() {\n                            var firstItemIndex = that._indexConstraint(that.content[0].scrollTop);\n\n                            that._getterDeferred = null;\n\n                            if (rangeStart <= firstItemIndex && firstItemIndex <= (rangeStart + pageSize)) {\n                                that._fetching = true;\n                                dataSource.range(rangeStart, pageSize);\n                            }\n                        });\n                    }\n\n                    return null;\n                } else {\n                    if (lastRangeStart !== rangeStart) {\n                        this.mute(function() {\n                            dataSource.range(rangeStart, pageSize);\n                            lastRangeStart = rangeStart;\n                        });\n                    }\n\n                    var result;\n                    if (type === \"group\") { //grouped list\n                        if (!flatGroups[rangeStart]) {\n                            var flatGroup = flatGroups[rangeStart] = [];\n                            var groups = dataSource.view();\n                            for (var i = 0, len = groups.length; i < len; i++) {\n                                var group = groups[i];\n                                for (var j = 0, groupLength = group.items.length; j < groupLength; j++) {\n                                    flatGroup.push({ item: group.items[j], group: group.value });\n                                }\n                            }\n                        }\n\n                        result = flatGroups[rangeStart][index - rangeStart];\n                    } else { //flat list\n                        result = dataSource.view()[index - rangeStart];\n                    }\n\n                    return result;\n                }\n            };\n        },\n\n        _fixedHeader: function(scrollTop, list) {\n            var group = this.currentVisibleGroup,\n                itemHeight = this.options.itemHeight,\n                firstVisibleDataItemIndex = Math.floor((scrollTop - list.top) / itemHeight),\n                firstVisibleDataItem = list.items[firstVisibleDataItemIndex];\n\n            if (firstVisibleDataItem && firstVisibleDataItem.item) {\n                var firstVisibleGroup = firstVisibleDataItem.group;\n\n                if (firstVisibleGroup !== group) {\n                    var fixedGroupText = firstVisibleGroup || \"\";\n                    this.header.html(this.templates.fixedGroupTemplate(fixedGroupText));\n                    this.currentVisibleGroup = firstVisibleGroup;\n                }\n            }\n\n            return list;\n        },\n\n        _itemMapper: function(item, index, value) {\n            var listType = this.options.type,\n                itemHeight = this.options.itemHeight,\n                currentIndex = this._focusedIndex,\n                selected = false,\n                current = false,\n                newGroup = false,\n                group = null,\n                match = false,\n                valueGetter = this._valueGetter;\n\n            if (listType === \"group\") {\n                if (item) {\n                    newGroup = index === 0 || (this._currentGroup !== false && this._currentGroup !== item.group);\n                    this._currentGroup = item.group;\n                }\n\n                group = item ? item.group : null;\n                item = item ? item.item : null;\n            }\n\n            if (this.options.mapValueTo === \"dataItem\" && this._selectedDataItems.length && item) {\n                for (var i = 0; i < this._selectedDataItems.length; i++) {\n                    match = valueGetter(this._selectedDataItems[i]) === valueGetter(item);\n                    if (match) {\n                        selected = true;\n                        break;\n                    }\n                }\n            } else if (!this.isFiltered() && value.length && item) {\n                for (var j = 0; j < value.length; j++) {\n                    match = isPrimitive(item) ? value[j] === item : value[j] === valueGetter(item);\n                    if (match) {\n                        value.splice(j , 1);\n                        selected = true;\n                        break;\n                    }\n                }\n            }\n\n            if (currentIndex === index) {\n                current = true;\n            }\n\n            return {\n                item: item ? item : null,\n                group: group,\n                newGroup: newGroup,\n                selected: selected,\n                current: current,\n                index: index,\n                top: index * itemHeight\n            };\n        },\n\n        _range: function(index) {\n            var itemCount = this.itemCount,\n                value = this._values.slice(),\n                items = [],\n                item;\n\n            this._view = {};\n            this._currentGroup = false;\n\n            for (var i = index, length = index + itemCount; i < length; i++) {\n                item = this._itemMapper(this.getter(i, index), i, value);\n                if(items[items.length - 1]){\n                    items[items.length - 1].isLastGroupedItem = item.newGroup;\n                }\n                items.push(item);\n                this._view[item.index] = item;\n            }\n\n            this._dataView = items;\n            return items;\n        },\n\n        _getDataItemsCollection: function(scrollTop, lastScrollTop) {\n            var items = this._range(this._listIndex(scrollTop, lastScrollTop));\n            return {\n                index: items.length ? items[0].index : 0,\n                top: items.length ? items[0].top : 0,\n                items: items\n            };\n        },\n\n        _listItems: function() {\n            var screenHeight = this._screenHeight,\n                options = this.options;\n\n            var theValidator = listValidator(options, screenHeight);\n\n            return $.proxy(function(value, force) {\n                var result = this.result,\n                    lastScrollTop = this._lastScrollTop;\n\n                if (force || !result || !theValidator(result, value, lastScrollTop)) {\n                    result = this._getDataItemsCollection(value, lastScrollTop);\n                }\n\n                this._lastScrollTop = value;\n                this.result = result;\n\n                return result;\n            }, this);\n        },\n\n        _whenChanged: function(getter, callback) {\n            var current;\n\n            return function(force) {\n                var theNew = getter(force);\n\n                if (theNew !== current) {\n                    current = theNew;\n                    callback(theNew, force);\n                }\n            };\n        },\n\n        _reorderList: function(list, reorder) {\n            var that = this;\n            var length = list.length;\n            var currentOffset = -Infinity;\n            reorder = $.proxy(map2(reorder, this.templates), this);\n\n            return function(list2, offset, force) {\n                var diff = offset - currentOffset;\n                var range, range2;\n\n                if (force || Math.abs(diff) >= length) { // full reorder\n                    range = list;\n                    range2 = list2;\n                } else { // partial reorder\n                    range = reshift(list, diff);\n                    range2 = diff > 0 ? list2.slice(-diff) : list2.slice(0, -diff);\n                }\n\n                reorder(range, range2, that.bound());\n\n                currentOffset = offset;\n            };\n        },\n\n        _bufferSizes: function() {\n            var options = this.options;\n\n            return bufferSizes(this._screenHeight, options.listScreens, options.oppositeBuffer);\n        },\n\n        _indexConstraint: function(position) {\n            var itemCount = this.itemCount,\n                itemHeight = this.options.itemHeight,\n                total = this.dataSource.total();\n\n            return Math.min(Math.max(total - itemCount, 0), Math.max(0, Math.floor(position / itemHeight )));\n        },\n\n        _listIndex: function(scrollTop, lastScrollTop) {\n            var buffers = this._bufferSizes(),\n                position;\n\n            position = scrollTop - ((scrollTop > lastScrollTop) ? buffers.down : buffers.up);\n\n            return this._indexConstraint(position);\n        },\n\n        _selectable: function() {\n            var itemClass = this.options.columns && this.options.columns.length ? TABLE_ITEM : LIST_ITEM;\n\n            if (this.options.selectable) {\n                this._selectProxy = $.proxy(this, \"_clickHandler\");\n                this.element.on(CLICK + VIRTUAL_LIST_NS, \".\" + itemClass, this._selectProxy);\n            }\n        },\n\n        getElementIndex: function(element) {\n            if (!(element instanceof jQuery)) {\n                return undefined;\n            }\n\n            return parseInt(element.attr(\"data-offset-index\"), 10);\n        },\n\n        _getIndecies: function(candidate) {\n            var result = [], data;\n\n            if (typeof candidate === \"function\") {\n                data = this.dataSource.flatView();\n                for (var idx = 0; idx < data.length; idx++) {\n                    if (candidate(data[idx])) {\n                        result.push(idx);\n                        break;\n                    }\n                }\n            }\n\n            if (typeof candidate === \"number\") {\n                result.push(candidate);\n            }\n\n            var elementIndex = this.getElementIndex(candidate);\n            if (!isNaN(elementIndex)) {\n                result.push(elementIndex);\n            }\n\n            if (candidate instanceof Array) {\n                result = candidate;\n            }\n\n            return result;\n        },\n\n        _deselect: function(indices) {\n            var removed = [],\n                selectedIndex,\n                dataItem,\n                selectedIndexes = this._selectedIndexes,\n                selectedDataItems = this._selectedDataItems,\n                position = 0,\n                selectable = this.options.selectable,\n                removedindexesCounter = 0,\n                valueGetter = this._valueGetter,\n                item, match,\n                result = null;\n\n            indices = indices.slice();\n\n            if (selectable === true || !indices.length) { //deselect everything\n                for (var idx = 0; idx < selectedIndexes.length; idx++) {\n                    if (selectedIndexes[idx] !== undefined) {\n                        this._getElementByIndex(selectedIndexes[idx]).removeClass(SELECTED);\n                    } else if (selectedDataItems[idx]) {\n                        this._getElementByDataItem(selectedDataItems[idx]).removeClass(SELECTED);\n                    }\n\n                    removed.push({\n                        index: selectedIndexes[idx],\n                        position: idx,\n                        dataItem: selectedDataItems[idx]\n                    });\n                }\n\n                this._values = [];\n                this._selectedDataItems = [];\n                this._selectedIndexes = [];\n            } else if (selectable === \"multiple\") {\n                for (var i = 0; i < indices.length; i++) {\n                    result = null;\n                    position = $.inArray(indices[i], selectedIndexes);\n                    dataItem = this.dataItemByIndex(indices[i]);\n\n                    if (position === -1 && dataItem) {\n                        for (var j = 0; j < selectedDataItems.length; j++) {\n                            match = isPrimitive(dataItem) ? selectedDataItems[j] === dataItem : valueGetter(selectedDataItems[j]) === valueGetter(dataItem);\n                            if (match) {\n                                item = this._getElementByIndex(indices[i]);\n                                result = this._deselectSingleItem(item, j, indices[i], removedindexesCounter);\n                            }\n                        }\n                    } else {\n                        selectedIndex = selectedIndexes[position];\n\n                        if (selectedIndex !== undefined) {\n                            item = this._getElementByIndex(selectedIndex);\n                            result = this._deselectSingleItem(item, position, selectedIndex, removedindexesCounter);\n                        }\n                    }\n\n                    if (result) {\n                        indices.splice(i, 1);\n                        removed.push(result);\n\n                        removedindexesCounter++;\n                        i--;\n                    }\n                }\n            }\n\n            return {\n                indices: indices,\n                removed: removed\n            };\n        },\n\n        _deselectSingleItem: function(item, position, selectedIndex, removedindexesCounter) {\n            var dataItem;\n\n            if (!item.hasClass(SELECTED)) {\n                return;\n            }\n\n            item.removeClass(SELECTED);\n            this._values.splice(position, 1);\n            this._selectedIndexes.splice(position, 1);\n            dataItem = this._selectedDataItems.splice(position, 1)[0];\n\n            return {\n                index: selectedIndex,\n                position: position + removedindexesCounter,\n                dataItem: dataItem\n            };\n        },\n\n        _deselectCurrentValues: function(indices) {\n            var children = this.element[0].children;\n            var value, index, position;\n            var values = this._values;\n            var removed = [];\n            var idx = 0;\n            var j;\n\n            if (this.options.selectable !== \"multiple\" || !this.isFiltered()) {\n                return [];\n            }\n\n            if (indices[0] === -1) {\n                $(children).removeClass(SELECTED);\n                removed = $.map(this._selectedDataItems.slice(0), function(dataItem, idx) {\n                   return {\n                      dataItem: dataItem,\n                      position: idx\n                   };\n                });\n                this._selectedIndexes = [];\n                this._selectedDataItems = [];\n                this._values = [];\n                return removed;\n            }\n\n            for (; idx < indices.length; idx++) {\n                position = -1;\n                index = indices[idx];\n                if (this.dataItemByIndex(index)) {\n                    value = this._valueGetter(this.dataItemByIndex(index));\n                }\n\n                for (j = 0; j < values.length; j++) {\n                    if (value == values[j]) {\n                        position = j;\n                        break;\n                    }\n                }\n\n                if (position > -1) {\n                    removed.push(this.removeAt(position));\n                    $(children[index]).removeClass(SELECTED);\n                }\n            }\n\n            return removed;\n        },\n\n        _getSkip: function(index, take) {\n            var page = index < take ? 1 : Math.floor(index / take) + 1;\n\n            return (page - 1) * take;\n        },\n\n        _select: function(indexes) {\n            var that = this,\n                singleSelection = this.options.selectable !== \"multiple\",\n                dataSource = this.dataSource,\n                dataItem, oldSkip,\n                take = this.itemCount,\n                valueGetter = this._valueGetter,\n                added = [];\n\n            if (singleSelection) {\n                that._selectedIndexes = [];\n                that._selectedDataItems = [];\n                that._values = [];\n            }\n\n            oldSkip = dataSource.skip();\n\n            $.each(indexes, function(_, index) {\n                var skip = that._getSkip(index, take);\n\n                that.mute(function() {\n                    dataSource.range(skip, take); //switch the range to get the dataItem\n\n                    dataItem = that._findDataItem(dataSource.view(), [index - skip]);\n                    that._selectedIndexes.push(index);\n                    that._selectedDataItems.push(dataItem);\n                    that._values.push(isPrimitive(dataItem) ? dataItem : valueGetter(dataItem));\n\n                    added.push({\n                        index: index,\n                        dataItem: dataItem\n                    });\n\n                    that._getElementByIndex(index).addClass(SELECTED);\n\n                    dataSource.range(oldSkip, take); //switch back the range\n                });\n            });\n\n            that._values = that._checkValuesOrder(that._values);\n\n            return added;\n        },\n\n        _clickHandler: function(e) {\n            var item = $(e.currentTarget);\n\n            if (!e.isDefaultPrevented() && item.attr(\"data-uid\")) {\n                this.trigger(CLICK, { item: item });\n            }\n        },\n\n        _buildValueGetter: function() {\n            this._valueGetter = kendo.getter(this.options.dataValueField);\n        },\n\n        _calculateGroupPadding: function (height) {\n            var firstItem = this.items().first(),\n                groupHeader = this.header,\n                padding = 0;\n\n            if (groupHeader[0] && groupHeader[0].style.display !== \"none\") {\n                if (height !== \"auto\") {\n                    padding = kendo.support.scrollbar();\n                }\n\n                padding += parseFloat(firstItem.css(\"border-right-width\"), 10) + parseFloat(firstItem.children(\".k-group\").css(\"right\"), 10);\n\n                groupHeader.css(\"padding-right\", padding);\n            }\n        },\n\n        _calculateColumnsHeaderPadding: function () {\n            if(this.options.columns && this.options.columns.length){\n                var isRtl = kendo.support.isRtl(this.wrapper);\n                var scrollbar = kendo.support.scrollbar();\n                var columnsHeader = this.content.parent().parent().find(\".k-table-header\");\n                var total = this.dataSource.total();\n\n                columnsHeader.css((isRtl ? \"padding-left\" : \"padding-right\"), total ? scrollbar : 0);\n            }\n        }\n\n    });\n\n    kendo.ui.VirtualList = VirtualList;\n    kendo.ui.plugin(VirtualList);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.autocomplete',[ \"./kendo.list\", \"./kendo.mobile.scroller\", \"./kendo.virtuallist\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"autocomplete\",\n    name: \"AutoComplete\",\n    category: \"web\",\n    description: \"The AutoComplete widget provides suggestions depending on the typed text.It also allows multiple value entries.\",\n    depends: [ \"list\" ],\n    features: [ {\n        id: \"mobile-scroller\",\n        name: \"Mobile scroller\",\n        description: \"Support for kinetic scrolling in mobile device\",\n        depends: [ \"mobile.scroller\" ]\n    }, {\n        id: \"virtualization\",\n        name: \"VirtualList\",\n        description: \"Support for virtualization\",\n        depends: [ \"virtuallist\" ]\n    } ]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        caret = kendo.caret,\n        activeElement = kendo._activeElement,\n        placeholderSupported = support.placeholder,\n        ui = kendo.ui,\n        List = ui.List,\n        keys = kendo.keys,\n        DataSource = kendo.data.DataSource,\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        CHANGE = \"change\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        FOCUSED = \"k-focus\",\n        SELECTED = \"k-selected\",\n        HIDDENCLASS = \"k-hidden\",\n        STATEDISABLED = \"k-disabled\",\n        AUTOCOMPLETEVALUE = \"off\",\n        HOVER = \"k-hover\",\n        ns = \".kendoAutoComplete\",\n        HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n        proxy = $.proxy;\n\n    function indexOfWordAtCaret(caretIdx, text, separator) {\n        return separator ? text.substring(0, caretIdx).split(separator).length - 1 : 0;\n    }\n\n    function wordAtCaret(caretIdx, text, separator) {\n        return text.split(separator)[indexOfWordAtCaret(caretIdx, text, separator)];\n    }\n\n    function replaceWordAtCaret(caretIdx, text, word, separator, defaultSeparator) {\n        var words = text.split(separator);\n\n        words.splice(indexOfWordAtCaret(caretIdx, text, separator), 1, word);\n\n        if (separator && words[words.length - 1] !== \"\") {\n            words.push(\"\");\n        }\n\n        return words.join(defaultSeparator);\n    }\n\n    var AutoComplete = List.extend({\n        init: function (element, options) {\n            var that = this, wrapper, disabled;\n\n            that.ns = ns;\n            options = Array.isArray(options) ? { dataSource: options} : options;\n\n            List.fn.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            options.placeholder = options.placeholder || element.attr(\"placeholder\");\n            if (placeholderSupported) {\n                element.attr(\"placeholder\", options.placeholder);\n            }\n\n            that._wrapper();\n            that._loader();\n            that._clearButton();\n\n            that._dataSource();\n            that._ignoreCase();\n\n            element[0].type = \"text\";\n            wrapper = that.wrapper;\n\n            that._popup();\n\n            element\n                .addClass(\"k-input-inner\")\n                .on(\"keydown\" + ns, proxy(that._keydown, that))\n                .on(\"keypress\" + ns, proxy(that._keypress, that))\n                .on(\"input\" + ns, proxy(that._search, that))\n                .on(\"paste\" + ns, proxy(that._search, that))\n                .on(\"focus\" + ns, function () {\n                    that._prev = that._accessor();\n                    that._oldText = that._prev;\n                    that._placeholder(false);\n                    wrapper.addClass(FOCUSED);\n                })\n                .on(\"focusout\" + ns, function () {\n                    that._change();\n                    that._placeholder();\n                    that.close();\n                    wrapper.removeClass(FOCUSED);\n                })\n                .attr({\n                    autocomplete: AUTOCOMPLETEVALUE,\n                    role: \"combobox\",\n                    \"aria-expanded\": false\n                });\n\n            that._clear.on(\"click\" + ns + \" touchend\" + ns, proxy(that._clearValue, that));\n            that._enable();\n\n            that._old = that._accessor();\n\n            if (element[0].id) {\n                element.attr(\"aria-owns\", that.ul[0].id);\n            }\n\n            that._aria();\n\n            that._placeholder();\n\n            that._initList();\n\n            disabled = $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            }\n\n            that.listView.bind(\"click\", function(e) { e.preventDefault(); });\n\n            that._resetFocusItemHandler = $.proxy(that._resetFocusItem, that);\n\n            kendo.notify(that);\n            that._toggleCloseVisibility();\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"AutoComplete\",\n            enabled: true,\n            suggest: false,\n            template: \"\",\n            groupTemplate: \"#:data#\",\n            fixedGroupTemplate: \"#:data#\",\n            dataTextField: \"\",\n            minLength: 1,\n            enforceMinLength: false,\n            delay: 200,\n            height: 200,\n            filter: \"startswith\",\n            ignoreCase: true,\n            highlightFirst: false,\n            separator: null,\n            placeholder: \"\",\n            animation: {},\n            virtual: false,\n            value: null,\n            clearButton: true,\n            autoWidth: false,\n            popup: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        _dataSource: function() {\n            var that = this;\n\n            if (that.dataSource && that._refreshHandler) {\n                that._unbindDataSource();\n            } else {\n                that._progressHandler = proxy(that._showBusy, that);\n                that._errorHandler = proxy(that._hideBusy, that);\n            }\n\n            that.dataSource = DataSource.create(that.options.dataSource)\n                .bind(\"progress\", that._progressHandler)\n                .bind(\"error\", that._errorHandler);\n        },\n\n        setDataSource: function(dataSource) {\n            this.options.dataSource = dataSource;\n            this._dataSource();\n\n            this.listView.setDataSource(this.dataSource);\n        },\n\n        events: [\n            \"open\",\n            \"close\",\n            CHANGE,\n            \"select\",\n            \"filtering\",\n            \"dataBinding\",\n            \"dataBound\"\n        ],\n\n        setOptions: function(options) {\n            var listOptions = this._listOptions(options);\n\n            List.fn.setOptions.call(this, options);\n\n            this.listView.setOptions(listOptions);\n            this._accessors();\n            this._aria();\n            this._clearButton();\n        },\n\n        _listOptions: function(options) {\n            var listOptions = List.fn._listOptions.call(this, $.extend(options, {\n                skipUpdateOnBind: true\n            }));\n\n            listOptions.dataValueField = listOptions.dataTextField;\n            listOptions.selectedItemChange = null;\n\n            return listOptions;\n        },\n\n        _editable: function(options) {\n            var that = this,\n                element = that.element,\n                wrapper = that.wrapper.off(ns),\n                readonly = options.readonly,\n                disable = options.disable;\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                element.prop(DISABLED, false)\n                       .prop(READONLY, false)\n                       .attr(ARIA_DISABLED, false)\n                       .attr(ARIA_READONLY, false);\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable)\n                       .attr(ARIA_READONLY, readonly);\n            }\n        },\n\n        close: function () {\n            var that = this;\n            var current = that.listView.focus();\n\n            if (current) {\n                current.removeClass(SELECTED);\n            }\n\n            that.popup.close();\n            that._deactivateItem();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.element.off(ns);\n            that._clear.off(ns);\n            that.wrapper.off(ns);\n\n            List.fn.destroy.call(that);\n        },\n\n        refresh: function() {\n            this.listView.refresh();\n        },\n\n        select: function (li) {\n            this._select(li);\n        },\n\n        search: function (word) {\n            var that = this,\n            options = that.options,\n            ignoreCase = options.ignoreCase,\n            separator = that._separator(),\n            length,\n            accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n\n            word = word || that._accessor();\n\n            clearTimeout(that._typingTimeout);\n\n            if (separator) {\n                word = wordAtCaret(caret(that.element)[0], word, separator);\n            }\n\n            length = word.length;\n\n            if ((!options.enforceMinLength && !length) || length >= options.minLength) {\n                that._open = true;\n\n                that._mute(function() {\n                    this.listView.value([]);\n                });\n\n                that._filterSource({\n                    value: ignoreCase ? (accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()) : word,\n                    operator: options.filter,\n                    field: options.dataTextField,\n                    ignoreCase: ignoreCase\n                });\n\n                that.one(\"close\", $.proxy(that._unifySeparators, that));\n            }\n            that._toggleCloseVisibility();\n        },\n\n        suggest: function (word) {\n            var that = this,\n                key = that._last,\n                value = that._accessor(),\n                element = that.element[0],\n                caretIdx = caret(element)[0],\n                separator = that._separator(),\n                words = value.split(separator),\n                wordIndex = indexOfWordAtCaret(caretIdx, value, separator),\n                selectionEnd = caretIdx,\n                idx,\n                accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n\n            if (key == keys.BACKSPACE || key == keys.DELETE) {\n                that._last = undefined;\n                return;\n            }\n\n            word = word || \"\";\n\n            if (typeof word !== \"string\") {\n                if (word[0]) {\n                    word = that.dataSource.view()[List.inArray(word[0], that.ul[0])];\n                }\n\n                word = word ? that._text(word) : \"\";\n            }\n\n            if (caretIdx <= 0) {\n                caretIdx = (accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase()).indexOf(accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()) + 1;\n            }\n\n            idx = value.substring(0, caretIdx).lastIndexOf(separator);\n            idx = idx > -1 ? caretIdx - (idx + separator.length) : caretIdx;\n            value = words[wordIndex].substring(0, idx);\n\n            if (word) {\n                word = word.toString();\n                idx = (accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()).indexOf(accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase());\n                if (idx > -1) {\n                    word = word.substring(idx + value.length);\n\n                    selectionEnd = caretIdx + word.length;\n\n                    value += word;\n                }\n\n                if (separator && words[words.length - 1] !== \"\") {\n                    words.push(\"\");\n                }\n\n            }\n\n            words[wordIndex] = value;\n\n            that._accessor(words.join(separator || \"\"));\n\n            if (element === activeElement()) {\n                caret(element, caretIdx, selectionEnd);\n            }\n        },\n\n        value: function (value) {\n            if (value !== undefined) {\n                this.listView.value(value);\n\n                this._accessor(value);\n                this._old = this._accessor();\n                this._oldText = this._accessor();\n            } else {\n                return this._accessor();\n            }\n            this._toggleCloseVisibility();\n        },\n\n        _click: function(e) {\n            var item = e.item;\n            var that = this;\n            var element = that.element;\n            var dataItem = that.listView.dataItemByIndex(that.listView.getElementIndex(item));\n\n            e.preventDefault();\n\n            that._active = true;\n\n            if (that.trigger(\"select\", { dataItem: dataItem, item: item })) {\n                that.close();\n                return;\n            }\n            that._oldText = element.val();\n            that._select(item).done(function() {\n                that._blur();\n\n                caret(element, element.val().length);\n            });\n        },\n\n        _clearText: $.noop,\n\n        _resetFocusItem: function() {\n            var index = this.options.highlightFirst ? 0 : -1;\n\n            if (this.options.virtual) {\n                this.listView.scrollTo(0);\n            }\n\n            this.listView.focus(index);\n        },\n\n        _listBound: function() {\n            var that = this;\n            var popup = that.popup;\n            var options = that.options;\n            var data = that.dataSource.flatView();\n            var length = data.length;\n            var groupsLength = that.dataSource._group ? that.dataSource._group.length : 0;\n            var isActive = that.element[0] === activeElement();\n            var action;\n\n            that._renderFooter();\n            that._renderNoData();\n            that._toggleNoData(!length);\n            that._toggleHeader(!!groupsLength && !!length);\n\n            that._resizePopup();\n\n            popup.position();\n\n            if (length) {\n                if (options.suggest && isActive && that._inputValue()) {\n                    that.suggest(data[0]);\n                }\n            }\n\n            if (that._open) {\n                that._open = false;\n                action = that._allowOpening() ? \"open\" : \"close\";\n\n                if (that._typingTimeout && !isActive) {\n                    action = \"close\";\n                }\n\n                if (length) {\n                    that._resetFocusItem();\n\n                    if (options.virtual) {\n                        that.popup\n                            .unbind(\"activate\", that._resetFocusItemHandler)\n                            .one(\"activate\", that._resetFocusItemHandler);\n                    }\n                }\n\n                popup[action]();\n                that._typingTimeout = undefined;\n            }\n\n            if (that._touchScroller) {\n                that._touchScroller.reset();\n            }\n\n            that._hideBusy();\n\n            that.trigger(\"dataBound\");\n        },\n\n        _mute: function(callback) {\n            this._muted = true;\n            callback.call(this);\n            this._muted = false;\n        },\n\n        _listChange: function() {\n            var isActive = this._active || this.element[0] === activeElement();\n\n            if (isActive && !this._muted) {\n                this._selectValue(this.listView.selectedDataItems()[0]);\n            }\n        },\n\n        _selectValue: function(dataItem) {\n            var separator = this._separator();\n            var text = \"\";\n\n            if (dataItem) {\n                text = this._text(dataItem);\n            }\n\n            if (text === null) {\n                text = \"\";\n            }\n\n            if (separator) {\n                text = replaceWordAtCaret(caret(this.element)[0], this._accessor(), text, separator, this._defaultSeparator());\n            }\n\n            this._prev = text;\n            this._accessor(text);\n            this._placeholder();\n        },\n\n        _unifySeparators: function() {\n            this._accessor(this.value().split(this._separator()).join(this._defaultSeparator()));\n            return this;\n        },\n\n        _preselect: function(value, text) {\n            this._inputValue(text);\n            this._accessor(value);\n\n            this._old = this.oldText =  this._accessor();\n\n            this.listView.setValue(value);\n            this._placeholder();\n        },\n\n        _change: function() {\n            var that = this;\n            var value = that._unifySeparators().value();\n            var trigger = value !== List.unifyType(that._old, typeof value);\n\n            var valueUpdated = trigger && !that._typing;\n            var itemSelected = that._oldText !== value;\n\n            that._old = value;\n            that._oldText = value;\n\n            if (valueUpdated || itemSelected) {\n                // trigger the DOM change event so any subscriber gets notified\n                that.element.trigger(CHANGE);\n            }\n\n            if (trigger) {\n                that.trigger(CHANGE);\n            }\n\n            that.typing = false;\n            that._toggleCloseVisibility();\n        },\n\n        _accessor: function (value) {\n            var that = this,\n                element = that.element[0];\n\n            if (value !== undefined) {\n                element.value = value === null ? \"\" : value;\n                that._placeholder();\n            } else {\n                value = element.value;\n\n                if (element.className.indexOf(\"k-readonly\") > -1) {\n                    if (value === that.options.placeholder) {\n                        return \"\";\n                    } else {\n                        return value;\n                    }\n                }\n\n                return value;\n            }\n        },\n\n        _keydown: function (e) {\n            var that = this;\n            var key = e.keyCode;\n            var listView = that.listView;\n            var visible = that.popup.visible();\n            var current = listView.focus();\n\n            that._last = key;\n\n            if (key === keys.DOWN) {\n                if (visible) {\n                    this._move(current ? \"focusNext\" : \"focusFirst\");\n                } else if (that.value()) {\n                    that._filterSource({\n                        value: that.ignoreCase ? that.value().toLowerCase() : that.value(),\n                        operator: that.options.filter,\n                        field: that.options.dataTextField,\n                        ignoreCase: that.ignoreCase\n                    }).done(function () {\n                        if (that._allowOpening()) {\n                            that._resetFocusItem();\n                            that.popup.open();\n                        }\n                    });\n                }\n                e.preventDefault();\n            } else if (key === keys.UP) {\n                if (visible) {\n                    this._move(current ? \"focusPrev\" : \"focusLast\");\n                }\n                e.preventDefault();\n            } else if (key === keys.HOME) {\n                this._move(\"focusFirst\");\n            } else if (key === keys.END) {\n                this._move(\"focusLast\");\n            } else if (key === keys.ENTER || key === keys.TAB) {\n\n                if (key === keys.ENTER && visible) {\n                    e.preventDefault();\n                }\n\n                if (visible && current) {\n                    var dataItem = listView.dataItemByIndex(listView.getElementIndex(current));\n                    if (that.trigger(\"select\", { dataItem: dataItem, item: current })) {\n                        return;\n                    }\n\n                    this._select(current);\n                }\n\n                this._blur();\n            } else if (key === keys.ESC) {\n                if (visible) {\n                    e.preventDefault();\n                } else {\n                    that._clearValue();\n                }\n                that.close();\n            } else if (that.popup.visible() && (key === keys.PAGEDOWN || key === keys.PAGEUP)) {\n                e.preventDefault();\n\n                var direction = key === keys.PAGEDOWN ? 1 : -1;\n                listView.scrollWith(direction * listView.screenHeight());\n            } else {\n                // In some cases when the popup is opened resize is triggered which will cause it to close\n                // Setting the below flag will prevent this from happening\n                that.popup._hovered = true;\n                that._search();\n            }\n        },\n\n        _keypress: function() {\n            this._oldText = this.element.val();\n            this._typing = true;\n        },\n\n        _move: function (action) {\n            this.listView[action]();\n\n            if (this.options.suggest) {\n                this.suggest(this.listView.focus());\n            }\n        },\n\n        _hideBusy: function () {\n            var that = this;\n            clearTimeout(that._busy);\n            that._loading.addClass(HIDDENCLASS);\n            that.element.attr(\"aria-busy\", false);\n            that._busy = null;\n            that._showClear();\n        },\n\n        _showBusy: function () {\n            var that = this;\n\n            if (that._busy) {\n                return;\n            }\n\n            that._busy = setTimeout(function () {\n                that.element.attr(\"aria-busy\", true);\n                that._loading.removeClass(HIDDENCLASS);\n                that._hideClear();\n            }, 100);\n        },\n\n        _placeholder: function(show) {\n            if (placeholderSupported) {\n                return;\n            }\n\n            var that = this,\n                element = that.element,\n                placeholder = that.options.placeholder,\n                value;\n\n            if (placeholder) {\n                value = element.val();\n\n                if (show === undefined) {\n                    show = !value;\n                }\n\n                if (!show) {\n                    if (value !== placeholder) {\n                        placeholder = value;\n                    } else {\n                        placeholder = \"\";\n                    }\n                }\n\n                if (value === that._old && !show) {\n                    return;\n                }\n\n                element.toggleClass(\"k-readonly\", show)\n                       .val(placeholder);\n\n                if (!placeholder && element[0] === document.activeElement) {\n                    caret(element[0], 0, 0);\n                }\n            }\n        },\n\n        _separator: function() {\n            var separator = this.options.separator;\n            if (separator instanceof Array) {\n               return new RegExp(separator.join(\"|\"), 'gi');\n            }\n            return separator;\n        },\n\n        _defaultSeparator: function() {\n            var separator = this.options.separator;\n            if (separator instanceof Array) {\n                return separator[0];\n            }\n            return separator;\n        },\n\n        _inputValue: function() {\n            return this.element.val();\n        },\n\n        _search: function () {\n            var that = this;\n            clearTimeout(that._typingTimeout);\n\n            that._typingTimeout = setTimeout(function () {\n                if (that._prev !== that._accessor()) {\n                    that._prev = that._accessor();\n                    that.search();\n                }\n            }, that.options.delay);\n        },\n\n        _select: function(candidate) {\n            var that = this;\n            that._active = true;\n\n            return that.listView.select(candidate).done(function() {\n                that._active = false;\n            });\n        },\n\n        _loader: function() {\n            this._loading = $('<span class=\"k-icon k-i-loading ' + HIDDENCLASS + '\"></span>').insertAfter(this.element);\n        },\n\n        _clearButton: function() {\n            List.fn._clearButton.call(this);\n\n            if (this.options.clearButton) {\n                this._clear.insertAfter(this.element);\n                this.wrapper.addClass(\"k-autocomplete-clearable\");\n            }\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === \"mouseenter\");\n        },\n\n        _toggleCloseVisibility: function() {\n            if (this.value()) {\n                this._showClear();\n            } else {\n                this._hideClear();\n            }\n        },\n\n        _wrapper: function () {\n            var that = this,\n                element = that.element,\n                DOMelement = element[0],\n                wrapper;\n\n            wrapper = element.parent();\n\n            if (!wrapper.is(\"span.k-autocomplete\")) {\n                wrapper = element.wrap(\"<span />\").parent();\n            }\n\n            wrapper.attr(\"tabindex\", -1);\n\n            wrapper[0].style.cssText = DOMelement.style.cssText;\n            element.css({\n                width: \"\",\n                height: DOMelement.style.height\n            });\n\n            that._focused = that.element;\n            that.wrapper = wrapper\n                .addClass(\"k-autocomplete k-input\")\n                .addClass(DOMelement.className)\n                .removeClass('input-validation-error');\n        },\n\n        _clearValue: function() {\n            List.fn._clearValue.call(this);\n            this.element.focus();\n        }\n    });\n\n    ui.plugin(AutoComplete);\n\n    kendo.cssProperties.registerPrefix(\"AutoComplete\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"AutoComplete\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.dropdownlist',[ \"./kendo.list\", \"./kendo.mobile.scroller\", \"./kendo.virtuallist\", \"./kendo.html.button\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"dropdownlist\",\n    name: \"DropDownList\",\n    category: \"web\",\n    description: \"The DropDownList widget displays a list of values and allows the selection of a single value from the list.\",\n    depends: [ \"list\", \"html.button\" ],\n    features: [ {\n        id: \"mobile-scroller\",\n        name: \"Mobile scroller\",\n        description: \"Support for kinetic scrolling in mobile device\",\n        depends: [ \"mobile.scroller\" ]\n    }, {\n        id: \"virtualization\",\n        name: \"VirtualList\",\n        description: \"Support for virtualization\",\n        depends: [ \"virtuallist\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        html = kendo.html,\n        List = ui.List,\n        Select = ui.Select,\n        support = kendo.support,\n        activeElement = kendo._activeElement,\n        ObservableObject = kendo.data.ObservableObject,\n        keys = kendo.keys,\n        ns = \".kendoDropDownList\",\n        nsFocusEvent = ns + \"FocusEvent\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        CHANGE = \"change\",\n        FOCUSED = \"k-focus\",\n        STATEDISABLED = \"k-disabled\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        CLICKEVENTS = \"click\" + ns + \" touchend\" + ns,\n        HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n        TABINDEX = \"tabindex\",\n        STATE_FILTER = \"filter\",\n        STATE_ACCEPT = \"accept\",\n        MSG_INVALID_OPTION_LABEL = \"The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel\",\n        proxy = $.proxy,\n        OPEN = \"open\",\n        CLOSE = \"close\";\n\n    var DropDownList = Select.extend( {\n        init: function(element, options) {\n            var that = this;\n            var index = options && options.index;\n            var optionLabel, text, disabled;\n\n            that.ns = ns;\n            options = Array.isArray(options) ? { dataSource: options } : options;\n\n            Select.fn.init.call(that, element, options);\n\n            options = that.options;\n            element = that.element.on(\"focus\" + ns, proxy(that._focusHandler, that));\n\n            that._focusInputHandler = $.proxy(that._focusInput, that);\n\n            that.optionLabel = $();\n            that._optionLabel();\n\n            that._inputTemplate();\n\n            that._reset();\n\n            that._prev = \"\";\n            that._word = \"\";\n\n            that._wrapper();\n\n            that._tabindex();\n            that.wrapper.data(TABINDEX, that.wrapper.attr(TABINDEX));\n\n            that._span();\n\n            that._popup();\n\n            that._mobile();\n\n            that._dataSource();\n\n            that._ignoreCase();\n\n            that._filterHeader();\n\n            that._aria();\n\n            //should read changed value of closed dropdownlist\n            that.wrapper.attr(\"aria-live\", \"polite\");\n\n            that._enable();\n\n            that._attachFocusHandlers();\n\n            that._oldIndex = that.selectedIndex = -1;\n\n            if (index !== undefined) {\n                options.index = index;\n            }\n\n            that._initialIndex = options.index;\n\n            that.requireValueMapper(that.options);\n            that._initList();\n            that.listView.one(\"dataBound\", proxy(that._attachAriaActiveDescendant, that));\n\n            that._cascade();\n\n            that.one(\"set\", function(e) {\n                if (!e.sender.listView.bound() && that.hasOptionLabel()) {\n                    that._textAccessor(that._optionLabelText());\n                }\n            });\n\n            if (options.autoBind) {\n                that.dataSource.fetch();\n            } else if (that.selectedIndex === -1) { //selectedIndex !== -1 when cascade functionality happens instantly\n                text = options.text || \"\";\n                if (!text) {\n                    optionLabel = options.optionLabel;\n\n                    if (optionLabel && options.index === 0) {\n                        text = optionLabel;\n                    } else if (that._isSelect) {\n                        text = element.children(\":selected\").text();\n                    }\n                }\n\n                that._textAccessor(text);\n            }\n\n            disabled = $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            }\n\n            that.listView.bind(\"click\", function(e) { e.preventDefault(); });\n\n            kendo.notify(that);\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"DropDownList\",\n            enabled: true,\n            autoBind: true,\n            index: 0,\n            text: null,\n            value: null,\n            delay: 500,\n            height: 200,\n            dataTextField: \"\",\n            dataValueField: \"\",\n            optionLabel: \"\",\n            cascadeFrom: \"\",\n            cascadeFromField: \"\",\n            cascadeFromParentField: \"\",\n            ignoreCase: true,\n            animation: {},\n            filter: \"none\",\n            minLength: 1,\n            enforceMinLength: false,\n            virtual: false,\n            template: null,\n            valueTemplate: null,\n            optionLabelTemplate: null,\n            groupTemplate: \"#:data#\",\n            fixedGroupTemplate: \"#:data#\",\n            autoWidth: false,\n            popup: null,\n            filterTitle: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n            \"open\",\n            \"close\",\n            CHANGE,\n            \"select\",\n            \"filtering\",\n            \"dataBinding\",\n            \"dataBound\",\n            \"cascade\",\n            \"set\",\n            \"kendoKeydown\"\n        ],\n\n        setOptions: function(options) {\n            Select.fn.setOptions.call(this, options);\n\n            this.listView.setOptions(this._listOptions(options));\n\n            this._optionLabel();\n            this._inputTemplate();\n            this._accessors();\n            this._filterHeader();\n            this._enable();\n            this._aria();\n\n            if (!this.value() && this.hasOptionLabel()) {\n                this.select(0);\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Select.fn.destroy.call(that);\n\n            that.wrapper.off(ns);\n            that.wrapper.off(nsFocusEvent);\n            that.element.off(ns);\n\n            that._arrow.off();\n            that._arrow = null;\n            that._arrowIcon = null;\n\n            that.optionLabel.off();\n\n            if(that.filterInput){\n                that.filterInput.off(nsFocusEvent);\n            }\n        },\n\n        open: function() {\n            var that = this;\n            var isFiltered = that.dataSource.filter() ? that.dataSource.filter().filters.length > 0 : false;\n            var listView = this.listView;\n\n            if (that.popup.visible()) {\n                return;\n            }\n\n            if (!that.listView.bound() || that._state === STATE_ACCEPT) {\n                that._open = true;\n                that._state = \"rebind\";\n\n                if (that.filterInput) {\n                    that.filterInput.val(\"\");\n                    that._prev = \"\";\n                }\n\n                if (that.filterInput && that.options.minLength !== 1 && !isFiltered) {\n                    that.refresh();\n                    that.popup.one(\"activate\", that._focusInputHandler);\n                    that.wrapper.attr(\"aria-activedescendant\", listView._optionID);\n                    that.popup.open();\n                    that._resizeFilterInput();\n                } else {\n                    that._filterSource();\n                }\n            } else if (that._allowOpening()) {\n                that._focusFilter = true;\n                that.popup.one(\"activate\", that._focusInputHandler);\n                // In some cases when the popup is opened resize is triggered which will cause it to close\n                // Setting the below flag will prevent this from happening\n                that.popup._hovered = true;\n                that.wrapper.attr(\"aria-activedescendant\", listView._optionID);\n                that.popup.open();\n                that._resizeFilterInput();\n                that._focusItem();\n            }\n        },\n\n        close: function() {\n            this._attachAriaActiveDescendant();\n            this.popup.close();\n        },\n\n        _attachAriaActiveDescendant: function() {\n            var wrapper = this.wrapper,\n                inputId = wrapper.find(\".k-input-inner\").attr('id');\n\n            wrapper.attr(\"aria-activedescendant\", inputId);\n        },\n\n        _focusInput: function () {\n            this._focusElement(this.filterInput);\n        },\n\n        _resizeFilterInput: function () {\n            var filterInput = this.filterInput;\n            var originalPrevent = this._prevent;\n\n            if (!filterInput) {\n                return;\n            }\n\n            var isInputActive = this.filterInput[0] === activeElement();\n            var caret = kendo.caret(this.filterInput[0])[0];\n\n            this._prevent = true;\n\n            filterInput.addClass(\"k-hidden\");\n            filterInput.closest(\".k-list-filter\").css(\"width\", this.popup.element.css(\"width\"));\n            filterInput.removeClass(\"k-hidden\");\n\n            if (isInputActive) {\n                filterInput.trigger(\"focus\");\n                kendo.caret(filterInput[0], caret);\n            }\n\n            this._prevent = originalPrevent;\n        },\n\n        _allowOpening: function() {\n            return this.hasOptionLabel() || this.filterInput || Select.fn._allowOpening.call(this);\n        },\n\n        toggle: function(toggle) {\n            this._toggle(toggle, true);\n        },\n\n        current: function(candidate) {\n            var current;\n\n            if (candidate === undefined) {\n                current = this.listView.focus();\n\n                if (!current && this.selectedIndex === 0 && this.hasOptionLabel()) {\n                    return this.optionLabel;\n                }\n\n                return current;\n            }\n\n            this._focus(candidate);\n        },\n\n        dataItem: function(index) {\n            var that = this;\n            var dataItem = null;\n\n            if (index === null) { return index; }\n\n            if (index === undefined) {\n                dataItem = that.listView.selectedDataItems()[0];\n            } else {\n                if (typeof index !== \"number\") {\n                    if (that.options.virtual) {\n                        return that.dataSource.getByUid($(index).data(\"uid\"));\n                    }\n                    if (index.hasClass(\"k-list-optionlabel\")) {\n                        index = -1;\n                    } else {\n                        index = $(that.items()).index(index);\n                    }\n                } else if (that.hasOptionLabel()) {\n                    index -= 1;\n                }\n\n                dataItem = that.dataSource.flatView()[index];\n            }\n\n            if (!dataItem) {\n                dataItem = that._optionLabelDataItem();\n            }\n\n            return dataItem;\n        },\n\n        refresh: function() {\n            this.listView.refresh();\n        },\n\n        text: function (text) {\n            var that = this;\n            var loweredText;\n            var ignoreCase = that.options.ignoreCase;\n\n            text = text === null ? \"\" : text;\n\n            if (text !== undefined) {\n                if (typeof text !== \"string\") {\n                    that._textAccessor(text);\n                    return;\n                }\n\n                loweredText = ignoreCase ? text.toLowerCase() : text;\n\n                that._select(function(data) {\n                    data = that._text(data);\n\n                    if (ignoreCase) {\n                        data = (data + \"\").toLowerCase();\n                    }\n\n                    return data === loweredText;\n                }).done(function() {\n                    that._textAccessor(that.dataItem() || text);\n                });\n\n            } else {\n                return that._textAccessor();\n            }\n        },\n\n        _clearFilter: function() {\n            $(this.filterInput).val(\"\");\n            Select.fn._clearFilter.call(this);\n        },\n\n        value: function(value) {\n            var that = this;\n            var listView = that.listView;\n            var dataSource = that.dataSource;\n\n            if (value === undefined) {\n                value = that._accessor() || that.listView.value()[0];\n                return value === undefined || value === null ? \"\" : value;\n            }\n\n            that.requireValueMapper(that.options, value);\n\n            if (value || !that.hasOptionLabel()) {\n                that._initialIndex = null;\n            }\n\n            this.trigger(\"set\", { value: value });\n\n            if (that._request && that.options.cascadeFrom && that.listView.bound()) {\n                if (that._valueSetter) {\n                    dataSource.unbind(CHANGE, that._valueSetter);\n                }\n\n                that._valueSetter = proxy(function() { that.value(value); }, that);\n\n                dataSource.one(CHANGE, that._valueSetter);\n                return;\n            }\n\n            if (that._isFilterEnabled() && listView.bound() && listView.isFiltered()) {\n                that._clearFilter();\n            } else {\n                that._fetchData();\n            }\n\n            listView.value(value).done(function() {\n                that._old = that._valueBeforeCascade = that._accessor();\n                that._oldIndex = that.selectedIndex;\n            });\n        },\n\n        hasOptionLabel: function() {\n            return this.optionLabel && !!this.optionLabel[0];\n        },\n\n        _optionLabel: function() {\n            var that = this;\n            var options = that.options;\n            var optionLabel = options.optionLabel;\n            var template = options.optionLabelTemplate;\n\n            if (!optionLabel) {\n                that.optionLabel.off().remove();\n                that.optionLabel = $();\n                return;\n            }\n\n            if (!template) {\n                template = \"#:\";\n\n                if (typeof optionLabel === \"string\") {\n                    template += \"data\";\n                } else {\n                    template += kendo.expr(options.dataTextField, \"data\");\n                }\n\n                template += \"#\";\n            }\n\n            if (typeof template !== \"function\") {\n                template = kendo.template(template);\n            }\n\n            that.optionLabelTemplate = template;\n\n            if (!that.hasOptionLabel()) {\n                that.optionLabel = $('<div class=\"k-list-optionlabel\"></div>').prependTo(that.list);\n            }\n\n            that.optionLabel.html(template(optionLabel))\n                            .off()\n                            .on(CLICKEVENTS, proxy(that._click, that))\n                            .on(HOVEREVENTS, that._toggleHover);\n\n            that.angular(\"compile\", function() {\n                return { elements: that.optionLabel, data: [{ dataItem: that._optionLabelDataItem() }] };\n            });\n        },\n\n        _optionLabelText: function() {\n            var optionLabel = this.options.optionLabel;\n            return (typeof optionLabel === \"string\") ? optionLabel : this._text(optionLabel);\n        },\n\n        _optionLabelDataItem: function() {\n            var that = this;\n            var optionLabel = that.options.optionLabel;\n\n            if (that.hasOptionLabel()) {\n                return $.isPlainObject(optionLabel) ? new ObservableObject(optionLabel) : that._assignInstance(that._optionLabelText(), \"\");\n            }\n\n            return undefined;\n        },\n\n        _buildOptions: function(data) {\n            var that = this;\n            if (!that._isSelect) {\n                return;\n            }\n\n            var value = that.listView.value()[0];\n            var optionLabel = that._optionLabelDataItem();\n            var optionLabelValue = optionLabel && that._value(optionLabel);\n\n            if (value === undefined || value === null) {\n                value = \"\";\n            }\n\n            if (optionLabel) {\n                if (optionLabelValue === undefined || optionLabelValue === null) {\n                    optionLabelValue = \"\";\n                }\n\n                optionLabel = '<option value=\"' + optionLabelValue + '\">' + that._text(optionLabel) + \"</option>\";\n            }\n\n            that._options(data, optionLabel, value);\n\n            if (value !== List.unifyType(that._accessor(), typeof value)) {\n                that._customOption = null;\n                that._custom(value);\n            }\n        },\n\n        _listBound: function() {\n\n            var that = this;\n            var initialIndex = that._initialIndex;\n            var filtered = that._state === STATE_FILTER;\n\n            var data = that.dataSource.flatView();\n            var dataItem;\n\n            that._presetValue = false;\n\n            that._renderFooter();\n            that._renderNoData();\n            that._toggleNoData(!data.length);\n\n            that._resizePopup(true);\n\n            that.popup.position();\n\n            that._buildOptions(data);\n\n            if (!filtered) {\n                if (that._open) {\n                    that.toggle(that._allowOpening());\n                }\n\n                that._open = false;\n\n                if (!that._fetch) {\n                    if (data.length) {\n                        if (!that.listView.value().length && initialIndex > -1 && initialIndex !== null) {\n                            that.select(initialIndex);\n                        }\n\n                        that._initialIndex = null;\n                        dataItem = that.listView.selectedDataItems()[0];\n                        if (dataItem && that.text() !== that._text(dataItem)) {\n                            that._selectValue(dataItem);\n                        }\n                    } else if (that._textAccessor() !== that._optionLabelText()) {\n                        that.listView.value(\"\");\n                        that._selectValue(null);\n                        that._oldIndex = that.selectedIndex;\n                    }\n                }\n            }\n\n            that._hideBusy();\n            that.trigger(\"dataBound\");\n        },\n\n        _listChange: function() {\n            this._selectValue(this.listView.selectedDataItems()[0]);\n\n            if (this._presetValue || (this._old && this._oldIndex === -1)) {\n                this._oldIndex = this.selectedIndex;\n            }\n        },\n\n        _filterPaste: function() {\n            this._search();\n        },\n\n        _attachFocusHandlers: function() {\n            var that = this;\n            var wrapper = that.wrapper;\n\n            wrapper.on(\"focusin\" + nsFocusEvent, proxy(that._focusinHandler, that))\n                   .on(\"focusout\" + nsFocusEvent, proxy(that._focusoutHandler, that));\n            if(that.filterInput) {\n                that.filterInput.on(\"focusin\" + nsFocusEvent, proxy(that._focusinHandler, that))\n                   .on(\"focusout\" + nsFocusEvent, proxy(that._focusoutHandler, that));\n            }\n        },\n\n        _focusHandler: function() {\n            this.wrapper.trigger(\"focus\");\n        },\n\n        _focusinHandler: function() {\n            this.wrapper.addClass(FOCUSED);\n            this._prevent = false;\n        },\n\n        _focusoutHandler: function() {\n            var that = this;\n            var isIFrame = window.self !== window.top;\n\n            if (!that._prevent) {\n                clearTimeout(that._typingTimeout);\n\n                if (support.mobileOS.ios && isIFrame) {\n                    that._change();\n                } else {\n                    that._blur();\n                }\n\n                that.wrapper.removeClass(FOCUSED);\n                that._prevent = true;\n                that._open = false;\n                that.element.trigger(\"blur\");\n            }\n        },\n\n        _wrapperMousedown: function() {\n            this._prevent = !!this.filterInput;\n        },\n\n        _wrapperClick: function(e) {\n            e.preventDefault();\n            this.popup.unbind(\"activate\", this._focusInputHandler);\n            this._focused = this.wrapper;\n            this._prevent = false;\n            this._toggle();\n        },\n\n        _editable: function(options) {\n            var that = this;\n            var element = that.element;\n            var disable = options.disable;\n            var readonly = options.readonly;\n            var wrapper = that.wrapper.add(that.filterInput).off(ns);\n            var dropDownWrapper = that.wrapper.off(HOVEREVENTS);\n\n            if (!readonly && !disable) {\n                element.prop(DISABLED, false).prop(READONLY, false);\n\n                dropDownWrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                wrapper\n                    .attr(TABINDEX, wrapper.data(TABINDEX))\n                    .attr(ARIA_DISABLED, false)\n                    .attr(ARIA_READONLY, false)\n                    .on(\"keydown\" + ns, that, proxy(that._keydown, that))\n                    .on(kendo.support.mousedown + ns, proxy(that._wrapperMousedown, that))\n                    .on(\"paste\" + ns, proxy(that._filterPaste, that));\n\n                that.wrapper.on(\"click\" + ns, proxy(that._wrapperClick, that));\n\n                if (!that.filterInput) {\n                    wrapper.on(\"keypress\" + ns, proxy(that._keypress, that));\n                } else {\n                    wrapper.on(\"input\" + ns, proxy(that._search, that));\n                }\n\n            } else if (disable) {\n                wrapper.removeAttr(TABINDEX);\n                dropDownWrapper.addClass(STATEDISABLED);\n            } else {\n                dropDownWrapper.removeClass(STATEDISABLED);\n            }\n\n            element.attr(DISABLED, disable)\n                   .attr(READONLY, readonly);\n\n            wrapper.attr(ARIA_DISABLED, disable)\n                    .attr(ARIA_READONLY, readonly);\n        },\n\n        _keydown: function(e) {\n            var that = this;\n            var key = e.keyCode;\n            var altKey = e.altKey;\n            var isInputActive;\n            var handled;\n\n            var isPopupVisible = that.popup.visible();\n\n            if (that.filterInput) {\n                isInputActive = that.filterInput[0] === activeElement();\n            }\n\n            if (key === keys.LEFT) {\n                key = keys.UP;\n                handled = true;\n            } else if (key === keys.RIGHT) {\n                key = keys.DOWN;\n                handled = true;\n            }\n\n            if (handled && isInputActive) {\n                return;\n            }\n\n            e.keyCode = key;\n\n            if ((altKey && key === keys.UP) || key === keys.ESC) {\n                that._focusElement(that.wrapper);\n            }\n\n            if (that._state === STATE_FILTER && key === keys.ESC) {\n                that._clearFilter();\n                that._open = false;\n                that._state = STATE_ACCEPT;\n            }\n\n            if (key === keys.ENTER && that._typingTimeout && that.filterInput && isPopupVisible) {\n                e.preventDefault();\n                return;\n            }\n\n            if (key === keys.SPACEBAR && !isInputActive) {\n                that.toggle(!isPopupVisible);\n                e.preventDefault();\n            }\n\n            handled = that._move(e);\n\n            if (handled) {\n                return;\n            }\n\n            if (!isPopupVisible || !that.filterInput) {\n                var current = that._focus();\n\n                if (key === keys.HOME) {\n                    handled = true;\n                    that._firstItem();\n                } else if (key === keys.END) {\n                    handled = true;\n                    that._lastItem();\n                }\n\n                if (handled) {\n                    if (that.trigger(\"select\", { dataItem: that._getElementDataItem(that._focus()), item: that._focus() })) {\n                        that._focus(current);\n                        return;\n                    }\n\n                    that._select(that._focus(), true).done(function() {\n                        if (!isPopupVisible) {\n                            that._blur();\n                        }\n                    });\n                    e.preventDefault();\n                }\n            }\n\n            if (!altKey && !handled && that.filterInput) {\n                that._search();\n            }\n        },\n\n        _matchText: function(text, word) {\n            var ignoreCase = this.options.ignoreCase;\n\n            if (text === undefined || text === null) {\n                return false;\n            }\n\n            text = text + \"\";\n\n            if (ignoreCase) {\n                text = text.toLowerCase();\n            }\n\n            return text.indexOf(word) === 0;\n        },\n\n        _shuffleData: function(data, splitIndex) {\n            var optionDataItem = this._optionLabelDataItem();\n\n            if (optionDataItem) {\n                data = [optionDataItem].concat(data);\n            }\n\n            return data.slice(splitIndex).concat(data.slice(0, splitIndex));\n        },\n\n        _selectNext: function() {\n            var that = this;\n            var data = that.dataSource.flatView();\n            var dataLength = data.length + (that.hasOptionLabel() ? 1 : 0);\n            var isInLoop = sameCharsOnly(that._word, that._last);\n            var startIndex = that.selectedIndex;\n            var oldFocusedItem;\n            var text;\n\n            if (startIndex === -1) {\n                startIndex = 0;\n            } else {\n                startIndex += isInLoop ? 1 : 0;\n                startIndex = normalizeIndex(startIndex, dataLength);\n            }\n\n            data = data.toJSON ? data.toJSON() : data.slice();\n            data = that._shuffleData(data, startIndex);\n\n            for (var idx = 0; idx < dataLength; idx++) {\n                text = that._text(data[idx]);\n\n                if (isInLoop && that._matchText(text, that._last)) {\n                    break;\n                } else if (that._matchText(text, that._word)) {\n                    break;\n                }\n            }\n\n            if (idx !== dataLength) {\n                oldFocusedItem = that._focus();\n\n                that._select(normalizeIndex(startIndex + idx, dataLength)).done(function() {\n                    var done = function() {\n                        if (!that.popup.visible()) {\n                            that._change();\n                        }\n                    };\n\n                    if (that.trigger(\"select\", { dataItem: that._getElementDataItem(that._focus()), item: that._focus() })) {\n                        that._select(oldFocusedItem).done(done);\n                    } else {\n                        done();\n                    }\n                });\n            }\n        },\n\n        _keypress: function(e) {\n            var that = this;\n\n            if (e.which === 0 || e.keyCode === kendo.keys.ENTER) {\n                return;\n            }\n\n            var character = String.fromCharCode(e.charCode || e.keyCode);\n\n            if (that.options.ignoreCase) {\n                character = character.toLowerCase();\n            }\n\n            if (character === \" \") {\n                e.preventDefault();\n            }\n\n            that._word += character;\n            that._last = character;\n\n            that._search();\n        },\n\n        _popupOpen: function() {\n            var popup = this.popup;\n\n            popup.wrapper = kendo.wrap(popup.element);\n\n            if (popup.element.closest(\".km-root\")[0]) {\n                popup.wrapper.addClass(\"km-popup km-widget\");\n                this.wrapper.addClass(\"km-widget\");\n            }\n        },\n\n        _popup: function() {\n            Select.fn._popup.call(this);\n            this.popup.one(\"open\", proxy(this._popupOpen, this));\n        },\n\n        _getElementDataItem: function(element) {\n            if (!element || !element[0]) {\n                return null;\n            }\n\n            if (element[0] === this.optionLabel[0]) {\n                return this._optionLabelDataItem();\n            }\n\n            return this.listView.dataItemByIndex(this.listView.getElementIndex(element));\n        },\n\n        _click: function (e) {\n            var that = this;\n            var item = e.item || $(e.currentTarget);\n\n            e.preventDefault();\n\n            if (that.trigger(\"select\", { dataItem: that._getElementDataItem(item), item: item })) {\n                that.close();\n                return;\n            }\n\n            that._userTriggered = true;\n\n            that._select(item).done(function() {\n                that._blur();\n                that._focusElement(that.wrapper);\n            });\n        },\n\n        _focusElement: function(element) {\n            var active = activeElement();\n            var wrapper = this.wrapper;\n            var filterInput = this.filterInput;\n            var compareElement = element === filterInput ? wrapper : filterInput;\n            var touchEnabled = support.mobileOS && (support.touch || support.MSPointers || support.pointers);\n\n            if (filterInput && filterInput[0] === element[0] && touchEnabled) {\n                return;\n            }\n\n            if (filterInput && (compareElement[0] === active || this._focusFilter)) {\n                this._focusFilter = false;\n                this._prevent = true;\n                this._focused = element.trigger(\"focus\");\n            }\n        },\n\n        _searchByWord: function(word) {\n            if (!word) {\n                return;\n            }\n\n            var that = this;\n            var ignoreCase = that.options.ignoreCase;\n\n            if (ignoreCase) {\n                word = word.toLowerCase();\n            }\n\n            that._select(function(dataItem) {\n                return that._matchText(that._text(dataItem), word);\n            });\n        },\n\n        _inputValue: function() {\n            return this.text();\n        },\n\n        _search: function() {\n            var that = this;\n            var dataSource = that.dataSource;\n\n            clearTimeout(that._typingTimeout);\n\n            if (that._isFilterEnabled()) {\n                that._typingTimeout = setTimeout(function() {\n                    var value = that.filterInput.val();\n\n                    if (that._prev !== value) {\n                        that._prev = value;\n                        that.search(value);\n                        that._resizeFilterInput();\n                    }\n\n                    that._typingTimeout = null;\n                }, that.options.delay);\n            } else {\n                that._typingTimeout = setTimeout(function() {\n                    that._word = \"\";\n                }, that.options.delay);\n\n                if (!that.listView.bound()) {\n                    dataSource.fetch().done(function () {\n                        that._selectNext();\n                    });\n                    return;\n                }\n\n                that._selectNext();\n            }\n        },\n\n        _get: function(candidate) {\n            var data, found, idx;\n            var isFunction = typeof candidate === \"function\";\n            var jQueryCandidate = !isFunction ? $(candidate) : $();\n\n            if (this.hasOptionLabel()) {\n                if (typeof candidate === \"number\") {\n                    if (candidate > -1) {\n                        candidate -= 1;\n                    }\n                } else if (jQueryCandidate.hasClass(\"k-list-optionlabel\")) {\n                    candidate = -1;\n                }\n            }\n\n            if (isFunction) {\n                data = this.dataSource.flatView();\n\n                for (idx = 0; idx < data.length; idx++) {\n                    if (candidate(data[idx])) {\n                        candidate = idx;\n                        found = true;\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    candidate = -1;\n                }\n            }\n\n            return candidate;\n        },\n\n        _firstItem: function() {\n            if (this.hasOptionLabel()) {\n                this._focus(this.optionLabel);\n            } else {\n                this.listView.focusFirst();\n            }\n        },\n\n        _lastItem: function() {\n            this._resetOptionLabel();\n            this.listView.focusLast();\n        },\n\n        _nextItem: function() {\n            var focusIndex;\n\n            if (this.optionLabel.hasClass(\"k-focus\")) {\n                this._resetOptionLabel();\n                this.listView.focusFirst();\n                focusIndex = 1;\n            } else {\n                focusIndex = this.listView.focusNext();\n            }\n\n            return focusIndex;\n        },\n\n        _prevItem: function() {\n            var focusIndex;\n\n            if (this.optionLabel.hasClass(\"k-focus\")) {\n                return;\n            }\n\n            focusIndex = this.listView.focusPrev();\n\n            if (!this.listView.focus() && !this.options.virtual) {\n                this._focus(this.optionLabel);\n            }\n\n            return focusIndex;\n        },\n\n        _focusItem: function() {\n            var options = this.options;\n            var listView = this.listView;\n            var focusedItem = listView.focus();\n            var index = listView.select();\n\n            index = index[index.length - 1];\n\n            if (index === undefined && options.highlightFirst && !focusedItem) {\n                index = 0;\n            }\n\n            if (index !== undefined) {\n                listView.focus(index);\n            } else {\n                if (options.optionLabel && (!options.virtual || options.virtual.mapValueTo !== \"dataItem\")) {\n                    this._focus(this.optionLabel);\n                    this._select(this.optionLabel);\n                    this.listView.content.scrollTop(0);\n                } else {\n                    listView.scrollToIndex(0);\n                }\n            }\n        },\n\n        _resetOptionLabel: function(additionalClass) {\n            this.optionLabel.removeClass(\"k-focus\" + (additionalClass || \"\")).removeAttr(\"id\");\n        },\n\n        _focus: function(candidate) {\n            var listView = this.listView;\n            var optionLabel = this.optionLabel;\n\n            if (candidate === undefined) {\n                candidate = listView.focus();\n\n                if (!candidate && optionLabel.hasClass(\"k-focus\")) {\n                    candidate = optionLabel;\n                }\n\n                return candidate;\n            }\n\n            this._resetOptionLabel();\n\n            candidate = this._get(candidate);\n\n            listView.focus(candidate);\n\n            if (candidate === -1) {\n                optionLabel.addClass(\"k-focus\")\n                           .attr(\"id\", listView._optionID);\n\n                this._focused.add(this.filterInput)\n                    .removeAttr(\"aria-activedescendant\")\n                    .attr(\"aria-activedescendant\", listView._optionID);\n            }\n        },\n\n        _select: function(candidate, keepState) {\n            var that = this;\n\n            candidate = that._get(candidate);\n\n            return that.listView.select(candidate).done(function() {\n                if (!keepState && that._state === STATE_FILTER) {\n                    that._state = STATE_ACCEPT;\n                }\n\n                if (candidate === -1) {\n                    that._selectValue(null);\n                }\n            });\n        },\n\n        _selectValue: function(dataItem) {\n            var that = this;\n            var optionLabel = that.options.optionLabel;\n            var idx = that.listView.select();\n\n            var value = \"\";\n            var text = \"\";\n\n            idx = idx[idx.length - 1];\n            if (idx === undefined) {\n                idx = -1;\n            }\n\n            this._resetOptionLabel(\" k-selected\");\n\n            if (dataItem || dataItem === 0) {\n                text = dataItem;\n                value = that._dataValue(dataItem);\n                if (optionLabel) {\n                    idx += 1;\n                }\n            } else if (optionLabel) {\n                that._focus(that.optionLabel.addClass(\"k-selected\"));\n\n                text = that._optionLabelText();\n\n                if (typeof optionLabel === \"string\") {\n                    value = \"\";\n                } else {\n                    value = that._value(optionLabel);\n                }\n\n                idx = 0;\n            }\n\n            that.selectedIndex = idx;\n\n            if (value === null) {\n                value = \"\";\n            }\n\n            that._textAccessor(text);\n            that._accessor(value, idx);\n\n            that._triggerCascade();\n        },\n\n        _mobile: function() {\n            var that = this,\n                popup = that.popup,\n                mobileOS = support.mobileOS,\n                root = popup.element.parents(\".km-root\").eq(0);\n\n            if (root.length && mobileOS) {\n                popup.options.animation.open.effects = (mobileOS.android || mobileOS.meego) ? \"fadeIn\" : (mobileOS.ios || mobileOS.wp) ? \"slideIn:up\" : popup.options.animation.open.effects;\n            }\n        },\n\n        _filterHeader: function() {\n            var filterTemplate = '<div class=\"k-list-filter\">' +\n                '<span class=\"k-searchbox k-input k-input-md k-rounded-md k-input-solid\" type=\"text\" autocomplete=\"off\">' +\n                    '<span class=\"k-input-icon k-icon k-i-search\"></span>' +\n                '</span>' +\n            '</div>';\n\n            if (this.filterInput) {\n                this.filterInput\n                    .off(ns)\n                    .closest(\".k-list-filter\")\n                    .remove();\n\n                this.filterInput = null;\n            }\n\n            if (this._isFilterEnabled()) {\n                this.filterInput = $('<input class=\"k-input-inner\" type=\"text\" />')\n                    .attr({\n                        placeholder: this.element.attr(\"placeholder\"),\n                        title: this.options.filterTitle || this.element.attr(\"title\"),\n                        role: \"searchbox\",\n                        \"aria-label\": this.options.filterTitle,\n                        \"aria-haspopup\": \"listbox\",\n                        \"aria-autocomplete\": \"list\"\n                    });\n\n                this.list\n                    .parent()\n                    .prepend($(filterTemplate))\n                    .find(\".k-searchbox\")\n                    .append(this.filterInput);\n            }\n        },\n\n        _span: function() {\n            var that = this,\n                wrapper = that.wrapper,\n                SELECTOR = \"span.k-input-value-text\",\n                id = kendo.guid(),\n                options = that.options,\n                span, arrowBtn;\n\n            span = wrapper.find(SELECTOR);\n\n            if (!span[0]) {\n                arrowBtn = html.renderButton('<button type=\"button\" tabindex=\"-1\" unselectable=\"on\" class=\"k-select k-input-button\" aria-label=\"select\"></button>', {\n                    icon: \"arrow-s\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: null,\n                    rounded: null\n                });\n\n                wrapper.append('<span id=\"' + id + '\" unselectable=\"on\" role=\"option\" aria-selected=\"true\" class=\"k-input-inner\">' +\n                            '<span class=\"k-input-value-text\"></span>' +\n                        '</span>')\n                    .append(arrowBtn)\n                    .append(that.element);\n\n                span = wrapper.find(SELECTOR);\n            }\n\n            that.span = span;\n            that._arrow = wrapper.find(\".k-select\");\n            that._arrowIcon = that._arrow.find(\".k-icon\");\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                DOMelement = element[0],\n                wrapper;\n\n            wrapper = element.parent();\n\n            if (!wrapper.is(\"span.k-picker\")) {\n                wrapper = element.wrap(\"<span />\").parent();\n                wrapper[0].style.cssText = DOMelement.style.cssText;\n                wrapper[0].title = DOMelement.title;\n            }\n\n            that._focused = that.wrapper = wrapper\n                .addClass(\"k-picker k-dropdown k-widget\")\n                .addClass(DOMelement.className)\n                .removeClass('input-validation-error')\n                .css(\"display\", \"\")\n                .attr({\n                    accesskey: element.attr(\"accesskey\"),\n                    unselectable: \"on\",\n                    role: \"listbox\",\n                    \"aria-haspopup\": \"listbox\",\n                    \"aria-expanded\": false\n                });\n\n            element.hide().removeAttr(\"accesskey\");\n        },\n\n        _clearSelection: function(parent) {\n            this.select(parent.value() ? 0 : -1);\n        },\n\n        _openHandler: function(e) {\n            this._adjustListWidth();\n\n            if (this.trigger(OPEN)) {\n                e.preventDefault();\n            } else {\n                this.wrapper.attr(\"aria-expanded\", true);\n                this.ul.attr(\"aria-hidden\", false);\n            }\n        },\n\n        _closeHandler: function(e) {\n            if (this.trigger(CLOSE)) {\n                e.preventDefault();\n            } else {\n                this.wrapper.attr(\"aria-expanded\", false);\n                this.ul.attr(\"aria-hidden\", true);\n            }\n        },\n\n        _inputTemplate: function() {\n            var that = this,\n                template = that.options.valueTemplate;\n\n\n            if (!template) {\n                template = $.proxy(kendo.template('#:this._text(data)#', { useWithBlock: false }), that);\n            } else {\n                template = kendo.template(template);\n            }\n\n            that.valueTemplate = template;\n\n            if (that.hasOptionLabel() && !that.options.optionLabelTemplate) {\n                try {\n                    that.valueTemplate(that._optionLabelDataItem());\n                } catch(e) {\n                    throw new Error(MSG_INVALID_OPTION_LABEL);\n                }\n            }\n        },\n\n        _textAccessor: function(text) {\n            var dataItem = null;\n            var template = this.valueTemplate;\n            var optionLabelText = this._optionLabelText();\n            var span = this.span;\n\n            if (text === undefined) {\n                return span.text();\n            }\n\n            if ($.isPlainObject(text) || text instanceof ObservableObject) {\n                dataItem = text;\n            } else if (optionLabelText && optionLabelText === text) {\n                dataItem = this.options.optionLabel;\n            }\n\n            if (!dataItem) {\n                dataItem = this._assignInstance(text, this._accessor());\n            }\n\n            if (this.hasOptionLabel()) {\n                if (dataItem === optionLabelText || this._text(dataItem) === optionLabelText) {\n                    template = this.optionLabelTemplate;\n\n                    if (typeof this.options.optionLabel === \"string\" && !this.options.optionLabelTemplate) {\n                        dataItem = optionLabelText;\n                    }\n                }\n            }\n\n            var getElements = function(){\n                return {\n                    elements: span.get(),\n                    data: [ { dataItem: dataItem } ]\n                };\n            };\n\n            this.angular(\"cleanup\", getElements);\n\n            try {\n                span.html(template(dataItem));\n            } catch(e) {\n                //dataItem has missing fields required in custom template\n                span.html(\"\");\n            }\n\n            this.angular(\"compile\", getElements);\n        },\n\n        _preselect: function(value, text) {\n            if (!value && !text) {\n                text = this._optionLabelText();\n            }\n\n            this._accessor(value);\n            this._textAccessor(text);\n\n            this._old = this._accessor();\n            this._oldIndex = this.selectedIndex;\n\n            this.listView.setValue(value);\n\n            this._initialIndex = null;\n            this._presetValue = true;\n        },\n\n        _assignInstance: function(text, value) {\n            var dataTextField = this.options.dataTextField;\n            var dataItem = {};\n\n            if (dataTextField) {\n                assign(dataItem, dataTextField.split(\".\"), text);\n                assign(dataItem, this.options.dataValueField.split(\".\"), value);\n                dataItem = new ObservableObject(dataItem);\n            } else {\n                dataItem = text;\n            }\n\n            return dataItem;\n        }\n    });\n\n    function assign(instance, fields, value) {\n        var idx = 0,\n            lastIndex = fields.length - 1,\n            field;\n\n        for (; idx < lastIndex; ++idx) {\n            field = fields[idx];\n\n            if (!(field in instance)) {\n                instance[field] = {};\n            }\n\n            instance = instance[field];\n        }\n\n        instance[fields[lastIndex]] = value;\n    }\n\n    function normalizeIndex(index, length) {\n        if (index >= length) {\n            index -= length;\n        }\n        return index;\n    }\n\n    function sameCharsOnly(word, character) {\n        for (var idx = 0; idx < word.length; idx++) {\n            if (word.charAt(idx) !== character) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    ui.plugin(DropDownList);\n\n    kendo.cssProperties.registerPrefix(\"DropDownList\", \"k-picker-\");\n\n    kendo.cssProperties.registerValues(\"DropDownList\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.combobox',[ \"./kendo.list\", \"./kendo.mobile.scroller\", \"./kendo.virtuallist\", \"./kendo.html.button\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"combobox\",\n    name: \"ComboBox\",\n    category: \"web\",\n    description: \"The ComboBox widget allows the selection from pre-defined values or entering a new value.\",\n    depends: [ \"list\", \"html.button\" ],\n    features: [ {\n        id: \"mobile-scroller\",\n        name: \"Mobile scroller\",\n        description: \"Support for kinetic scrolling in mobile device\",\n        depends: [ \"mobile.scroller\" ]\n    }, {\n        id: \"virtualization\",\n        name: \"VirtualList\",\n        description: \"Support for virtualization\",\n        depends: [ \"virtuallist\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        html = kendo.html,\n        List = ui.List,\n        Select = ui.Select,\n        caret = kendo.caret,\n        support = kendo.support,\n        placeholderSupported = support.placeholder,\n        activeElement = kendo._activeElement,\n        keys = kendo.keys,\n        ns = \".kendoComboBox\",\n        nsFocusEvent = ns + \"FocusEvent\",\n        CLICK = \"click\" + ns,\n        MOUSEDOWN = \"mousedown\" + ns,\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        CHANGE = \"change\",\n        LOADING = \"k-i-loading\",\n        FOCUSED = \"k-focus\",\n        STATEDISABLED = \"k-disabled\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        AUTOCOMPLETEVALUE = \"off\",\n        STATE_FILTER = \"filter\",\n        STATE_ACCEPT = \"accept\",\n        STATE_REBIND = \"rebind\",\n        HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n        proxy = $.proxy,\n        newLineRegEx = /(\\r\\n|\\n|\\r)/gm,\n        NON_PRINTABLE_KEYS = [16,17,18,19,20,33,34,37,39,45,91,92,144,145];\n\n    var ComboBox = Select.extend({\n        init: function(element, options) {\n            var that = this, text, disabled;\n\n            that.ns = ns;\n\n            options = Array.isArray(options) ? { dataSource: options } : options;\n\n            Select.fn.init.call(that, element, options);\n\n            options = that.options;\n            element = that.element.on(\"focus\" + ns, proxy(that._focusHandler, that));\n\n            options.placeholder = options.placeholder || element.attr(\"placeholder\");\n\n            that._reset();\n\n            that._wrapper();\n\n            that._input();\n\n            that._clearButton();\n\n            that._tabindex(that.input);\n\n            that._popup();\n\n            that._dataSource();\n            that._ignoreCase();\n\n            that._enable();\n\n            that._attachFocusEvents();\n\n            that._oldIndex = that.selectedIndex = -1;\n\n            that._aria();\n\n            that._initialIndex = options.index;\n\n            that.requireValueMapper(that.options);\n            that._initList();\n\n            that._cascade();\n\n            if (options.autoBind) {\n                that._filterSource();\n            } else {\n                text = options.text;\n\n                if (!text && that._isSelect) {\n                    text = element.children(\":selected\").text();\n                }\n\n                if (text) {\n                    that._setText(text);\n                }\n            }\n\n            if (!text) {\n                that._placeholder();\n            }\n\n            disabled = $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            }\n\n            kendo.notify(that);\n            that._toggleCloseVisibility();\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"ComboBox\",\n            enabled: true,\n            index: -1,\n            text: null,\n            value: null,\n            autoBind: true,\n            delay: 200,\n            dataTextField: \"\",\n            dataValueField: \"\",\n            minLength: 1,\n            enforceMinLength: false,\n            height: 200,\n            highlightFirst: true,\n            filter: \"none\",\n            placeholder: \"\",\n            suggest: false,\n            cascadeFrom: \"\",\n            cascadeFromField: \"\",\n            cascadeFromParentField: \"\",\n            ignoreCase: true,\n            animation: {},\n            virtual: false,\n            template: null,\n            groupTemplate: \"#:data#\",\n            fixedGroupTemplate: \"#:data#\",\n            clearButton: true,\n            syncValueAndText: true,\n            autoWidth: false,\n            popup: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events:[\n            \"open\",\n            \"close\",\n            CHANGE,\n            \"select\",\n            \"filtering\",\n            \"dataBinding\",\n            \"dataBound\",\n            \"cascade\",\n            \"set\"\n        ],\n\n        setOptions: function(options) {\n            var listOptions = this._listOptions(options);\n\n            Select.fn.setOptions.call(this, options);\n\n            this.listView.setOptions(listOptions);\n\n            this._accessors();\n            this._aria();\n            this._clearButton();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.input.off(ns);\n            that.input.off(nsFocusEvent);\n            that.element.off(ns);\n            that.wrapper.off(ns);\n            clearTimeout(that._pasteTimeout);\n\n            that._arrow.off(CLICK + \" \" + MOUSEDOWN);\n            that._clear.off(CLICK + \" \" + MOUSEDOWN);\n\n            Select.fn.destroy.call(that);\n        },\n\n        _isValueChanged: function(value) {\n            return value !== List.unifyType(this._old, typeof value) &&\n                value !== List.unifyType(this._oldText, typeof value);\n        },\n\n        _change: function() {\n            var that = this;\n            var text = that.text();\n            var hasText = text && text !== that._oldText && text !== that.options.placeholder;\n            var index = that.selectedIndex;\n            var isCustom = index === -1;\n\n            if (!that.options.syncValueAndText && !that.value() && isCustom && hasText) {\n                that._old = \"\";\n                that._oldIndex = index;\n                that._oldText = text;\n\n                if (!that._typing) {\n                    // trigger the DOM change event so any subscriber gets notified\n                    that.element.trigger(CHANGE);\n                }\n\n                that.trigger(CHANGE);\n                that._typing = false;\n                return;\n            }\n\n            Select.fn._change.call(that);\n\n            that._oldText = that.text && that.text();\n\n            that._toggleCloseVisibility();\n        },\n\n        _attachFocusEvents: function() {\n            var that = this;\n            that.input.on(\"focus\" + nsFocusEvent, proxy(that._inputFocus, that))\n                      .on(\"focusout\" + nsFocusEvent, proxy(that._inputFocusout, that));\n        },\n\n        _focusHandler: function(e) {\n            if(e.target === this.element[0]) {\n                this.input.trigger(\"focus\");\n            }\n        },\n\n        _arrowClick: function() {\n            this._toggle();\n        },\n\n        _inputFocus: function() {\n            this.wrapper.addClass(FOCUSED);\n            this._placeholder(false);\n        },\n\n        _inputFocusout: function(e) {\n            var that = this;\n            var value = that.value();\n            var isClearButton = !$(e.relatedTarget).closest('.k-clear-value').length;\n\n            that._userTriggered = true;\n            that.wrapper.removeClass(FOCUSED);\n            clearTimeout(that._typingTimeout);\n            that._typingTimeout = null;\n\n            if (isClearButton) {\n              that.text(that.text());\n            }\n\n            var item = that._focus();\n            var dataItem = this.listView.dataItemByIndex(this.listView.getElementIndex(item));\n\n            if (value !== that.value() && that.trigger(\"select\", { dataItem: dataItem, item: item })) {\n                that.value(value);\n                return;\n            }\n\n            that._placeholder();\n            that._valueBeforeCascade = that._old;\n\n            if (isClearButton) {\n                that._blur();\n\n                that.element.trigger(\"blur\");\n            }\n        },\n\n        _inputPaste: function() {\n            var that = this;\n            clearTimeout(that._pasteTimeout);\n            that._pasteTimeout = null;\n\n            that._pasteTimeout = setTimeout(function() {\n                that.search();\n            });\n        },\n\n        _editable: function(options) {\n            var that = this,\n                disable = options.disable,\n                readonly = options.readonly,\n                wrapper = that.wrapper.off(ns),\n                input = that.element.add(that.input.off(ns)),\n                arrow = that._arrow.off(CLICK + \" \" + MOUSEDOWN),\n                clear = that._clear;\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                input.prop(DISABLED, false)\n                     .prop(READONLY, false)\n                     .attr(ARIA_DISABLED, false)\n                     .attr(ARIA_READONLY, false);\n\n                arrow.on(CLICK, proxy(that._arrowClick, that))\n                     .on(MOUSEDOWN, function(e) { e.preventDefault(); });\n\n                clear.on(CLICK + \" touchend\" + ns, proxy(that._clearValue, that));\n\n                that.input\n                    .on(\"keydown\" + ns, proxy(that._keydown, that))\n                    .on(\"input\" + ns, proxy(that._search, that))\n                    .on(\"paste\" + ns, proxy(that._inputPaste, that));\n\n                that.wrapper.on(CLICK + ns, proxy(that._focusHandler, that));\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                input.attr(DISABLED, disable)\n                     .attr(READONLY, readonly)\n                     .attr(ARIA_DISABLED, disable)\n                     .attr(ARIA_READONLY, readonly);\n            }\n\n            that._toggleCloseVisibility();\n        },\n\n        open: function() {\n            var that = this;\n            var state = that._state;\n            var isFiltered = that.dataSource.filter() ? that.dataSource.filter().filters.length > 0 : false;\n            var reinitialized = !that.ul.find(that.listView.focus()).length;\n\n            if (that.popup.visible()) {\n                return;\n            }\n\n            if ((!that.listView.bound() && state !== STATE_FILTER) || state === STATE_ACCEPT) {\n                that._open = true;\n                that._state = STATE_REBIND;\n\n                if ((that.options.minLength !== 1 && !isFiltered) || (isFiltered && that.value() && that.selectedIndex === -1 )) {\n                    that.refresh();\n                    that._openPopup();\n                    if (!this.options.virtual) {\n                        that.listView.bound(false);\n                    }\n                } else {\n                    that._filterSource();\n                }\n            } else if (that._allowOpening()) {\n                // In some cases when the popup is opened resize is triggered which will cause it to close\n                // Setting the below flag will prevent this from happening\n                that.popup._hovered = true;\n                that._openPopup();\n                if(that.options.virtual) {\n                    that._focusItem();\n                } else if (reinitialized && that.options.highlightFirst) {\n                    that.listView.focus(0);\n                }\n            }\n        },\n\n        _scrollToFocusedItem: function() {\n            var listView = this.listView;\n\n            listView.scrollToIndex(listView.getElementIndex(listView.focus()));\n        },\n\n        _openPopup: function() {\n            this.popup.one(\"activate\", proxy(this._scrollToFocusedItem, this));\n            this.popup.open();\n        },\n\n        _updateSelectionState: function() {\n            var that = this;\n            var text = that.options.text;\n            var value = that.options.value;\n\n            if (that.listView.isFiltered()) {\n                return;\n            }\n\n            if (that.selectedIndex === -1) {\n                if (text === undefined || text === null) {\n                    text = value;\n                }\n\n                that._accessor(value);\n                that.input.val(text || that.input.val());\n                that._placeholder();\n            } else if (that._oldIndex === -1) {\n                that._oldIndex = that.selectedIndex;\n            }\n        },\n\n        _buildOptions: function(data) {\n            var that = this;\n            if (!that._isSelect) {\n                return;\n            }\n\n            var custom = that._customOption;\n\n            if (that._state === STATE_REBIND) {\n                that._state = \"\";\n            }\n\n            that._customOption = undefined;\n            that._options(data, \"\", that.value());\n\n            if (custom && custom[0].selected && !that.listView._emptySearch) {\n                that._custom(custom.val());\n            }\n        },\n\n        _updateSelection: function() {\n            var that = this;\n            var listView = that.listView;\n            var initialIndex = that._initialIndex;\n            var hasInitialIndex = initialIndex !== null && initialIndex > -1;\n            var filtered = that._state === STATE_FILTER;\n\n            if (filtered) {\n                $(listView.focus()).removeClass(\"k-selected\");\n                return;\n            }\n\n            if (that._fetch) {\n                return;\n            }\n\n            if (!listView.value().length) {\n                if (hasInitialIndex) {\n                    that.select(initialIndex);\n                } else if (that._accessor()) {\n                    listView.value(that._accessor());\n                }\n            }\n\n            that._initialIndex = null;\n            var dataItem = listView.selectedDataItems()[0];\n\n            if (!dataItem) {\n                return;\n            }\n\n            if (that._value(dataItem) !== that.value()) {\n                that._custom(that._value(dataItem));\n            } else if (that._value(dataItem) !== that.element[0].value){\n                that._accessor(that._value(dataItem));\n            }\n\n            if (that.text() && that.text() !== that._text(dataItem)) {\n                that._selectValue(dataItem);\n            }\n        },\n\n        _updateItemFocus: function() {\n            var listView = this.listView;\n\n            if (!this.options.highlightFirst) {\n                listView.focus(-1);\n            } else if (!listView.focus() && !listView.focusIndex()) {\n                listView.focus(0);\n            }\n        },\n\n        _listBound: function() {\n            var that = this;\n            var isActive = that.input[0] === activeElement();\n\n            var data = that.dataSource.flatView();\n            var skip = that.listView.skip();\n            var length = data.length;\n            var groupsLength = that.dataSource._group ? that.dataSource._group.length : 0;\n            var isFirstPage = skip === undefined || skip === 0;\n\n            that._presetValue = false;\n\n            that._renderFooter();\n            that._renderNoData();\n            that._toggleNoData(!length);\n            that._toggleHeader(!!groupsLength && !!length);\n\n            that._resizePopup();\n\n            that.popup.position();\n\n            that._buildOptions(data);\n\n            that._updateSelection();\n\n            if (data.length && isFirstPage) {\n                that._updateItemFocus();\n\n                if (that.options.suggest && isActive && that.input.val()) {\n                    that.suggest(data[0]);\n                }\n            }\n\n            if (that._open) {\n                that._open = false;\n\n                if (that._typingTimeout && !isActive) {\n                    that.popup.close();\n                } else {\n                    that.toggle(that._allowOpening());\n                }\n\n                that._typingTimeout = null;\n            }\n\n            that._hideBusy();\n            that.trigger(\"dataBound\");\n        },\n\n        _listChange: function() {\n            this._selectValue(this.listView.selectedDataItems()[0]);\n\n            if (this._presetValue) {\n                this._oldIndex = this.selectedIndex;\n            }\n        },\n\n        _get: function(candidate) {\n            var data, found, idx;\n\n            if (typeof candidate === \"function\") {\n                data = this.dataSource.flatView();\n\n                for (idx = 0; idx < data.length; idx++) {\n                    if (candidate(data[idx])) {\n                        candidate = idx;\n                        found = true;\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    candidate = -1;\n                }\n            }\n\n            if (!this.dataSource.total() && !candidate) {\n                candidate = -1;\n            }\n\n            return candidate;\n        },\n\n        _select: function(candidate, keepState) {\n            var that = this;\n\n            candidate = that._get(candidate);\n\n            if (candidate === -1) {\n                that.input[0].value = \"\";\n                that._accessor(\"\");\n            }\n\n            return that.listView.select(candidate).done(function() {\n                if (!keepState && that._state === STATE_FILTER) {\n                    that._state = STATE_ACCEPT;\n                }\n                that._toggleCloseVisibility();\n            });\n        },\n\n        _selectValue: function(dataItem) {\n            var idx = this.listView.select();\n            var value = \"\";\n            var text = \"\";\n\n            idx = idx[idx.length - 1];\n            if (idx === undefined) {\n                idx = -1;\n            }\n\n            this.selectedIndex = idx;\n\n            if (this.listView.isFiltered() && idx !== -1) {\n                this._valueBeforeCascade = this._old;\n            }\n\n            if (idx === -1 && !dataItem) {\n                if (this.options.syncValueAndText) {\n                    if (this.options.dataTextField === this.options.dataValueField) {\n                        text = this._accessor();\n                    } else {\n                        text = this.input[0].value;\n                    }\n                    value = text;\n                }\n                else {\n                    text = this.text();\n                }\n                this.listView.focus(-1);\n            } else {\n                if (dataItem || dataItem === 0) {\n                    value = this._dataValue(dataItem);\n                    text = this._text(dataItem);\n                }\n\n                if (value === null) {\n                    value = \"\";\n                }\n            }\n\n            this._setDomInputValue(text);\n            this._accessor(value !== undefined ? value : text, idx);\n\n            this._placeholder();\n            this._triggerCascade();\n        },\n\n        _setDomInputValue: function(text){\n            var that = this;\n            var currentCaret = caret(this.input);\n            var caretStart;\n\n            if(currentCaret && currentCaret.length){\n                caretStart = currentCaret[0];\n            }\n\n            this._prev = this.input[0].value = text;\n\n            if(caretStart && this.selectedIndex === -1){\n                var mobile = support.mobileOS;\n                if(mobile.wp || mobile.android) {// without the timeout the caret is at the end of the input\n                    setTimeout(function() { that.input[0].setSelectionRange(caretStart, caretStart); }, 0);\n                }\n                else {\n                    this.input[0].setSelectionRange(caretStart, caretStart);\n                }\n            }\n        },\n\n        refresh: function() {\n            this.listView.refresh();\n        },\n\n        _toggleCloseVisibility: function() {\n            var preventShow = this.element.is(\":disabled\") || this.element.is(\"[readonly]\");\n\n            if (this.text() && !preventShow) {\n                this._showClear();\n            } else {\n                this._hideClear();\n            }\n        },\n\n        suggest: function(word) {\n            var that = this;\n            var element = that.input[0];\n            var value = that.text();\n            var caretIdx = caret(element)[0];\n            var key = that._last;\n            var idx;\n            var accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n\n            if (key == keys.BACKSPACE || key == keys.DELETE) {\n                that._last = undefined;\n                return;\n            }\n\n            word = word || \"\";\n\n            if (typeof word !== \"string\") {\n                if (word[0]) {\n                    word = that.dataSource.view()[List.inArray(word[0], that.ul[0])];\n                }\n\n                word = word ? that._text(word) : \"\";\n            }\n\n            if (caretIdx <= 0) {\n                caretIdx = (accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase()).indexOf(accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()) + 1;\n            }\n\n            if (word) {\n                word = word.toString();\n                idx = (accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()).indexOf(accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase());\n                if (idx > -1) {\n                    value += word.substring(idx + value.length);\n                }\n            } else {\n                value = value.substring(0, caretIdx);\n            }\n\n            if (value.length !== caretIdx || !word) {\n                element.value = value;\n                if (element === activeElement()) {\n                    caret(element, caretIdx, value.length);\n                }\n            }\n        },\n\n        text: function (text) {\n            text = text === null ? \"\" : text;\n\n            var that = this;\n            var input = that.input[0];\n            var ignoreCase = that.options.ignoreCase;\n            var loweredText = text;\n            var dataItem;\n            var value;\n\n            if (text === undefined) {\n                return input.value;\n            }\n\n            if (that.options.autoBind === false && !that.listView.bound()) {\n                that._setText(text);\n                return;\n            }\n\n            dataItem = that.dataItem();\n\n            if (dataItem && that._text(dataItem).replace && that._text(dataItem).replace(newLineRegEx,\"\") === text) {\n                value = that._value(dataItem);\n\n                if (value === List.unifyType(that._old, typeof value)) {\n                    that._triggerCascade();\n                    return;\n                }\n            }\n\n            if (ignoreCase) {\n                loweredText = loweredText.toLowerCase();\n            }\n\n            if(that.dataItem() && that._text(that.dataItem()) === text){\n                return;\n            }\n\n            that._select(function(data) {\n                data = that._text(data);\n                if (ignoreCase) {\n                    data = (data + \"\").toLowerCase();\n                }\n\n                return data === loweredText;\n            }).done(function() {\n                if (that.selectedIndex < 0) {\n                    input.value = text;\n\n                    if (that.options.syncValueAndText) {\n                        that._accessor(text);\n                    }\n\n                    that._cascadeTriggered = true;\n                    that._triggerCascade();\n                }\n\n                that._prev = input.value;\n            });\n\n            that._toggleCloseVisibility();\n        },\n\n        toggle: function(toggle) {\n            this._toggle(toggle, true);\n        },\n\n        value: function(value) {\n            var that = this;\n            var options = that.options;\n            var listView = that.listView;\n\n            if (value === undefined) {\n                value = that._accessor() || that.listView.value()[0];\n                return value === undefined || value === null ? \"\" : value;\n            }\n\n            that.requireValueMapper(that.options, value);\n\n            that.trigger(\"set\", { value: value });\n\n            if (value === options.value && that.input.val() === options.text &&\n            !that.options.cascadeFrom) {\n                return;\n            }\n\n            that._accessor(value);\n\n            if (that._isFilterEnabled() && listView.bound() && listView.isFiltered()) {\n                that._clearFilter();\n            } else {\n                that._fetchData();\n            }\n\n            listView\n                .value(value)\n                .done(function() {\n                    if (that.selectedIndex === -1 && (!listView._selectedDataItems || !listView._selectedDataItems.length)) {\n                        that._accessor(value);\n                        that.input.val(value);\n                        that._placeholder(true);\n                    }\n\n                    if(that._userTriggered) {\n                         that._old = that._accessor();\n                    } else {\n                         that._old = that._valueBeforeCascade = that._accessor();\n                    }\n\n                    that._oldIndex = that.selectedIndex;\n\n                    that._prev = that._oldText = that.input.val();\n\n                    if (that._state === STATE_FILTER) {\n                        that._state = STATE_ACCEPT;\n                    }\n                    that._toggleCloseVisibility();\n                });\n        },\n\n        _hideBusy: function () {\n            var that = this;\n            clearTimeout(that._busy);\n            that._arrowIcon.removeClass(LOADING);\n            that._focused.attr(\"aria-busy\", false);\n            that._busy = null;\n            that._toggleCloseVisibility();\n        },\n\n        _click: function(e) {\n            var that = this;\n            var item = e.item;\n            var dataItem = that.listView.dataItemByIndex(that.listView.getElementIndex(item));\n            var shouldTrigger = true;\n            e.preventDefault();\n\n            if(dataItem){\n                shouldTrigger = that._value(dataItem) !==  List.unifyType(that.value(), typeof that._value(dataItem));\n\n                if(!shouldTrigger){\n                   that.input.val(that._text(dataItem));\n                }\n            }\n\n            if (shouldTrigger && that.trigger(\"select\", { dataItem: dataItem, item: item })) {\n                that.close();\n                return;\n            }\n\n            that._userTriggered = true;\n\n            that._select(item).done(function() {\n                that._blur();\n            });\n        },\n\n        _syncValueAndText: function () {\n            return this.options.syncValueAndText;\n        },\n\n        _inputValue: function() {\n            return this.text();\n        },\n\n        _searchByWord: function(word) {\n            var that = this;\n            var options = that.options;\n            var dataSource = that.dataSource;\n            var ignoreCase = options.ignoreCase;\n            var predicate = function (dataItem) {\n                var text = that._text(dataItem);\n                if (text !== undefined) {\n                    text = text + \"\";\n                    if (text !== \"\" && word === \"\") {\n                        return false;\n                    }\n\n                    if (ignoreCase) {\n                        text = text.toLowerCase();\n                    }\n\n                    return text.indexOf(word) === 0;\n                }\n            };\n\n            if (ignoreCase) {\n                word = word.toLowerCase();\n            }\n\n            if (!that.ul[0].firstChild) {\n                dataSource.one(CHANGE, function () {\n                    if (dataSource.view()[0]) {\n                        that.search(word);\n                    }\n                }).fetch();\n                return;\n            }\n\n            this.listView.focus(this._get(predicate));\n\n            var current = this.listView.focus();\n\n            if (current) {\n                if (options.suggest) {\n                    that.suggest(current);\n                }\n\n                this.open();\n            }\n\n            if (this.options.highlightFirst && !word) {\n                this.listView.focusFirst();\n            }\n        },\n\n        _input: function() {\n            var that = this,\n                element = that.element.removeClass(\"k-input-inner\")[0],\n                accessKey = element.accessKey,\n                wrapper = that.wrapper,\n                SELECTOR = \"input.k-input-inner\",\n                name = element.name || \"\",\n                options = that.options,\n                input,\n                maxLength,\n                arrowBtn;\n\n            if (name) {\n                name = 'name=\"' + name + '_input\" ';\n            }\n\n            input = wrapper.find(SELECTOR);\n\n            if (!input[0]) {\n                arrowBtn = html.renderButton('<button type=\"button\" class=\"k-select k-input-button\" aria-label=\"expand combobox\"></button>', {\n                    icon: \"arrow-s\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: null,\n                    rounded: null,\n                });\n\n                wrapper.append('<input ' + name + 'class=\"k-input-inner\" type=\"text\" autocomplete=\"' + AUTOCOMPLETEVALUE +'\"/>')\n                    .append(arrowBtn)\n                    .append(that.element);\n\n                input = wrapper.find(SELECTOR);\n            }\n\n            input[0].style.cssText = element.style.cssText;\n            input[0].title = element.title;\n\n            maxLength = parseInt(this.element.prop(\"maxlength\") || this.element.attr(\"maxlength\"), 10);\n            if (maxLength > -1) {\n                input[0].maxLength = maxLength;\n            }\n\n            input.addClass(element.className)\n                .css({\n                    width: \"\",\n                    height: element.style.height,\n                    position: \"\"\n                })\n                .attr({\n                    \"role\": \"combobox\",\n                    \"aria-expanded\": false\n                })\n                .show();\n\n            if (placeholderSupported) {\n                input.attr(\"placeholder\", that.options.placeholder);\n            }\n\n            if (accessKey) {\n                element.accessKey = \"\";\n                input[0].accessKey = accessKey;\n            }\n\n            that._focused = that.input = input;\n            that._arrow = wrapper.find(\".k-select\")\n                .attr({\n                    \"role\": \"button\",\n                    \"tabIndex\": -1\n                });\n            that._arrowIcon = that._arrow.find(\".k-icon\");\n\n            if (element.id) {\n                that._arrow.attr(\"aria-controls\", that.ul[0].id);\n            }\n        },\n\n        _clearButton: function() {\n            List.fn._clearButton.call(this);\n\n            if (this.options.clearButton) {\n                this._clear.insertAfter(this.input);\n                this.wrapper.addClass(\"k-combobox-clearable\");\n            }\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                textField = that.options.dataTextField || \"text\",\n                isFkey = key >= 112 && key <= 135,\n                isNonPrintableKey = NON_PRINTABLE_KEYS.indexOf(key) > -1;\n\n            that._last = key;\n\n            clearTimeout(that._typingTimeout);\n            that._typingTimeout = null;\n\n            if (key === keys.HOME) {\n                that._firstItem();\n            } else if (key === keys.END) {\n                that._lastItem();\n            } else if (key === keys.ENTER || (key === keys.TAB && that.popup.visible())) {\n                var current = that.listView.focus();\n                var dataItem = that.dataItem();\n                var shouldTrigger = true;\n\n                if (!that.popup.visible() && (!dataItem || that.text() !== that._text(dataItem))) {\n                    current = null;\n                }\n\n                if (current) {\n                    if (that.popup.visible()) {\n                        e.preventDefault();\n                    }\n\n                    dataItem = that.listView.dataItemByIndex(that.listView.getElementIndex(current));\n\n                    if(dataItem){\n                        shouldTrigger = that._value(dataItem) !==  List.unifyType(that.value(), typeof that._value(dataItem));\n                    }\n\n                    if (shouldTrigger && that.trigger(\"select\", { dataItem: dataItem, item: current })) {\n                        return;\n                    }\n\n                    that._userTriggered = true;\n\n                    that._select(current).done(function() {\n                        that._blur();\n                        that._valueBeforeCascade = that._old = that.value();\n                    });\n                } else {\n                    if(that._syncValueAndText() || that._isSelect){\n                        if(!that.dataItem() || that.dataItem()[textField] !== that.input.val()) {\n                            that._accessor(that.input.val());\n                        }\n                    }\n\n                    if (that.options.highlightFirst) {\n                        that.listView.value(that.input.val());\n                        that._blur();\n                    } else {\n                        that._oldText = that.text();\n                    }\n                }\n            } else if (key != keys.TAB && !that._move(e) && !isNonPrintableKey && !isFkey && !e.ctrlKey) {\n               that._search();\n            } else if (key === keys.ESC && !that.popup.visible() && that.text()) {\n                that._clearValue();\n            }\n        },\n\n        _placeholder: function(show) {\n            if (placeholderSupported) {\n                return;\n            }\n\n            var that = this,\n                input = that.input,\n                placeholder = that.options.placeholder,\n                value;\n\n            if (placeholder) {\n                value = that.value();\n\n                if (show === undefined) {\n                    show = !value;\n                }\n\n                input.toggleClass(\"k-readonly\", show);\n\n                if (!show) {\n                    if (!value) {\n                        placeholder = \"\";\n                    } else {\n                        return;\n                    }\n                }\n\n                input.val(placeholder);\n\n                if (!placeholder && input[0] === activeElement()) {\n                    caret(input[0], 0, 0);\n                }\n            }\n        },\n\n        _search: function() {\n            var that = this;\n\n            clearTimeout(that._typingTimeout);\n\n            that._typingTimeout = setTimeout(function() {\n                var value = that.text();\n\n                if (value !== \"\" && that._prev !== value) {\n                    that._prev = value;\n\n                    if (that.options.filter === \"none\" && that.options.virtual) {\n                        that.listView.select(-1);\n                    }\n\n                    that.search(value);\n\n                    that._toggleCloseVisibility();\n                }\n                else if (value === \"\" && that._prev !== \"\" && that._prev !== undefined) {\n                    that._clearValue();\n                    that._open = true;\n                    that._state = STATE_REBIND;\n                }\n\n                that._typingTimeout = null;\n            }, that.options.delay);\n        },\n\n        _setText: function(text) {\n            this.input.val(text);\n            this._prev = text;\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper = element.parent();\n\n            if (!wrapper.is(\"span.k-input\")) {\n                wrapper = element.hide().wrap(\"<span />\").parent();\n                wrapper[0].style.cssText = element[0].style.cssText;\n            }\n\n            that.wrapper = wrapper.addClass(\"k-input k-combobox k-widget\")\n                .addClass(element[0].className)\n                .removeClass('input-validation-error')\n                .css(\"display\", \"\");\n        },\n\n        _clearSelection: function(parent, isFiltered) {\n            var that = this;\n            var hasValue = parent.value();\n            var custom = hasValue && parent.selectedIndex === -1;\n\n            if (this.selectedIndex == -1 && this.value()) {\n                return;\n            }\n\n            if (isFiltered || !hasValue || custom) {\n                that.options.value = \"\";\n                that.value(\"\");\n            }\n        },\n\n        _preselect: function(value, text) {\n            this.input.val(text);\n            this._accessor(value);\n\n            this._old = this._accessor();\n            this._oldIndex = this.selectedIndex;\n\n            this.listView.setValue(value);\n            this._placeholder();\n\n            this._initialIndex = null;\n            this._presetValue = true;\n            this._toggleCloseVisibility();\n        },\n\n        _clearText: function() {\n            this._old = this.value();\n            this.text(\"\");\n        },\n\n        _clearValue: function() {\n            Select.fn._clearValue.call(this);\n            this.input.trigger(\"focus\");\n        }\n    });\n\n    ui.plugin(ComboBox);\n\n    kendo.cssProperties.registerPrefix(\"ComboBox\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"ComboBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.html.chip',[\n        \"./kendo.html.base\"\n    ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"html.chip\",\n    name: \"Html.Chip\",\n    category: \"web\",\n    description: \"HTML rendering utility for Kendo UI for jQuery.\",\n    depends: [ \"html.base\" ],\n    features: []\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        HTMLBase = kendo.html.HTMLBase;\n\n    var renderChip = function (element, options) {\n        if (!element || $.isPlainObject(element)) {\n            options = element;\n            element = $(\"<span></span>\");\n        }\n\n        return (new HTMLChip(element, options)).html();\n    };\n\n    var HTMLChip = HTMLBase.extend({\n        init: function (element, options) {\n            var that = this;\n            HTMLBase.fn.init.call(that, element, options);\n            that._wrapper();\n        },\n        options: {\n            name: \"HTMLChip\",\n            size: \"medium\",\n            rounded: \"medium\",\n            fillMode: \"solid\",\n            themeColor: \"base\",\n            attr: {},\n            icon: \"\",\n            iconAttr: {},\n            removable: false,\n            removableAttr: {},\n            removeIcon: \"x\",\n            content: \"\",\n            text: \"\",\n            stylingOptions: [ \"size\", \"rounded\", \"fillMode\", \"themeColor\" ]\n        },\n        _wrapper: function () {\n            var that = this,\n                options = that.options;\n\n            that.wrapper = that.element.wrap(\"<span class='k-chip'></span>\").parent().attr(options.attr);\n            that._addClasses();\n\n            if (options.icon) {\n                that.wrapper.prepend($(\"<span class='k-chip-icon k-icon k-i-\" + options.icon + \"'></span>\").attr(options.iconAttr));\n            }\n\n            that.element.addClass(\"k-chip-content\");\n            if (options.text) {\n                that.element.text(options.text);\n            }\n\n            if (options.removable) {\n                that.wrapper.append($(\"<span class='k-chip-icon k-icon k-i-\" + options.removeIcon + \"'></span>\").attr(options.removableAttr));\n            }\n        }\n    });\n\n    $.extend(kendo.html, {\n        renderChip: renderChip,\n        HTMLChip: HTMLChip\n    });\n\n    kendo.cssProperties.registerPrefix(\"HTMLChip\", \"k-chip-\");\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.html.chiplist',[\n        \"./kendo.html.base\"\n    ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"html.chiplist\",\n    name: \"Html.ChipList\",\n    category: \"web\",\n    description: \"HTML rendering utility for Kendo UI for jQuery.\",\n    depends: [ \"html.base\" ],\n    features: []\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        HTMLBase = kendo.html.HTMLBase;\n\n    var renderChipList = function (element, options) {\n        if (arguments[0] === undefined || $.isPlainObject(arguments[0])) {\n            options = element;\n            element = $(\"<div></div>\");\n        }\n\n        return (new HTMLChipList(element, options)).html();\n    };\n\n    var HTMLChipList = HTMLBase.extend({\n        init: function (element, options) {\n            var that = this;\n            HTMLBase.fn.init.call(that, element, options);\n            that.wrapper = that.element.addClass(\"k-chip-list\");\n            that._addClasses();\n        },\n        options: {\n            name: \"HTMLChipList\",\n            size: \"medium\",\n            stylingOptions: [ \"size\" ]\n        }\n    });\n\n    $.extend(kendo.html, {\n        renderChipList: renderChipList,\n        HTMLChipList: HTMLChipList\n    });\n\n    kendo.cssProperties.registerPrefix(\"HTMLChipList\", \"k-chip-list-\");\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.multiselect',[ \"./kendo.list\", \"./kendo.mobile.scroller\", \"./kendo.virtuallist\", \"./kendo.html.chip\", \"./kendo.html.chiplist\", \"./kendo.html.button\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"multiselect\",\n    name: \"MultiSelect\",\n    category: \"web\",\n    description: \"The MultiSelect widget allows the selection from pre-defined values.\",\n    depends: [ \"list\", \"html.chip\", \"html.chiplist\", \"html.button\" ],\n    features: [ {\n        id: \"mobile-scroller\",\n        name: \"Mobile scroller\",\n        description: \"Support for kinetic scrolling in mobile device\",\n        depends: [ \"mobile.scroller\" ]\n    }, {\n        id: \"virtualization\",\n        name: \"VirtualList\",\n        description: \"Support for virtualization\",\n        depends: [ \"virtuallist\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        List = ui.List,\n        html = kendo.html,\n        keys = $.extend({ A: 65 }, kendo.keys),\n        activeElement = kendo._activeElement,\n        ObservableArray = kendo.data.ObservableArray,\n        proxy = $.proxy,\n        ID = \"id\",\n        CHIP = \".k-chip\",\n        ACCEPT = \"accept\",\n        FILTER = \"filter\",\n        REBIND = \"rebind\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        CHANGE = \"change\",\n        PROGRESS = \"progress\",\n        SELECT = \"select\",\n        DESELECT = \"deselect\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        FOCUSEDCLASS = \"k-focus\",\n        SELECTEDCLASS = \"k-selected\",\n        HIDDENCLASS = \"k-hidden\",\n        HOVERCLASS = \"k-hover\",\n        STATEDISABLED = \"k-disabled\",\n        NOCLICKCLASS = \"k-no-click\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        AUTOCOMPLETEVALUE = \"off\",\n        ns = \".kendoMultiSelect\",\n        CLICK = \"click\" + ns,\n        KEYDOWN = \"keydown\" + ns,\n        MOUSEENTER = \"mouseenter\" + ns,\n        MOUSELEAVE = \"mouseleave\" + ns,\n        HOVEREVENTS = MOUSEENTER + \" \" + MOUSELEAVE,\n        quotRegExp = /\"/g,\n        isArray = Array.isArray,\n        styles = [\"font-family\",\n                  \"font-size\",\n                  \"font-stretch\",\n                  \"font-style\",\n                  \"font-weight\",\n                  \"letter-spacing\",\n                  \"text-transform\",\n                  \"line-height\"];\n\n    var MultiSelect = List.extend({\n        init: function(element, options) {\n            var that = this, id, disabled;\n\n            that.ns = ns;\n            List.fn.init.call(that, element, options);\n\n            that._optionsMap = {};\n            that._customOptions = {};\n\n            that._wrapper();\n            that._tagList();\n            that._input();\n            that._textContainer();\n            that._loader();\n            that._clearButton();\n            that._arrowButton();\n\n            that._tabindex(that.input);\n\n            element = that.element.attr(\"multiple\", \"multiple\").hide();\n            options = that.options;\n\n            if (!options.placeholder) {\n                options.placeholder = element.data(\"placeholder\");\n            }\n\n            id = element.attr(ID);\n\n            if (id) {\n                that._tagID = id + \"_tag_active\";\n\n                id = id + \"_taglist\";\n                that.tagList.attr(ID, id);\n\n                that.input.attr(\"aria-describedby\", id);\n            }\n\n            that._initialOpen = true;\n            that._aria();\n            that._ariaSetLive();\n            that._dataSource();\n            that._ignoreCase();\n            that._popup();\n\n            that._tagTemplate();\n            that.requireValueMapper(that.options);\n            that._initList();\n\n            that._reset();\n            that._enable();\n            that._placeholder();\n\n            if (options.autoBind) {\n                that.dataSource.fetch();\n            } else if (options.value) {\n                that._preselect(options.value);\n            }\n\n            disabled = $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            }\n\n            kendo.notify(that);\n            that._toggleCloseVisibility();\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"MultiSelect\",\n            tagMode: \"multiple\",\n            enabled: true,\n            autoBind: true,\n            autoClose: true,\n            highlightFirst: true,\n            dataTextField: \"\",\n            dataValueField: \"\",\n            filter: \"startswith\",\n            ignoreCase: true,\n            minLength: 1,\n            messages: {\n                \"singleTag\": \"item(s) selected\",\n                \"clear\": \"clear\",\n                \"deleteTag\": \"delete\",\n                \"noData\": \"No data found.\",\n                \"downArrow\": \"select\"\n            },\n            enforceMinLength: false,\n            delay: 100,\n            value: null,\n            maxSelectedItems: null,\n            placeholder: \"\",\n            height: 200,\n            animation: {},\n            virtual: false,\n            itemTemplate: \"\",\n            tagTemplate: \"\",\n            groupTemplate: \"#:data#\",\n            fixedGroupTemplate: \"#:data#\",\n            clearButton: true,\n            autoWidth: false,\n            popup: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            CHANGE,\n            SELECT,\n            DESELECT,\n            \"filtering\",\n            \"dataBinding\",\n            \"dataBound\"\n        ],\n\n        setDataSource: function(dataSource) {\n            this.options.dataSource = dataSource;\n\n            this._state = \"\";\n            this._dataSource();\n\n            this.persistTagList = false;\n            this.listView.setDataSource(this.dataSource);\n\n            if (this.options.autoBind) {\n                this.dataSource.fetch();\n            }\n        },\n\n        setOptions: function(options) {\n            var listOptions = this._listOptions(options);\n\n            List.fn.setOptions.call(this, options);\n\n            this.listView.setOptions(listOptions);\n\n\n\n            this._accessors();\n            this._aria();\n            this._tagTemplate();\n            this._placeholder();\n            this._clearButton();\n            this._arrowButton();\n        },\n\n        currentTag: function(candidate) {\n            var that = this;\n\n            if (candidate !== undefined) {\n                if (that._currentTag) {\n                    that._currentTag\n                        .removeClass(FOCUSEDCLASS)\n                        .removeAttr(ID);\n\n                    that._currentTag.find(\".k-chip-icon\").attr(\"aria-hidden\", true);\n\n                    that.input.removeAttr(\"aria-activedescendant\");\n                }\n\n                if (candidate) {\n                    candidate.addClass(FOCUSEDCLASS).attr(ID, that._tagID);\n\n                    candidate.find(\".k-chip-icon\").removeAttr(\"aria-hidden\");\n\n                    that.input.attr(\"aria-activedescendant\", that._tagID);\n                }\n\n                that._currentTag = candidate;\n            } else {\n                return that._currentTag;\n            }\n        },\n\n        dataItems: function() {\n            return this.listView.selectedDataItems();\n        },\n\n        destroy: function() {\n            var that = this,\n                ns = that.ns;\n\n            clearTimeout(that._busy);\n            clearTimeout(that._typingTimeout);\n\n            that.wrapper.off(ns);\n            that.tagList.off(ns);\n            that.input.off(ns);\n            that._clear.off(ns);\n\n            List.fn.destroy.call(that);\n        },\n\n        _aria: function() {\n            var that = this,\n                id = that.ul[0].id;\n\n            that.wrapper.attr({\n                \"aria-owns\": id,\n                \"aria-controls\": id\n            });\n            that.ul.attr({\n                \"aria-live\": !that._isFilterEnabled() ? \"off\" : \"polite\",\n                \"aria-multiselectable\": true\n            });\n            that.input.attr(\"aria-controls\", id);\n            that._ariaLabel();\n        },\n\n        _activateItem: function() {\n            if (this.popup.visible()) {\n                List.fn._activateItem.call(this);\n            }\n            this.currentTag(null);\n        },\n\n        _listOptions: function(options) {\n            var that = this;\n            var listOptions = List.fn._listOptions.call(that, $.extend(options, {\n                selectedItemChange: proxy(that._selectedItemChange, that),\n                selectable: \"multiple\"\n            }));\n\n            var itemTemplate = this.options.itemTemplate || this.options.template;\n            var template = listOptions.itemTemplate || itemTemplate || listOptions.template;\n\n            if (!template) {\n                template = \"#:\" + kendo.expr(listOptions.dataTextField, \"data\") + \"#\";\n            }\n\n            listOptions.template = template;\n\n            return listOptions;\n        },\n\n        _setListValue: function() {\n            List.fn._setListValue.call(this, this._initialValues.slice(0));\n        },\n\n        _listChange: function(e) {\n            var data = this.dataSource.flatView();\n            var optionsMap = this._optionsMap;\n            var valueGetter = this._value;\n\n            if (this._state === REBIND) {\n                this._state = \"\";\n            }\n\n            for (var i = 0; i < e.added.length; i++) {\n                if (optionsMap[valueGetter(e.added[i].dataItem)] === undefined) {\n                    this._render(data); //render select element <option> tags if the item does not persist in the current data view\n                    break;\n                }\n            }\n\n            this._selectValue(e.added, e.removed);\n        },\n\n        _selectedItemChange: function(e) {\n            var items = e.items;\n            var context;\n            var idx;\n\n            for (idx = 0; idx < items.length; idx++) {\n                context = items[idx];\n                this.tagList.children(CHIP).eq(context.index).children(\"span\").first().html(this.tagTextTemplate(context.item));\n            }\n        },\n\n        _wrapperMousedown: function(e) {\n            var that = this;\n            var notInput = e.target.nodeName.toLowerCase() !== \"input\";\n            var target = $(e.target);\n            var closeButton = target.closest(\".k-multiselect-toggle-button, .k-chip\").children(\".k-i-arrow-s\")[0];\n            var removeButton = target.closest(\".k-i-x\")[0];\n\n            if (notInput && !(removeButton && kendo.support.mobileOS) && e.cancelable) {\n                e.preventDefault();\n            }\n\n            if (!removeButton) {\n                if(closeButton && that.popup.visible()) {\n                    that.toggle(false);\n                } else {\n                    if (that.input[0] !== activeElement() && notInput) {\n                        that.input.trigger(\"focus\");\n                    }\n\n                    if (that.options.minLength === 1 && !that.popup.visible()) {\n                        that.open();\n                    }\n                }\n            }\n\n        },\n\n        _inputFocus: function() {\n            this._placeholder(false, true);\n            this.wrapper.addClass(FOCUSEDCLASS);\n        },\n\n        _inputFocusout: function() {\n            var that = this;\n\n            clearTimeout(that._typingTimeout);\n\n            that.wrapper.removeClass(FOCUSEDCLASS);\n\n            that._placeholder(!that.listView.selectedDataItems()[0], true);\n            that.close();\n\n            if (that._state === FILTER) {\n                that._state = ACCEPT;\n                that.listView.skipUpdate(true);\n            }\n\n            if(that.listView.bound() && that.listView.isFiltered()) {\n                that.persistTagList = true;\n                that._clearFilter();\n            }\n\n            that.element.trigger(\"blur\");\n        },\n\n        _removeTag: function(tag, shouldTrigger) {\n            var that = this;\n            var state = that._state;\n            var position = tag.index();\n            var listView = that.listView;\n            var value = listView.value()[position];\n            var dataItem = that.listView.selectedDataItems()[position];\n            var customIndex = that._customOptions[value];\n            var listViewChildren = listView.element[0].children;\n            var option;\n            var listViewChild;\n\n            if (that.trigger(DESELECT, { dataItem: dataItem, item: tag })) {\n                that._close();\n                return;\n            }\n\n            if (customIndex === undefined && (state === ACCEPT || state === FILTER)) {\n                customIndex = that._optionsMap[value];\n            }\n\n            var done = function() {\n                that.currentTag(null);\n                if (shouldTrigger) {\n                    that._change();\n                }\n                that._close();\n            };\n\n            if (customIndex === undefined && listView.select().length) {\n                that.persistTagList = false;\n                listView.select(listView.select()[position]).done(done);\n            } else {\n                option = that.element[0].children[customIndex];\n                if (option) {\n                    option.selected = false;\n                }\n\n                listView.removeAt(position);\n\n                if(listView._removedAddedIndexes) {\n                    listView._removedAddedIndexes.splice(position, 1);\n                }\n\n                listViewChild = listViewChildren[customIndex];\n                if (listViewChild) {\n                    listViewChildren[customIndex].classList.remove(\"k-selected\");\n                }\n                if (that.options.tagMode !== \"single\"){\n                    tag.remove();\n                } else {\n                    that._updateTagListHTML();\n                }\n                done();\n            }\n        },\n\n        _tagListClick: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            var target = $(e.currentTarget);\n\n            if (target.is(\".k-i-x\")) {\n                this._removeTag(target.closest(CHIP), true);\n            }\n        },\n\n        _clearValue: function() {\n            var that = this;\n\n            if (that.options.tagMode === \"single\"){\n                that._clearSingleTagValue();\n            } else{\n                that.tagList.children(CHIP).each(function(index, tag) {\n                    that._removeTag($(tag), false);\n                });\n            }\n\n            that.input.val(\"\");\n            that._search();\n            that._change();\n            that.focus();\n            that._hideClear();\n\n            if (that._state === FILTER) {\n                that._state = ACCEPT;\n            }\n        },\n\n        _clearSingleTagValue: function() {\n            var that = this;\n            var items = that.dataItems();\n            var tags = that.tagList.children(CHIP);\n            var persistTagList = that.persistTagList;\n\n            for (var i = 0; i < items.length; i += 1) {\n                if (that.trigger(DESELECT, { dataItem: items[i], item: tags.first() })) {\n                    that._close();\n                    return;\n                }\n            }\n\n            if (persistTagList) {\n                that.persistTagList = false;\n            }\n\n            that.listView.value([]);\n            that.persistTagList = persistTagList;\n        },\n\n        _focusHandler: function() {\n            var input = this.input;\n            var active = activeElement();\n            var isActive = input[0] === active;\n\n            if(!isActive) {\n                this.input.trigger(\"focus\");\n            }\n        },\n\n        _editable: function(options) {\n            var that = this,\n                disable = options.disable,\n                readonly = options.readonly,\n                wrapper = that.wrapper.off(ns),\n                tagList = that.tagList.off(ns),\n                input = that.input.off(ns);\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .removeClass(NOCLICKCLASS)\n                    .on(HOVEREVENTS, that._toggleHover)\n                    .on(\"mousedown\" + ns + \" touchend\" + ns, proxy(that._wrapperMousedown, that))\n                    .on(CLICK, proxy(that._focusHandler, that));\n\n                that.input.on(KEYDOWN, proxy(that._keydown, that))\n                    .on(\"paste\" + ns, proxy(that._search, that))\n                    .on(\"input\" + ns, proxy(that._search, that))\n                    .on(\"focus\" + ns, proxy(that._inputFocus, that))\n                    .on(\"focusout\" + ns, proxy(that._inputFocusout, that));\n\n                that._clear.on(CLICK + \" touchend\" + ns, proxy(that._clearValue, that));\n\n                input.prop(DISABLED, false)\n                     .prop(READONLY, false)\n                     .attr(ARIA_DISABLED, false)\n                     .attr(ARIA_READONLY, false);\n\n                that.element.prop(DISABLED, false);\n\n                tagList\n                    .on(MOUSEENTER, CHIP, function() { $(this).addClass(HOVERCLASS); })\n                    .on(MOUSELEAVE, CHIP, function() { $(this).removeClass(HOVERCLASS); })\n                    .on(CLICK + \" touchend\" + ns, \".k-chip .k-icon\", proxy(that._tagListClick, that));\n            } else {\n\n                wrapper.toggleClass(STATEDISABLED, disable)\n                       .toggleClass(NOCLICKCLASS, readonly);\n\n                input.attr(DISABLED, disable)\n                     .attr(READONLY, readonly)\n                     .attr(ARIA_DISABLED, disable)\n                     .attr(ARIA_READONLY, readonly);\n\n                that.element.prop(DISABLED, disable);\n            }\n        },\n\n        _close: function() {\n            var that = this;\n            if (that.options.autoClose) {\n                that.close();\n            } else {\n                that.popup.position();\n            }\n        },\n\n        _filterSource: function(filter, force) {\n            if(!force) {\n                force = this._retrieveData;\n            }\n            this._retrieveData = false;\n            List.fn._filterSource.call(this, filter, force);\n        },\n\n        close: function() {\n            this._activeItem = null;\n            this.input.removeAttr(\"aria-activedescendant\");\n\n            this.popup.close();\n        },\n\n        open: function() {\n            var that = this,\n                filterValue = that.input.val().toLowerCase(),\n                listViewFilter = that.listView.dataSource.filter(),\n                listViewFilterValue;\n\n            if(listViewFilter && listViewFilter.filters.length > 0) {\n                listViewFilterValue = (listViewFilter.filters[0].value || \"\").toString().toLowerCase();\n            }\n\n            if (that._request) {\n                that._retrieveData = false;\n            }\n\n            if (that._retrieveData || !that.listView.bound() || (that._state === ACCEPT && filterValue !== listViewFilterValue)) {\n                that._open = true;\n                that._state = REBIND;\n\n                that.listView.skipUpdate(true);\n\n                that.persistTagList = that._initialOpen && !that.listView.bound() ? false : true;\n                that._filterSource();\n                that._focusItem();\n            } else if (that._allowOpening()) {\n\n                //selects values in autoBind false and non virtual scenario on initial load\n                if (that._initialOpen && !that.options.autoBind && !that.options.virtual && that.options.value && !$.isPlainObject(that.options.value[0])){\n                    that.value(that.value() || that._initialValues);\n                }\n\n                // In some cases when the popup is opened resize is triggered which will cause it to close\n                // Setting the below flag will prevent this from happening\n                that.popup._hovered = true;\n                that._initialOpen = false;\n                that.popup.open();\n                that._focusItem();\n            }\n        },\n\n        toggle: function(toggle) {\n            toggle = toggle !== undefined ? toggle : !this.popup.visible();\n\n            this[toggle ? OPEN : CLOSE]();\n        },\n\n        refresh: function() {\n            this.listView.refresh();\n        },\n\n        _listBound: function() {\n            var that = this;\n            var data = that.dataSource.flatView();\n\n            that._render(data);\n            that._renderFooter();\n            that._renderNoData();\n            that._toggleNoData(!data.length);\n            that._resizePopup();\n\n            if (that._open) {\n                that._open = false;\n                that.toggle(that._allowOpening());\n            }\n\n            that.popup.position();\n            that._updateItemFocus();\n\n            if (that._touchScroller) {\n                that._touchScroller.reset();\n            }\n\n            that._hideBusy();\n\n            that.trigger(\"dataBound\");\n        },\n\n        _updateItemFocus: function() {\n            var that = this,\n                data = that.dataSource.flatView(),\n                skip = that.listView.skip(),\n                isFirstPage = skip === undefined || skip === 0;\n\n            if (data.length && isFirstPage) {\n                if (!that.options.highlightFirst) {\n                    that.listView.focus(-1);\n                } else {\n                    that.listView.focusFirst();\n                }\n            }\n        },\n\n        _inputValue: function() {\n            var that = this;\n            var inputValue = that.input.val();\n\n            if (that.options.placeholder === inputValue) {\n                inputValue = \"\";\n            }\n            return inputValue;\n        },\n\n        value: function(value) {\n            var that = this;\n            var listView = that.listView;\n            var oldValue = listView.value().slice();\n            var maxSelectedItems = that.options.maxSelectedItems;\n            var clearFilters = listView.bound() && listView.isFiltered();\n\n            if (value === undefined) {\n                return oldValue;\n            }\n\n            that.persistTagList = false;\n            that.requireValueMapper(that.options, value);\n\n            value = that._normalizeValues(value);\n\n            if (maxSelectedItems !== null && value.length > maxSelectedItems) {\n                value = value.slice(0, maxSelectedItems);\n            }\n\n            if (clearFilters) {\n                that._clearFilter();\n            }\n\n            listView.value(value);\n            that._old = that._valueBeforeCascade = value.slice(); //get a new array reference\n\n            if (!clearFilters) {\n                that._fetchData();\n            }\n\n            that._toggleCloseVisibility();\n        },\n\n        _preselect: function(data, value) {\n            var that = this;\n\n            if (!isArray(data) && !(data instanceof kendo.data.ObservableArray)) {\n                data = [data];\n            }\n\n            if ($.isPlainObject(data[0]) || data[0] instanceof kendo.data.ObservableObject || !that.options.dataValueField) {\n                that.dataSource.data(data);\n                that.value(value || that._initialValues);\n                that._retrieveData = true;\n            }\n        },\n\n        _setOption: function(value, selected) {\n            var option = this.element[0].children[this._optionsMap[value]];\n\n            if (option) {\n                option.selected = selected;\n            }\n        },\n\n        _fetchData: function() {\n            var that = this;\n            var hasItems = !!that.dataSource.view().length;\n            var isEmptyArray = that.listView.value().length === 0;\n\n            if (isEmptyArray || that._request) {\n                return;\n            }\n\n            if (that._retrieveData || (!that._fetch && !hasItems)) {\n                that._fetch = true;\n                that._retrieveData = false;\n                that.dataSource.read().done(function() {\n                    that._fetch = false;\n                });\n            }\n        },\n\n        _isBound: function() {\n            return this.listView.bound() && !this._retrieveData;\n        },\n\n        _dataSource: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                dataSource = options.dataSource || {};\n\n            dataSource = isArray(dataSource) ? {data: dataSource} : dataSource;\n\n            dataSource.select = element;\n            dataSource.fields = [{ field: options.dataTextField },\n                                 { field: options.dataValueField }];\n\n            if (that.dataSource && that._refreshHandler) {\n                that._unbindDataSource();\n            } else {\n                that._progressHandler = proxy(that._showBusy, that);\n                that._errorHandler = proxy(that._hideBusy, that);\n            }\n\n            that.dataSource = kendo.data.DataSource.create(dataSource)\n                                   .bind(PROGRESS, that._progressHandler)\n                                   .bind(\"error\", that._errorHandler);\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    setTimeout(function() {\n                        that.value(that._initialValues);\n                        that._placeholder();\n                    });\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _initValue: function() {\n            var value = this.options.value || this.element.val();\n\n            this._old = this._initialValues = this._normalizeValues(value);\n        },\n\n        _normalizeValues: function(value) {\n            var that = this;\n\n            if (value === null) {\n                value = [];\n            } else if (value && $.isPlainObject(value)) {\n                value = [that._value(value)];\n            } else if (value && $.isPlainObject(value[0])) {\n                value = $.map(value, function(dataItem) { return that._value(dataItem); });\n            } else if (!isArray(value) && !(value instanceof ObservableArray)) {\n                value = [value];\n            } else if (isArray(value)) {\n                value = value.slice();\n            }\n\n            return value;\n        },\n\n        _change: function() {\n            var that = this,\n                value = that.value();\n\n            if (!compare(value, that._old)) {\n                that._old = value.slice();\n\n                that.trigger(CHANGE);\n\n                // trigger the DOM change event so any subscriber gets notified\n                that.element.trigger(CHANGE);\n            }\n            that.popup.position();\n\n            that._toggleCloseVisibility();\n        },\n\n        _click: function(e) {\n            var that = this;\n            var item = e.item;\n\n            e.preventDefault();\n\n            that._select(item).done(function() {\n                that._activeItem = item;\n                that._change();\n                that._close();\n            });\n        },\n\n        _getActiveItem: function() {\n            return this._activeItem || $(this.listView.items()[this._getSelectedIndices().length - 1]) || this.listView.focus();\n        },\n\n        _getSelectedIndices: function() {\n            return this.listView._selectedIndices || this.listView._selectedIndexes;\n        },\n\n        _keydown: function(e) {\n            var that = this;\n            var key = e.keyCode;\n            var tag = that._currentTag;\n            var listView = that.listView;\n            var hasValue = that.input.val();\n            var isRtl = kendo.support.isRtl(that.wrapper);\n            var visible = that.popup.visible();\n            var dir = 0;\n            var activeItemIdx;\n\n            if(key !== keys.ENTER) {\n                this._multipleSelection = false;\n            }\n\n             if (key === keys.DOWN) {\n                e.preventDefault();\n\n                if (!visible) {\n                    that.open();\n\n                    if (!listView.focus()) {\n                        listView.focusFirst();\n                    }\n                    return;\n                }\n\n                if (listView.focus()) {\n                    if (!that._activeItem && e.shiftKey) {\n                        that._activeItem = listView.focus();\n                        dir = -1;\n                    }\n                    activeItemIdx = listView.getElementIndex(that._getActiveItem().first());\n\n                    listView.focusNext();\n                    if (!listView.focus()) {\n                        listView.focusLast();\n                    } else {\n                        if (e.shiftKey && !that.options.virtual) {\n                            this._multipleSelection = true;\n                            that._selectRange(activeItemIdx, listView.getElementIndex(listView.focus().first()) + dir);\n                        }\n                    }\n                } else {\n                    listView.focusFirst();\n                }\n\n            } else if (key === keys.UP) {\n                if (visible) {\n                    if (!that._activeItem && e.shiftKey) {\n                        that._activeItem = listView.focus();\n                        dir = 1;\n                    }\n                    activeItemIdx = listView.getElementIndex(that._getActiveItem().first());\n                    listView.focusPrev();\n                    if (!listView.focus()) {\n                        that.close();\n                    } else {\n                        if (e.shiftKey && !that.options.virtual) {\n                            this._multipleSelection = true;\n                            that._selectRange(activeItemIdx, listView.getElementIndex(listView.focus().first()) + dir);\n                        }\n                    }\n                }\n                e.preventDefault();\n            } else if ((key === keys.LEFT && !isRtl) || (key === keys.RIGHT && isRtl)) {\n                if (!hasValue) {\n                    tag = tag ? tag.prev(CHIP) : that.tagList.children(CHIP).last();\n                    if (tag[0]) {\n                        that.currentTag(tag);\n                    }\n                }\n            } else if ((key === keys.RIGHT && !isRtl) || (key === keys.LEFT && isRtl)) {\n                if (!hasValue && tag) {\n                    tag = tag.next(CHIP);\n                    that.currentTag(tag[0] ? tag : null);\n                }\n            } else if (e.ctrlKey && !e.altKey && key === keys.A && visible && !that.options.virtual) {\n                this._multipleSelection = true;\n                if (this._getSelectedIndices().length === listView.items().length) {\n                    that._activeItem = null;\n                }\n\n                if (listView.items().length) {\n                    that._selectRange(0, listView.items().length -1);\n                }\n            } else if (key === keys.ENTER && visible) {\n                if (!listView.focus()) {\n                    return;\n                }\n\n                e.preventDefault();\n\n                if (this._multipleSelection) {\n                    this._multipleSelection = false;\n                     if (listView.focus().hasClass(SELECTEDCLASS)) {\n                        that._close();\n                        return;\n                    }\n                }\n\n                that._select(listView.focus()).done(function() {\n                    that._change();\n                    that._close();\n                });\n            } else if (key === keys.SPACEBAR && e.ctrlKey && visible) {\n                if (that._activeItem && listView.focus() && listView.focus()[0] === that._activeItem[0]) {\n                    that._activeItem = null;\n                }\n                if (!$(listView.focus()).hasClass(SELECTEDCLASS)) {\n                    that._activeItem = listView.focus();\n                }\n                that._select(listView.focus()).done(function () {\n                    that._change();\n                });\n                e.preventDefault();\n            } else if (key === keys.SPACEBAR && e.shiftKey && visible && !that.options.virtual) {\n                var activeIndex = listView.getElementIndex(that._getActiveItem());\n                var currentIndex = listView.getElementIndex(listView.focus());\n\n                if (activeIndex !== undefined && currentIndex !== undefined) {\n                    that._selectRange(activeIndex, currentIndex);\n                }\n\n                e.preventDefault();\n            } else if (key === keys.ESC) {\n                if (visible) {\n                    e.preventDefault();\n                } else {\n                    that.tagList.children(CHIP).each(function(index, tag) {\n                        that._removeTag($(tag), false);\n                    });\n                    that._change();\n                }\n\n                that.close();\n            } else if (key === keys.HOME) {\n                if (visible) {\n                    if (!listView.focus()) {\n                        that.close();\n                    } else {\n                        if (e.ctrlKey && e.shiftKey && !that.options.virtual) {\n                            that._selectRange(listView.getElementIndex(listView.focus()[0]), 0);\n                        }\n                        listView.focusFirst();\n                    }\n                } else if (!hasValue) {\n                    tag = that.tagList.children(CHIP).first()[0];\n\n                    if (tag) {\n                        that.currentTag($(tag));\n                    }\n                }\n            } else if (key === keys.END) {\n                if (visible) {\n                    if (!listView.focus()) {\n                        that.close();\n                    } else {\n                        if (e.ctrlKey && e.shiftKey && !that.options.virtual) {\n                            that._selectRange(\n                                listView.getElementIndex(listView.focus()[0]),\n                                listView.element.children().length - 1\n                            );\n                        }\n                        listView.focusLast();\n                    }\n                } else if (!hasValue) {\n                    tag = that.tagList.children(CHIP).last()[0];\n\n                    if (tag) {\n                        that.currentTag($(tag));\n                    }\n                }\n            } else if ((key === keys.DELETE || key === keys.BACKSPACE) && !hasValue) {\n                that._state = ACCEPT;\n\n                if (that.options.tagMode === \"single\") {\n                    that._clearSingleTagValue();\n\n                    that._change();\n                    that._close();\n                    return;\n                }\n\n                if (key === keys.BACKSPACE && !tag) {\n                    tag = that.tagList.children(CHIP).last();\n                }\n\n                if (tag && tag[0]) {\n                    that._removeTag(tag, true);\n                }\n            } else if (that.popup.visible() && (key === keys.PAGEDOWN || key === keys.PAGEUP)) {\n                e.preventDefault();\n\n                var direction = key === keys.PAGEDOWN ? 1: -1;\n                listView.scrollWith(direction * listView.screenHeight());\n            } else {\n                clearTimeout(that._typingTimeout);\n                that._search();\n            }\n        },\n\n        _hideBusy: function () {\n            var that = this;\n            clearTimeout(that._busy);\n            that.input.attr(\"aria-busy\", false);\n            that._loading.addClass(HIDDENCLASS);\n            that._request = false;\n            that._busy = null;\n\n            that._toggleCloseVisibility();\n        },\n\n        _showBusyHandler: function() {\n            this.input.attr(\"aria-busy\", true);\n            this._loading.removeClass(HIDDENCLASS);\n            this._hideClear();\n        },\n\n        _showBusy: function () {\n            var that = this;\n\n            that._request = true;\n\n            if (that._busy) {\n                return;\n            }\n\n            that._busy = setTimeout(proxy(that._showBusyHandler, that), 100);\n        },\n\n        _placeholder: function(show, skipCaret) {\n            var that = this;\n            var input = that.input;\n            var active = activeElement();\n            var placeholder = that.options.placeholder;\n            var inputValue = input.val();\n            var isActive = input[0] === active;\n            var caretPos = inputValue.length;\n\n            if (!isActive || that.options.autoClose || inputValue === placeholder) {\n                caretPos = 0;\n                inputValue = \"\";\n            }\n\n            if (show === undefined) {\n                show = false;\n                if (input[0] !== active) {\n                    show = !that.listView.selectedDataItems()[0];\n                }\n            }\n\n            that._prev = inputValue;\n            input.toggleClass(\"k-readonly\", show).val(show ? placeholder : inputValue);\n\n            if (isActive && !skipCaret) {\n                kendo.caret(input[0], caretPos, caretPos);\n            }\n        },\n\n        _option: function(dataValue, dataText, selected) {\n            var option = \"<option\";\n\n            if (dataValue !== undefined) {\n                dataValue += \"\";\n\n                if (dataValue.indexOf('\"') !== -1) {\n                    dataValue = dataValue.replace(quotRegExp, \"&quot;\");\n                }\n\n                option += ' value=\"' + dataValue + '\"';\n            }\n\n            if (selected) {\n                option += ' selected';\n            }\n\n            option += \">\";\n\n            if (dataText !== undefined) {\n                option += kendo.htmlEncode(dataText);\n            }\n\n            return option += \"</option>\";\n        },\n\n        _render: function(data) {\n            var selectedItems = this.listView.selectedDataItems();\n            var values = this.listView.value();\n            var length = data.length;\n            var selectedIndex;\n            var options = \"\";\n            var dataItem;\n            var value;\n            var idx;\n\n            if (values.length !== selectedItems.length) {\n                selectedItems = this._buildSelectedItems(values);\n            }\n\n            var custom = {};\n            var optionsMap = {};\n\n            for (idx = 0; idx < length; idx++) {\n                dataItem = data[idx];\n                value = this._value(dataItem);\n\n                selectedIndex = this._selectedItemIndex(value, selectedItems);\n                if (selectedIndex !== -1) {\n                    selectedItems.splice(selectedIndex, 1);\n                }\n\n                optionsMap[value] = idx;\n                options += this._option(value, this._text(dataItem), selectedIndex !== -1);\n            }\n\n            if (selectedItems.length) {\n                for (idx = 0; idx < selectedItems.length; idx++) {\n                    dataItem = selectedItems[idx];\n\n                    value = this._value(dataItem);\n                    custom[value] = length;\n                    optionsMap[value] = length;\n\n                    length += 1;\n                    options += this._option(value, this._text(dataItem), true);\n                }\n            }\n\n            this._customOptions = custom;\n            this._optionsMap = optionsMap;\n\n            this.element.html(options);\n        },\n\n        _buildSelectedItems: function(values) {\n            var valueField = this.options.dataValueField;\n            var textField = this.options.dataTextField;\n            var result = [];\n            var item;\n\n            for (var idx = 0; idx < values.length; idx++) {\n                item = {};\n                item[valueField] = values[idx];\n                item[textField] = values[idx];\n\n                result.push(item);\n            }\n\n            return result;\n        },\n\n        _selectedItemIndex: function(value, selectedItems) {\n            var valueGetter = this._value;\n            var idx = 0;\n\n            for (; idx < selectedItems.length; idx++) {\n                if (value === valueGetter(selectedItems[idx])) {\n                    return idx;\n                }\n            }\n\n            return -1;\n        },\n\n        _search: function() {\n            var that = this;\n\n            clearTimeout(that._typingTimeout);\n\n            that._typingTimeout = setTimeout(function() {\n                var value = that._inputValue();\n                if (that._prev !== value) {\n                    that._prev = value;\n                    that.search(value);\n                    that._toggleCloseVisibility();\n                }\n            }, that.options.delay);\n        },\n\n        _toggleCloseVisibility: function() {\n            if (this.value().length || (this.input.val() && this.input.val() !== this.options.placeholder)) {\n                this._showClear();\n            } else {\n                this._hideClear();\n            }\n        },\n\n        _allowOpening: function() {\n            return this._allowSelection() && List.fn._allowOpening.call(this);\n        },\n\n        _allowSelection: function() {\n            var max = this.options.maxSelectedItems;\n            return max === null || max > this.listView.value().length;\n        },\n\n        _angularTagItems: function(cmd) {\n            var that = this;\n\n            that.angular(cmd, function() {\n                return {\n                    elements: that.tagList[0].children,\n                    data: $.map(that.dataItems(), function(dataItem) {\n                        return { dataItem: dataItem };\n                    })\n                };\n            });\n        },\n\n        updatePersistTagList: function(added, removed){\n            if(this.persistTagList.added &&\n                this.persistTagList.added.length === removed.length &&\n                this.persistTagList.removed &&\n                this.persistTagList.removed.length === added.length){\n                    this.persistTagList = false;\n             }else{\n                 this.listView._removedAddedIndexes = this._old.slice();\n                 this.persistTagList = {\n                     added: added,\n                     removed: removed\n                 };\n             }\n        },\n\n        _selectValue: function (added, removed) {\n            var that = this;\n            var total = that.dataSource.total();\n            var tagList = that.tagList;\n            var getter = that._value;\n            var removedItem;\n            var addedItem;\n            var idx;\n\n            if(this.persistTagList){\n                this.updatePersistTagList(added, removed);\n\n                return;\n            }\n\n            that._angularTagItems(\"cleanup\");\n\n            if (that.options.tagMode === \"multiple\") {\n                for (idx = removed.length - 1; idx > -1; idx--) {\n                    removedItem = removed[idx];\n\n                    if (tagList.children(CHIP).length) {\n                        tagList[0].removeChild(tagList[0].children[removedItem.position]);\n                        that._setOption(getter(removedItem.dataItem), false);\n                    }\n                }\n\n                for (idx = 0; idx < added.length; idx++) {\n                    addedItem = added[idx];\n\n                    that.input.before(that.tagTemplate(addedItem.dataItem));\n\n                    that._setOption(getter(addedItem.dataItem), true);\n                }\n            } else {\n                if (!that._maxTotal || that._maxTotal < total) {\n                    that._maxTotal = total;\n                }\n\n                this._updateTagListHTML();\n\n                for (idx = removed.length - 1; idx > -1; idx--) {\n                    that._setOption(getter(removed[idx].dataItem), false);\n                }\n\n                for (idx = 0; idx < added.length; idx++) {\n                    that._setOption(getter(added[idx].dataItem), true);\n                }\n            }\n\n            that._angularTagItems(\"compile\");\n            that._placeholder();\n        },\n\n        _updateTagListHTML: function(){\n            var that = this;\n            var values = that.value();\n            var total = that.dataSource.total();\n            var tagList = that.tagList;\n\n            tagList.children(CHIP).each(function(index, tag) {\n                $(tag).remove();\n            });\n\n            if (values.length) {\n                that.input.before(that.tagTemplate({\n                    values: values,\n                    dataItems: that.dataItems(),\n                    maxTotal: that._maxTotal,\n                    currentTotal: total\n                }));\n            }\n        },\n\n        _select: function(candidate) {\n            var resolved = $.Deferred().resolve();\n\n            if (!candidate) {\n                return resolved;\n            }\n\n            var that = this;\n            var listView = that.listView;\n            var dataItem = listView.dataItemByIndex(listView.getElementIndex(candidate));\n            var isSelected = candidate.hasClass(\"k-selected\");\n\n            if (that._state === REBIND) {\n                that._state = \"\";\n            }\n\n            if (!that._allowSelection() && !isSelected) {\n                return resolved;\n            }\n\n            if (that.trigger(isSelected ? DESELECT : SELECT, { dataItem: dataItem, item: candidate })) {\n                that._close();\n                return resolved;\n            }\n\n            that.persistTagList = false;\n            return listView.select(candidate).done(function() {\n                that._placeholder();\n\n                if (that._state === FILTER) {\n                    that._state = ACCEPT;\n                    listView.skipUpdate(true);\n                }\n            });\n        },\n\n        _selectRange: function (startIndex, endIndex) {\n            var that = this;\n            var listView = this.listView;\n            var maxSelectedItems = this.options.maxSelectedItems;\n            var indices = this._getSelectedIndices().slice();\n            var indicesToSelect = [];\n            var i;\n\n            var selectIndices = function(indices) {\n                listView.select(indices).done(function() {\n                    indices.forEach(function(index) {\n                        var dataItem  = listView.dataItemByIndex(index);\n                        var candidate = listView.element.children()[index];\n                        var isSelected = $(candidate).hasClass(\"k-selected\");\n\n                        that.trigger(isSelected ? SELECT : DESELECT, {dataItem: dataItem, item: $(candidate)});\n                    });\n                    that._change();\n                });\n            };\n\n            if (indices.length - 1 === endIndex - startIndex) {\n                return selectIndices(indices);\n            }\n\n            if (startIndex < endIndex) {\n                for (i = startIndex; i <= endIndex; i++) {\n                    indicesToSelect.push(i);\n                }\n            } else {\n                for (i = startIndex; i >= endIndex; i--) {\n                    indicesToSelect.push(i);\n                }\n            }\n\n            if (maxSelectedItems !== null && indicesToSelect.length > maxSelectedItems) {\n                indicesToSelect = indicesToSelect.slice(0, maxSelectedItems);\n            }\n\n            for (i = 0; i < indicesToSelect.length; i++) {\n                var index = indicesToSelect[i];\n\n                if (this._getSelectedIndices().indexOf(index) == -1) {\n                    indices.push(index);\n                } else {\n                    indices.splice(indices.indexOf(index), 1);\n                }\n            }\n\n            if (!indices.length) {\n                return;\n            }\n\n            that.persistTagList = false;\n            return selectIndices(indices);\n        },\n\n        _input: function() {\n            var that = this;\n            var element = that.element;\n            var accessKey = element[0].accessKey;\n            var input = that.tagList.children(\"input.k-input-inner\");\n            var autocomplete = this.options.filter === \"none\" ? \"none\" : \"list\";\n\n            if (!input[0]) {\n                input = $('<input class=\"k-input-inner\" />').appendTo(that.tagList);\n            }\n\n            element.removeAttr(\"accesskey\");\n\n            that._focused = that.input = input.attr({\n                \"autocomplete\": AUTOCOMPLETEVALUE,\n                \"role\": \"textbox\",\n                \"title\": element[0].title,\n                \"aria-autocomplete\": autocomplete\n            });\n\n            if(accessKey) {\n                that._focused.attr(\"accesskey\", accessKey);\n            }\n        },\n\n        _tagList: function() {\n            var that = this,\n                options = that.options,\n                tagList = that.wrapper.children(\".k-input-values\");\n\n            if (!tagList[0]) {\n                tagList = $(html.renderChipList('<div unselectable=\"on\" class=\"k-input-values k-selection-multiple\" />', $.extend({}, options))).appendTo(that.wrapper);\n            }\n\n            that.tagList = tagList;\n        },\n\n        _tagTemplate: function() {\n            var that = this;\n            var options = that.options;\n            var tagTemplate = options.tagTemplate;\n            var hasDataSource = options.dataSource;\n            var isMultiple = options.tagMode === \"multiple\";\n            var singleTag = options.messages.singleTag;\n            var defaultTemplate;\n\n            if (that.element[0].length && !hasDataSource) {\n                options.dataTextField = options.dataTextField || \"text\";\n                options.dataValueField = options.dataValueField || \"value\";\n            }\n\n            defaultTemplate = isMultiple ? kendo.template(\"#:\" + kendo.expr(options.dataTextField, \"data\") + \"#\", { useWithBlock: false }) : kendo.template(\"#:values.length# \" + singleTag);\n\n            that.tagTextTemplate = tagTemplate = tagTemplate ? kendo.template(tagTemplate) : defaultTemplate;\n\n            that.tagTemplate = function(data) {\n                return html.renderChip('<span unselectable=\"on\">' +\n                    tagTemplate(data) +\n                '</span>', $.extend({}, options, {\n                        fillMode: \"solid\",\n                        rounded: \"medium\",\n                        themeColor: \"base\",\n                        attr: {\n                            unselectable: \"on\"\n                        },\n                        removable: isMultiple,\n                        removableAttr: {\n                            unselectable: \"on\",\n                            \"aria-hidden\": true,\n                            \"aria-label\": that.options.messages.deleteTag,\n                            title: that.options.messages.deleteTag\n                        },\n                        icon: !isMultiple ? \"arrow-s\" : \"\",\n                        iconAttr: {\n                            unselectable: \"on\",\n                            \"aria-hidden\": true,\n                            \"aria-label\": 'open'\n                        }\n                    })\n                );\n            };\n        },\n\n        _loader: function() {\n            this._loading = $('<span class=\"k-icon k-i-loading ' + HIDDENCLASS + '\"></span>').insertAfter(this.tagList);\n        },\n\n        _clearButton: function() {\n            List.fn._clearButton.call(this);\n\n            if (this.options.clearButton) {\n                this._clear.insertAfter(this.tagList);\n                this.wrapper.addClass(\"k-multiselect-clearable\");\n            }\n        },\n\n        _arrowButton: function() {\n            var element = this.element,\n                arrowTitle = this.options.messages.downArrow,\n                arrow = $(html.renderButton('<button type=\"button\" title=\"' + arrowTitle + '\" class=\"k-input-button k-multiselect-toggle-button\"></button>', $.extend({}, this.options, {\n                    icon: \"arrow-s\"\n                })));\n\n            if(this._arrow) {\n                this._arrow.remove();\n                this._arrow = null;\n            }\n\n            if (this.options.downArrow) {\n                this._arrow = arrow.attr({\n                    \"tabIndex\": -1\n                });\n\n                if (element.id) {\n                    this._arrow.attr(\"aria-controls\", this.ul[0].id);\n                }\n\n                this._arrow.appendTo(this.wrapper);\n            }\n        },\n\n        _textContainer: function() {\n            var computedStyles = kendo.getComputedStyles(this.input[0], styles);\n\n            computedStyles.position = \"absolute\";\n            computedStyles.visibility = \"hidden\";\n            computedStyles.top = -3333;\n            computedStyles.left = -3333;\n\n            this._span = $(\"<span/>\").css(computedStyles).appendTo(this.wrapper);\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper = element.parent(\"span.k-multiselect\");\n\n            if (!wrapper[0]) {\n                wrapper = element.wrap('<span class=\"k-multiselect k-input\" unselectable=\"on\" role=\"combobox\" />').parent();\n                wrapper[0].style.cssText = element[0].style.cssText;\n                wrapper[0].title = element[0].title;\n            }\n\n            that.wrapper = wrapper\n                            .addClass(element[0].className)\n                            .removeClass('input-validation-error').css(\"display\", \"\")\n                            .attr({\n                                \"aria-expanded\": false\n                            });\n        },\n\n        _ariaSetLive: function() {\n            var that = this;\n\n            that.ul.attr(\"aria-live\", !that._isFilterEnabled() ? \"off\" : \"polite\");\n        },\n\n        _closeHandler: function(e) {\n            if (this.trigger(CLOSE)) {\n                e.preventDefault();\n            } else {\n                this.wrapper.attr(\"aria-expanded\", false);\n                this.ul.attr(\"aria-hidden\", true);\n            }\n        },\n\n        _openHandler: function(e) {\n            this._adjustListWidth();\n\n            if (this.trigger(OPEN)) {\n                e.preventDefault();\n            } else {\n                this.wrapper.attr(\"aria-expanded\", true);\n                this.ul.attr(\"aria-hidden\", false);\n            }\n        }\n    });\n\n    function compare(a, b) {\n        var length;\n\n        if ((a === null && b !== null) || (a !== null && b === null)) {\n            return false;\n        }\n\n        length = a.length;\n        if (length !== b.length) {\n            return false;\n        }\n\n        while (length--) {\n            if (a[length] !== b[length]) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    ui.plugin(MultiSelect);\n\n    kendo.cssProperties.registerPrefix(\"MultiSelect\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"MultiSelect\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n/***********************************************************************\n * WARNING: this file is auto-generated.  If you change it directly,\n * your modifications will eventually be lost.  The source code is in\n * `kendo-drawing` repository, you should make your changes there and\n * run `src-modules/sync.sh` in this repository.\n */\n(function(f, define){\n    define('kendo.color',[ \"./kendo.core\" ], f);\n})(function(){\n\n    var __meta__ = { // jshint ignore:line\n        id: \"color\",\n        name: \"Color utils\",\n        category: \"framework\",\n        advanced: true,\n        description: \"Color utilities used across components\",\n        depends: [ \"core\" ]\n    };\n\n/*jshint eqnull:true  */\n\nwindow.kendo = window.kendo || {};\n\nvar Class = kendo.Class;\nvar support = kendo.support;\n\nvar namedColors = {\n    aliceblue: \"f0f8ff\", antiquewhite: \"faebd7\", aqua: \"00ffff\",\n    aquamarine: \"7fffd4\", azure: \"f0ffff\", beige: \"f5f5dc\",\n    bisque: \"ffe4c4\", black: \"000000\", blanchedalmond: \"ffebcd\",\n    blue: \"0000ff\", blueviolet: \"8a2be2\", brown: \"a52a2a\",\n    burlywood: \"deb887\", cadetblue: \"5f9ea0\", chartreuse: \"7fff00\",\n    chocolate: \"d2691e\", coral: \"ff7f50\", cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\", crimson: \"dc143c\", cyan: \"00ffff\",\n    darkblue: \"00008b\", darkcyan: \"008b8b\", darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\", darkgrey: \"a9a9a9\", darkgreen: \"006400\",\n    darkkhaki: \"bdb76b\", darkmagenta: \"8b008b\", darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\", darkorchid: \"9932cc\", darkred: \"8b0000\",\n    darksalmon: \"e9967a\", darkseagreen: \"8fbc8f\", darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\", darkslategrey: \"2f4f4f\", darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\", deeppink: \"ff1493\", deepskyblue: \"00bfff\",\n    dimgray: \"696969\", dimgrey: \"696969\", dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\", floralwhite: \"fffaf0\", forestgreen: \"228b22\",\n    fuchsia: \"ff00ff\", gainsboro: \"dcdcdc\", ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\", goldenrod: \"daa520\", gray: \"808080\",\n    grey: \"808080\", green: \"008000\", greenyellow: \"adff2f\",\n    honeydew: \"f0fff0\", hotpink: \"ff69b4\", indianred: \"cd5c5c\",\n    indigo: \"4b0082\", ivory: \"fffff0\", khaki: \"f0e68c\",\n    lavender: \"e6e6fa\", lavenderblush: \"fff0f5\", lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\", lightblue: \"add8e6\", lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\", lightgoldenrodyellow: \"fafad2\", lightgray: \"d3d3d3\",\n    lightgrey: \"d3d3d3\", lightgreen: \"90ee90\", lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\", lightseagreen: \"20b2aa\", lightskyblue: \"87cefa\",\n    lightslategray: \"778899\", lightslategrey: \"778899\", lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\", lime: \"00ff00\", limegreen: \"32cd32\",\n    linen: \"faf0e6\", magenta: \"ff00ff\", maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\", mediumblue: \"0000cd\", mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370d8\", mediumseagreen: \"3cb371\", mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\", mediumturquoise: \"48d1cc\", mediumvioletred: \"c71585\",\n    midnightblue: \"191970\", mintcream: \"f5fffa\", mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\", navajowhite: \"ffdead\", navy: \"000080\",\n    oldlace: \"fdf5e6\", olive: \"808000\", olivedrab: \"6b8e23\",\n    orange: \"ffa500\", orangered: \"ff4500\", orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\", palegreen: \"98fb98\", paleturquoise: \"afeeee\",\n    palevioletred: \"d87093\", papayawhip: \"ffefd5\", peachpuff: \"ffdab9\",\n    peru: \"cd853f\", pink: \"ffc0cb\", plum: \"dda0dd\",\n    powderblue: \"b0e0e6\", purple: \"800080\", red: \"ff0000\",\n    rosybrown: \"bc8f8f\", royalblue: \"4169e1\", saddlebrown: \"8b4513\",\n    salmon: \"fa8072\", sandybrown: \"f4a460\", seagreen: \"2e8b57\",\n    seashell: \"fff5ee\", sienna: \"a0522d\", silver: \"c0c0c0\",\n    skyblue: \"87ceeb\", slateblue: \"6a5acd\", slategray: \"708090\",\n    slategrey: \"708090\", snow: \"fffafa\", springgreen: \"00ff7f\",\n    steelblue: \"4682b4\", tan: \"d2b48c\", teal: \"008080\",\n    thistle: \"d8bfd8\", tomato: \"ff6347\", turquoise: \"40e0d0\",\n    violet: \"ee82ee\", wheat: \"f5deb3\", white: \"ffffff\",\n    whitesmoke: \"f5f5f5\", yellow: \"ffff00\", yellowgreen: \"9acd32\"\n};\n\nvar browser = support.browser;\n\nvar matchNamedColor = function (color) {\n    var colorNames = Object.keys(namedColors);\n    colorNames.push(\"transparent\");\n\n    var regexp = new RegExp(\"^(\" + colorNames.join(\"|\") + \")(\\\\W|$)\", \"i\");\n    matchNamedColor = function (color) { return regexp.exec(color); };\n\n    return regexp.exec(color);\n};\n\nvar BaseColor = Class.extend({\n    init: function() {  },\n\n    toHSV: function() { return this; },\n\n    toRGB: function() { return this; },\n\n    toHex: function(options) { return this.toBytes().toHex(options); },\n\n    toBytes: function() { return this; },\n\n    toCss: function(options) { return \"#\" + this.toHex(options); },\n\n    toCssRgba: function() {\n        var rgb = this.toBytes();\n        return (\"rgba(\" + (rgb.r) + \", \" + (rgb.g) + \", \" + (rgb.b) + \", \" + (parseFloat((Number(this.a)).toFixed(3))) + \")\");\n    },\n\n    toDisplay: function() {\n        if (browser.msie && browser.version < 9) {\n            return this.toCss(); // no RGBA support; does it support any opacity in colors?\n        }\n        return this.toCssRgba();\n    },\n\n    equals: function(c) {\n        return c === this || c !== null && this.toCssRgba() === parseColor(c).toCssRgba();\n    },\n\n    diff: function(other) {\n        if (other === null) {\n            return NaN;\n        }\n\n        var c1 = this.toBytes();\n        var c2 = other.toBytes();\n\n        return Math.sqrt(Math.pow((c1.r - c2.r) * 0.30, 2) +\n                         Math.pow((c1.g - c2.g) * 0.59, 2) +\n                         Math.pow((c1.b - c2.b) * 0.11, 2));\n    },\n\n    clone: function() {\n        var c = this.toBytes();\n        if (c === this) {\n            c = new Bytes(c.r, c.g, c.b, c.a);\n        }\n\n        return c;\n    }\n});\n\nvar RGB = BaseColor.extend({\n    init: function(r, g, b, a) {\n        BaseColor.fn.init.call(this);\n\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n    },\n\n    toHSV: function() {\n        var ref = this;\n        var r = ref.r;\n        var g = ref.g;\n        var b = ref.b;\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n        var delta = max - min;\n        var v = max;\n        var h, s;\n\n        if (delta === 0) {\n            return new HSV(0, 0, v, this.a);\n        }\n\n        if (max !== 0) {\n            s = delta / max;\n            if (r === max) {\n                h = (g - b) / delta;\n            } else if (g === max) {\n                h = 2 + (b - r) / delta;\n            } else {\n                h = 4 + (r - g) / delta;\n            }\n\n            h *= 60;\n            if (h < 0) {\n                h += 360;\n            }\n        } else {\n            s = 0;\n            h = -1;\n        }\n\n        return new HSV(h, s, v, this.a);\n    },\n\n    toHSL: function() {\n        var ref = this;\n        var r = ref.r;\n        var g = ref.g;\n        var b = ref.b;\n        var max = Math.max(r, g, b);\n        var min = Math.min(r, g, b);\n        var h, s, l = (max + min) / 2;\n\n        if (max === min) {\n            h = s = 0;\n        } else {\n            var d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch (max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n                default: break;\n            }\n        }\n\n        return new HSL(h * 60, s * 100, l * 100, this.a);\n    },\n\n    toBytes: function() {\n        return new Bytes(this.r * 255, this.g * 255, this.b * 255, this.a);\n    }\n});\n\nvar Bytes = RGB.extend({\n    init: function(r, g, b, a) {\n        RGB.fn.init.call(this, Math.round(r), Math.round(g), Math.round(b), a);\n    },\n\n    toRGB: function() {\n        return new RGB(this.r / 255, this.g / 255, this.b / 255, this.a);\n    },\n\n    toHSV: function() {\n        return this.toRGB().toHSV();\n    },\n\n    toHSL: function() {\n        return this.toRGB().toHSL();\n    },\n\n    toHex: function(options) {\n        var value = hex(this.r, 2) + hex(this.g, 2) + hex(this.b, 2);\n\n        if (options && options.alpha) {\n            value += hex(Math.round(this.a * 255), 2);\n        }\n\n        return value;\n    },\n\n    toBytes: function() {\n        return this;\n    }\n});\n\nfunction hex(n, width, pad) {\n    if (pad === void 0) { pad = \"0\"; }\n\n    var result = n.toString(16);\n    while (width > result.length) {\n        result = pad + result;\n    }\n\n    return result;\n}\n\nvar HSV = BaseColor.extend({\n    init: function(h, s, v, a) {\n        BaseColor.fn.init.call(this);\n\n        this.h = h;\n        this.s = s;\n        this.v = v;\n        this.a = a;\n    },\n\n    toRGB: function() {\n        var ref = this;\n        var h = ref.h;\n        var s = ref.s;\n        var v = ref.v;\n        var r, g, b;\n\n        if (s === 0) {\n            r = g = b = v;\n        } else {\n            h /= 60;\n\n            var i = Math.floor(h);\n            var f = h - i;\n            var p = v * (1 - s);\n            var q = v * (1 - s * f);\n            var t = v * (1 - s * (1 - f));\n\n            switch (i) {\n                case 0: r = v; g = t; b = p; break;\n                case 1: r = q; g = v; b = p; break;\n                case 2: r = p; g = v; b = t; break;\n                case 3: r = p; g = q; b = v; break;\n                case 4: r = t; g = p; b = v; break;\n                default: r = v; g = p; b = q; break;\n            }\n        }\n\n        return new RGB(r, g, b, this.a);\n    },\n\n    toHSL: function() {\n        return this.toRGB().toHSL();\n    },\n\n    toBytes: function() {\n        return this.toRGB().toBytes();\n    }\n});\n\nvar HSL = BaseColor.extend({\n    init: function(h, s, l, a) {\n        BaseColor.fn.init.call(this);\n\n        this.h = h;\n        this.s = s;\n        this.l = l;\n        this.a = a;\n    },\n\n    toRGB: function() {\n        var h = this.h / 360;\n        var s = this.s / 100;\n        var l = this.l / 100;\n        var r, g, b;\n\n        if (s === 0) {\n            r = g = b = l; // achromatic\n        } else {\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            var p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1 / 3);\n            g = hue2rgb(p, q, h);\n            b = hue2rgb(p, q, h - 1 / 3);\n        }\n\n        return new RGB(r, g, b, this.a);\n    },\n\n    toHSV: function() {\n        return this.toRGB().toHSV();\n    },\n\n    toBytes: function() {\n        return this.toRGB().toBytes();\n    }\n});\n\nfunction hue2rgb(p, q, s) {\n    var t = s;\n\n    if (t < 0) {\n        t += 1;\n    }\n\n    if (t > 1) {\n        t -= 1;\n    }\n\n    if (t < 1 / 6) {\n        return p + (q - p) * 6 * t;\n    }\n\n    if (t < 1 / 2) {\n        return q;\n    }\n\n    if (t < 2 / 3) {\n        return p + (q - p) * (2 / 3 - t) * 6;\n    }\n\n    return p;\n}\n\nfunction alphaFromHex(a) {\n    return parseFloat(parseFloat(parseInt(a, 16) / 255 ).toFixed(3));\n}\n\nfunction parseColor(value, safe) {\n    var m, ret;\n\n    if (value == null || value === \"none\") {\n        return null;\n    }\n\n    if (value instanceof BaseColor) {\n        return value;\n    }\n\n    var color = value.toLowerCase();\n    if ((m = matchNamedColor(color))) {\n        if (m[1] === \"transparent\") {\n            color = new RGB(1, 1, 1, 0);\n        } else {\n            color = parseColor(namedColors[m[1]], safe);\n        }\n        color.match = [ m[1] ];\n        return color;\n    }\n    if ((m = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\\b/i.exec(color))) {\n        ret = new Bytes(parseInt(m[1], 16),\n                        parseInt(m[2], 16),\n                        parseInt(m[3], 16), 1);\n    } else if ((m = /^#?([0-9a-f])([0-9a-f])([0-9a-f])\\b/i.exec(color))) {\n        ret = new Bytes(parseInt(m[1] + m[1], 16),\n                        parseInt(m[2] + m[2], 16),\n                        parseInt(m[3] + m[3], 16), 1);\n    } else if ((m = /^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\\b/i.exec(color))) { // Parse 4 digit hex color\n        ret = new Bytes(parseInt(m[1] + m[1], 16),\n                        parseInt(m[2] + m[2], 16),\n                        parseInt(m[3] + m[3], 16),\n                        alphaFromHex(m[4] + m[4]));\n    } else if ((m = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\\b/i.exec(color))) { // Parse 8 digit hex color\n        ret = new Bytes(parseInt(m[1], 16),\n                        parseInt(m[2], 16),\n                        parseInt(m[3], 16),\n                        alphaFromHex(m[4]));\n    } else if ((m = /^rgb\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/.exec(color))) {\n        ret = new Bytes(parseInt(m[1], 10),\n                        parseInt(m[2], 10),\n                        parseInt(m[3], 10), 1);\n    } else if ((m = /^rgba\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9.]+)\\s*\\)/.exec(color))) {\n        ret = new Bytes(parseInt(m[1], 10),\n                        parseInt(m[2], 10),\n                        parseInt(m[3], 10), parseFloat(m[4]));\n    } else if ((m = /^rgb\\(\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*\\)/.exec(color))) {\n        ret = new RGB(parseFloat(m[1]) / 100,\n                      parseFloat(m[2]) / 100,\n                      parseFloat(m[3]) / 100, 1);\n    } else if ((m = /^rgba\\(\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9.]+)\\s*\\)/.exec(color))) {\n        ret = new RGB(parseFloat(m[1]) / 100,\n                      parseFloat(m[2]) / 100,\n                      parseFloat(m[3]) / 100, parseFloat(m[4]));\n    }\n\n    if (ret) {\n        ret.match = m;\n    } else if (!safe) {\n        throw new Error(\"Cannot parse color: \" + color);\n    }\n\n    return ret;\n}\n\nvar DARK_TRESHOLD = 180;\n\nvar Color = Class.extend({\n    init: function(value) {\n        var this$1 = this;\n\n        if (arguments.length === 1) {\n            var formats = Color.formats;\n            var resolvedColor = this.resolveColor(value);\n\n            for (var idx = 0; idx < formats.length; idx++) {\n                var formatRegex = formats[idx].re;\n                var processor = formats[idx].process;\n                var parts = formatRegex.exec(resolvedColor);\n\n                if (parts) {\n                    var channels = processor(parts);\n                    this$1.r = channels[0];\n                    this$1.g = channels[1];\n                    this$1.b = channels[2];\n                }\n            }\n        } else {\n            this.r = arguments[0];\n            this.g = arguments[1];\n            this.b = arguments[2];\n        }\n\n        this.r = this.normalizeByte(this.r);\n        this.g = this.normalizeByte(this.g);\n        this.b = this.normalizeByte(this.b);\n    },\n\n    toHex: function() {\n        var pad = this.padDigit;\n        var r = this.r.toString(16);\n        var g = this.g.toString(16);\n        var b = this.b.toString(16);\n\n        return \"#\" + pad(r) + pad(g) + pad(b);\n    },\n\n    resolveColor: function(value) {\n        var color = value || \"black\";\n\n        if (color.charAt(0) === \"#\") {\n            color = color.substr(1, 6);\n        }\n\n        color = color.replace(/ /g, \"\");\n        color = color.toLowerCase();\n        color = Color.namedColors[color] || color;\n\n        return color;\n    },\n\n    normalizeByte: function(value) {\n        if (value < 0 || isNaN(value)) {\n            return 0;\n        }\n\n        return value > 255 ? 255 : value;\n    },\n\n    padDigit: function(value) {\n        return (value.length === 1) ? \"0\" + value : value;\n    },\n\n    brightness: function(value) {\n        var round = Math.round;\n\n        this.r = round(this.normalizeByte(this.r * value));\n        this.g = round(this.normalizeByte(this.g * value));\n        this.b = round(this.normalizeByte(this.b * value));\n\n        return this;\n    },\n\n    percBrightness: function() {\n        return Math.sqrt(0.241 * this.r * this.r + 0.691 * this.g * this.g + 0.068 * this.b * this.b);\n    },\n\n    isDark: function() {\n        return this.percBrightness() < DARK_TRESHOLD;\n    }\n});\n\nColor.fromBytes = function(r, g, b, a) {\n    return new Bytes(r, g, b, a != null ? a : 1);\n};\n\nColor.fromRGB = function(r, g, b, a) {\n    return new RGB(r, g, b, a != null ? a : 1);\n};\n\nColor.fromHSV = function(h, s, v, a) {\n    return new HSV(h, s, v, a != null ? a : 1);\n};\n\nColor.fromHSL = function(h, s, l, a) {\n    return new HSL(h, s, l, a != null ? a : 1);\n};\n\nColor.formats = [ {\n    re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n    process: function(parts) {\n        return [\n            parseInt(parts[1], 10), parseInt(parts[2], 10), parseInt(parts[3], 10)\n        ];\n    }\n}, {\n    re: /^(\\w{2})(\\w{2})(\\w{2})$/,\n    process: function(parts) {\n        return [\n            parseInt(parts[1], 16), parseInt(parts[2], 16), parseInt(parts[3], 16)\n        ];\n    }\n}, {\n    re: /^(\\w{1})(\\w{1})(\\w{1})$/,\n    process: function(parts) {\n        return [\n            parseInt(parts[1] + parts[1], 16),\n            parseInt(parts[2] + parts[2], 16),\n            parseInt(parts[3] + parts[3], 16)\n        ];\n    }\n} ];\n\nColor.namedColors = namedColors;\n\nkendo.deepExtend(kendo, {\n    parseColor: parseColor,\n    namedColors: namedColors,\n    Color: Color\n});\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define) {\n    define('kendo.slider',[ \"./kendo.draganddrop\" ], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"slider\",\n    name: \"Slider\",\n    category: \"web\",\n    description: \"The Slider widget provides a rich input for selecting values or ranges of values.\",\n    depends: [ \"draganddrop\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        Draggable = kendo.ui.Draggable,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        extend = $.extend,\n        format = kendo.format,\n        parse = kendo.parseFloat,\n        proxy = $.proxy,\n        isArray = Array.isArray,\n        math = Math,\n        support = kendo.support,\n        pointers = support.pointers,\n        msPointers = support.msPointers,\n        CHANGE = \"change\",\n        SLIDE = \"slide\",\n        NS = \".slider\",\n        MOUSE_DOWN = \"touchstart\" + NS + \" mousedown\" + NS,\n        TRACK_MOUSE_DOWN = pointers ? \"pointerdown\" + NS : (msPointers ? \"MSPointerDown\" + NS : MOUSE_DOWN),\n        MOUSE_UP = \"touchend\" + NS + \" mouseup\" + NS,\n        TRACK_MOUSE_UP = pointers ? \"pointerup\" : (msPointers ? \"MSPointerUp\" + NS : MOUSE_UP),\n        MOVE_SELECTION = \"moveSelection\",\n        KEY_DOWN = \"keydown\" + NS,\n        CLICK = \"click\" + NS,\n        MOUSE_OVER = \"mouseover\" + NS,\n        FOCUS = \"focus\" + NS,\n        BLUR = \"blur\" + NS,\n        DRAG_HANDLE = \".k-draghandle\",\n        TRACK_SELECTOR = \".k-slider-track\",\n        TICK_SELECTOR = \".k-tick\",\n        STATE_SELECTED = \"k-state-selected\",\n        STATE_FOCUSED = \"k-state-focused\",\n        STATE_DISABLED = \"k-state-disabled\",\n        DISABLED = \"disabled\",\n        UNDEFINED = \"undefined\",\n        TABINDEX = \"tabindex\",\n        getTouches = kendo.getTouches,\n\n        ARIA_VALUETEXT = \"aria-valuetext\",\n        ARIA_VALUENOW = \"aria-valuenow\";\n\n    var SliderBase = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n            that._isHorizontal = options.orientation == \"horizontal\";\n            that._isRtl = that._isHorizontal && kendo.support.isRtl(element);\n            that._position = that._isHorizontal ? \"left\" : \"bottom\";\n            that._sizeFn = that._isHorizontal ? \"width\" : \"height\";\n            that._outerSize = that._isHorizontal ? outerWidth : outerHeight;\n\n            options.tooltip.format = options.tooltip.enabled ? options.tooltip.format || \"{0}\" : \"{0}\";\n\n            if (options.smallStep <= 0) {\n                throw new Error('Kendo UI Slider smallStep must be a positive number.');\n            }\n\n            that._createHtml();\n            that._trackDiv = that.wrapper.find(TRACK_SELECTOR);\n\n            that._maxSelection = that._trackDiv[that._sizeFn]();\n\n            that._sliderItemsInit();\n\n            that._reset();\n\n            that._tabindex(that.wrapper.find(DRAG_HANDLE));\n            that[options.enabled ? \"enable\" : \"disable\"]();\n\n            var rtlDirectionSign = kendo.support.isRtl(that.wrapper) ? -1 : 1;\n\n            that._keyMap = {\n                37: step(-1 * rtlDirectionSign * options.smallStep), // left arrow\n                40: step(-options.smallStep), // down arrow\n                39: step(+1 * rtlDirectionSign * options.smallStep), // right arrow\n                38: step(+options.smallStep), // up arrow\n                35: setValue(options.max), // end\n                36: setValue(options.min), // home\n                33: step(+options.largeStep), // page up\n                34: step(-options.largeStep) // page down\n            };\n\n            kendo.notify(that);\n        },\n\n        events: [\n            CHANGE,\n            SLIDE\n        ],\n\n        options: {\n            enabled: true,\n            min: 0,\n            max: 10,\n            smallStep: 1,\n            largeStep: 5,\n            orientation: \"horizontal\",\n            tickPlacement: \"both\",\n            tooltip: { enabled: true, format: \"{0}\" }\n        },\n\n        _distance: function() {\n            return round(this.options.max - this.options.min);\n        },\n\n        _resize: function() {\n            this.wrapper.find(\".k-slider-items\").remove();\n\n            this._maxSelection = this._trackDiv[this._sizeFn]();\n            this._sliderItemsInit();\n            this._refresh();\n\n            if (this.options.enabled) {\n                this.enable(true);\n            }\n        },\n\n        _sliderItemsInit: function() {\n            var that = this,\n                options = that.options;\n\n            // [Backwards compatibilty]: maxSelection is reduced with 2 to compensate new styling and preserve automatic calculation to not show ticks.\n            var sizeBetweenTicks = (that._maxSelection - 2)/ ((options.max - options.min) / options.smallStep);\n\n            var pixelWidths = that._calculateItemsWidth(math.floor(removeFraction(that._distance()) / removeFraction(options.smallStep)));\n\n            if (options.tickPlacement != \"none\" && sizeBetweenTicks >= 2) {\n                $(this.element).parent().find(\".k-slider-items\").remove();\n                that._trackDiv.before(createSliderItems(options, that._distance()));\n                that._setItemsTitle();\n            }\n\n            that._calculateSteps(pixelWidths);\n\n            if (options.tickPlacement != \"none\" && sizeBetweenTicks >= 2 &&\n                options.largeStep >= options.smallStep) {\n                that._setItemsLargeTick();\n                that.wrapper.find(TICK_SELECTOR).first().addClass(\"k-first\");\n                that.wrapper.find(TICK_SELECTOR).last().addClass(\"k-last\");\n            }\n        },\n\n        getSize: function() {\n            return kendo.dimensions(this.wrapper);\n        },\n\n        _setItemsTitle: function() {\n            var that = this,\n                options = that.options,\n                items = that.wrapper.find(TICK_SELECTOR),\n                titleNumber = options.min,\n                count = items.length;\n\n            for (var i = 0; i <= count; i += 1) {\n                $(items[i]).attr(\"title\", format(options.tooltip.format, round(titleNumber)));\n                titleNumber += options.smallStep;\n            }\n        },\n\n        _setItemsLargeTick: function() {\n            var that = this,\n                options = that.options,\n                items = that.wrapper.find(TICK_SELECTOR),\n                i = 0, item, value;\n\n            if (removeFraction(options.largeStep) % removeFraction(options.smallStep) === 0 || that._distance() / options.largeStep >= 3) {\n                if (!that._isHorizontal && !that._isRtl) {\n                    items = $.makeArray(items).reverse();\n                }\n\n                for (i = 0; i < items.length; i++) {\n                    item = $(items[i]);\n                    value = that._values[i];\n                    var valueWithoutFraction = round(removeFraction(value - this.options.min));\n                    if (valueWithoutFraction % removeFraction(options.smallStep) === 0 && valueWithoutFraction % removeFraction(options.largeStep) === 0) {\n                        item.addClass(\"k-tick-large\")\n                            .html(\"<span class='k-label'>\" + item.attr(\"title\") + \"</span>\");\n\n                        if (i !== 0 && i !== items.length - 1) {\n                            item.css(\"line-height\", item[that._sizeFn]() + \"px\");\n                        }\n                    }\n                }\n            }\n        },\n\n        _calculateItemsWidth: function(itemsCount) {\n            var that = this,\n                options = that.options,\n                trackDivSize = parseFloat(that._trackDiv.css(that._sizeFn)) + 1,\n                distance = that._distance(),\n                preciseItemsCount = removeFraction(distance) / removeFraction(options.smallStep),\n                pixelStep = trackDivSize / removeFraction(distance),\n                itemWidth,\n                pixelWidths,\n                i;\n\n            if (preciseItemsCount - itemsCount > 0) {\n                trackDivSize -= ((removeFraction(distance) % removeFraction(options.smallStep)) * pixelStep);\n            }\n\n            itemWidth = trackDivSize / itemsCount;\n            pixelWidths = [];\n\n            for (i = 0; i < itemsCount - 1; i++) {\n                pixelWidths[i] = itemWidth;\n            }\n\n            pixelWidths[itemsCount - 1] = pixelWidths[itemsCount] = itemWidth / 2;\n            return that._roundWidths(pixelWidths);\n        },\n\n        _roundWidths: function(pixelWidthsArray) {\n            var balance = 0,\n                count = pixelWidthsArray.length,\n                i;\n\n            for (i = 0; i < count; i++) {\n                balance += (pixelWidthsArray[i] - math.floor(pixelWidthsArray[i]));\n                pixelWidthsArray[i] = math.floor(pixelWidthsArray[i]);\n            }\n\n            balance = math.round(balance);\n\n            return this._addAdditionalSize(balance, pixelWidthsArray);\n        },\n\n        _addAdditionalSize: function(additionalSize, pixelWidthsArray) {\n            if (additionalSize === 0) {\n                return pixelWidthsArray;\n            }\n\n            //set step size\n            var step = parseFloat(pixelWidthsArray.length - 1) / parseFloat(additionalSize == 1 ? additionalSize : additionalSize - 1),\n                i;\n\n            for (i = 0; i < additionalSize; i++) {\n                pixelWidthsArray[parseInt(math.round(step * i), 10)] += 1;\n            }\n\n            return pixelWidthsArray;\n        },\n\n        _calculateSteps: function(pixelWidths) {\n            var that = this,\n                options = that.options,\n                val = options.min,\n                selection = 0,\n                distance = that._distance(),\n                itemsCount = math.ceil(removeFraction(distance) / removeFraction(options.smallStep)),\n                i = 1,\n                lastItem;\n\n            itemsCount += (removeFraction(distance) / removeFraction(options.smallStep)) % 1 === 0 ? 1 : 0;\n            pixelWidths.splice(0, 0, pixelWidths[itemsCount - 2] * 2);\n            pixelWidths.splice(itemsCount - 1, 1, pixelWidths.pop() * 2);\n\n            that._pixelSteps = [selection];\n            that._values = [val];\n\n            if (itemsCount === 0) {\n                return;\n            }\n\n            while (i < itemsCount) {\n                selection += (pixelWidths[i - 1] + pixelWidths[i]) / 2;\n                that._pixelSteps[i] = selection;\n                val += options.smallStep;\n                that._values[i] = round(val);\n\n                i++;\n            }\n\n            lastItem = (removeFraction(distance) % removeFraction(options.smallStep)) === 0 ? itemsCount - 1 : itemsCount;\n\n            that._pixelSteps[lastItem] = that._maxSelection;\n            that._values[lastItem] = options.max;\n\n            if (that._isRtl) {\n                that._pixelSteps.reverse();\n                that._values.reverse();\n            }\n        },\n\n        _getValueFromPosition: function(mousePosition, draggableArea) {\n            var that = this,\n                options = that.options,\n                step = math.max(options.smallStep * (that._maxSelection / that._distance()), 0),\n                position = 0,\n                halfStep = (step / 2),\n                i;\n\n            if (that._isHorizontal) {\n                position = mousePosition - draggableArea.startPoint;\n                if (that._isRtl) {\n                    position = that._maxSelection - position;\n                }\n            } else {\n                position = draggableArea.startPoint - mousePosition;\n            }\n\n            if (that._maxSelection - ((parseInt(that._maxSelection % step, 10) - 3) / 2) < position) {\n                return options.max;\n            }\n\n            for (i = 0; i < that._pixelSteps.length; i++) {\n                if (math.abs(that._pixelSteps[i] - position) - 1 <= halfStep) {\n                    return round(that._values[i]);\n                }\n            }\n        },\n\n        _getFormattedValue: function(val, drag) {\n            var that = this,\n                html = \"\",\n                tooltip = that.options.tooltip,\n                tooltipTemplate,\n                selectionStart,\n                selectionEnd;\n\n            if (isArray(val)) {\n                selectionStart = val[0];\n                selectionEnd = val[1];\n            } else if (drag && drag.type) {\n                selectionStart = drag.selectionStart;\n                selectionEnd = drag.selectionEnd;\n            }\n\n            if (drag) {\n                tooltipTemplate = drag.tooltipTemplate;\n            }\n\n            if (!tooltipTemplate && tooltip.template) {\n                tooltipTemplate = kendo.template(tooltip.template);\n            }\n\n            if (isArray(val) || (drag && drag.type)) {\n\n                if (tooltipTemplate) {\n                    html = tooltipTemplate({\n                        selectionStart: selectionStart,\n                        selectionEnd: selectionEnd\n                    });\n                } else {\n                    selectionStart = format(tooltip.format, selectionStart);\n                    selectionEnd = format(tooltip.format, selectionEnd);\n                    html = selectionStart + \" - \" + selectionEnd;\n                }\n            } else {\n                if (drag) {\n                    drag.val = val;\n                }\n\n                if (tooltipTemplate) {\n                    html = tooltipTemplate({\n                        value: val\n                    });\n                } else {\n                    html = format(tooltip.format, val);\n                }\n            }\n            return html;\n        },\n\n        _getDraggableArea: function() {\n            var that = this,\n                offset = kendo.getOffset(that._trackDiv);\n\n            return {\n                startPoint: that._isHorizontal ? offset.left : offset.top + that._maxSelection,\n                endPoint: that._isHorizontal ? offset.left + that._maxSelection : offset.top\n            };\n        },\n\n        _createHtml: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                inputs = element.find(\"input\");\n\n            if (inputs.length == 2) {\n                inputs.eq(0).prop(\"value\", formatValue(options.selectionStart));\n                inputs.eq(1).prop(\"value\", formatValue(options.selectionEnd));\n            } else {\n                element.prop(\"value\", formatValue(options.value));\n            }\n\n            that.wrapper = element.wrap(createWrapper(options, element, that._isHorizontal)).hide().parents(\".k-slider\");\n\n            if (options.showButtons) {\n                that.wrapper.find(\".k-slider-track-wrap\")\n                       .after(createButton(options, \"increase\", that._isHorizontal, that._isRtl))\n                       .before(createButton(options, \"decrease\", that._isHorizontal, that._isRtl));\n            }\n\n            element.before(createTrack(options, element, that._isHorizontal));\n        },\n\n        _focus: function(e) {\n            var that = this,\n                target = e.target,\n                val = that.value(),\n                drag = that._drag;\n\n            if (!drag) {\n                if (target == that.wrapper.find(DRAG_HANDLE).eq(0)[0]) {\n                    drag = that._firstHandleDrag;\n                    that._activeHandle = 0;\n                } else {\n                    drag = that._lastHandleDrag;\n                    that._activeHandle = 1;\n                }\n                val = val[that._activeHandle];\n            }\n\n            $(target).addClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n\n            if (drag) {\n                that._activeHandleDrag = drag;\n\n                drag.selectionStart = that.options.selectionStart;\n                drag.selectionEnd = that.options.selectionEnd;\n\n                drag._updateTooltip(val);\n            }\n        },\n\n        _focusWithMouse: function(target) {\n            target = $(target);\n\n            var that = this,\n                idx = target.is(DRAG_HANDLE) ? target.index() : 0;\n\n            window.setTimeout(function() {\n                that.wrapper.find(DRAG_HANDLE)[idx == 2 ? 1 : 0].focus();\n            }, 1);\n\n            that._setTooltipTimeout();\n        },\n\n        _blur: function(e) {\n            var that = this,\n                drag = that._activeHandleDrag;\n\n            $(e.target).removeClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n\n            if (drag) {\n                drag._removeTooltip();\n                delete that._activeHandleDrag;\n                delete that._activeHandle;\n            }\n        },\n\n        _setTooltipTimeout: function() {\n            var that = this;\n            that._tooltipTimeout = window.setTimeout(function() {\n                var drag = that._drag || that._activeHandleDrag;\n                if (drag) {\n                    drag._removeTooltip();\n                }\n            }, 300);\n        },\n\n        _clearTooltipTimeout: function() {\n            var that = this;\n            window.clearTimeout(this._tooltipTimeout);\n            var drag = that._drag || that._activeHandleDrag;\n            if (drag && drag.tooltipDiv) {\n                drag.tooltipDiv.stop(true, false).css(\"opacity\", 1);\n            }\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._form = form.on(\"reset\", proxy(that._formResetHandler, that));\n            }\n        },\n\n        min: function(value) {\n            if (!value) {\n                return this.options.min;\n            }\n            this.setOptions({ \"min\": value });\n        },\n\n        max: function(value) {\n            if (!value) {\n                return this.options.max;\n            }\n            this.setOptions({ \"max\": value });\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n            this._sliderItemsInit();\n            this._refresh();\n        },\n\n        destroy: function() {\n            if (this._form) {\n                this._form.off(\"reset\", this._formResetHandler);\n            }\n            Widget.fn.destroy.call(this);\n        }\n    });\n\n    function createWrapper(options, element, isHorizontal) {\n        var orientationCssClass = isHorizontal ? \" k-slider-horizontal\" : \" k-slider-vertical\",\n            style = options.style ? options.style : element.attr(\"style\"),\n            cssClasses = element.attr(\"class\") ? (\" \" + element.attr(\"class\")) : \"\",\n            tickPlacementCssClass = \"\";\n\n        if (options.tickPlacement == \"bottomRight\") {\n            tickPlacementCssClass = \" k-slider-bottomright\";\n        } else if (options.tickPlacement == \"topLeft\") {\n            tickPlacementCssClass = \" k-slider-topleft\";\n        }\n\n        style = style ? \" style='\" + style + \"'\" : \"\";\n\n        return \"<div class='k-widget k-slider\" + orientationCssClass + cssClasses + \"'\" + style + \">\" +\n               \"<div class='k-slider-track-wrap\" + tickPlacementCssClass +\n               \"'></div></div>\";\n    }\n\n    function createButton(options, type, isHorizontal) {\n        var buttonCssClass = \"\";\n\n        if (isHorizontal) {\n            if (type === \"increase\") {\n                buttonCssClass = \"k-i-arrow-e\";\n            } else {\n                buttonCssClass = \"k-i-arrow-w\";\n            }\n        } else {\n            if (type == \"increase\") {\n                buttonCssClass = \"k-i-arrow-n\";\n            } else {\n                buttonCssClass = \"k-i-arrow-s\";\n            }\n        }\n\n        return \"<a role='button' class='k-button k-button-md k-rounded-full k-button-solid k-button-solid-base k-icon-button k-button-\" + type + \"' \" +\n                \"title='\" + options[type + \"ButtonTitle\"] + \"' \" +\n                \"aria-label='\" + options[type + \"ButtonTitle\"] + \"'>\" +\n                \"<span class='k-button-icon k-icon \" + buttonCssClass + \"'></span></a>\";\n    }\n\n    function createSliderItems(options, distance) {\n        var result = \"<ul class='k-reset k-slider-items' role='presentation'>\",\n            count = math.floor(round(distance / options.smallStep)) + 1,\n            i;\n\n        for (i = 0; i < count; i++) {\n            result += \"<li class='k-tick'></li>\";\n        }\n\n        result += \"</ul>\";\n\n        return result;\n    }\n\n    function createTrack(options, element, isHorizontal) {\n        var dragHandleCount = element.is(\"input\") ? 1 : 2,\n            firstDragHandleTitle = dragHandleCount == 2 ? options.leftDragHandleTitle : options.dragHandleTitle,\n            value = options.value,\n            min = options.selectionStart,\n            max = options.selectionEnd,\n            elementValue, minElementValue, maxElementValue;\n\n        if (dragHandleCount === 1) {\n            elementValue = element.val();\n\n            if (elementValue !== null && elementValue !== undefined && elementValue !== 'null') {\n                if (value === null || value === undefined) {\n                    value = elementValue;\n                }\n            }\n        } else {\n            minElementValue = element.find(\"input\").eq(0).val();\n            maxElementValue = element.find(\"input\").eq(1).val();\n\n            if (minElementValue !== null && minElementValue !== undefined && minElementValue !== 'null') {\n                if (min === null || min === undefined) {\n                    min = minElementValue;\n                }\n            }\n\n            if (maxElementValue !== null && maxElementValue !== undefined && maxElementValue !== 'null') {\n                if (max === null || max === undefined) {\n                    max = maxElementValue;\n                }\n            }\n        }\n\n        var result = \"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div>\" +\n               \"<span tabindex='0' class='k-draghandle' title='\" + firstDragHandleTitle + \"' role='slider' \" +\n               (isHorizontal === false ? \"aria-orientation='vertical' \" : \"\") +\n               \"aria-valuemin='\" + options.min + \"' aria-valuemax='\" + options.max + \"' aria-valuenow='\" + (dragHandleCount > 1 ? (min || options.min) : value || options.min) + \"'></span>\" +\n               (dragHandleCount > 1 ? \"<span tabindex='0' class='k-draghandle' title='\" + options.rightDragHandleTitle + \"'role='slider' \" +\n               (isHorizontal === false ? \"aria-orientation='vertical' \" : \"\") +\n               \"aria-valuemin='\" + options.min + \"' aria-valuemax='\" + options.max + \"' aria-valuenow='\" + (max || options.max) + \"'></span>\" : \"\") +\n               \"</div>\";\n\n        return result;\n    }\n\n    function step(stepValue) {\n        return function(value) {\n            return value + stepValue;\n        };\n    }\n\n    function setValue(value) {\n        return function() {\n            return value;\n        };\n    }\n\n    function formatValue(value) {\n        return (value + \"\").replace(\".\", kendo.cultures.current.numberFormat[\".\"]);\n    }\n\n    function calculatePrecision(value) {\n        var number = value.toString();\n        var precision = 0;\n\n        number = number.split(\".\");\n\n        if (number[1]) {\n            precision = number[1].length;\n        }\n\n        precision = precision > 10 ? 10 : precision;\n        return precision;\n    }\n\n    function round(value) {\n        var precision, power;\n\n        value = parseFloat(value, 10);\n        precision = calculatePrecision(value);\n        power = math.pow(10, precision || 0);\n\n        return math.round(value * power) / power;\n    }\n\n    function parseAttr(element, name) {\n        var value = parse(element.getAttribute(name));\n        if (value === null) {\n            value = undefined;\n        }\n        return value;\n    }\n\n    function defined(value) {\n        return typeof value !== UNDEFINED;\n    }\n\n    function removeFraction(value) {\n        return value * 10000;\n    }\n\n    var Slider = SliderBase.extend({\n        init: function(element, options) {\n            var that = this,\n                dragHandle;\n\n            element.type = \"text\";\n            options = extend({}, {\n                value: parseAttr(element, \"value\"),\n                min: parseAttr(element, \"min\"),\n                max: parseAttr(element, \"max\"),\n                smallStep: parseAttr(element, \"step\")\n            }, options);\n\n            element = $(element);\n\n            if (options && options.enabled === undefined) {\n                options.enabled = !element.is(\"[disabled]\");\n            }\n\n            SliderBase.fn.init.call(that, element, options);\n            options = that.options;\n            if (!defined(options.value) || options.value === null) {\n                options.value = options.min;\n                element.prop(\"value\", formatValue(options.min));\n            }\n            options.value = math.max(math.min(options.value, options.max), options.min);\n\n            dragHandle = that.wrapper.find(DRAG_HANDLE);\n\n            that._selection = new Slider.Selection(dragHandle, that, options);\n            that._drag = new Slider.Drag(dragHandle, \"\", that, options);\n\n            that._refreshAriaAttr(options.value);\n        },\n\n        options: {\n            name: \"Slider\",\n            showButtons: true,\n            increaseButtonTitle: \"Increase\",\n            decreaseButtonTitle: \"Decrease\",\n            dragHandleTitle: \"drag\",\n            tooltip: { format: \"{0:#,#.##}\" },\n            value: null\n        },\n\n        enable: function(enable) {\n            var that = this,\n                options = that.options,\n                clickHandler,\n                move;\n\n            that.disable();\n            if (enable === false) {\n                return;\n            }\n\n            that.wrapper\n                .removeClass(STATE_DISABLED);\n\n            that.wrapper.find(\"input\").prop(DISABLED, false);\n\n            clickHandler = function(e) {\n                var touch = getTouches(e)[0];\n\n                if (!touch) {\n                    return;\n                }\n\n                var mousePosition = that._isHorizontal ? touch.location.pageX : touch.location.pageY,\n                    draggableArea = that._getDraggableArea(),\n                    target = $(e.target);\n\n                if (target.hasClass(\"k-draghandle\")) {\n                    target.addClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n                    return;\n                }\n\n                that._update(that._getValueFromPosition(mousePosition, draggableArea));\n\n                that._focusWithMouse(e.target);\n\n                that._drag.dragstart(e);\n                e.preventDefault();\n            };\n\n            that.wrapper\n                .find(TICK_SELECTOR + \", \" + TRACK_SELECTOR)\n                    .on(TRACK_MOUSE_DOWN, clickHandler)\n                    .end()\n                    .on(TRACK_MOUSE_DOWN, function() {\n                        $(document.documentElement).one(\"selectstart\", kendo.preventDefault);\n                    })\n                    .on(TRACK_MOUSE_UP, function() {\n                        that._drag._end();\n                    });\n\n            that.wrapper\n                .find(DRAG_HANDLE)\n                .attr(TABINDEX, 0)\n                .on(MOUSE_UP, function() {\n                    that._setTooltipTimeout();\n                })\n                .on(CLICK, function(e) {\n                    that._focusWithMouse(e.target);\n                    e.preventDefault();\n                })\n                .on(FOCUS, proxy(that._focus, that))\n                .on(BLUR, proxy(that._blur, that));\n\n            move = proxy(function(sign) {\n                var newVal = that._nextValueByIndex(that._valueIndex + (sign * 1));\n                that._setValueInRange(newVal);\n                that._drag._updateTooltip(newVal);\n            }, that);\n\n            if (options.showButtons) {\n                var mouseDownHandler = proxy(function(e, sign) {\n                    this._clearTooltipTimeout();\n                    if (e.which === 1 || (support.touch && e.which === 0)) {\n                        move(sign);\n\n                        this.timeout = setTimeout(proxy(function() {\n                            this.timer = setInterval(function() {\n                                move(sign);\n                            }, 60);\n                        }, this), 200);\n                    }\n                }, that);\n\n                that.wrapper.find(\".k-button\")\n                    .on(MOUSE_UP, proxy(function(e) {\n                        this._clearTimer();\n                        that._focusWithMouse(e.target);\n                    }, that))\n                    .on(MOUSE_OVER, function(e) {\n                        $(e.currentTarget).addClass(\"k-state-hover\");\n                    })\n                    .on(\"mouseout\" + NS, proxy(function(e) {\n                        $(e.currentTarget).removeClass(\"k-state-hover\");\n                        this._clearTimer();\n                    }, that))\n                    .on(MOUSE_DOWN, proxy(function(e) {\n                        var sign = $(e.target).closest(\".k-button\").is(\".k-button-increase\") ? 1 : -1;\n                        mouseDownHandler(e, sign);\n                    }, that))\n                    .on(\"click\", kendo.preventDefault);\n            }\n\n            that.wrapper\n                .find(DRAG_HANDLE)\n                .off(KEY_DOWN, false)\n                .on(KEY_DOWN, proxy(this._keydown, that));\n\n            options.enabled = true;\n        },\n\n        disable: function() {\n            var that = this;\n\n            that.wrapper\n                .addClass(STATE_DISABLED);\n\n            $(that.element).prop(DISABLED, DISABLED);\n\n            that.wrapper\n                .find(\".k-button\")\n                .off(MOUSE_DOWN)\n                .on(MOUSE_DOWN, function(e) {\n                    e.preventDefault();\n                    $(this).addClass(\"k-state-active\");\n                })\n                .off(MOUSE_UP)\n                .on(MOUSE_UP, function(e) {\n                    e.preventDefault();\n                    $(this).removeClass(\"k-state-active\");\n                })\n                .off(\"mouseleave\" + NS)\n                .on(\"mouseleave\" + NS, kendo.preventDefault)\n                .off(MOUSE_OVER)\n                .on(MOUSE_OVER, kendo.preventDefault);\n\n            that.wrapper\n                .find(TICK_SELECTOR + \", \" + TRACK_SELECTOR).off(TRACK_MOUSE_DOWN).off(TRACK_MOUSE_UP);\n\n            that.wrapper\n                .find(DRAG_HANDLE)\n                .attr(TABINDEX, -1)\n                .off(MOUSE_UP)\n                .off(KEY_DOWN)\n                .off(CLICK)\n                .off(FOCUS)\n                .off(BLUR);\n\n            that.options.enabled = false;\n        },\n\n        _update: function(val) {\n            var that = this,\n                change = that.value() != val;\n\n            that.value(val);\n\n            if (change) {\n                that.trigger(CHANGE, { value: that.options.value });\n            }\n        },\n\n        value: function(value) {\n            var that = this,\n                options = that.options;\n\n            value = round(value);\n            if (isNaN(value)) {\n                return options.value;\n            }\n\n            if (value >= options.min && value <= options.max) {\n                if (options.value != value) {\n                    that.element.prop(\"value\", formatValue(value));\n                    options.value = value;\n                    that._refreshAriaAttr(value);\n                    that._refresh();\n                }\n            }\n        },\n\n        _refresh: function() {\n            this.trigger(MOVE_SELECTION, { value: this.options.value });\n        },\n\n        _refreshAriaAttr: function(value) {\n            var that = this,\n                drag = that._drag,\n                formattedValue;\n\n            if (drag && drag._tooltipDiv) {\n                formattedValue = drag._tooltipDiv.text();\n            } else {\n                formattedValue = that._getFormattedValue(value, null);\n            }\n            this.wrapper.find(DRAG_HANDLE).attr(ARIA_VALUENOW, value).attr(ARIA_VALUETEXT, formattedValue);\n        },\n\n        _clearTimer: function() {\n            clearTimeout(this.timeout);\n            clearInterval(this.timer);\n        },\n\n        _keydown: function(e) {\n            var that = this;\n\n            if (e.keyCode in that._keyMap) {\n                that._clearTooltipTimeout();\n                that._setValueInRange(that._keyMap[e.keyCode](that.options.value));\n                that._drag._updateTooltip(that.value());\n                e.preventDefault();\n            }\n        },\n\n        _setValueInRange: function(val) {\n            var that = this,\n                options = that.options;\n\n            val = round(val);\n            if (isNaN(val)) {\n                that._update(options.min);\n                return;\n            }\n\n            val = math.max(math.min(val, options.max), options.min);\n            that._update(val);\n        },\n\n        _nextValueByIndex: function(index) {\n            var count = this._values.length;\n            if (this._isRtl) {\n                index = count - 1 - index;\n            }\n            return this._values[math.max(0, math.min(index, count - 1))];\n        },\n\n        _formResetHandler: function() {\n            var that = this,\n                min = that.options.min;\n\n            setTimeout(function() {\n                var value = that.element[0].value;\n                that.value(value === \"\" || isNaN(value) ? min : value);\n            });\n        },\n\n        destroy: function() {\n            var that = this;\n\n            SliderBase.fn.destroy.call(that);\n\n            that.wrapper.off(NS)\n                .find(\".k-button\").off(NS)\n                .end()\n                .find(DRAG_HANDLE).off(NS)\n                .end()\n                .find(TICK_SELECTOR + \", \" + TRACK_SELECTOR).off(NS)\n                .end();\n\n            that._drag.draggable.destroy();\n            that._drag._removeTooltip(true);\n        }\n    });\n\n    Slider.Selection = function(dragHandle, that, options) {\n        function moveSelection(val) {\n            var selectionValue = val - options.min,\n                index = that._valueIndex = math.ceil(round(selectionValue / options.smallStep)),\n                selection = parseInt(that._pixelSteps[index], 10),\n                selectionDiv = that._trackDiv.find(\".k-slider-selection\"),\n                rtlCorrection = that._isRtl ? 2 : 0;\n\n            selectionDiv[that._sizeFn](that._isRtl ? that._maxSelection - selection : selection);\n            dragHandle.css(that._position, selection - rtlCorrection);\n        }\n\n        moveSelection(options.value);\n\n        that.bind([SLIDE, MOVE_SELECTION], function(e) {\n            moveSelection(parseFloat(e.value, 10));\n        });\n\n        that.bind(CHANGE, function(e) {\n            moveSelection(parseFloat(e.sender.value(), 10));\n        });\n    };\n\n    Slider.Drag = function(element, type, owner, options) {\n        var that = this;\n        that.owner = owner;\n        that.options = options;\n        that.element = element;\n        that.type = type;\n\n        that.draggable = new Draggable(element, {\n            distance: 0,\n            dragstart: proxy(that._dragstart, that),\n            drag: proxy(that.drag, that),\n            dragend: proxy(that.dragend, that),\n            dragcancel: proxy(that.dragcancel, that)\n        });\n\n        element.click(false);\n\n        // Disable link dragging\n        element.on(\"dragstart\", function(e) {\n            e.preventDefault();\n        });\n    };\n\n    Slider.Drag.prototype = {\n        dragstart: function(e) {\n            // add reference to the last active drag handle.\n            this.owner._activeDragHandle = this;\n            // HACK to initiate click on the line\n            this.draggable.userEvents.cancel();\n            this._dragstart(e);\n            this.dragend();\n        },\n\n        _dragstart: function(e) {\n            var that = this,\n                owner = that.owner,\n                options = that.options;\n\n            if (!options.enabled) {\n                e.preventDefault();\n                return;\n            }\n\n            // add reference to the last active drag handle.\n            this.owner._activeDragHandle = this;\n\n            owner.element.off(MOUSE_OVER);\n            owner.wrapper.find(\".\" + STATE_FOCUSED).removeClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n            that.element.addClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n            $(document.documentElement).css(\"cursor\", \"pointer\");\n\n            that.draggableArea = owner._getDraggableArea();\n            that.step = math.max(options.smallStep * (owner._maxSelection / owner._distance()), 0);\n\n            if (that.type) {\n                that.selectionStart = options.selectionStart;\n                that.selectionEnd = options.selectionEnd;\n                owner._setZIndex(that.type);\n            } else {\n                that.oldVal = that.val = options.value;\n            }\n\n            that._removeTooltip(true);\n            that._createTooltip();\n        },\n\n        _createTooltip: function() {\n            var that = this,\n                owner = that.owner,\n                tooltip = that.options.tooltip,\n                html = '',\n                wnd = $(window),\n                tooltipTemplate, calloutCssClass;\n\n            if (!tooltip.enabled) {\n                return;\n            }\n\n            if (tooltip.template) {\n                tooltipTemplate = that.tooltipTemplate = kendo.template(tooltip.template);\n            }\n\n            $(\".k-slider-tooltip\").remove(); // if user changes window while tooltip is visible, a second one will be created\n            that.tooltipDiv = $(\"<div class='k-tooltip k-slider-tooltip'><!-- --></div>\").appendTo(document.body);\n\n            html = owner._getFormattedValue(that.val || owner.value(), that);\n\n            if (!that.type) {\n                calloutCssClass = \"k-callout-\" + (owner._isHorizontal ? 's' : 'e');\n                that.tooltipInnerDiv = \"<div class='k-callout \" + calloutCssClass + \"'><!-- --></div>\";\n                html += that.tooltipInnerDiv;\n            }\n\n            that.tooltipDiv.html(html);\n\n            that._scrollOffset = {\n                top: wnd.scrollTop(),\n                left: kendo.scrollLeft(wnd)\n            };\n\n            that.moveTooltip();\n        },\n\n        drag: function(e) {\n            var that = this,\n                owner = that.owner,\n                x = e.x.location,\n                y = e.y.location,\n                startPoint = that.draggableArea.startPoint,\n                endPoint = that.draggableArea.endPoint,\n                slideParams;\n\n            e.preventDefault();\n\n            if (owner._isHorizontal) {\n                if (owner._isRtl) {\n                    that.val = that.constrainValue(x, startPoint, endPoint, x < endPoint);\n                } else {\n                    that.val = that.constrainValue(x, startPoint, endPoint, x >= endPoint);\n                }\n            } else {\n                that.val = that.constrainValue(y, endPoint, startPoint, y <= endPoint);\n            }\n\n            if (that.oldVal != that.val) {\n                that.oldVal = that.val;\n\n                if (that.type) {\n                    if (that.type == \"firstHandle\") {\n                        if (that.val < that.selectionEnd) {\n                            that.selectionStart = that.val;\n                        } else {\n                            that.selectionStart = that.selectionEnd = that.val;\n                        }\n                    } else {\n                        if (that.val > that.selectionStart) {\n                            that.selectionEnd = that.val;\n                        } else {\n                            that.selectionStart = that.selectionEnd = that.val;\n                        }\n                    }\n                    slideParams = {\n                        values: [that.selectionStart, that.selectionEnd],\n                        value: [that.selectionStart, that.selectionEnd]\n                    };\n                } else {\n                    slideParams = { value: that.val };\n                }\n\n                owner.trigger(SLIDE, slideParams);\n            }\n            that._updateTooltip(that.val);\n        },\n\n        _updateTooltip: function(val) {\n            var that = this,\n                options = that.options,\n                tooltip = options.tooltip,\n                html = \"\";\n\n            if (!tooltip.enabled) {\n                return;\n            }\n\n            if (!that.tooltipDiv) {\n                that._createTooltip();\n            }\n\n            html = that.owner._getFormattedValue(round(val), that);\n\n            if (!that.type) {\n                html += that.tooltipInnerDiv;\n            }\n\n            that.tooltipDiv.html(html);\n            that.moveTooltip();\n        },\n\n        dragcancel: function() {\n            this.owner._refresh();\n            $(document.documentElement).css(\"cursor\", \"\");\n            return this._end();\n        },\n\n        dragend: function() {\n            var that = this,\n                owner = that.owner;\n\n            $(document.documentElement).css(\"cursor\", \"\");\n\n            if (that.type) {\n                owner._update(that.selectionStart, that.selectionEnd);\n            } else {\n                owner._update(that.val);\n                that.draggable.userEvents._disposeAll();\n            }\n\n            that.draggable.userEvents.cancel();\n            return that._end();\n        },\n\n        _end: function() {\n            var that = this,\n                owner = that.owner;\n\n            owner._focusWithMouse(that.element);\n\n            owner.element.on(MOUSE_OVER);\n\n            return false;\n        },\n\n        _removeTooltip: function(noAnimation) {\n            var that = this,\n                owner = that.owner;\n\n            if (that.tooltipDiv && owner.options.tooltip.enabled && owner.options.enabled) {\n                if (noAnimation) {\n                    that.tooltipDiv.remove();\n                    that.tooltipDiv = null;\n                } else {\n                    that.tooltipDiv.fadeOut(\"slow\", function() {\n                        $(this).remove();\n                        that.tooltipDiv = null;\n                    });\n                }\n            }\n        },\n\n        moveTooltip: function() {\n            var that = this,\n                owner = that.owner,\n                top = 0,\n                left = 0,\n                element = that.element,\n                offset = kendo.getOffset(element),\n                margin = 8,\n                viewport = $(window),\n                callout = that.tooltipDiv.find(\".k-callout\"),\n                width = outerWidth(that.tooltipDiv),\n                height = outerHeight(that.tooltipDiv),\n                dragHandles, sdhOffset, diff, anchorSize;\n\n            if (that.type) {\n                dragHandles = owner.wrapper.find(DRAG_HANDLE);\n                offset = kendo.getOffset(dragHandles.eq(0));\n                sdhOffset = kendo.getOffset(dragHandles.eq(1));\n\n                if (owner._isHorizontal) {\n                    top = sdhOffset.top;\n                    left = offset.left + ((sdhOffset.left - offset.left) / 2);\n                } else {\n                    top = offset.top + ((sdhOffset.top - offset.top) / 2);\n                    left = sdhOffset.left;\n                }\n\n                anchorSize = outerWidth(dragHandles.eq(0)) + 2 * margin;\n            } else {\n                top = offset.top;\n                left = offset.left;\n                anchorSize = outerWidth(element) + 2 * margin;\n            }\n\n            if (owner._isHorizontal) {\n                left -= parseInt((width - owner._outerSize(element)) / 2, 10);\n                top -= height + margin + (callout.length ? callout.height() : 0);\n            } else {\n                top -= parseInt((height - owner._outerSize(element)) / 2, 10);\n                left -= width + margin + (callout.length ? callout.width() : 0);\n            }\n\n            if (owner._isHorizontal) {\n                diff = that._flip(top, height, anchorSize, outerHeight(viewport) + that._scrollOffset.top);\n                top += diff;\n                left += that._fit(left, width, outerWidth(viewport) + that._scrollOffset.left);\n            } else {\n                diff = that._flip(left, width, anchorSize, outerWidth(viewport) + that._scrollOffset.left);\n                top += that._fit(top, height, outerHeight(viewport) + that._scrollOffset.top);\n                left += diff;\n            }\n\n            if (diff > 0 && callout) {\n                callout.removeClass();\n                callout.addClass(\"k-callout k-callout-\" + (owner._isHorizontal ? \"n\" : \"w\"));\n            }\n\n            that.tooltipDiv.css({ top: top, left: left });\n        },\n\n        _fit: function(position, size, viewPortEnd) {\n            var output = 0;\n\n            if (position + size > viewPortEnd) {\n                output = viewPortEnd - (position + size);\n            }\n\n            if (position < 0) {\n                output = -position;\n            }\n\n            return output;\n        },\n\n        _flip: function(offset, size, anchorSize, viewPortEnd) {\n            var output = 0;\n\n            if (offset + size > viewPortEnd) {\n                output += -(anchorSize + size);\n            }\n\n            if (offset + output < 0) {\n                output += anchorSize + size;\n            }\n\n            return output;\n        },\n\n        constrainValue: function(position, min, max, maxOverflow) {\n            var that = this,\n                val = 0;\n\n            if (min < position && position < max) {\n                val = that.owner._getValueFromPosition(position, that.draggableArea);\n            } else {\n                if (maxOverflow ) {\n                    val = that.options.max;\n                } else {\n                    val = that.options.min;\n                }\n            }\n\n            return val;\n        }\n\n    };\n\n    kendo.ui.plugin(Slider);\n\n    var RangeSlider = SliderBase.extend({\n        init: function(element, options) {\n            var that = this,\n                inputs = $(element).find(\"input\"),\n                firstInput = inputs.eq(0)[0],\n                secondInput = inputs.eq(1)[0];\n\n            firstInput.type = \"text\";\n            secondInput.type = \"text\";\n\n            if (options && options.showButtons) {\n                if (window.console) {\n                    window.console.warn(\"showbuttons option is not supported for the range slider, ignoring\");\n                }\n\n                options.showButtons = false;\n            }\n\n            options = extend({}, {\n                selectionStart: parseAttr(firstInput, \"value\"),\n                min: parseAttr(firstInput, \"min\"),\n                max: parseAttr(firstInput, \"max\"),\n                smallStep: parseAttr(firstInput, \"step\")\n            }, {\n                selectionEnd: parseAttr(secondInput, \"value\"),\n                min: parseAttr(secondInput, \"min\"),\n                max: parseAttr(secondInput, \"max\"),\n                smallStep: parseAttr(secondInput, \"step\")\n            }, options);\n\n            if (options && options.enabled === undefined) {\n                options.enabled = !inputs.is(\"[disabled]\");\n            }\n\n            SliderBase.fn.init.call(that, element, options);\n            options = that.options;\n            if (!defined(options.selectionStart) || options.selectionStart === null) {\n                options.selectionStart = options.min;\n                inputs.eq(0).prop(\"value\", formatValue(options.min));\n            }\n\n            if (!defined(options.selectionEnd) || options.selectionEnd === null) {\n                options.selectionEnd = options.max;\n                inputs.eq(1).prop(\"value\", formatValue(options.max));\n            }\n\n            var dragHandles = that.wrapper.find(DRAG_HANDLE);\n\n            this._selection = new RangeSlider.Selection(dragHandles, that, options);\n            that._firstHandleDrag = new Slider.Drag(dragHandles.eq(0), \"firstHandle\", that, options);\n            that._lastHandleDrag = new Slider.Drag(dragHandles.eq(1), \"lastHandle\" , that, options);\n\n            that._refreshAriaAttr(options.selectionStart , options.selectionEnd);\n        },\n\n        options: {\n            name: \"RangeSlider\",\n            leftDragHandleTitle: \"drag\",\n            rightDragHandleTitle: \"drag\",\n            tooltip: { format: \"{0:#,#.##}\" },\n            selectionStart: null,\n            selectionEnd: null\n        },\n\n        enable: function(enable) {\n            var that = this,\n                options = that.options,\n                clickHandler;\n\n            that.disable();\n            if (enable === false) {\n                return;\n            }\n\n            that.wrapper\n                .removeClass(STATE_DISABLED);\n\n            that.wrapper.find(\"input\").prop(DISABLED, false);\n\n            clickHandler = function(e) {\n                var touch = getTouches(e)[0];\n\n                if (!touch) {\n                    return;\n                }\n\n                var mousePosition = that._isHorizontal ? touch.location.pageX : touch.location.pageY,\n                    draggableArea = that._getDraggableArea(),\n                    val = that._getValueFromPosition(mousePosition, draggableArea),\n                    target = $(e.target),\n                    from, to, drag;\n\n                if (target.hasClass(\"k-draghandle\")) {\n                    that.wrapper.find(\".\" + STATE_FOCUSED).removeClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n                    target.addClass(STATE_FOCUSED + \" \" + STATE_SELECTED);\n                    return;\n                }\n\n                if (val < options.selectionStart) {\n                    from = val;\n                    to = options.selectionEnd;\n                    drag = that._firstHandleDrag;\n                } else if (val > that.selectionEnd) {\n                    from = options.selectionStart;\n                    to = val;\n                    drag = that._lastHandleDrag;\n                } else {\n                    if (val - options.selectionStart <= options.selectionEnd - val) {\n                        from = val;\n                        to = options.selectionEnd;\n                        drag = that._firstHandleDrag;\n                    } else {\n                        from = options.selectionStart;\n                        to = val;\n                        drag = that._lastHandleDrag;\n                    }\n                }\n\n                drag.dragstart(e);\n                that._setValueInRange(from, to);\n                that._focusWithMouse(drag.element);\n            };\n\n            that.wrapper\n                .find(TICK_SELECTOR + \", \" + TRACK_SELECTOR)\n                    .on(TRACK_MOUSE_DOWN, clickHandler)\n                    .end()\n                    .on(TRACK_MOUSE_DOWN, function() {\n                        $(document.documentElement).one(\"selectstart\", kendo.preventDefault);\n                    })\n                    .on(TRACK_MOUSE_UP, function() {\n                        if (that._activeDragHandle) {\n                            that._activeDragHandle._end();\n                        }\n                    });\n\n            that.wrapper\n                .find(DRAG_HANDLE)\n                .attr(TABINDEX, 0)\n                .on(MOUSE_UP, function() {\n                    that._setTooltipTimeout();\n                })\n                .on(CLICK, function(e) {\n                    that._focusWithMouse(e.target);\n                    e.preventDefault();\n                })\n                .on(FOCUS, proxy(that._focus, that))\n                .on(BLUR, proxy(that._blur, that));\n\n            that.wrapper.find(DRAG_HANDLE)\n                .off(KEY_DOWN, kendo.preventDefault)\n                .eq(0).on(KEY_DOWN,\n                    proxy(function(e) {\n                        this._keydown(e, \"firstHandle\");\n                    }, that)\n                )\n                .end()\n                .eq(1).on(KEY_DOWN,\n                    proxy(function(e) {\n                        this._keydown(e, \"lastHandle\");\n                    }, that)\n                );\n\n            that.options.enabled = true;\n        },\n\n        disable: function() {\n            var that = this;\n\n            that.wrapper\n                .addClass(STATE_DISABLED);\n\n            that.wrapper.find(\"input\").prop(DISABLED, DISABLED);\n\n            that.wrapper\n                .find(TICK_SELECTOR + \", \" + TRACK_SELECTOR).off(TRACK_MOUSE_DOWN).off(TRACK_MOUSE_UP);\n\n            that.wrapper\n                .find(DRAG_HANDLE)\n                .attr(TABINDEX, -1)\n                .off(MOUSE_UP)\n                .off(KEY_DOWN)\n                .off(CLICK)\n                .off(FOCUS)\n                .off(BLUR);\n\n            that.options.enabled = false;\n        },\n\n        _keydown: function(e, handle) {\n            var that = this,\n                selectionStartValue = that.options.selectionStart,\n                selectionEndValue = that.options.selectionEnd,\n                dragSelectionStart,\n                dragSelectionEnd,\n                activeHandleDrag;\n\n            if (e.keyCode in that._keyMap) {\n\n                that._clearTooltipTimeout();\n\n                if (handle == \"firstHandle\") {\n                    activeHandleDrag = that._activeHandleDrag = that._firstHandleDrag;\n                    selectionStartValue = that._keyMap[e.keyCode](selectionStartValue);\n\n                    if (selectionStartValue > selectionEndValue) {\n                        selectionEndValue = selectionStartValue;\n                    }\n                } else {\n                    activeHandleDrag = that._activeHandleDrag = that._lastHandleDrag;\n                    selectionEndValue = that._keyMap[e.keyCode](selectionEndValue);\n\n                    if (selectionStartValue > selectionEndValue) {\n                        selectionStartValue = selectionEndValue;\n                    }\n                }\n\n                that._setValueInRange(round(selectionStartValue), round(selectionEndValue));\n\n                dragSelectionStart = Math.max(selectionStartValue, that.options.selectionStart);\n                dragSelectionEnd = Math.min(selectionEndValue, that.options.selectionEnd);\n\n                activeHandleDrag.selectionEnd = Math.max(dragSelectionEnd, that.options.selectionStart);\n                activeHandleDrag.selectionStart = Math.min(dragSelectionStart, that.options.selectionEnd);\n\n                activeHandleDrag._updateTooltip(that.value()[that._activeHandle]);\n\n                e.preventDefault();\n            }\n        },\n\n        _update: function(selectionStart, selectionEnd) {\n            var that = this,\n                values = that.value();\n\n            var change = values[0] != selectionStart || values[1] != selectionEnd;\n\n            that.value([selectionStart, selectionEnd]);\n\n            if (change) {\n                that.trigger(CHANGE, {\n                    values: [selectionStart, selectionEnd],\n                    value: [selectionStart, selectionEnd]\n                });\n            }\n        },\n\n        value: function(value) {\n            if (value && value.length) {\n                return this._value(value[0], value[1]);\n            } else {\n                return this._value();\n            }\n        },\n\n        _value: function(start, end) {\n            var that = this,\n                options = that.options,\n                selectionStart = options.selectionStart,\n                selectionEnd = options.selectionEnd;\n\n            if (isNaN(start) && isNaN(end)) {\n                return [selectionStart, selectionEnd];\n            } else {\n                start = round(start);\n                end = round(end);\n            }\n\n            if (start >= options.min && start <= options.max &&\n                end >= options.min && end <= options.max && start <= end) {\n                if (selectionStart != start || selectionEnd != end) {\n                    that.element.find(\"input\")\n                        .eq(0).prop(\"value\", formatValue(start))\n                        .end()\n                        .eq(1).prop(\"value\", formatValue(end));\n\n                    options.selectionStart = start;\n                    options.selectionEnd = end;\n                    that._refresh();\n                    that._refreshAriaAttr(start, end);\n                }\n            }\n        },\n\n        values: function(start, end) {\n            if (isArray(start)) {\n                return this._value(start[0], start[1]);\n            } else {\n                return this._value(start, end);\n            }\n        },\n\n        _refresh: function() {\n            var that = this,\n                options = that.options;\n\n            that.trigger(MOVE_SELECTION, {\n                values: [options.selectionStart, options.selectionEnd],\n                value: [options.selectionStart, options.selectionEnd]\n            });\n\n            if (options.selectionStart == options.max && options.selectionEnd == options.max) {\n                that._setZIndex(\"firstHandle\");\n            }\n        },\n\n        _refreshAriaAttr: function(start, end) {\n            var that = this,\n                dragHandles = that.wrapper.find(DRAG_HANDLE),\n                drag = that._activeHandleDrag,\n                formattedValue;\n\n            formattedValue = that._getFormattedValue([start, end], drag);\n\n            dragHandles.eq(0).attr(ARIA_VALUENOW, start);\n            dragHandles.eq(1).attr(ARIA_VALUENOW, end);\n            dragHandles.attr(ARIA_VALUETEXT, formattedValue);\n        },\n\n        _setValueInRange: function(selectionStart, selectionEnd) {\n            var options = this.options;\n\n            selectionStart = math.max(math.min(selectionStart, options.max), options.min);\n\n            selectionEnd = math.max(math.min(selectionEnd, options.max), options.min);\n\n            if (selectionStart == options.max && selectionEnd == options.max) {\n                this._setZIndex(\"firstHandle\");\n            }\n\n            this._update(math.min(selectionStart, selectionEnd), math.max(selectionStart, selectionEnd));\n        },\n\n        _setZIndex: function(type) {\n            this.wrapper.find(DRAG_HANDLE).each(function(index) {\n                $(this).css(\"z-index\", type == \"firstHandle\" ? 1 - index : index);\n            });\n        },\n\n        _formResetHandler: function() {\n            var that = this,\n                options = that.options;\n\n            setTimeout(function() {\n                var inputs = that.element.find(\"input\");\n                var start = inputs[0].value;\n                var end = inputs[1].value;\n                that.values(start === \"\" || isNaN(start) ? options.min : start, end === \"\" || isNaN(end) ? options.max : end);\n            });\n        },\n\n        destroy: function() {\n            var that = this;\n\n            SliderBase.fn.destroy.call(that);\n\n            that.wrapper.off(NS)\n                .find(TICK_SELECTOR + \", \" + TRACK_SELECTOR).off(NS)\n                .end()\n                .find(DRAG_HANDLE).off(NS);\n\n            that._firstHandleDrag.draggable.destroy();\n            that._lastHandleDrag.draggable.destroy();\n        }\n    });\n\n    RangeSlider.Selection = function(dragHandles, that, options) {\n        function moveSelection(value) {\n            value = value || [];\n            var selectionStartValue = value[0] - options.min,\n                selectionEndValue = value[1] - options.min,\n                selectionStartIndex = math.ceil(round(selectionStartValue / options.smallStep)),\n                selectionEndIndex = math.ceil(round(selectionEndValue / options.smallStep)),\n                selectionStart = that._pixelSteps[selectionStartIndex],\n                selectionEnd = that._pixelSteps[selectionEndIndex],\n                rtlCorrection = that._isRtl ? 2 : 0;\n\n            dragHandles.eq(0).css(that._position, selectionStart - rtlCorrection)\n                       .end()\n                       .eq(1).css(that._position, selectionEnd - rtlCorrection);\n\n            makeSelection(selectionStart, selectionEnd);\n        }\n\n        function makeSelection(selectionStart, selectionEnd) {\n            var selection,\n                selectionPosition,\n                selectionDiv = that._trackDiv.find(\".k-slider-selection\");\n\n            selection = math.abs(selectionStart - selectionEnd);\n\n            selectionDiv[that._sizeFn](selection);\n            if (that._isRtl) {\n                selectionPosition = math.max(selectionStart, selectionEnd);\n                selectionDiv.css(\"right\", that._maxSelection - selectionPosition - 1);\n            } else {\n                selectionPosition = math.min(selectionStart, selectionEnd);\n                selectionDiv.css(that._position, selectionPosition - 1);\n            }\n        }\n\n        moveSelection(that.value());\n\n        that.bind([ CHANGE, SLIDE, MOVE_SELECTION ], function(e) {\n            moveSelection(e.values);\n        });\n    };\n\n    kendo.ui.plugin(RangeSlider);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function (f, define) {\n    define('kendo.textbox',[\"./kendo.core\", \"./kendo.floatinglabel\"], f);\n})(function () {\n\nvar __meta__ = {// jshint ignore:line\n    id: \"textbox\",\n    name: \"TextBox\",\n    category: \"web\",\n    description: \"The TextBox widget enables you to style and provide a floating label functionality to input elements\",\n    depends: [\"core\", \"floatinglabel\"]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        ui = kendo.ui,\n        isPlainObject = $.isPlainObject,\n        NS = \".kendoTextBox\",\n        CHANGE = \"change\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        INPUT = \"k-input-inner\",\n        FOCUSED = \"k-focus\",\n        LABELCLASSES = \"k-label k-input-label\",\n        STATEDISABLED = \"k-disabled\",\n        NOCLICKCLASS = \"k-no-click\",\n        ARIA_DISABLED = \"aria-disabled\",\n        proxy = $.proxy;\n\n    var TextBox = Widget.extend({\n        init: function (element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            options = $.extend(true, {}, options);\n\n            that.options.value = options.value || that.element.val();\n            that.options.readonly = options.readonly !== undefined ? options.readonly : Boolean(that.element.attr(\"readonly\"));\n            that.options.enable = options.enable !== undefined ? options.enable : !(Boolean(that.element.attr(\"disabled\")));\n            that.options.placeholder = options.placeholder || that.element.attr(\"placeholder\");\n\n            that.value(that.options.value);\n            that._wrapper();\n            that._label();\n            that._editable({\n                readonly: that.options.readonly,\n                disable: !(that.options.enable)\n            });\n\n            that.element\n                .addClass(INPUT)\n                .attr(\"placeholder\", that.options.placeholder)\n                .attr(\"autocomplete\", \"off\");\n\n            kendo.notify(that);\n            that._applyCssClasses();\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        options: {\n            name: 'TextBox',\n            value: '',\n            readonly: false,\n            enable: true,\n            placeholder: '',\n            label: null,\n            rounded: \"medium\",\n            size: \"medium\",\n            fillMode: \"solid\"\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            that._value = value;\n            that.element.val(value);\n        },\n\n        readonly: function(readonly) {\n            var that = this;\n\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.readonly(readonly === undefined ? true : readonly);\n            }\n        },\n\n        enable: function(enable) {\n            var that = this;\n\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.enable(enable = enable === undefined ? true : enable);\n            }\n        },\n\n        focus: function() {\n            var that = this;\n\n            that.element[0].focus();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that.floatingLabel) {\n                that.floatingLabel.destroy();\n            }\n\n            that.element.off(NS);\n            that.element[0].style.width = \"\";\n            that.element.removeClass(INPUT);\n            Widget.fn.destroy.call(that);\n        },\n\n        setOptions: function(options) {\n            this.destroy();\n\n            this.element.unwrap();\n            if (this._floatingLabelContainer) {\n                this._inputLabel.remove();\n                this._inputLabel = null;\n                this.element.unwrap();\n                this._floatingLabelContainer = null;\n            }\n\n            kendo.deepExtend(this.options, options);\n            this.init(this.element, this.options);\n        },\n\n        _editable: function(options) {\n            var that = this;\n            var element = that.element;\n            var wrapper = that.wrapper;\n            var disable = options.disable;\n            var readonly = options.readonly;\n\n            element.off(NS);\n\n            if (!readonly && !disable) {\n                element.prop(DISABLED, false)\n                       .prop(READONLY, false)\n                       .attr(ARIA_DISABLED, false);\n\n                wrapper.removeClass(STATEDISABLED)\n                        .removeClass(NOCLICKCLASS);\n\n                element.on(\"focusin\" + NS, proxy(that._focusin, that));\n                element.on(\"focusout\" + NS, proxy(that._focusout, that));\n                element.on(\"change\" + NS, proxy(that._change, that));\n            } else {\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable);\n\n                wrapper.toggleClass(STATEDISABLED, disable)\n                        .toggleClass(NOCLICKCLASS, readonly);\n            }\n        },\n\n        _label: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var id = element.attr(\"id\");\n            var floating;\n            var labelText;\n\n            if (options.label !== null) {\n                floating = isPlainObject(options.label) ? options.label.floating : false;\n                labelText = isPlainObject(options.label) ? options.label.content : options.label;\n\n                if (floating) {\n                    that._floatingLabelContainer = that.wrapper.wrap(\"<span></span>\").parent();\n                    that.floatingLabel = new kendo.ui.FloatingLabel(that._floatingLabelContainer, { widget: that });\n                }\n\n                if (kendo.isFunction(labelText)) {\n                    labelText = labelText.call(that);\n                }\n\n                if (!labelText) {\n                    labelText = \"\";\n                }\n\n                if (!id) {\n                    id = options.name + \"_\" + kendo.guid();\n                    element.attr(\"id\", id);\n                }\n\n                that._inputLabel = $(\"<label class='\" + LABELCLASSES + \"' for='\" + id + \"'>\" + labelText + \"</label>'\").insertBefore(that.wrapper);\n            }\n        },\n\n        _focusin: function() {\n            var that = this;\n\n            that.wrapper.addClass(FOCUSED);\n        },\n\n        _focusout: function() {\n            var that = this;\n\n            that.wrapper.removeClass(FOCUSED);\n        },\n\n        _change: function(e) {\n            var that = this;\n            var newValue = that.element.val();\n\n            that._value = newValue;\n\n            that.trigger(CHANGE, {value: newValue, originalEvent: e});\n        },\n\n        _wrapper: function () {\n            var that = this;\n            var element = that.element;\n            var DOMElement = element[0];\n            var wrapper;\n\n            wrapper = element.wrap(\"<span class='k-input k-textbox'></span>\").parent();\n            wrapper[0].style.cssText = DOMElement.style.cssText;\n            DOMElement.style.width = \"100%\";\n            that.wrapper = wrapper.addClass(DOMElement.className).removeClass('input-validation-error');\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"TextBox\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"TextBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(TextBox);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.numerictextbox',[ \"./kendo.core\", \"./kendo.userevents\", \"./kendo.floatinglabel\", \"./kendo.html.button\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"numerictextbox\",\n    name: \"NumericTextBox\",\n    category: \"web\",\n    description: \"The NumericTextBox widget can format and display numeric, percentage or currency textbox.\",\n    depends: [ \"core\", \"userevents\", \"floatinglabel\", \"html.button\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        caret = kendo.caret,\n        keys = kendo.keys,\n        html = kendo.html,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        activeElement = kendo._activeElement,\n        extractFormat = kendo._extractFormat,\n        parse = kendo.parseFloat,\n        placeholderSupported = kendo.support.placeholder,\n        getCulture = kendo.getCulture,\n        CHANGE = \"change\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        INPUT = \"k-input-inner\",\n        SPIN = \"spin\",\n        ns = \".kendoNumericTextBox\",\n        TOUCHEND = \"touchend\",\n        MOUSELEAVE = \"mouseleave\" + ns,\n        HOVEREVENTS = \"mouseenter\" + ns + \" \" + MOUSELEAVE,\n        FOCUSED = \"k-focus\",\n        HOVER = \"k-hover\",\n        FOCUS = \"focus\",\n        POINT = \".\",\n        SYMBOL = \"symbol\",\n        CLASS_ICON = \"k-icon\",\n        LABELCLASSES = \"k-label k-input-label\",\n        SELECTED = \"k-selected\",\n        STATEDISABLED = \"k-disabled\",\n        STATEINVALID = \"k-invalid\",\n        ARIA_DISABLED = \"aria-disabled\",\n        INTEGER_REGEXP = /^(-)?(\\d*)$/,\n        NULL = null,\n        proxy = $.proxy,\n        isPlainObject = $.isPlainObject,\n        extend = $.extend;\n\n    var NumericTextBox = Widget.extend({\n         init: function(element, options) {\n             var that = this,\n             isStep = options && options.step !== undefined,\n             min, max, step, value, disabled;\n             var inputType;\n\n             Widget.fn.init.call(that, element, options);\n\n             options = that.options;\n             element = that.element\n                           .on(\"focusout\" + ns, proxy(that._focusout, that))\n                           .attr(\"role\", \"spinbutton\");\n\n             options.placeholder = options.placeholder || element.attr(\"placeholder\");\n\n             min = that.min(element.attr(\"min\"));\n             max = that.max(element.attr(\"max\"));\n             step = that._parse(element.attr(\"step\"));\n\n             if (options.min === NULL && min !== NULL) {\n                 options.min = min;\n             }\n\n             if (options.max === NULL && max !== NULL) {\n                 options.max = max;\n             }\n\n             if (!isStep && step !== NULL) {\n                 options.step = step;\n             }\n\n             that._initialOptions = extend({}, options);\n\n             inputType = element.attr(\"type\");\n\n             that._reset();\n             that._wrapper();\n             that._arrows();\n             that._validation();\n             that._input();\n\n             if (!kendo.support.mobileOS) {\n                 that._text.on(FOCUS + ns, proxy(that._click, that));\n             } else {\n                 that._text.on(TOUCHEND + ns + \" \" + FOCUS + ns, function() {\n                     if (kendo.support.browser.edge) {\n                         that._text.one(FOCUS + ns, function() {\n                            that._focusin();\n                         });\n                     } else {\n                        that._focusin();\n                     }\n                     that.selectValue();\n                 });\n             }\n\n             element.attr(\"aria-valuemin\", options.min !== NULL ? options.min*options.factor : options.min)\n                    .attr(\"aria-valuemax\", options.max !== NULL ? options.max*options.factor : options.max);\n\n             options.format = extractFormat(options.format);\n\n             value = options.value;\n\n             if (value == NULL) {\n                 if (inputType == \"number\") {\n                    value = parseFloat(element.val());\n                 } else {\n                     value = element.val();\n                 }\n             }\n\n             that.value(value);\n\n             disabled = !options.enable || element.is(\"[disabled]\") || $(that.element).parents(\"fieldset\").is(':disabled');\n\n             if (disabled) {\n                 that.enable(false);\n             } else {\n                 that.readonly(element.is(\"[readonly]\"));\n             }\n\n             that.angular(\"compile\", function(){\n                 return {\n                     elements: that._text.get()\n                 };\n             });\n\n             that._label();\n             that._ariaLabel();\n             that._applyCssClasses();\n\n             kendo.notify(that);\n         },\n\n        options: {\n            name: \"NumericTextBox\",\n            decimals: NULL,\n            enable: true,\n            restrictDecimals: false,\n            min: NULL,\n            max: NULL,\n            value: NULL,\n            step: 1,\n            round: true,\n            culture: \"\",\n            format: \"n\",\n            spinners: true,\n            placeholder: \"\",\n            selectOnFocus: false,\n            factor: 1,\n            upArrowText: \"Increase value\",\n            downArrowText: \"Decrease value\",\n            label: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n        events: [\n            CHANGE,\n            SPIN\n        ],\n\n        _editable: function(options) {\n            var that = this,\n                element = that.element,\n                disable = options.disable,\n                readonly = options.readonly,\n                text = that._text.add(element),\n                wrapper = that.wrapper.off(HOVEREVENTS);\n\n            that._toggleText(true);\n\n            that._upArrowEventHandler.unbind(\"press\");\n            that._downArrowEventHandler.unbind(\"press\");\n            element\n                .off(\"keydown\" + ns)\n                .off(\"keyup\" + ns)\n                .off(\"input\" + ns)\n                .off(\"paste\" + ns);\n\n            if (that._inputLabel) {\n                that._inputLabel.off(ns);\n            }\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                text.prop(DISABLED, false)\n                    .prop(READONLY, false)\n                    .attr(ARIA_DISABLED, false);\n\n                that._upArrowEventHandler.bind(\"press\", function(e) {\n                    e.preventDefault();\n                    that._spin(1);\n                    that._upArrow.addClass(SELECTED);\n                });\n\n                that._downArrowEventHandler.bind(\"press\", function(e) {\n                    e.preventDefault();\n                    that._spin(-1);\n                    that._downArrow.addClass(SELECTED);\n                });\n\n                that.element\n                    .on(\"keydown\" + ns, proxy(that._keydown, that))\n                    .on(\"keyup\" + ns, proxy(that._keyup, that))\n                    .on(\"paste\" + ns, proxy(that._paste, that))\n                    .on(\"input\" + ns, proxy(that._inputHandler, that));\n\n                if (that._inputLabel) {\n                    that._inputLabel.on(\"click\" + ns, proxy(that.focus, that));\n                }\n\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ?\"\" : STATEDISABLED);\n\n                text.attr(DISABLED, disable)\n                    .attr(READONLY, readonly)\n                    .attr(ARIA_DISABLED, disable);\n            }\n        },\n\n        readonly: function(readonly) {\n            var that = this;\n\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.readonly(readonly === undefined ? true : readonly);\n            }\n        },\n\n        enable: function(enable) {\n            var that = this;\n\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.enable(enable = enable === undefined ? true : enable);\n            }\n        },\n\n        setOptions: function (options) {\n            var that = this;\n            Widget.fn.setOptions.call(that, options);\n\n            that._arrowsWrap.toggle(that.options.spinners);\n            that.wrapper.toggleClass(\"k-expand-padding\", !that.options.spinners);\n            that._text.prop(\"placeholder\", that.options.placeholder);\n            that._placeholder(that.options.placeholder);\n            that.element.attr({\n                \"aria-valuemin\": that.options.min !== NULL ? that.options.min*that.options.factor : that.options.min,\n                \"aria-valuemax\": that.options.max !== NULL ? that.options.max*that.options.factor : that.options.max\n            });\n\n            that.options.format = extractFormat(that.options.format);\n            that._applyCssClasses();\n\n            if (options.value !== undefined) {\n                that.value(options.value);\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that._inputLabel) {\n                that._inputLabel.off(ns);\n\n                if (that.floatingLabel) {\n                    that.floatingLabel.destroy();\n                }\n            }\n\n            that.element\n                .add(that._text)\n                .add(that._upArrow)\n                .add(that._downArrow)\n                .off(ns);\n\n            that._upArrowEventHandler.destroy();\n            that._downArrowEventHandler.destroy();\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n\n            Widget.fn.destroy.call(that);\n        },\n\n        min: function(value) {\n            return this._option(\"min\", value);\n        },\n\n        max: function(value) {\n            return this._option(\"max\", value);\n        },\n\n        step: function(value) {\n            return this._option(\"step\", value);\n        },\n\n        value: function(value) {\n            var that = this, adjusted;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            value = that._parse(value);\n            adjusted = that._adjust(value);\n\n            if (value !== adjusted) {\n                return;\n            }\n\n            that._update(value);\n            that._old = that._value;\n        },\n\n        focus: function() {\n            this._focusin();\n        },\n\n        _adjust: function(value) {\n            var that = this,\n            options = that.options,\n            min = options.min,\n            max = options.max;\n\n            if (value === NULL) {\n                return value;\n            }\n\n            if (min !== NULL && value < min) {\n                value = min;\n            } else if (max !== NULL && value > max) {\n                value = max;\n            }\n\n            return value;\n        },\n\n        _arrows: function() {\n            var that = this,\n            arrows,\n            _release = function() {\n                clearTimeout( that._spinning );\n                arrows.removeClass(SELECTED);\n            },\n            options = that.options,\n            spinners = options.spinners,\n            element = that.element;\n\n            arrows = element.siblings(\".\" + CLASS_ICON);\n\n            if (!arrows[0]) {\n                arrows = $(buttonHtml(\"increase\", options.upArrowText) + buttonHtml(\"decrease\", options.downArrowText))\n                        .insertAfter(element);\n\n                that._arrowsWrap = arrows.wrapAll('<span class=\"k-input-spinner k-spin-button\"/>').parent();\n            }\n\n            if (!spinners) {\n                arrows.parent().toggle(spinners);\n                that.wrapper.addClass(\"k-expand-padding\");\n            }\n\n            that._upArrow = arrows.eq(0);\n            that._upArrowEventHandler = new kendo.UserEvents(that._upArrow, { release: _release });\n            that._downArrow = arrows.eq(1);\n            that._downArrowEventHandler = new kendo.UserEvents(that._downArrow, { release: _release });\n        },\n\n        _validation: function () {\n            var that = this;\n            var element = that.element;\n\n            that._validationIcon = $(\"<span class='k-input-validation-icon \" + CLASS_ICON + \" k-i-warning k-hidden'></span>\").insertAfter(element);\n        },\n\n        _blur: function() {\n            var that = this;\n\n            that._toggleText(true);\n\n            that._change(that.element.val());\n        },\n\n        _click: function(e) {\n            var that = this;\n\n            clearTimeout(that._focusing);\n            that._focusing = setTimeout(function() {\n                var input = e.target,\n                    idx = caret(input)[0],\n                    value = input.value.substring(0, idx),\n                    format = that._format(that.options.format),\n                    group = format[\",\"],\n                    result, groupRegExp, extractRegExp,\n                    caretPosition = 0;\n\n                if (group) {\n                    groupRegExp = new RegExp(\"\\\\\" + group, \"g\");\n                    extractRegExp = new RegExp(\"(-)?(\" + format[SYMBOL] + \")?([\\\\d\\\\\" + group + \"]+)(\\\\\" + format[POINT] + \")?(\\\\d+)?\");\n                }\n\n                if (extractRegExp) {\n                    result = extractRegExp.exec(value);\n                }\n\n                if (result) {\n                    caretPosition = result[0].replace(groupRegExp, \"\").length;\n\n                    if (value.indexOf(\"(\") != -1 && that._value < 0) {\n                        caretPosition++;\n                    }\n                }\n\n                that._focusin();\n\n                caret(that.element[0], caretPosition);\n                that.selectValue();\n            });\n        },\n\n        selectValue: function(){\n            if (this.options.selectOnFocus) {\n                this.element[0].select();\n            }\n        },\n\n        _getFactorValue: function (value) {\n            var that = this,\n                factor = that.options.factor;\n\n            if (factor && factor !== 1) {\n                value = kendo.parseFloat(value);\n                if (value !== null) {\n                    value = value/factor;\n                }\n            }\n\n            return value;\n        },\n\n        _change: function(value) {\n            var that = this;\n\n            value = that._getFactorValue(value);\n            that._update(value);\n            value = that._value;\n\n            if (that._old != value) {\n                that._old = value;\n\n                if (!that._typing) {\n                    // trigger the DOM change event so any subscriber gets notified\n                    that.element.trigger(CHANGE);\n                }\n\n                that.trigger(CHANGE);\n            }\n\n            that._typing = false;\n        },\n\n        _culture: function(culture) {\n            return culture || getCulture(this.options.culture);\n        },\n\n        _focusin: function() {\n            var that = this;\n            that.wrapper.addClass(FOCUSED);\n            that._toggleText(false);\n            that.element[0].focus();\n        },\n\n        _focusout: function() {\n            var that = this;\n\n            clearTimeout(that._focusing);\n            that.wrapper.removeClass(FOCUSED).removeClass(HOVER);\n            that._blur();\n            that._removeInvalidState();\n        },\n\n        _format: function(format, culture) {\n            var numberFormat = this._culture(culture).numberFormat;\n\n            format = format.toLowerCase();\n\n            if (format.indexOf(\"c\") > -1) {\n                numberFormat = numberFormat.currency;\n            } else if (format.indexOf(\"p\") > -1) {\n                numberFormat = numberFormat.percent;\n            }\n\n            return numberFormat;\n        },\n\n        _input: function() {\n            var that = this,\n                options = that.options,\n                element = that.element.addClass(INPUT).show()[0],\n                accessKey = element.accessKey,\n                wrapper = that.wrapper,\n                inputs = wrapper.find(POINT + INPUT),\n                text;\n\n            text = inputs.first();\n\n            if (text.length < 2) {\n                text = $('<input type=\"text\"/>').insertBefore(element);\n            }\n\n            try {\n                element.setAttribute(\"type\", \"text\");\n            } catch(e) {\n                element.type = \"text\";\n            }\n\n            text[0].title = element.title;\n            text[0].tabIndex = element.tabIndex;\n            text[0].style.cssText = element.style.cssText;\n            text.prop(\"placeholder\", options.placeholder);\n\n            if (accessKey) {\n                text.attr(\"accesskey\", accessKey);\n                element.accessKey = \"\";\n            }\n\n\n            that._text = text.addClass(element.className)\n                             .attr({\n                                 \"role\": \"spinbutton\",\n                                 \"aria-valuemin\": options.min !== NULL ? options.min*options.factor : options.min,\n                                 \"aria-valuemax\": options.max !== NULL ? options.max*options.factor : options.max,\n                                 \"autocomplete\": \"off\"\n                             });\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode;\n\n            if (key === keys.NUMPAD_DOT) {\n                that._numPadDot = true;\n            }\n\n            if (key == keys.DOWN) {\n                that._step(-1);\n                return;\n            } else if (key == keys.UP) {\n                that._step(1);\n                return;\n            } else if (key == keys.ENTER) {\n                that._change(that.element.val());\n                return;\n            }\n\n            if (key != keys.TAB) {\n                that._typing = true;\n            }\n            that._cachedCaret = caret(that.element);\n        },\n\n        _keyup: function () {\n            this._removeInvalidState();\n        },\n\n        _inputHandler: function () {\n            var element = this.element;\n            var value = element.val();\n            var min = this.options.min;\n            var numberFormat = this._format(this.options.format);\n            var decimalSeparator = numberFormat[POINT];\n            var minInvalid = (min !== null && min >= 0 && value.charAt(0) === \"-\");\n\n            if (this._numPadDot && decimalSeparator !== POINT) {\n                value = value.replace(POINT, decimalSeparator);\n                this.element.val(value);\n                this._numPadDot = false;\n            }\n\n            if (this._isPasted) {\n                value = this._parse(value)\n                    .toString()\n                    .replace(POINT, numberFormat[POINT]);\n            }\n\n            if (this._numericRegex(numberFormat).test(value) && !minInvalid) {\n                this._oldText = value;\n            } else {\n                this._blinkInvalidState();\n                this.element.val(this._oldText);\n                if (this._cachedCaret) {\n                    caret(element, this._cachedCaret[0]);\n                    this._cachedCaret = null;\n                }\n            }\n\n            this._isPasted = false;\n        },\n\n        _blinkInvalidState: function () {\n            var that = this;\n\n            that._addInvalidState();\n            clearTimeout(that._invalidStateTimeout);\n            that._invalidStateTimeout = setTimeout(proxy(that._removeInvalidState, that), 100);\n        },\n\n        _addInvalidState: function () {\n            var that = this;\n\n            that.wrapper.addClass(STATEINVALID);\n            that._validationIcon.removeClass('k-hidden');\n        },\n\n        _removeInvalidState: function () {\n            var that = this;\n\n            that.wrapper.removeClass(STATEINVALID);\n            that._validationIcon.addClass('k-hidden');\n            that._invalidStateTimeout = null;\n        },\n\n        _numericRegex: function(numberFormat) {\n            var that = this;\n            var separator = numberFormat[POINT];\n            var precision = that.options.decimals;\n            var fractionRule = \"*\";\n\n            if (separator === POINT) {\n                separator = \"\\\\\" + separator;\n            }\n\n            if (precision === NULL) {\n                precision = numberFormat.decimals;\n            }\n\n            if (precision === 0 && that.options.restrictDecimals) {\n                return INTEGER_REGEXP;\n            }\n\n            if (that.options.restrictDecimals) {\n                fractionRule = \"{0,\" + precision + \"}\";\n            }\n\n            if (that._separator !== separator) {\n                that._separator = separator;\n                that._floatRegExp = new RegExp(\"^(-)?(((\\\\d+(\" + separator + \"\\\\d\" + fractionRule + \")?)|(\" + separator + \"\\\\d\" + fractionRule + \")))?$\");\n            }\n\n            return that._floatRegExp;\n        },\n\n        _paste: function(e) {\n            var that = this;\n            var element = e.target;\n            var value = element.value;\n            var numberFormat = that._format(that.options.format);\n\n            that._isPasted = true;\n\n           setTimeout(function() {\n                var result = that._parse(element.value);\n\n                if (result === NULL) {\n                    that._update(value);\n                } else {\n                    element.value = result.toString().replace(POINT, numberFormat[POINT]);\n                    if (that._adjust(result) !== result || !that._numericRegex(numberFormat).test(element.value)) {\n                        value = that._getFactorValue(element.value);\n                        that._update(value);\n                    }\n                }\n            });\n        },\n\n        _option: function(option, value) {\n            var that = this,\n                element = that.element,\n                options = that.options;\n\n            if (value === undefined) {\n                return options[option];\n            }\n\n            value = that._parse(value);\n\n            if (!value && option === \"step\") {\n                return;\n            }\n\n            options[option] = value;\n            element\n                .add(that._text)\n                .attr(\"aria-value\" + option, value);\n\n            element.attr(option, value);\n        },\n\n        _ariaLabel: function(){\n            var that = this;\n            var text = that._text;\n            var inputElm = that.element;\n            var id = inputElm.attr(\"id\");\n            var labelElm = $(\"label[for=\\'\" + id  + \"\\']\");\n            var ariaLabel = inputElm.attr(\"aria-label\");\n            var ariaLabelledBy = inputElm.attr(\"aria-labelledby\");\n            var labelId;\n\n            if (ariaLabel) {\n                text.attr(\"aria-label\", ariaLabel);\n            } else if (ariaLabelledBy){\n                text.attr(\"aria-labelledby\", ariaLabelledBy);\n            } else if (labelElm.length){\n                labelId = labelElm.attr(\"id\");\n                if (labelId) {\n                    text.attr(\"aria-labelledby\", labelId);\n                } else {\n                    labelId = kendo.guid();\n                    labelElm.attr(\"id\", labelId);\n                    text.attr(\"aria-labelledby\", labelId);\n                }\n            }\n        },\n\n        _spin: function(step, timeout) {\n            var that = this;\n\n            timeout = timeout || 500;\n\n            clearTimeout( that._spinning );\n            that._spinning = setTimeout(function() {\n                that._spin(step, 50);\n            }, timeout );\n\n            that._step(step);\n        },\n\n        _step: function(step) {\n            var that = this,\n                element = that.element,\n                originalValue = that._value,\n                value = that._parse(element.val()) || 0,\n                precision = that.options.decimals || 2;\n\n            if (activeElement() != element[0]) {\n                that._focusin();\n            }\n\n            if(that.options.factor && value) {\n                value = value/that.options.factor;\n            }\n\n            value =  +(value + that.options.step * step).toFixed(precision);\n            value = that._adjust(value);\n            that._update(value);\n            that._typing = false;\n\n            if (originalValue !== value) {\n                that.trigger(SPIN);\n            }\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === \"mouseenter\");\n        },\n\n        _toggleText: function(toggle) {\n            var that = this;\n\n            that._text.toggle(toggle);\n            if (toggle) {\n                that._text.removeAttr(\"aria-hidden\");\n            } else {\n                that._text.attr(\"aria-hidden\", \"true\");\n            }\n            that.element.toggle(!toggle);\n        },\n\n        _parse: function(value, culture) {\n            return parse(value, this._culture(culture), this.options.format);\n        },\n\n        _round: function(value, precision) {\n            var rounder = this.options.round ? kendo._round : truncate;\n\n            return rounder(value, precision);\n        },\n\n        _update: function(value) {\n            var that = this,\n                options = that.options,\n                factor = options.factor,\n                format = options.format,\n                decimals = options.decimals,\n                culture = that._culture(),\n                numberFormat = that._format(format, culture),\n                originalValue,\n                isNotNull;\n\n            if (decimals === NULL) {\n                decimals = numberFormat.decimals;\n            }\n\n            value = that._parse(value, culture);\n\n            isNotNull = value !== NULL;\n\n            if (isNotNull) {\n                value = parseFloat(that._round(value, decimals), 10);\n            }\n\n            that._value = value = that._adjust(value);\n            that._placeholder(kendo.toString(value, format, culture));\n\n            if (isNotNull) {\n                if(factor) {\n                    value =  parseFloat(that._round(value*factor, decimals), 10);\n                }\n                value = value.toString();\n                if (value.indexOf(\"e\") !== -1) {\n                    value = that._round(+value, decimals);\n                }\n                originalValue = value;\n                value = value.replace(POINT, numberFormat[POINT]);\n            } else {\n                value = null;\n                originalValue = null;\n            }\n\n            that.element.val(value);\n            that._oldText = value;\n            that.element.add(that._text).attr(\"aria-valuenow\", originalValue);\n        },\n\n        _placeholder: function(value) {\n            var input = this._text;\n\n            input.val(value);\n            if (!placeholderSupported && !value) {\n                input.val(this.options.placeholder);\n            }\n\n            input.attr(\"title\", this.element.attr(\"title\") || input.val());\n        },\n\n        _label: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var id = element.attr(\"id\");\n            var floating;\n            var labelText;\n\n            if (options.label !== null) {\n                floating = isPlainObject(options.label) ? options.label.floating : false;\n                labelText = isPlainObject(options.label) ? options.label.content : options.label;\n\n                if (floating) {\n                    that._floatingLabelContainer = that.wrapper.wrap(\"<span></span>\").parent();\n                    that.floatingLabel = new kendo.ui.FloatingLabel(that._floatingLabelContainer, { widget: that });\n                }\n\n                if (kendo.isFunction(labelText)) {\n                    labelText = labelText.call(that);\n                }\n\n                if (!labelText) {\n                    labelText = \"\";\n                }\n\n                if (!id) {\n                    id = options.name + \"_\" + kendo.guid();\n                    element.attr(\"id\", id);\n                }\n\n                that._inputLabel = $(\"<label class='\" + LABELCLASSES + \"' for='\" + id + \"'>\" + labelText + \"</label>'\").insertBefore(that.wrapper);\n\n                if ((that.element.attr(\"disabled\") === undefined) && (that.element.attr(\"readonly\") === undefined)) {\n                    that._inputLabel.on(\"click\" + ns, proxy(that.focus, that));\n                }\n            }\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                DOMElement = element[0],\n                wrapper;\n\n            wrapper = element.parents(\".k-numerictextbox\");\n\n            if (!wrapper.is(\"span.k-numerictextbox\")) {\n                wrapper = element.hide().wrap(\"<span/>\").parent();\n            }\n\n            wrapper[0].style.cssText = DOMElement.style.cssText;\n            DOMElement.style.width = \"\";\n            that.wrapper = wrapper.addClass(\"k-numerictextbox k-input\")\n                                  .addClass(DOMElement.className)\n                                  .removeClass('input-validation-error')\n                                  .css(\"display\", \"\");\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    setTimeout(function() {\n                        that.value(element[0].value);\n                        that.max(that._initialOptions.max);\n                        that.min(that._initialOptions.min);\n                    });\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"NumericTextBox\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"NumericTextBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    function buttonHtml(direction, text) {\n        var className = direction === \"increase\" ? \"arrow-n\" : \"arrow-s\";\n        var dir = direction === \"increase\" ? \"increase\" : \"decrease\";\n\n        return html.renderButton('<button role=\"button\" tabindex=\"-1\" unselectable=\"on\" class=\"k-spinner-' + dir + '\" aria-label=\"' + text + '\" title=\"' + text + '\"></button>', extend({}, this.options, {\n            icon: className,\n            shape: null,\n            rounded: null\n        }));\n    }\n\n    function truncate(value, precision) {\n        var parts = parseFloat(value, 10).toString().split(POINT);\n\n        if (parts[1]) {\n            parts[1] = parts[1].substring(0, precision);\n        }\n\n        return parts.join(POINT);\n\n    }\n\n    ui.plugin(NumericTextBox);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('colorpicker/colorselector',[ \"../kendo.core\" ], f);\n})(function(){\n\n(function($, undefined) {\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n    /*jshint eqnull:true  */\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        parseColor = kendo.parseColor,\n\n        extend = $.extend,\n\n        NS = \".kendoColorTools\",\n        DISABLED = \"k-disabled\";\n\n    var ColorSelector = Widget.extend({\n        init: function(element, options) {\n            var that = this, ariaId;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n            options = that.options;\n            that._value = options.value = parseColor(options.value);\n            that._tabIndex = element.attr(\"tabIndex\") || 0;\n\n            ariaId = that._ariaId = options.ariaId;\n            if (ariaId) {\n                element.attr(\"aria-labelledby\", ariaId);\n            }\n\n            if (options._standalone) {\n                that._triggerSelect = that._triggerChange;\n            }\n        },\n        options: {\n            name: \"ColorSelector\",\n            value: null,\n            _standalone: true\n        },\n        events: [\n            \"change\",\n            \"select\",\n            \"forceSelect\",\n            \"cancel\"\n        ],\n        color: function(value) {\n            if (value !== undefined) {\n                // this.options.value = value;\n                this._value = parseColor(value);\n                this._updateUI(this._value);\n            }\n\n            return this._value;\n        },\n        value: function(color) {\n            color = this.color(color);\n\n            if (color) {\n                if (this.options.opacity) {\n                    color = color.toCssRgba();\n                } else {\n                    color = color.toCss();\n                }\n            }\n\n            return color || null;\n        },\n        enable: function(enable) {\n            if (arguments.length === 0) {\n                enable = true;\n            }\n\n            this.wrapper.toggleClass(DISABLED, !enable);\n\n            this._onEnable(enable);\n        },\n        _select: function(color, nohooks) {\n            var prev = this._value;\n\n            color = this.color(color);\n\n            if (!nohooks) {\n                if ((color && !color.equals(prev)) || (color === null && color !== prev)) {\n                    this.element.trigger(\"change\");\n                    this.trigger(\"change\", { value: this.value() });\n                } else if (!this._standalone) {\n                    this.trigger(\"cancel\");\n                }\n            }\n        },\n        _triggerSelect: function(color) {\n            triggerEvent(this, \"select\", color);\n        },\n        _triggerChange: function(color) {\n            triggerEvent(this, \"change\", color);\n        },\n        destroy: function() {\n            if (this.element) {\n                this.element.off(NS);\n            }\n            if (this.wrapper) {\n                this.wrapper.off(NS).find(\"*\").off(NS);\n            }\n            this.wrapper = null;\n            Widget.fn.destroy.call(this);\n        },\n        _updateUI: $.noop,\n        _selectOnHide: function() {\n            return null;\n        },\n        _cancel: function() {\n            this.trigger(\"cancel\");\n        }\n    });\n\n    function triggerEvent(self, type, color) {\n        color = parseColor(color);\n\n        if ((color && !color.equals(self.color())) || color !== self.color()) {\n            if (type == \"change\") {\n                // UI is already updated.  setting _value directly\n                // rather than calling self.color(color) to avoid an\n                // endless loop.\n                self._value = color;\n            }\n            if (color && color.a != 1) {\n                color = color.toCssRgba();\n            } else if (color) {\n                color = color.toCss();\n            }\n\n            self.trigger(type, { value: color });\n        }\n    }\n\n    extend(ui, {\n        colorpicker: {\n            ColorSelector: ColorSelector\n        }\n    });\n\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define){\n    define('colorpicker/contrastToolUtils',[\n        \"../kendo.core\"\n    ], f);\n})(function(){\n\n(function($, undefined){\n    var colorpicker = kendo.ui.colorpicker,\n        extend = $.extend,\n        Color = kendo.Color,\n        parseColor = kendo.parseColor,\n\n        AA_CONTRAST = 4.5,\n        AAA_CONTRAST = 7,\n        STEP_COUNT = 16;\n\n    // Color utils - calc contrast\n\n    function getContrast(luminance1, luminance2) {\n        var brightest = Math.max(luminance1, luminance2);\n        var darkest = Math.min(luminance1, luminance2);\n        return (brightest + 0.05) / (darkest + 0.05);\n    }\n\n    function getContrastFromTwoRGBAs(a, b) {\n        return getContrast(\n            getLuminance(getRGBFromRGBA(a, b)),\n            getLuminance(getRGBFromRGBA(b, { r: 0, g: 0, b: 0, a: 1 })));\n    }\n\n    function getLuminance (rgb) {\n        var a = [rgb.r, rgb.g, rgb.b].map(function (v) {\n            v /= 255;\n            return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\n        });\n        return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722;\n    }\n\n    function getRGBFromRGBA(foregroundColor, backgroundColor) {\n        var r1 = fitIntoBounds(foregroundColor.r, 0, 255);\n        var g1 = fitIntoBounds(foregroundColor.g, 0, 255);\n        var b1 = fitIntoBounds(foregroundColor.b, 0, 255);\n        var a1 = fitIntoBounds(foregroundColor.a, 0, 1);\n\n        var r2 = fitIntoBounds(backgroundColor.r, 0, 255);\n        var g2 = fitIntoBounds(backgroundColor.g, 0, 255);\n        var b2 = fitIntoBounds(backgroundColor.b, 0, 255);\n\n        return {\n            r: Math.round(((1 - a1) * r2) + (a1 * r1)),\n            g: Math.round(((1 - a1) * g2) + (a1 * g1)),\n            b: Math.round(((1 - a1) * b2) + (a1 * b1))\n        };\n    }\n\n    function fitIntoBounds(contender, min, max) {\n        if (!isPresent(contender) || isNaN(contender)) {\n            return min;\n        }\n\n        return contender <= min ? min : contender >= max ? max : contender;\n    }\n\n    function isPresent(value) { return value !== null && value !== undefined; }\n\n\n    // Color utils - Contrast tool SVG path\n\n    function renderSvgCurveLine(gradientRectMetrics, hsva, backgroundColor) {\n        var findValue = function (contrast, saturation, low, high, comparer) {\n            var mid = (low + high) / 2;\n            var currentHsva = extend({}, hsva, { s: saturation / gradientRectMetrics.width, v: 1 - mid / gradientRectMetrics.height });\n            var currentContrast = getContrastFromTwoRGBAs(parseColor(getColorFromHSV(currentHsva)).toBytes(), parseColor(backgroundColor).toBytes());\n\n            if (low + 0.5 > high) {\n                if (currentContrast < contrast + 1 && currentContrast > contrast - 1) {\n                    return mid;\n                } else {\n                    return null;\n                }\n            }\n\n            if (comparer(currentContrast, contrast)) {\n                return findValue(contrast, saturation, low, high - (high - low) / 2, comparer);\n            }\n            return findValue(contrast, saturation, low + (high - low) / 2, high, comparer);\n        };\n\n        var comparer = function (a, b) {\n            return a > b;\n        };\n\n        var reversedComparer = function (a, b) {\n            return a < b;\n        };\n\n        var getPaths = function (contrast, stepCount, reversed) {\n            var points = [];\n            for (var i = 0; i <= gradientRectMetrics.width; i += gradientRectMetrics.width/stepCount) {\n               var value = findValue(contrast, i, 0, gradientRectMetrics.height, reversed ? reversedComparer : comparer);\n                if (value !== null){\n                    points.push([i, value]);\n                }\n            }\n            return points;\n        };\n\n        var bezierCommandCalc = bezierCommand(controlPoint(line));\n        var paths = svgPath(getPaths(AA_CONTRAST, STEP_COUNT, false), bezierCommandCalc) +\n                svgPath(getPaths(AA_CONTRAST, STEP_COUNT, true), bezierCommandCalc) +\n                svgPath(getPaths(AAA_CONTRAST, STEP_COUNT, false), bezierCommandCalc) +\n                svgPath(getPaths(AAA_CONTRAST, STEP_COUNT, true), bezierCommandCalc);\n\n        return '<svg xmlns=\"http://www.w3.org/2000/svg\" style=\"position: absolute; overflow: visible; pointer-events: none; left: 0px; top: 0px; z-index: 3;\" >' +\n                    paths  + '</svg>';\n    }\n\n    function svgPath(points, command) {\n        if (points.length === 0){\n            return '';\n        }\n\n        var reducer = function (acc, point, i, a) {\n            return i === 0 ?\n                // if first point\n                kendo.format(\"M {0},{1}\", point[0], point[1]) :\n                // else\n                kendo.format(\"{0} {1}\", acc, command(point, i, a));\n        };\n\n        // build the d attributes by looping over the points\n        var d = points.reduce(reducer, \"\");\n\n        return kendo.format('<path d=\"{0}\" fill=\"none\" stroke=\"white\" stroke-width=\"1\"/>', d);\n    }\n\n    function bezierCommand(controlPointCalc) {\n        return function(point, i, a) {\n            // start control point\n            var cps = controlPointCalc(a[i - 1], a[i - 2], point); // [cpsX, cpsY]\n\n            // end control point\n            var cpe = controlPointCalc(point, a[i - 1], a[i + 1], true); //  [cpeX, cpeY]\n\n            return kendo.format(\"C {0},{1} {2},{3} {4},{5}\", cps[0], cps[1], cpe[0], cpe[1], point[0], point[1]);\n        };\n    }\n\n    function controlPoint(lineCalc) {\n        return function (current, previous, next, reverse) {\n            // when 'current' is the first or last point of the array\n            // 'previous' and 'next' are undefined\n            // replace with 'current'\n                var p = previous || current;\n                var n = next || current;\n                var smooth = 0.1;\n\n                // properties of the line between previous and next\n                var l = lineCalc(p, n);\n\n                // If is end-control-point, add PI to the angle to go backward\n                var angle = l.angle + (reverse ? Math.PI : 0);\n                var length = l.length * smooth;\n\n                // The control point position is relative to the current point\n                var x = current[0] + Math.cos(angle) * length;\n                var y = current[1] + Math.sin(angle) * length;\n\n                return [x, y];\n        };\n    }\n\n    function line (pointA, pointB) {\n        var lengthX = pointB[0] - pointA[0];\n        var lengthY = pointB[1] - pointA[1];\n\n        return {\n            length: Math.sqrt(Math.pow(lengthX, 2) + Math.pow(lengthY, 2)),\n            angle: Math.atan2(lengthY, lengthX)\n        };\n    }\n\n    function getColorFromHSV (hsva) {\n        var hue = fitIntoBounds(hsva.h, 0, 359.9);\n        var saturation = fitIntoBounds(hsva.s, 0, 1);\n        var value = fitIntoBounds(hsva.v, 0, 1);\n        var alpha = fitIntoBounds(hsva.a, 0, 1);\n\n        return Color.fromHSV(hue, saturation, value, alpha).toCssRgba();\n    }\n\n    extend(colorpicker, {\n        contrastToolUtils: {\n            getContrastFromTwoRGBAs: getContrastFromTwoRGBAs,\n            renderSvgCurveLine: renderSvgCurveLine\n        }\n    });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define){\n    define('colorpicker/colorgradient',[ \"../kendo.core\", \"./contrastToolUtils\" ], f);\n})(function(){\n\n(function($, undefined) {\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n    /*jshint eqnull:true  */\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Observable = kendo.Observable,\n        parseColor = kendo.parseColor,\n        extend = $.extend,\n        Color = kendo.Color,\n        KEYS = kendo.keys,\n        BACKGROUNDCOLOR = \"background-color\",\n        WHITE = \"#ffffff\",\n        BLACK = \"#000000\",\n        NS = \".kendoColorTools\",\n        KEYDOWN_NS = \"keydown\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector,\n\n        contrastToolUtils = ui.colorpicker.contrastToolUtils;\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    var ColorInput = Observable.extend({\n        init: function(element, options) {\n            var that = this;\n\n            that.element = element;\n            that.options = options;\n\n            that._viewModel = kendo.observable({\n                switchMode: that.switchMode.bind(that),\n                keydown: that.keydown.bind(that),\n                mode: function (mode) {\n                    return mode === this.get(\"format\");\n                },\n                format: options.format,\n                formats: options.formats,\n                rgb: null,\n                hex: function () {\n                    return this.get(\"rgb\") !== null && this.get(\"rgb\").toCss({alpha: options.opacity});\n                }\n            });\n\n            that._changeHandler = that.change.bind(that);\n\n            that._viewModel.bind(\"change\", that._changeHandler);\n\n            that._render();\n\n            that.element.on(KEYDOWN_NS, that.keydown.bind(that));\n\n            Observable.fn.init.call(that);\n        },\n\n        _template: kendo.template(\n            '# if (options.formats && options.formats.length > 1) { #' +\n            '<div class=\"k-vstack\">' +\n                '<button class=\"k-colorgradient-toggle-mode\" data-#:ns#role=\"button\" data-#:ns#icon=\"arrows-kpi\" data data-#:ns#bind=\"click: switchMode\" data-#:ns#fill-mode=\"flat\" data-#:ns#size=\"#: options.size #\" title=\"#: options.messages.toggleFormat #\">' +\n               '</button>' +\n            '</div>' +\n            '# } #' +\n\n\n            // HEX input\n            '# if (options.formats && options.formats.indexOf(\"hex\") >= 0) { #' +\n            '<div class=\"k-vstack k-flex-1\" data-#:ns#bind=\"visible: mode(\\'hex\\')\">' +\n                '<input type=\"text\" data-#:ns#bind=\"value: hex\" data-#:ns#role=\"textbox\" data-#:ns#size=\"#: options.size #\" tabindex=\"#:options.tabindex#\"  aria-label=\"#: options.messages.hex #\"/>' +\n                '<label class=\"k-colorgradient-input-label\">HEX</label>' +\n            '</div>' +\n            '# } #' +\n\n            // RGBA input\n            '# if (options.formats && options.formats.indexOf(\"rgb\") >= 0) { #' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.r\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#max=\"255\" data-#:ns#min=\"0\" data-#:ns#decimals=\"0\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n0\"  aria-label=\"#: options.messages.red #\" />' +\n                '<label class=\"k-colorgradient-input-label\">R</label>' +\n            '</div>' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.g\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#max=\"255\" data-#:ns#min=\"0\" data-#:ns#decimals=\"0\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n0\"  aria-label=\"#: options.messages.green #\" />' +\n                '<label class=\"k-colorgradient-input-label\">G</label>' +\n            '</div>' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.b\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#max=\"255\" data-#:ns#min=\"0\" data-#:ns#decimals=\"0\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n0\"  aria-label=\"#: options.messages.blue #\"/>' +\n                '<label class=\"k-colorgradient-input-label\">B</label>' +\n            '</div>' +\n            '#if(options.opacity){#' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.a\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#step=\"0.1\" data-#:ns#max=\"1\" data-#:ns#min=\"0\" data-#:ns#decimals=\"1\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n1\"  aria-label=\"#: options.messages.alpha #\" />' +\n                '<label class=\"k-colorgradient-input-label\">A</label>' +\n            '</div>' +\n            '# } #' +\n            '# } #'),\n        destroy: function(){\n            var that = this;\n\n\n            that._viewModel.unbind(\"change\", that._changeHandler);\n            kendo.unbind(that.element);\n            kendo.destroy(that.element);\n            that.element.off(KEYDOWN_NS);\n            delete that._viewModel;\n            delete that._changeHandler;\n        },\n        _render: function() {\n            var that = this;\n\n            that.element\n                .append(that._template({ ns: kendo.ns, guid: kendo.guid(), options: that.options }))\n                .parent();\n\n            kendo.bind(that.element, that._viewModel);\n            that.element.attr(\"data-\" + kendo.ns + \"stop\", \"stop\");\n        },\n        value: function (color) {\n            var that = this;\n\n            that._color = (color && color.toBytes()) || parseColor(BLACK);\n            that._preventChangeEvent = true;\n            that._viewModel.set(\"rgb\", that._color);\n            delete that._preventChangeEvent;\n        },\n        reset: function () {\n            var that = this;\n\n            that._preventChangeEvent = true;\n            that._viewModel.set(\"rgb\", parseColor(BLACK));\n            delete that._preventChangeEvent;\n        },\n        switchMode: function() {\n            var that = this,\n                model = that._viewModel,\n                currentFormat = model.format,\n                index = model.formats.indexOf(currentFormat) + 1;\n\n            index = index >= model.formats.length ? 0 : index;\n\n            that._preventChangeEvent = true;\n            that._viewModel.set(\"format\", model.formats[index]);\n            delete that._preventChangeEvent;\n        },\n        change: function (ev) {\n            var that = this;\n\n            if (ev.field.indexOf(\"rgb\") >= 0) {\n                that._color = that._tryParseColor(that._viewModel.rgb.toCssRgba());\n                that._viewModel.set(\"hex\", that._color.toCss({ alpha: that.options.opacity }));\n            } else if (ev.field === \"hex\") {\n                that._color = that._tryParseColor(ev.sender[ev.field]);\n                that._viewModel.set(\"rgb\", that._color);\n            }\n\n            if (!that._preventChangeEvent) {\n                that.trigger(\"change\", {value: that._color});\n            }\n        },\n        _tryParseColor: function (color) {\n            var that = this;\n\n            try {\n                color = parseColor(color) || that._color;\n            } catch (error) {\n                color = that._color;\n            }\n\n            return color;\n        },\n        keydown: function (ev) {\n            var that = this,\n                textbox = $(ev.target).data(\"kendoTextBox\");\n\n            if (ev.keyCode === KEYS.ENTER && $(ev.target).is(\"input\")) {\n                if(textbox && textbox._change) {\n                    textbox._change();\n                }\n\n                that.trigger(\"change\", {value: that._color});\n                that.trigger(\"select\", {value: that._color});\n            }\n        }\n    });\n\n    var ColorGradient = ColorSelector.extend({\n        init: function (element, options) {\n            var that = this,\n                value;\n\n            ColorSelector.fn.init.call(that, element, options);\n\n            options = that.options = kendo.deepExtend({}, that.options, options);\n\n            if(options.messages.previewInput) {\n                options.messages.hex = options.messages.previewInput;\n            }\n\n            options.messages = options.messages ? $.extend(that.options.messages, options.messages) : that.options.messages;\n            element = that.element;\n\n            that.wrapper = element.addClass(\"k-colorgradient\")\n                .append(that._template(options));\n\n            that._hueElements = $(\".k-hsv-rectangle, .k-alpha-slider .k-slider-track\", element);\n            that._colorgradientInputs = $(\".k-colorgradient-inputs\", element);\n            that._contrastTool = $(\".k-colorgradient-color-contrast\", element);\n\n            that._sliders();\n\n            that._hsvArea();\n\n            value = that._value;\n\n            if(that._colorgradientInputs.length) {\n                that._colorInput = new ColorInput(that._colorgradientInputs, extend({}, options, {\n                    tabindex: this._tabIndex\n                }));\n\n                that._colorInput.bind(\"change\", function(ev){\n                    that._updateUI(ev.value, true);\n                });\n\n                that._colorInput.bind(\"select\", function(ev){\n                    var color = parseColor(ev.value);\n                    that._select(color);\n                    that.trigger(\"forceSelect\", { value: that.value() });\n                });\n            }\n\n            that._updateUI(value);\n        },\n        options: {\n            name : \"ColorGradient\",\n            opacity : false,\n            input : true,\n            format: \"hex\",\n            formats: [\"rgb\", \"hex\"],\n            contrastTool: false,\n            size: \"medium\",\n            messages: {\n                contrastRatio: \"Contrast ratio:\",\n                fail: \"Fail\",\n                pass: \"Pass\",\n                hex: \"HEX\",\n                toggleFormat: \"Toggle format\",\n                red: \"Red\",\n                green: \"Green\",\n                blue: \"Blue\",\n                alpha: \"Alpha\"\n            }\n        },\n        _template: kendo.template(\n            '<div class=\"k-colorgradient-canvas k-hstack\">' +\n                '<div class=\"k-hsv-rectangle\"><div class=\"k-hsv-gradient\"></div><div class=\"k-hsv-draghandle k-draghandle\"></div></div>' +\n\n                '<div class=\"k-hsv-controls k-hstack\">' +\n                    '<input class=\"k-hue-slider k-colorgradient-slider\" />' +\n                    '# if (opacity) { #' +\n                        '<input class=\"k-alpha-slider k-colorgradient-slider\" />' +\n                    '# } #' +\n                '</div>' +\n            '</div>' +\n\n            '# if (input) { #' +\n            '<div class=\"k-colorgradient-inputs k-hstack\">' +\n            '</div>' +\n            '# } #' +\n\n            '# if (contrastTool) { #' +\n                '<div class=\"k-colorgradient-color-contrast k-vbox\">' +\n                '</div>' +\n            '# } #'\n        ),\n        _onEnable: function(enable) {\n            this._hueSlider.enable(enable);\n\n            if (this._opacitySlider) {\n                this._opacitySlider.enable(enable);\n            }\n\n            this.wrapper.find(\"input\").attr(\"disabled\", !enable);\n\n            var handle = this._hsvRect.find(\".k-draghandle\");\n\n            if (enable) {\n                handle.attr(\"tabIndex\", this._tabIndex);\n            } else {\n                handle.removeAttr(\"tabIndex\");\n            }\n        },\n        _sliders: function() {\n            var that = this,\n                element = that.element,\n                hueSlider = element.find(\".k-hue-slider\"),\n                opacitySlider = element.find(\".k-alpha-slider\");\n\n            function hueChange(e) {\n                that._updateUI(that._getHSV(e.value, null, null, null));\n            }\n\n            hueSlider.attr(\"aria-label\", \"hue saturation\");\n            that._hueSlider = hueSlider.kendoSlider({\n                min: 0,\n                max: 360,\n                tickPlacement: \"none\",\n                showButtons: false,\n                orientation: \"vertical\",\n                slide: hueChange,\n                change: hueChange\n            }).data(\"kendoSlider\");\n\n            function opacityChange(e) {\n                that._updateUI(that._getHSV(null, null, null, e.value / 100));\n            }\n\n            opacitySlider.attr(\"aria-label\", \"opacity\");\n            that._opacitySlider = opacitySlider.kendoSlider({\n                min: 0,\n                max: 100,\n                tickPlacement: \"none\",\n                showButtons: false,\n                orientation: \"vertical\",\n                slide: opacityChange,\n                change: opacityChange\n            }).data(\"kendoSlider\");\n        },\n        _hsvArea: function() {\n            var that = this,\n                element = that.element,\n                hsvRect = element.find(\".k-hsv-rectangle\"),\n                hsvHandle = hsvRect.find(\".k-draghandle\").attr(\"tabIndex\", 0).on(KEYDOWN_NS, bind(that._keydown, that));\n\n            function update(x, y) {\n                var offset = this.offset,\n                    dx = x - offset.left, dy = y - offset.top,\n                    rw = this.width, rh = this.height;\n\n                dx = dx < 0 ? 0 : dx > rw ? rw : dx;\n                dy = dy < 0 ? 0 : dy > rh ? rh : dy;\n                that._svChange(dx / rw, 1 - dy / rh);\n            }\n\n            that._hsvEvents = new kendo.UserEvents(hsvRect, {\n                global: true,\n                press: function(e) {\n                    this.offset = kendo.getOffset(hsvRect);\n                    this.width = hsvRect.width();\n                    this.height = hsvRect.height();\n                    hsvHandle.focus();\n                    update.call(this, e.x.location, e.y.location);\n                },\n                start: function() {\n                    hsvRect.addClass(\"k-dragging\");\n                    hsvHandle.focus();\n                },\n                move: function(e) {\n                    e.preventDefault();\n                    update.call(this, e.x.location, e.y.location);\n                },\n                end: function() {\n                    hsvRect.removeClass(\"k-dragging\");\n                }\n            });\n\n            that._hsvRect = hsvRect;\n            that._hsvHandle = hsvHandle;\n        },\n        setBackgroundColor: function (color) {\n            var that = this;\n\n            if (that.options.contrastTool) {\n                that.options.contrastTool = $.isPlainObject(that.options.contrastTool) ? extend({}, that.options.contrastTool, {\n                    backgroundColor: color\n                }) : {\n                    backgroundColor: color\n                };\n\n                that._updateColorContrast(that.color() || parseColor(WHITE));\n            }\n        },\n        _updateUI: function(color, dontChangeInput) {\n            var that = this;\n\n            if (!color) {\n                that._reset();\n                return;\n            }\n\n            if (!dontChangeInput && that._colorInput) {\n                that._colorInput.value(color);\n            }\n\n            that._triggerSelect(color);\n            that._updateHsv(color);\n\n            if(that._contrastTool.length) {\n                that._updateColorContrast(color);\n            }\n        },\n        _reset: function () {\n            var that = this;\n\n            if (that._colorInput) {\n                that._colorInput.reset();\n            }\n\n            that._resetHsv();\n            that._resetColorContrast();\n        },\n        _resetHsv: function () {\n            var that = this,\n                color = parseColor(BLACK);\n\n            that._updateHsv(color);\n        },\n        _updateHsv: function (color) {\n            var that = this,\n                rect = that._hsvRect;\n\n            color = color.toHSV();\n\n            that._hsvHandle.css({\n                // saturation is 0 on the left side, full (1) on the right\n                left: color.s * rect.width() + \"px\",\n                // value is 0 on the bottom, full on the top.\n                top: (1 - color.v) * rect.height() + \"px\"\n            });\n\n            that._hueElements.css(BACKGROUNDCOLOR, Color.fromHSV(color.h, 1, 1, 1).toCss());\n            that._hueSlider.value(color.h);\n\n            if (that._opacitySlider) {\n                that._opacitySlider.wrapper.find(\".k-slider-track\").css(\"background\", \"linear-gradient(to top, transparent, \" + Color.fromHSV(color.h, 1, 1, 1).toCss());\n                that._opacitySlider.value(100 * color.a);\n            }\n        },\n        _resetColorContrast: function () {\n            var that = this,\n                contrastOptions = that.options.contrastTool;\n\n            if(that._contrastTool.length) {\n                that._updateColorContrast(contrastOptions.backgroundColor ? parseColor(contrastOptions.backgroundColor) : parseColor(WHITE));\n            }\n        },\n        _updateColorContrast: function (color) {\n            var that = this,\n                contrastOptions = that.options.contrastTool,\n                backgroundColor = contrastOptions.backgroundColor ? parseColor(contrastOptions.backgroundColor) : parseColor(WHITE),\n                contrastRatio = contrastToolUtils.getContrastFromTwoRGBAs(parseColor(color.toCssRgba()), backgroundColor),\n                contrastRatioTemplate = kendo.template('<div class=\"k-contrast-ratio\">' +\n                                            '<span class=\"k-contrast-ratio-text\">#:messages.contrastRatio# #:kendo.toString(ratio, \"n2\")#</span>' +\n                                            '<span class=\"k-contrast-validation k-text-success\">' +\n                                                '#if (ratio > 4.5) {#' +\n                                                    '<span class=\"k-icon k-i-check\"></span>' +\n                                                '#}#' +\n                                                '#if (ratio > 7) {#' +\n                                                    '<span class=\"k-icon k-i-check\"></span>' +\n                                                '#}#' +\n                                            '</span></div>'),\n                labelTemplate = kendo.template('<div>' +\n                                            '<span>#:level#: #:limit# </span>' +\n                                            '#if (ratio > limit) {#' +\n                                            '<span class=\"k-contrast-validation k-text-success\">#:messages.pass# <span class=\"k-icon k-i-check\"></span></span>' +\n                                            '#} else {#' +\n                                            '<span class=\"k-contrast-validation k-text-error\">#:messages.fail# <span class=\"k-icon k-i-close\"></span></span>' +\n                                            '#}#' +\n                                            '</div>'),\n                output = \"\";\n\n            output += contrastRatioTemplate({\n                messages: that.options.messages,\n                ratio: contrastRatio,\n            });\n\n            output += labelTemplate({\n                messages: that.options.messages,\n                ratio: contrastRatio,\n                limit: 4.5,\n                level: \"AA\"\n            });\n\n            output += labelTemplate({\n                messages: that.options.messages,\n                ratio: contrastRatio,\n                limit: 7,\n                level: \"AAA\"\n            });\n\n            that._contrastTool.find(\".k-contrast-ratio, div\").remove();\n            that._contrastTool.append(output);\n\n            that._updateContrastSvg(backgroundColor);\n        },\n        _updateContrastSvg: function (backgroundColor) {\n            var that = this,\n                hsvRect = that._hsvRect,\n                svgClassName = \"k-color-contrast-svg\",\n                metrics = { width: hsvRect.width(), height: hsvRect.height() },\n                newSvg;\n\n            if(!metrics.width || !metrics.height) {\n                return;\n            }\n\n            newSvg = $(contrastToolUtils.renderSvgCurveLine(metrics, that._getHSV(), backgroundColor)).addClass(svgClassName);\n\n            hsvRect.find(\".\" + svgClassName).remove();\n            hsvRect.append(newSvg);\n        },\n        _keydown: function(ev) {\n            var that = this;\n            function move(prop, d) {\n                var c = that._getHSV();\n                c[prop] += d * (ev.shiftKey ? 0.01 : 0.05);\n                if (c[prop] < 0) { c[prop] = 0; }\n                if (c[prop] > 1) { c[prop] = 1; }\n                that._updateUI(c);\n                preventDefault(ev);\n            }\n            function hue(d) {\n                var c = that._getHSV();\n                c.h += d * (ev.shiftKey ? 1 : 5);\n                if (c.h < 0) { c.h = 0; }\n                if (c.h > 359) { c.h = 359; }\n                that._updateUI(c);\n                preventDefault(ev);\n            }\n            switch (ev.keyCode) {\n            case KEYS.LEFT:\n                if (ev.ctrlKey) {\n                    hue(-1);\n                } else {\n                    move(\"s\", -1);\n                }\n                break;\n            case KEYS.RIGHT:\n                if (ev.ctrlKey) {\n                    hue(1);\n                } else {\n                    move(\"s\", 1);\n                }\n                break;\n            case KEYS.UP:\n                move(ev.ctrlKey && that._opacitySlider ? \"a\" : \"v\", 1);\n                break;\n            case KEYS.DOWN:\n                move(ev.ctrlKey && that._opacitySlider ? \"a\" : \"v\", -1);\n                break;\n            case KEYS.ENTER:\n                that._select(that._getHSV());\n                break;\n            case KEYS.F2:\n                that._colorInput.element.find(\"input\").trigger(\"focus\").select();\n                break;\n            case KEYS.ESC:\n                that._cancel();\n                break;\n            }\n        },\n        focus: function() {\n            this._hsvHandle.focus();\n        },\n        _getHSV: function(h, s, v, a) {\n            var that = this,\n                rect = that._hsvRect,\n                width = rect.width(),\n                height = rect.height(),\n                handlePosition = this._hsvHandle.position();\n\n            if(!width || !height) {\n                return that.color() ? that.color().toHSV() : parseColor(BLACK);\n            }\n\n            if (h == null) {\n                h = that._hueSlider.value();\n            }\n            if (s == null) {\n                s = handlePosition.left / width;\n            }\n            if (v == null) {\n                v = 1 - handlePosition.top / height;\n            }\n            if (a == null) {\n                a = that._opacitySlider ? that._opacitySlider.value() / 100 : 1;\n            }\n            return Color.fromHSV(h, s, v, a);\n        },\n        _svChange: function(s, v) {\n            var color = this._getHSV(null, s, v, null);\n            this._updateUI(color);\n        },\n        destroy: function (){\n            this._hsvEvents.destroy();\n\n            this._hueSlider.destroy();\n            if (this._opacitySlider) {\n                this._opacitySlider.destroy();\n            }\n\n            if(this._colorInput) {\n                this._colorInput.destroy();\n            }\n\n            this._hueSlider = this._opacitySlider = this._hsvRect = this._hsvHandle =\n                this._hueElements = this._selectedColor = this._colorAsText =\n                this._contrastTool = null;\n\n            ColorSelector.fn.destroy.call(this);\n        }\n    });\n\n    ui.plugin(ColorGradient);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define){\n    define('colorpicker/colorpalette',[\n        \"../kendo.core\"\n    ], f);\n})(function(){\n\n(function($, undefined){\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n    /*jshint eqnull:true  */\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        parseColor = kendo.parseColor,\n        KEYS = kendo.keys,\n        BACKGROUNDCOLOR = \"background-color\",\n        ITEMSELECTEDCLASS = \"k-state-selected\",\n        ITEMSFOCUSEDCLASS = \"k-state-focus\",\n        SIMPLEPALETTE = \"000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7\",\n        WEBPALETTE = \"FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000\",\n        NS = \".kendoColorTools\",\n        CLICK_NS = \"click\" + NS,\n        KEYDOWN_NS = \"keydown\" + NS,\n        BLUR_NS = \"blur\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector;\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    function relative(array, element, delta) {\n        array = Array.prototype.slice.call(array);\n        var n = array.length;\n        var pos = array.indexOf(element);\n        if (pos < 0) {\n            return delta < 0 ? array[n - 1] : array[0];\n        }\n        pos += delta;\n        if (pos < 0) {\n            pos += n;\n        } else {\n            pos %= n;\n        }\n        return array[pos];\n    }\n\n    var ColorPalette = ColorSelector.extend({\n        init: function(element, options) {\n            var that = this;\n            ColorSelector.fn.init.call(that, element, options);\n            element = that.wrapper = that.element;\n            options = that.options;\n\n            var colors = options.palette || \"basic\";\n\n            if (colors == \"websafe\") {\n                colors = WEBPALETTE;\n                options.columns = 18;\n            } else if (colors == \"basic\") {\n                colors = SIMPLEPALETTE;\n            }\n\n            if (typeof colors == \"string\") {\n                colors = colors.split(\",\");\n            }\n\n            if ($.isArray(colors)) {\n                colors = $.map(colors, function(x) { return parseColor(x); });\n            }\n\n            that._selectedID = (options.ariaId || kendo.guid()) + \"_selected\";\n\n            element.addClass(\"k-colorpalette\")\n                .attr(\"role\", \"grid\")\n                .attr(\"aria-readonly\", \"true\")\n                .append($(that._template({\n                    colors   : colors,\n                    columns  : options.columns,\n                    tileSize : options.tileSize,\n                    value    : that._value,\n                    id       : options.ariaId\n                })))\n                .on(CLICK_NS, \".k-colorpalette-tile\", function(ev){\n                    that._select(ev.currentTarget);\n                })\n                .attr(\"tabIndex\", that._tabIndex)\n                .on(KEYDOWN_NS, bind(that._keydown, that))\n                .on(BLUR_NS, function(){\n                    that.wrapper.find(\".k-colorpalette-tile\").removeClass(ITEMSFOCUSEDCLASS);\n                });\n\n            var tileSize = options.tileSize, width, height;\n            if (tileSize) {\n                if (/number|string/.test(typeof tileSize)) {\n                    width = height = parseFloat(tileSize);\n                } else if (typeof tileSize == \"object\") {\n                    width = parseFloat(tileSize.width);\n                    height = parseFloat(tileSize.height);\n                } else {\n                    throw new Error(\"Unsupported value for the 'tileSize' argument\");\n                }\n                element.find(\".k-colorpalette-tile\").css({ width: width, height: height });\n            }\n        },\n        focus: function(){\n            if (this.wrapper && !this.wrapper.is(\"[unselectable='on']\")) {\n                this.wrapper.trigger(\"focus\");\n            }\n        },\n        options: {\n            name: \"ColorPalette\",\n            columns: 10,\n            tileSize: null,\n            palette: \"basic\"\n        },\n        _onEnable: function(enable) {\n            if (enable) {\n                this.wrapper.attr(\"tabIndex\", this._tabIndex);\n            } else {\n                this.wrapper.removeAttr(\"tabIndex\");\n            }\n        },\n        _keydown: function(e) {\n            var selected,\n                wrapper = this.wrapper,\n                items = wrapper.find(\".k-colorpalette-tile\"),\n                current = items.filter(\".\" + ITEMSFOCUSEDCLASS).get(0) || items.filter(\".\" + ITEMSELECTEDCLASS).get(0),\n                keyCode = e.keyCode;\n\n            if (keyCode == KEYS.LEFT) {\n                selected = relative(items, current, -1);\n            } else if (keyCode == KEYS.RIGHT) {\n                selected = relative(items, current, 1);\n            } else if (keyCode == KEYS.DOWN) {\n                selected = relative(items, current, this.options.columns);\n            } else if (keyCode == KEYS.UP) {\n                selected = relative(items, current, -this.options.columns);\n            } else if (keyCode == KEYS.ENTER) {\n                preventDefault(e);\n                if (current) {\n                    this._select(current);\n                    this.trigger(\"forceSelect\", { value: this.value() });\n                    return;\n                }\n            } else if (keyCode == KEYS.ESC) {\n                this._cancel();\n            }\n\n            if (selected) {\n                preventDefault(e);\n\n                this._current(selected);\n\n                try {\n                    var color = parseColor(selected.css(BACKGROUNDCOLOR));\n                    this._triggerSelect(color);\n                } catch(ex) {}\n            }\n        },\n        _select: function(item) {\n            var that = this,\n                items = that.wrapper.find(\".k-colorpalette-tile\");\n\n            item = $(item);\n\n            ColorSelector.fn._select.call(that, item.css(BACKGROUNDCOLOR));\n\n            items.removeClass(ITEMSELECTEDCLASS);\n            item.addClass(ITEMSELECTEDCLASS);\n        },\n        _current: function(item) {\n            this.wrapper.find(\".\" + ITEMSFOCUSEDCLASS)\n                .removeClass(ITEMSFOCUSEDCLASS)\n                .attr(\"aria-selected\", false)\n                .removeAttr(\"id\");\n\n            $(item)\n                .addClass(ITEMSFOCUSEDCLASS)\n                .attr(\"aria-selected\", true)\n                .attr(\"id\", this._selectedID);\n\n            this.element\n                .removeAttr(\"aria-activedescendant\")\n                .attr(\"aria-activedescendant\", this._selectedID);\n        },\n        _updateUI: function(color) {\n            var item = null,\n                items = this.wrapper.find(\".k-colorpalette-tile\");\n\n            this.wrapper.find(\".k-colorpalette-tile\").each(function(){\n                var c = parseColor($(this).css(BACKGROUNDCOLOR));\n\n                if (c && c.equals(color)) {\n                    item = this;\n\n                    return false;\n                }\n            });\n\n            this._current(item);\n\n            items.removeClass(ITEMSELECTEDCLASS);\n\n            if(item) {\n                $(item).addClass(ITEMSELECTEDCLASS);\n            }\n        },\n        _template: kendo.template(\n            '<div class=\"k-colorpalette-table-wrap\">' +\n            '<table class=\"k-colorpalette-table k-palette\" role=\"presentation\"><tr role=\"row\">' +\n              '# for (var i = 0; i < colors.length; ++i) { #' +\n                '# var selected = colors[i].equals(value); #' +\n                '# if (i && i % columns == 0) { # </tr><tr role=\"row\"> # } #' +\n                '<td role=\"gridcell\" unselectable=\"on\" style=\"background-color:#= colors[i].toCss() #\"' +\n                    '#= selected ? \" aria-selected=true\" : \"\" # ' +\n                    '#=(id && i === 0) ? \"id=\\\\\"\"+id+\"\\\\\" \" : \"\" # ' +\n                    'class=\"k-colorpalette-tile#= selected ? \" ' + ITEMSELECTEDCLASS + '\" : \"\" #\" ' +\n                    'aria-label=\"#= colors[i].toCss() #\"></td>' +\n              '# } #' +\n            '</tr></table></div>'\n        )\n    });\n\n\n    ui.plugin(ColorPalette);\n\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('colorpicker/flatcolorpicker',[\n        \"./colorgradient\",\n        \"./colorpalette\",\n        \"../kendo.html.button\"\n    ], f);\n})(function(){\n\n(function($, undefined){\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n    /*jshint eqnull:true  */\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        html = kendo.html,\n        Color = kendo.Color,\n        extend = $.extend,\n        BACKGROUNDCOLOR = \"background-color\",\n        MESSAGES = {\n            apply  : \"Apply\",\n            cancel : \"Cancel\",\n            noColor: \"no color\",\n            clearColor: \"Clear color\",\n            previewInput: null,\n            contrastRatio: \"Contrast ratio:\",\n            fail: \"Fail\",\n            pass: \"Pass\",\n            hex: \"HEX\",\n            toggleFormat: \"Toggle format\",\n            red: \"Red\",\n            green: \"Green\",\n            blue: \"Blue\",\n            alpha: \"Alpha\",\n            gradient: \"Gradient view\",\n            palette: \"Palette view\"\n        },\n        NS = \".kendoColorTools\",\n        CLICK_NS = \"click\" + NS,\n        KEYDOWN_NS = \"keydown\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector,\n        KEYS = kendo.keys,\n\n        NO_COLOR = \"k-no-color\",\n        SELECTED = \"k-selected\",\n        PREVIEW_MASK = \".k-color-preview-mask\",\n\n        VIEWS = {\n            \"gradient\": ui.ColorGradient,\n            \"palette\": ui.ColorPalette\n        };\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    var FlatColorPicker = ColorSelector.extend({\n        init: function(element, options) {\n            var that = this;\n\n            if (options && options.autoupdate === false) {\n                options._standalone = false;\n            }\n\n            ColorSelector.fn.init.call(that, element, options);\n            options = that.options = kendo.deepExtend({}, that.options, options);\n            element = that.element;\n\n            that.wrapper = element.addClass(\"k-flatcolorpicker k-coloreditor\")\n                .append(that._template());\n\n            that._selectedColor = $(\".k-coloreditor-preview-color\", element);\n            that._previousColor = $(\".k-coloreditor-current-color\", element);\n            that._viewsContainer = $(\".k-coloreditor-views\", element);\n\n            element.find(\".k-button[data-view=\" + that.options.view + \"]\").addClass(SELECTED);\n\n            var value = that.color();\n\n            that._changeView(options.view);\n\n            that._setViewSize();\n\n            if (value) {\n                that._updateUI(value);\n                that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n                that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n            } else {\n                that._selectedColor.addClass(NO_COLOR);\n                that._previousColor.addClass(NO_COLOR);\n            }\n\n            element\n                .on(KEYDOWN_NS, bind(that._keydown, that))\n                .on(CLICK_NS, \".k-coloreditor-reset\", function () {\n                    that._clearColor = true;\n                    that._updateUI(null);\n                    that._view.value(null);\n                })\n                .on(CLICK_NS, \".k-coloreditor-apply\", function(){\n                    if(that._clearColor) {\n                        that._select(null);\n                    } else {\n                        that._select(that._view.color());\n                    }\n                })\n                .on(CLICK_NS, \".k-coloreditor-cancel\", function(){\n                    delete that._clearColor;\n                    that._updateUI(that.color());\n                    that._cancel();\n                })\n                .on(CLICK_NS, \".k-button[data-view]\", function(ev){\n                    var viewButton =  $(ev.target).closest(\"[data-view]\");\n\n                    if(viewButton.is(\".\" + SELECTED)) {\n                        return;\n                    }\n\n                    element.find(\".k-button[data-view]\").removeClass(SELECTED);\n                    viewButton.addClass(SELECTED);\n                    that._changeView(viewButton.data(\"view\"));\n                });\n        },\n        destroy: function() {\n            var that = this;\n\n            ColorSelector.fn.destroy.call(this);\n\n            if (that._view) {\n                that._view.destroy();\n                that._viewsContainer.empty();\n            }\n\n            that.element.off(NS);\n\n            that._selectedColor = that._previousColor = that._viewsContainer = that._view = null;\n        },\n        options: {\n            name: \"FlatColorPicker\",\n            opacity: false,\n            buttons: false,\n            input: true,\n            preview: true,\n            clearButton: false,\n            format: \"hex\",\n            formats: [\"rgb\", \"hex\"],\n            view: \"gradient\",\n            views: [\"gradient\", \"palette\"],\n            palette: null,\n            autoupdate : true,\n            backgroundColor: null,\n            columns: 10,\n            tileSize: 24,\n            messages   : MESSAGES,\n            size: \"medium\" // Fake styling option to accomplish colorpicker's size for textbox and button\n        },\n        setBackgroundColor: function (color) {\n            var that = this;\n\n            if(that._view && that._view.setBackgroundColor) {\n                that._view.setBackgroundColor(color);\n            }\n        },\n        _select: function(value) {\n            var that = this;\n\n            ColorSelector.fn._select.call(that, value);\n\n            that._updatePreviousColor(value);\n        },\n        _updatePreviousColor: function (value) {\n            var that = this;\n\n            if (value) {\n                that._previousColor.removeClass(NO_COLOR);\n                that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n            } else {\n                that._previousColor.addClass(NO_COLOR);\n                that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, \"\");\n            }\n        },\n        _changeView: function (mode) {\n            var that = this,\n                options = $.extend({}, that.options),\n                selector =  VIEWS[mode],\n                selectedColor, hsvColor;\n\n            if(that._view && that._view._colorInput) {\n                that.options.format = that._view._colorInput._viewModel.format;\n            }\n\n            that.options.view = mode;\n\n            delete options.name;\n            delete options.change;\n            delete options.select;\n            delete options.cancel;\n            delete options._standalone;\n\n            if (that._view) {\n                selectedColor = that._view.color();\n                that._view.destroy();\n                that._viewsContainer.empty();\n            }\n\n            if (selectedColor) {\n                selectedColor = selectedColor.toHSV();\n                hsvColor = Color.fromHSV(that._cachedHue || 0, selectedColor.s, selectedColor.v, selectedColor.a);\n                that._cachedHue = selectedColor.toHSV().h;\n                selectedColor = selectedColor.equals(hsvColor) ? hsvColor : selectedColor;\n            }\n\n            if (selector) {\n                that._view = new VIEWS[mode]($(\"<div></div>\").appendTo(that._viewsContainer), options);\n                that._view.value(selectedColor);\n\n                that._view.bind(\"change\", function (ev) {\n                    delete that._clearColor;\n                    that._updateUI(ev.sender.color(), true);\n                });\n\n                that._view.bind(\"forceSelect\", function (ev) {\n                    delete that._clearColor;\n                    that._select(ev.sender.color());\n                });\n            }\n        },\n        _onEnable: function(enable) {\n            var that = this;\n\n            if (that._view) {\n                that._view._onEnable(enable);\n            }\n        },\n        focus: function() {\n            var that = this;\n\n            if (that._view) {\n                that._view.focus();\n            }\n        },\n        _updateUI: function(color, dontChangeView) {\n            var that = this;\n\n            if (color && color.toDisplay) {\n                that._selectedColor.removeClass(NO_COLOR);\n                that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, color.toDisplay());\n            } else {\n                that._selectedColor.addClass(NO_COLOR);\n                that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, \"\");\n            }\n\n            that._triggerSelect(color);\n\n            if (that.options.autoupdate) {\n                that._updatePreviousColor(color);\n            }\n\n            if(!dontChangeView) {\n                that._view.value(color);\n            }\n        },\n        _setViewSize: function() {\n            var that = this,\n                wrapper = that.wrapper[0],\n                previewWidth = parseInt((that.options.tileSize.width || that.options.tileSize), 10),\n                previewHeight = parseInt((that.options.tileSize.width || that.options.tileSize), 10),\n                previewColumns = that.options.columns;\n\n            wrapper.style.setProperty(\"--kendo-color-preview-columns\", previewColumns);\n            wrapper.style.setProperty(\"--kendo-color-preview-width\", previewWidth + \"px\");\n            wrapper.style.setProperty(\"--kendo-color-preview-height\", previewHeight + \"px\");\n        },\n        _keydown: function(e) {\n\n            if (e.keyCode == KEYS.ESC) {\n                this._cancel();\n            }\n        },\n        _template: function () {\n            var that = this,\n                options = that.options,\n                buttonOptions = extend({}, options, {\n                    fillMode: \"flat\",\n                    themeColor: \"base\",\n                    rounded: \"medium\"\n                });\n\n            return kendo.template(\n                    '<div class=\"k-coloreditor-header k-hstack\">' +\n                        '# if (views && views.length > 1) { #' +\n                        '<div class=\"k-coloreditor-header-actions k-hstack\">' +\n                            '<div class=\"k-button-group k-button-group-flat\">' +\n                                html.renderButton('<button  data-view=\"gradient\" title=\"#:messages.gradient#\"></button>', extend({ icon: \"color-canvas\" }, buttonOptions)) +\n                                html.renderButton('<button  data-view=\"palette\" title=\"#:messages.palette#\"></button>', extend({ icon: \"palette\" }, buttonOptions)) +\n                            '</div>' +\n                        '</div>' +\n                        '# } #' +\n                        '<div class=\"k-spacer\"></div>' +\n                        '<div class=\"k-coloreditor-header-actions k-hstack\">' +\n                            '# if (clearButton) { #' +\n                            html.renderButton('<button class=\"k-coloreditor-reset\" title=\"#:messages.clearColor#\"></button>', extend({ icon: \"reset-color\" }, buttonOptions)) +\n                            '# } #' +\n                            '# if (preview) { #' +\n                            '<div class=\"k-coloreditor-preview k-vstack\">' +\n                                '<span class=\"k-coloreditor-preview-color k-color-preview\">' +\n                                    '<span class=\"k-color-preview-mask\"></span>' +\n                                '</span>' +\n                                '<span class=\"k-coloreditor-current-color k-color-preview\">' +\n                                    '<span class=\"k-color-preview-mask\"></span>' +\n                                '</span>' +\n                            '</div>' +\n                            '# } #' +\n                        '</div>' +\n                    '</div>' +\n                    '<div class=\"k-coloreditor-views k-vstack\"></div>' +\n                    '# if (buttons) { #' +\n                    '<div class=\"k-coloreditor-footer k-actions k-hstack k-justify-content-end\">' +\n                        html.renderButton('<button class=\"k-coloreditor-cancel\" title=\"#:messages.cancel#\">#: messages.cancel #</button>', extend({}, buttonOptions, { fillMode: \"solid\" })) +\n                        html.renderButton('<button class=\"k-coloreditor-apply\" title=\"#:messages.apply#\">#: messages.apply #</button>', extend({}, buttonOptions, { fillMode: \"solid\", themeColor: \"primary\" })) +\n                    '</div>' +\n                    '# } #'\n                )(options);\n            }\n    });\n\n    ui.plugin(FlatColorPicker);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.colorpicker',[\n        \"./kendo.core\",\n        \"./kendo.color\",\n        \"./kendo.popup\",\n        \"./kendo.slider\",\n        \"./kendo.userevents\",\n        \"./kendo.button\",\n        \"./kendo.binder\",\n        \"./kendo.textbox\",\n        \"./kendo.numerictextbox\",\n        \"./kendo.html.button\",\n\n        \"./colorpicker/colorselector\",\n        \"./colorpicker/flatcolorpicker\"\n    ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"colorpicker\",\n    name: \"Color tools\",\n    category: \"web\",\n    description: \"Color selection widgets\",\n    depends: [ \"core\", \"color\", \"popup\", \"slider\", \"userevents\", \"button\", \"binder\", \"textbox\", \"numerictextbox\", \"html.button\" ]\n};\n\n(function($, undefined){\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n    /*jshint eqnull:true  */\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        Color = kendo.Color,\n        parseColor = kendo.parseColor,\n        KEYS = kendo.keys,\n        BACKGROUNDCOLOR = \"background-color\",\n        MESSAGES = {\n            apply  : \"Apply\",\n            cancel : \"Cancel\",\n            noColor: \"no color\",\n            clearColor: \"Clear color\",\n            previewInput: null,\n            contrastRatio: \"Contrast ratio:\",\n            fail: \"Fail\",\n            pass: \"Pass\",\n            hex: \"HEX\",\n            toggleFormat: \"Toggle format\",\n            red: \"Red\",\n            green: \"Green\",\n            blue: \"Blue\",\n            alpha: \"Alpha\",\n            gradient: \"Gradient view\",\n            palette: \"Palette view\"\n        },\n        NS = \".kendoColorTools\",\n        CLICK_NS = \"click\" + NS,\n        KEYDOWN_NS = \"keydown\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector,\n        FlatColorPicker = ui.FlatColorPicker;\n\n    /* -----[ The ColorPicker widget ]----- */\n\n    var ColorPicker = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            // Legacy support for the cases where only palette is defined\n            if(options && options.palette && !options.view){\n                options.view =\"palette\";\n            }\n\n            Widget.fn.init.call(that, element, options);\n            options = that.options = kendo.deepExtend({}, that.options, options);\n            element = that.element;\n\n            var value = element.attr(\"value\") || element.val();\n            if (value) {\n                value = parseColor(value, true);\n            } else {\n                value = parseColor(options.value, true);\n            }\n            that._value = options.value = value;\n\n            var _buttonHtml = kendo.html.renderButton('<button class=\"k-select k-button-rectangle k-input-button\" unselectable=\"on\" aria-label=\"select\" tabindex=\"-1\"></button>', $.extend({}, that.options, {\n                icon: \"arrow-s\"\n            }));\n\n            var content = that._inputWrapper = that.wrapper = $(that._template($.extend({}, that.options, {\n                _buttonHtml: _buttonHtml\n            })));\n\n            that._applyCssClasses();\n            element.hide().after(content);\n\n            if (element.is(\"input\")) {\n                element.appendTo(content);\n\n                // if there exists a <label> associated with this\n                // input field, we must catch clicks on it to prevent\n                // the built-in color picker from showing up.\n                // https://github.com/telerik/kendo-ui-core/issues/292\n\n                var label = element.closest(\"label\");\n                var id = element.attr(\"id\");\n                if (id) {\n                    label = label.add('label[for=\"' + id + '\"]');\n                }\n                label.on(\"click\", function(ev){\n                    that.open();\n                    ev.preventDefault();\n                });\n            }\n\n            that._tabIndex = element.attr(\"tabIndex\") || 0;\n\n            that.enable(!element.attr(\"disabled\"));\n\n            var accesskey = element.attr(\"accesskey\");\n            if (accesskey) {\n                element.attr(\"accesskey\", null);\n                content.attr(\"accesskey\", accesskey);\n            }\n\n            that.bind(\"activate\", function(ev){\n                if (!ev.isDefaultPrevented()) {\n                    that.toggle();\n                }\n            });\n\n            that._updateUI(value);\n        },\n        destroy: function() {\n            this.wrapper.off(NS).find(\"*\").off(NS);\n            if (this._popup) {\n                this._selector.destroy();\n                this._popup.destroy();\n            }\n            this._selector = this._popup = this.wrapper = null;\n            Widget.fn.destroy.call(this);\n        },\n        enable: function(enable) {\n            var that = this,\n                wrapper = that.wrapper,\n                arrow = wrapper.find(\".k-input-button\");\n\n            if (arguments.length === 0) {\n                enable = true;\n            }\n\n            that.element.attr(\"disabled\", !enable);\n            wrapper.attr(\"aria-disabled\", !enable);\n\n            arrow.off(NS).on(\"mousedown\" + NS, preventDefault);\n\n            wrapper.addClass(\"k-disabled\")\n                .removeAttr(\"tabIndex\")\n                .add(\"*\", wrapper).off(NS);\n\n            if (enable) {\n                wrapper.removeClass(\"k-disabled\")\n                    .attr(\"tabIndex\", that._tabIndex)\n                    .on(\"mouseenter\" + NS, function () { wrapper.addClass(\"k-hover\"); })\n                    .on(\"mouseleave\" + NS, function () { wrapper.removeClass(\"k-hover\"); })\n                    .on(\"focus\" + NS, function () { wrapper.addClass(\"k-focus\"); })\n                    .on(\"blur\" + NS, function () { wrapper.removeClass(\"k-focus\"); })\n                    .on(KEYDOWN_NS, bind(that._keydown, that))\n                    .on(CLICK_NS, \".k-input-button\", bind(that.toggle, that))\n                    .on(CLICK_NS, \".k-input-inner\", function () {\n                        that.trigger(\"activate\");\n                    });\n            } else {\n                that.close();\n            }\n        },\n\n        _template: kendo.template(\n            '<span role=\"textbox\" aria-haspopup=\"true\" class=\"k-colorpicker k-picker k-icon-picker\">' +\n                '<span  class=\"k-input-inner\">' +\n                    '<span class=\"k-value-icon k-color-preview #: toolIcon ? \"k-icon-color-preview\" : \"\" #\">' +\n                        '# if (toolIcon) { #' +\n                        '<span class=\"k-color-preview-icon k-icon #= toolIcon #\"></span>' +\n                        '# } #' +\n                        '<span class=\"k-color-preview-mask\"></span>' +\n                    '</span>' +\n                '</span >' +\n                '#= _buttonHtml #' +\n            '</span>'\n        ),\n\n        options: {\n            name: \"ColorPicker\",\n            closeOnSelect: false,\n            contrastTool: false,\n            palette: null,\n            columns: 10,\n            toolIcon: null,\n            value: null,\n            messages: MESSAGES,\n            opacity: false,\n            buttons: true,\n            preview: true,\n            clearButton: false,\n            input      : true,\n            format: \"hex\",\n            formats: [\"rgb\", \"hex\"],\n            view: \"gradient\",\n            views: [\"gradient\", \"palette\"],\n            backgroundColor: null,\n            ARIATemplate: 'Current selected color is #=data || \"\"#',\n            size: \"medium\",\n            rounded: \"medium\",\n            fillMode: \"solid\"\n        },\n\n        events: [ \"activate\", \"change\", \"select\", \"open\", \"close\" ],\n\n        open: function () {\n            if (!this.element.prop(\"disabled\")) {\n                this._getPopup().open();\n            }\n        },\n        close: function () {\n            var selOptions = (this._selector && this._selector.options) || {};\n            selOptions._closing = true;\n            this._getPopup().close();\n\n            delete selOptions._closing;\n        },\n        toggle: function () {\n            if (!this.element.prop(\"disabled\")) {\n                this._getPopup().toggle();\n            }\n        },\n        setBackgroundColor: function (color) {\n            var that = this,\n                handler = function () { that._selector.setBackgroundColor(color); };\n\n            that.options.contrastTool.backgroundColor = color;\n\n            if(that._selector && (that._popup && that._popup.visible())) {\n                that._selector.setBackgroundColor(color);\n            } else if (that._popup) {\n                that._popup.unbind(\"activate\", handler);\n                that._popup.bind(\"activate\", handler);\n            }\n        },\n        _noColorIcon: function(){\n            return this.wrapper.find(\".k-color-preview\");\n        },\n        color: ColorSelector.fn.color,\n        value: ColorSelector.fn.value,\n        _select: ColorSelector.fn._select,\n        _triggerSelect: ColorSelector.fn._triggerSelect,\n        _isInputTypeColor: function() {\n            var el = this.element[0];\n            return (/^input$/i).test(el.tagName) && (/^color$/i).test(el.type);\n        },\n\n        _updateUI: function(value, dontChangeSelector) {\n            var formattedValue = \"\";\n\n            if (value) {\n                if (this._isInputTypeColor() || value.a == 1) {\n                    // seems that input type=\"color\" doesn't support opacity\n                    // in colors; the only accepted format is hex #RRGGBB\n                    formattedValue = value.toCss();\n                } else {\n                    formattedValue = value.toCssRgba();\n                }\n\n                this.element.val(formattedValue);\n            }\n\n            if (!this._ariaTemplate) {\n                this._ariaTemplate = kendo.template(this.options.ARIATemplate);\n            }\n\n            this.wrapper.attr(\"aria-label\", this._ariaTemplate(formattedValue));\n\n            this._triggerSelect(value);\n            this.wrapper.find(\".k-color-preview-mask\").css(\n                BACKGROUNDCOLOR,\n                value ? value.toDisplay() : \"\"\n            );\n\n            this._noColorIcon().toggleClass(\"k-no-color\", !formattedValue);\n\n            if (this._selector && !dontChangeSelector) {\n                this._selector.value(value);\n            }\n        },\n        _keydown: function(ev) {\n            var key = ev.keyCode;\n            if (this._getPopup().visible()) {\n                if (key == KEYS.ESC) {\n                    this._selector._cancel();\n                } else {\n                    this._selector._keydown(ev);\n                }\n                preventDefault(ev);\n            }\n            else if (key == KEYS.ENTER || key == KEYS.DOWN) {\n                this.open();\n                preventDefault(ev);\n            }\n        },\n        _getPopup: function() {\n            var that = this, popup = that._popup;\n\n            if (!popup) {\n                var options = that.options;\n                var selectorType;\n\n                selectorType = FlatColorPicker;\n\n                options.autoupdate = options.buttons !== true;\n                delete options.select;\n                delete options.change;\n                delete options.cancel;\n\n                var id = kendo.guid();\n\n                var selectorWrapper = $('<div id=\"' + id +'\" class=\"k-colorpicker-popup\"></div>').appendTo(document.body);\n                var selector = that._selector = new selectorType($('<div></div>').appendTo(selectorWrapper), options);\n\n                that.wrapper.attr(\"aria-owns\", id);\n\n                that._popup = popup = selectorWrapper.kendoPopup({\n                    anchor: that.wrapper,\n                    adjustSize: { width: 5, height: 0 }\n                }).data(\"kendoPopup\");\n\n                selector.bind({\n                    select: function(ev){\n                        that._updateUI(parseColor(ev.value), true);\n                    },\n                    change: function(ev){\n                        if (that.options.buttons) {\n                            that._select(selector.color());\n                        } else {\n                            that._updateUI(parseColor(ev.value), true);\n                        }\n\n                        if (that.options.buttons || (that._selector.options.view === \"palette\" && that.options.closeOnSelect)) {\n                            that.close();\n                        }\n                    },\n                    cancel: function() {\n                        that.close();\n                    }\n                });\n                popup.bind({\n                    close: function(ev){\n                        if (that.trigger(\"close\")) {\n                            ev.preventDefault();\n                            return;\n                        }\n                        that.wrapper.removeClass(\"k-focus\");\n\n                        var color = selector.color();\n\n                        if (!that.options.buttons) {\n                            that._select(color);\n                        } else {\n                            that._select(that.color());\n                        }\n\n                        color = that.color();\n\n                        if (color && color.h) {\n                            that._cachedHue = color.h;\n                        }\n\n                        var clickedOutside = event &&\n                            event instanceof MouseEvent &&\n                            $(event.target).parents(\".k-colorpicker-popup\").length === 0;\n\n                        if (!clickedOutside) {\n                            setTimeout(function () {\n                                if (that.wrapper && !that.wrapper.is(\"[unselectable='on']\")) {\n                                    that.wrapper.trigger(\"focus\");\n                                }\n                            }, 0);\n                        }\n                    },\n                    open: function(ev) {\n                        if (that.trigger(\"open\")) {\n                            ev.preventDefault();\n                        } else {\n                            that.wrapper.addClass(\"k-focus\");\n                        }\n                    },\n                    activate: function(){\n                        var hsvColor,\n                            selectedColor = that.color();\n\n                        if (selectedColor) {\n                            selectedColor = selectedColor.toHSV();\n                            hsvColor = Color.fromHSV(that._cachedHue || 0, selectedColor.s, selectedColor.v, selectedColor.a);\n                            selectedColor = selectedColor.equals(hsvColor) ? hsvColor : selectedColor;\n                        }\n\n                        selector.value(selectedColor);\n                        selector.focus();\n                        that.wrapper.addClass(\"k-focus\");\n                    }\n                });\n            }\n            return popup;\n        }\n    });\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    ui.plugin(ColorPicker);\n\n    kendo.cssProperties.registerPrefix(\"ColorPicker\", \"k-picker-\");\n\n    kendo.cssProperties.registerValues(\"ColorPicker\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.toggleinputbase',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"toggleinputbase\",\n    name: \"ToggleInputBase\",\n    category: \"web\",\n    description: \"The ToggleInputBase component.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        CHANGE = \"change\",\n        DISABLED = \"disabled\",\n        CHECKED = \"checked\";\n\n    var ToggleInputBase = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._wrapper();\n\n            that._initSettings();\n\n            that._attachEvents();\n\n            kendo.notify(that, kendo.ui);\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        options: {\n            name: \"ToggleInputBase\"\n        },\n\n        NS: \".kendoToggleInputBase\",\n        RENDER_INPUT: $.noop,\n\n        check: function(checked) {\n            var that = this,\n                element = that.element[0];\n\n            if (checked === undefined) {\n                return element.checked;\n            }\n\n            if (element.checked !== checked) {\n                that.options.checked = element.checked = checked;\n            }\n\n            if (checked) {\n                that.element.attr(CHECKED, CHECKED);\n            } else {\n                that.element.prop(CHECKED, false);\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.wrapper.off(this.NS);\n        },\n\n        enable: function(enable) {\n            var element = this.element;\n\n            if(typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            this.options.enabled = enable;\n\n            if(enable) {\n                element.prop(DISABLED, false);\n            } else {\n                element.attr(DISABLED, DISABLED);\n            }\n        },\n\n        toggle: function() {\n            var that = this;\n\n            that.check(!that.element[0].checked);\n        },\n\n        _attachEvents: function() {\n            this.element.on(CHANGE + this.NS, this._change.bind(this));\n        },\n\n        _change: function () {\n            var checked = this.element[0].checked;\n\n            this.trigger(CHANGE, { checked: checked });\n        },\n\n        _initSettings: function () {\n            var that = this,\n                element = that.element[0],\n                options = that.options;\n\n            if (options.checked === null) {\n                options.checked = element.checked;\n            }\n\n            that.check(options.checked);\n\n            options.enabled = options.enabled && !that.element.attr(DISABLED);\n            that.enable(options.enabled);\n        },\n\n        _wrapper: function() {\n            var that = this,\n                options = that.options,\n                inputMethod = that.RENDER_INPUT;\n\n\n            inputMethod(that.element, $.extend({}, options));\n            that.element.removeClass('input-validation-error');\n\n            that.wrapper = that.element;\n        }\n    });\n\n    ui.plugin(ToggleInputBase);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.html.input',[\n        \"./kendo.html.base\"\n    ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"html.input\",\n    name: \"Html.Input\",\n    category: \"web\",\n    description: \"HTML rendering utility for Kendo UI for jQuery.\",\n    depends: [ \"html.base\" ],\n    features: []\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        HTMLBase = kendo.html.HTMLBase;\n\n    var renderCheckBox = function (element, options) {\n        if (arguments[0] === undefined || $.isPlainObject(arguments[0])) {\n            options = element;\n            element = $(\"<input />\");\n        }\n\n        return (new HTMLCheckBox(element, options)).html();\n    };\n\n    var renderRadioButton = function (element, options) {\n        if (arguments[0] === undefined || $.isPlainObject(arguments[0])) {\n            options = element;\n            element = $(\"<input />\");\n        }\n\n        return (new HTMLRadioButton(element, options)).html();\n    };\n\n    var HTMLInput = HTMLBase.extend({\n        init: function (element, options) {\n            var that = this;\n            HTMLBase.fn.init.call(that, element, options);\n            that._wrapper();\n            that._addClasses();\n        },\n        options: {\n            label: null,\n            labelPosition: \"after\",\n            encoded: true\n        },\n        _wrapper: function () {\n            var that = this,\n                element = that.element[0],\n                options = that.options,\n                elementId = element.id;\n\n            that.wrapper = that.element\n                .addClass(options.inputClass)\n                .prop(\"type\", options.type);\n\n            if(!elementId && !!options.label) {\n                element.id = elementId = kendo.guid();\n            }\n\n            if(!!options.label) {\n                that.labelEl = $(\"<label for='\" + elementId + \"' class='\" + options.labelClass + \"'>\");\n\n                if(options.encoded) {\n                    that.labelEl.text(options.label);\n                } else {\n                    that.labelEl.html(options.label);\n                }\n\n                that.element[options.labelPosition](that.labelEl);\n            }\n        },\n        html: function () {\n            var that = this,\n                after = that.options.labelPosition === \"after\",\n                wrapperHtml = HTMLBase.fn.html.call(that);\n\n            if(!that.labelEl) {\n                return wrapperHtml;\n            }\n\n            if(after) {\n                return wrapperHtml + that.labelEl[0].outerHTML;\n            }\n\n            return that.labelEl[0].outerHTML + wrapperHtml;\n        }\n    });\n\n    var HTMLCheckBox = HTMLInput.extend({\n        init: function (element, options) {\n            var that = this;\n            HTMLInput.fn.init.call(that, element, options);\n            that._addClasses();\n        },\n        options: {\n            name: \"HTMLCheckBox\",\n            inputClass: \"k-checkbox\",\n            labelClass: \"k-checkbox-label\",\n            type: \"checkbox\",\n            rounded: \"medium\",\n            size: \"medium\",\n            stylingOptions: [ \"size\", \"rounded\" ]\n        }\n    });\n\n    var HTMLRadioButton = HTMLInput.extend({\n        init: function (element, options) {\n            var that = this;\n            HTMLInput.fn.init.call(that, element, options);\n            that._addClasses();\n        },\n        options: {\n            name: \"HTMLRadioButton\",\n            inputClass: \"k-radio\",\n            labelClass: \"k-radio-label\",\n            type: \"radio\",\n            size: \"medium\",\n            stylingOptions: [ \"size\"]\n        }\n    });\n\n    $.extend(kendo.html, {\n        renderCheckBox: renderCheckBox,\n        renderRadioButton: renderRadioButton,\n        HTMLInput: HTMLInput,\n        HTMLCheckBox: HTMLCheckBox,\n        HTMLRadioButton: HTMLRadioButton\n    });\n\n    kendo.cssProperties.registerPrefix(\"HTMLCheckBox\", \"k-checkbox-\");\n\n    kendo.cssProperties.registerValues(\"HTMLCheckBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    kendo.cssProperties.registerPrefix(\"HTMLRadioButton\", \"k-radio-\");\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.checkbox',[ \"./kendo.toggleinputbase\", \"./kendo.html.input\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"checkbox\",\n    name: \"CheckBox\",\n    category: \"web\",\n    description: \"The CheckBox widget is used to display boolean value input.\",\n    depends: [ \"toggleinputbase\", \"html.input\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        ToggleInputBase = ui.ToggleInputBase;\n\n    var CheckBox = ToggleInputBase.extend({\n        options: {\n            name: \"CheckBox\",\n            checked: null,\n            enabled: true,\n            encoded: true,\n            label: null,\n            rounded: \"medium\",\n            size: \"medium\"\n        },\n\n        RENDER_INPUT: kendo.html.renderCheckBox,\n        NS: \".kendoCheckBox\",\n\n        // alias for check, NG support\n        value: function(value) {\n            if (typeof value === \"string\") {\n                value = (value === \"true\");\n            }\n\n            return this.check.apply(this, [value]);\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"CheckBox\", \"k-checkbox-\");\n\n    kendo.cssProperties.registerValues(\"CheckBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(CheckBox);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.editable',[ \"./kendo.checkbox\", \"./kendo.dropdownlist\", \"./kendo.datepicker\", \"./kendo.numerictextbox\", \"./kendo.validator\", \"./kendo.binder\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"editable\",\n    name: \"Editable\",\n    category: \"framework\",\n    depends: [ \"checkbox\", \"dropdownlist\", \"datepicker\", \"numerictextbox\", \"validator\", \"binder\" ],\n    hidden: true\n};\n\n/* jshint eqnull: true */\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        extend = $.extend,\n        isFunction = kendo.isFunction,\n        isPlainObject = $.isPlainObject,\n        inArray = $.inArray,\n        POINT = \".\",\n        AUTOCOMPLETEVALUE = \"off\",\n        nameSpecialCharRegExp = /(\"|\\%|'|\\[|\\]|\\$|\\.|\\,|\\:|\\;|\\+|\\*|\\&|\\!|\\#|\\(|\\)|<|>|\\=|\\?|\\@|\\^|\\{|\\}|\\~|\\/|\\||`)/g,\n        ERRORTEMPLATE = '<div class=\"k-tooltip k-tooltip-error k-validator-tooltip\">' +\n            '<span class=\"k-tooltip-icon k-icon k-i-warning\"></span>' +\n            '<span class=\"k-tooltip-content\">#= message #</span>' +\n            '<span class=\"k-callout k-callout-n\"></span>' +\n        '</div>',\n        CHANGE = \"change\";\n    var EQUAL_SET = \"equalSet\";\n    var specialRules = [\"url\", \"email\", \"number\", \"date\", \"boolean\"];\n\n    function fieldType(field) {\n        field = field != null ? field : \"\";\n        return field.type || kendo.type(field) || \"string\";\n    }\n\n    function convertToValueBinding(container) {\n        container.find(\":input:not(:button, .k-combobox .k-input, .k-checkbox-list .k-checkbox, .k-radio-list .k-radio, [\" + kendo.attr(\"role\") + \"=listbox], [\" + kendo.attr(\"role\") + \"=upload], [\" + kendo.attr(\"skip\") + \"], [type=file])\").each(function() {\n            var bindAttr = kendo.attr(\"bind\"),\n                binding = this.getAttribute(bindAttr) || \"\",\n                bindingName = this.type === \"checkbox\" || this.type === \"radio\" ? \"checked:\" : \"value:\",\n                isAntiForgeryToken = this.getAttribute(\"name\") === Editable.antiForgeryTokenName,\n                fieldName = this.name;\n\n            if (binding.indexOf(bindingName) === -1 && fieldName && !isAntiForgeryToken) {\n                binding += (binding.length ? \",\" : \"\") + bindingName + fieldName;\n\n                $(this).attr(bindAttr, binding);\n            }\n        });\n    }\n\n    function createAttributes(options) {\n        var field = (options.model.fields || options.model)[options.field],\n            type = fieldType(field),\n            validation = field ? field.validation : {},\n            attributes = field ? field.attributes : {},\n            ruleName,\n            DATATYPE = kendo.attr(\"type\"),\n            BINDING = kendo.attr(\"bind\"),\n            rule,\n            attr = {\n                id: options.id || options.field,\n                name: options.field,\n                title: options.title ? options.title : options.field\n            };\n\n        for (ruleName in validation) {\n            rule = validation[ruleName];\n\n            if (inArray(ruleName, specialRules) >= 0) {\n                attr[DATATYPE] = ruleName;\n            } else if (!isFunction(rule)) {\n                var culture = kendo.getCulture();\n\n                if (typeof rule === \"number\" && culture.name.length) {\n                    var numberFormat = culture.numberFormat;\n                    var stringRule = rule.toString()\n                        .replace(POINT, numberFormat[POINT]);\n\n                    attr[ruleName] = stringRule;\n                } else {\n                    attr[ruleName] = isPlainObject(rule) ? rule.value || ruleName : rule;\n                }\n            }\n\n            attr[kendo.attr(ruleName + \"-msg\")] = rule.message;\n\n            attr.autocomplete = AUTOCOMPLETEVALUE;\n        }\n\n        for (var attributeName in attributes) {\n            attr[attributeName] = attributes[attributeName];\n        }\n\n        if (inArray(type, specialRules) >= 0) {\n            attr[DATATYPE] = type;\n        }\n\n        attr[BINDING] = (type === \"boolean\" ? \"checked:\" : \"value:\") + options.field;\n\n        return attr;\n    }\n\n    function addIdAttribute(container, attr) {\n        var id = container.attr(\"id\");\n\n        if (id) {\n            attr.id = id;\n            container.removeAttr(\"id\");\n        }\n\n        return attr;\n    }\n\n    function convertItems(items) {\n        var idx,\n            length,\n            item,\n            value,\n            text,\n            result;\n\n        if (items && items.length) {\n            result = [];\n            for (idx = 0, length = items.length; idx < length; idx++) {\n                item = items[idx];\n                text = item.text || item.value || item;\n                value = item.value == null ? (item.text || item) : item.value;\n\n                result[idx] = { text: text, value: value };\n            }\n        }\n        return result;\n    }\n\n    function getEditorTag(type, options) {\n        var tag;\n\n        if (!type.length) { return; }\n\n        if ((type === \"DropDownTree\" && options && options.checkboxes) || type === \"MultiSelect\") {\n            tag = \"<select />\";\n        } else if (type === \"RadioGroup\" || type === \"CheckBoxGroup\") {\n            tag = \"<ul />\";\n        } else {\n            tag = type === \"Editor\" || type === \"TextArea\" ? \"<textarea />\" : \"<input />\";\n        }\n\n        return tag;\n    }\n\n    var kendoEditors = [\n        \"AutoComplete\", \"CheckBox\", \"CheckBoxGroup\", \"ColorPicker\", \"ComboBox\", \"DateInput\",\n        \"DatePicker\", \"DateTimePicker\", \"DropDownTree\",\n        \"Editor\", \"MaskedTextBox\", \"MultiColumnComboBox\",\"MultiSelect\",\n        \"NumericTextBox\", \"RadioGroup\", \"Rating\", \"Slider\", \"Switch\", \"TimePicker\", \"DropDownList\",\n        \"TextBox\", \"TextArea\", \"Captcha\"\n    ];\n\n    var editors = {\n        \"hidden\": function (container, options) {\n            var attr = createAttributes(options);\n            $('<input type=\"hidden\"/>').attr(attr).appendTo(container);\n        },\n        \"number\": function(container, options) {\n            var attr = createAttributes(options);\n            $('<input type=\"text\"/>').attr(attr).appendTo(container).kendoNumericTextBox({ format: options.format });\n            $('<span ' + kendo.attr(\"for\") + '=\"' + options.field + '\" class=\"k-invalid-msg k-hidden\"/>').appendTo(container);\n        },\n        \"date\": function(container, options) {\n            var attr = createAttributes(options),\n                format = options.format;\n\n            if (format) {\n                format = kendo._extractFormat(format);\n            }\n\n            attr[kendo.attr(\"format\")] = format;\n\n            $('<input type=\"text\"/>').attr(attr).appendTo(container).kendoDatePicker({ format: options.format });\n            $('<span ' + kendo.attr(\"for\") + '=\"' + options.field + '\" class=\"k-invalid-msg k-hidden\"/>').appendTo(container);\n        },\n        \"string\": function(container, options) {\n            var attr = createAttributes(options);\n\n            $('<input type=\"text\"/>').attr(attr).appendTo(container).kendoTextBox();\n        },\n        \"boolean\": function(container, options) {\n            var attr = createAttributes(options);\n            var element = $('<input type=\"checkbox\" />').attr(attr).kendoCheckBox().appendTo(container);\n\n            renderHiddenForMvcCheckbox(element, container, options);\n        },\n        \"values\": function(container, options) {\n            var attr = createAttributes(options);\n            var items = kendo.stringify(convertItems(options.values));\n            $('<select ' + kendo.attr(\"text-field\") + '=\"text\"' + kendo.attr(\"value-field\") + '=\"value\"' +\n                kendo.attr(\"source\") + \"=\\'\" + (items ? items.replace(/\\'/g,\"&apos;\") : items) +\n                \"\\'\" + kendo.attr(\"role\") + '=\"dropdownlist\"/>') .attr(attr).appendTo(container);\n            $('<span ' + kendo.attr(\"for\") + '=\"' + options.field + '\" class=\"k-invalid-msg  k-hidden\"/>').appendTo(container);\n        },\n        \"kendoEditor\": function (container, options) {\n            var attr = createAttributes(options);\n            var type = options.editor;\n            var editor = \"kendo\" + type;\n            var editorOptions = options.editorOptions;\n            var tagElement = getEditorTag(type, editorOptions);\n\n            var element = $(tagElement)\n                .attr(attr)\n                .appendTo(container)\n                [editor](editorOptions);\n\n            renderHiddenForMvcCheckbox(element, container, options);\n        }\n    };\n\n    var mobileEditors = {\n        \"number\": function (container, options) {\n            var attr = createAttributes(options);\n            attr = addIdAttribute(container, attr);\n\n            $('<input type=\"number\"/>').attr(attr).appendTo(container);\n        },\n        \"date\": function (container, options) {\n            var attr = createAttributes(options);\n            attr = addIdAttribute(container, attr);\n\n            $('<input type=\"date\"/>').attr(attr).appendTo(container);\n        },\n        \"string\": function (container, options) {\n            var attr = createAttributes(options);\n            attr = addIdAttribute(container, attr);\n\n            $('<input type=\"text\" />').attr(attr).appendTo(container);\n        },\n        \"boolean\": function (container, options) {\n            var attr = createAttributes(options);\n            attr = addIdAttribute(container, attr);\n\n            $('<input type=\"checkbox\" />').attr(attr).appendTo(container);\n        },\n        \"values\": function (container, options) {\n            var attr = createAttributes(options);\n            var items = options.values;\n            var select = $('<select />');\n\n            attr = addIdAttribute(container, attr);\n\n            for (var index in items) {\n                $('<option value=\"' + items[index].value + '\">' + items[index].text + '</option>').appendTo(select);\n            }\n\n            select.attr(attr).appendTo(container);\n        }\n    };\n\n    function addValidationRules(modelField, rules) {\n        var validation = modelField ? (modelField.validation || {}) : {},\n            rule,\n            descriptor;\n\n        for (rule in validation) {\n            descriptor = validation[rule];\n\n            if (isPlainObject(descriptor) && descriptor.value) {\n                descriptor = descriptor.value;\n            }\n\n            if (isFunction(descriptor)) {\n                rules[rule] = descriptor;\n            }\n        }\n    }\n\n    function renderHiddenForMvcCheckbox(tag, container, field) {\n        var addHidden = field ? (field.shouldRenderHidden || false) : false;\n\n        if (addHidden) {\n            tag.val(true);\n            container.append($(\"<input type='hidden' name='\" + field.field +\"' value='false' data-skip='true' data-validate='false'/>\"));\n        }\n    }\n\n    var Editable = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            if (options.target) {\n                options.$angular = options.target.options.$angular;\n\n                if (options.target.pane) {\n                    that._isMobile = true;\n                }\n            }\n            Widget.fn.init.call(that, element, options);\n            that._validateProxy = $.proxy(that._validate, that);\n            that.refresh();\n        },\n\n        events: [CHANGE],\n\n        options: {\n            name: \"Editable\",\n            editors: editors,\n            mobileEditors: mobileEditors,\n            clearContainer: true,\n            validateOnBlur: true,\n            validationSummary: false,\n            errorTemplate: ERRORTEMPLATE,\n            skipFocus: false\n        },\n\n        editor: function(field, modelField) {\n            var that = this,\n                editors = that._isMobile ? mobileEditors : that.options.editors,\n                isObject = isPlainObject(field),\n                fieldName = isObject ? field.field : field,\n                model = that.options.model || {},\n                isValuesEditor = isObject && field.values,\n                type = isValuesEditor ? \"values\" : fieldType(modelField),\n                isHidden = isObject && typeof field.editor === \"string\" && field.editor === \"hidden\",\n                isCustomEditor = isObject && !isHidden && field.editor,\n                isKendoEditor = isObject && $.inArray(field.editor, kendoEditors) !== -1,\n                editor = isCustomEditor ? field.editor : editors[isHidden ? \"hidden\" : type],\n                container = that.element.find(\"[\" + kendo.attr(\"container-for\") + \"=\" + fieldName.replace(nameSpecialCharRegExp, \"\\\\$1\")+ \"]\");\n\n            editor = editor ? editor : editors.string;\n\n            if (isKendoEditor) {\n                editor = editors.kendoEditor;\n            } else if (isCustomEditor && typeof field.editor === \"string\") {\n                editor = function(container) {\n                    container.append(field.editor);\n                };\n            }\n\n            container = container.length ? container : that.element;\n            editor(container, extend(true, {}, isObject ? field : { field: fieldName }, { model: model }));\n        },\n\n        _validate: function(e) {\n            var that = this,\n                input,\n                value = e.value,\n                preventChangeTrigger = that._validationEventInProgress,\n                values = {},\n                bindAttribute = kendo.attr(\"bind\"),\n                fieldName = e.field.replace(nameSpecialCharRegExp, \"\\\\$1\"),\n                bindingRegex = new RegExp(\"(value|checked)\\\\s*:\\\\s*\" + fieldName + \"\\\\s*(,|$)\");\n\n            values[e.field] = e.value;\n\n            input = $(':input[' + bindAttribute + '*=\"' + fieldName + '\"]', that.element)\n                .filter(\"[\" + kendo.attr(\"validate\") + \"!='false']\").filter(function() {\n                   return bindingRegex.test($(this).attr(bindAttribute));\n                });\n            if (input.length > 1) {\n                input = input.filter(function () {\n                    var element = $(this);\n                    return !element.is(\":radio\") || element.val() == value;\n                });\n            }\n\n            try {\n                that._validationEventInProgress = true;\n\n                if (!that.validatable.validateInput(input) || (!preventChangeTrigger && that.trigger(CHANGE, { values: values }))) {\n                    e.preventDefault();\n                }\n\n            } finally {\n                that._validationEventInProgress = false;\n            }\n        },\n\n        end: function() {\n            return this.validatable.validate();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.angular(\"cleanup\", function(){\n                return { elements: that.element };\n            });\n\n            Widget.fn.destroy.call(that);\n\n            that.options.model.unbind(\"set\", that._validateProxy);\n            that.options.model.unbind(EQUAL_SET, that._validateProxy);\n\n            kendo.unbind(that.element);\n\n            if (that.validatable) {\n                that.validatable.destroy();\n            }\n            kendo.destroy(that.element);\n\n            that.element.removeData(\"kendoValidator\");\n\n            if (that.element.is(\"[\" + kendo.attr(\"role\") + \"=editable]\")) {\n                that.element.removeAttr(kendo.attr(\"role\"));\n            }\n        },\n\n        refresh: function() {\n            var that = this,\n                idx,\n                length,\n                fields = that.options.fields || [],\n                container = that.options.clearContainer ? that.element.empty() : that.element,\n                model = that.options.model || {},\n                rules = {},\n                field,\n                isObject,\n                fieldName,\n                modelField,\n                modelFields;\n\n            if (!Array.isArray(fields)) {\n                fields = [fields];\n            }\n\n            for (idx = 0, length = fields.length; idx < length; idx++) {\n                 field = fields[idx];\n                 isObject = isPlainObject(field);\n                 fieldName = isObject ? field.field : field;\n                 modelField = (model.fields || model)[fieldName];\n\n                 addValidationRules(modelField, rules);\n\n                 that.editor(field, modelField);\n            }\n\n            if (that.options.target) {\n                that.angular(\"compile\", function(){\n                    return {\n                        elements: container,\n                        data: container.map(function() { return { dataItem: model }; })\n                    };\n                });\n            }\n\n            if (!length) {\n                modelFields = model.fields || model;\n                for (fieldName in modelFields) {\n                    addValidationRules(modelFields[fieldName], rules);\n               }\n            }\n\n            convertToValueBinding(container);\n\n            if (that.validatable) {\n                that.validatable.destroy();\n            }\n\n            kendo.bind(container, that.options.model);\n\n            if (that.options.validateOnBlur) {\n                that.options.model\n                    .unbind(\"set\", that._validateProxy)\n                    .bind(\"set\", that._validateProxy);\n\n                that.options.model\n                    .unbind(EQUAL_SET, that._validateProxy)\n                    .bind(EQUAL_SET, that._validateProxy);\n            }\n\n            that.validatable = new kendo.ui.Validator(container, {\n                validateOnBlur: that.options.validateOnBlur,\n                validationSummary: that.options.validationSummary,\n                errorTemplate: that.options.errorTemplate || undefined,\n                rules: rules });\n\n            if (!that.options.skipFocus) {\n                container.find(\":kendoFocusable\").eq(0).trigger(\"focus\");\n            }\n        }\n   });\n\n   Editable.antiForgeryTokenName = \"__RequestVerificationToken\";\n\n   ui.plugin(Editable);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.listview',[ \"./kendo.data\", \"./kendo.editable\", \"./kendo.selectable\", \"./kendo.pager\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"listview\",\n    name: \"ListView\",\n    category: \"web\",\n    description: \"The ListView widget offers rich support for interacting with data.\",\n    depends: [ \"data\" ],\n    features: [ {\n        id: \"listview-editing\",\n        name: \"Editing\",\n        description: \"Support for record editing\",\n        depends: [ \"editable\" ]\n    }, {\n        id: \"listview-selection\",\n        name: \"Selection\",\n        description: \"Support for selection\",\n        depends: [ \"selectable\" ]\n    }, {\n        id: \"listview-paging\",\n        name: \"Paging\",\n        description: \"Support for paging\",\n        depends: [ \"pager\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        CHANGE = \"change\",\n        KENDO_KEYDOWN = \"kendoKeydown\",\n        CANCEL = \"cancel\",\n        DATABOUND = \"dataBound\",\n        DATABINDING = \"dataBinding\",\n        Widget = kendo.ui.Widget,\n        keys = kendo.keys,\n        EMPTY_STRING = \"\",\n        DOT = \".\",\n        FOCUSSELECTOR = \"> *:not(.k-loading-mask)\",\n        PROGRESS = \"progress\",\n        ERROR = \"error\",\n        FOCUSED = \"k-state-focused\",\n        SELECTED = \"k-state-selected\",\n        KEDITITEM = \"k-edit-item\",\n        PAGER_CLASS = \"k-listview-pager\",\n        ITEM_CLASS = \"k-listview-item\",\n        TABINDEX = \"tabindex\",\n        ARIA_SETSIZE = \"aria-setsize\",\n        ARIA_POSINSET = \"aria-posinset\",\n        ARIA_ROLE = \"role\",\n        ARIA_LABEL = \"aria-label\",\n        EDIT = \"edit\",\n        REMOVE = \"remove\",\n        SAVE = \"save\",\n        MOUSEDOWN = \"mousedown\",\n        CLICK = \"click\",\n        TOUCHSTART = \"touchstart\",\n        NS = \".kendoListView\",\n        proxy = $.proxy,\n        activeElement = kendo._activeElement,\n        progress = kendo.ui.progress,\n        DataSource = kendo.data.DataSource;\n\n    var ListView = kendo.ui.DataBoundWidget.extend( {\n        init: function(element, options) {\n            var that = this;\n\n            options = Array.isArray(options) ? { dataSource: options } : options;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n\n            that.wrapper = element = that.element;\n\n            if (element[0].id) {\n                that._itemId = element[0].id + \"_lv_active\";\n            }\n\n            that._element();\n\n            that._layout();\n\n            that._dataSource();\n\n            that._setContentHeight();\n\n            that._templates();\n\n            that._navigatable();\n\n            that._selectable();\n\n            that._pageable();\n\n            that._crudHandlers();\n\n            that._scrollable();\n\n            if (that.options.autoBind){\n                that.dataSource.fetch();\n            }\n\n            kendo.notify(that);\n        },\n\n        events: [\n            CHANGE,\n            CANCEL,\n            DATABINDING,\n            DATABOUND,\n            EDIT,\n            REMOVE,\n            SAVE,\n            KENDO_KEYDOWN\n        ],\n\n        options: {\n            name: \"ListView\",\n            autoBind: true,\n            selectable: false,\n            navigatable: false,\n            pageable: false,\n            height: null,\n            template: EMPTY_STRING,\n            altTemplate: EMPTY_STRING,\n            editTemplate: EMPTY_STRING,\n            contentTemplate: \"<div data-content='true' />\",\n            contentElement: \"div\",\n            bordered: true,\n            borders: \"\",\n            layout: \"\",\n            flex: {\n                direction: \"row\",\n                wrap: \"nowrap\"\n            },\n            grid: {},\n            scrollable: false\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n\n            this._layout();\n\n            this._templates();\n\n            if (this.selectable) {\n                this.selectable.destroy();\n                this.selectable = null;\n            }\n\n            this._selectable();\n        },\n\n        _templates: function() {\n            var options = this.options;\n\n            this.template = kendo.template(options.template || EMPTY_STRING);\n            this.altTemplate = kendo.template(options.altTemplate || options.template);\n            this.editTemplate = kendo.template(options.editTemplate || EMPTY_STRING);\n        },\n\n        _item: function(action) {\n            return this.content.children()[action]();\n        },\n\n        items: function() {\n            return this.content.children(\":not(.k-loading-mask)\");\n        },\n\n        dataItem: function(element) {\n            var attr = kendo.attr(\"uid\");\n            var uid = $(element).closest(\"[\" + attr + \"]\").attr(attr);\n\n            return this.dataSource.getByUid(uid);\n        },\n\n        setDataSource: function(dataSource) {\n            this.options.dataSource = dataSource;\n            this._dataSource();\n\n            if (this.options.autoBind) {\n                dataSource.fetch();\n            }\n\n            if (this.options.scrollable === \"endless\") {\n                this._bindScrollable();\n            }\n        },\n\n        _unbindDataSource: function() {\n            var that = this;\n\n            that.dataSource.unbind(CHANGE, that._refreshHandler)\n                            .unbind(PROGRESS, that._progressHandler)\n                            .unbind(ERROR, that._errorHandler);\n        },\n\n        _dataSource: function() {\n            var that = this,\n                pageable = that.options.pageable,\n                dataSource = that.options.dataSource;\n\n            if ($.isPlainObject(pageable) && pageable.pageSize !== undefined) {\n                dataSource.pageSize = pageable.pageSize;\n            }\n\n            if (that.dataSource && that._refreshHandler) {\n                that._unbindDataSource();\n            } else {\n                that._refreshHandler = proxy(that.refresh, that);\n                that._progressHandler = proxy(that._progress, that);\n                that._errorHandler = proxy(that._error, that);\n            }\n\n            that.dataSource = DataSource.create(dataSource)\n                                .bind(CHANGE, that._refreshHandler)\n                                .bind(PROGRESS, that._progressHandler)\n                                .bind(ERROR, that._errorHandler);\n        },\n\n        _progress: function(toggle) {\n            var element = this.content;\n            progress(element, toggle, { opacity: true});\n        },\n\n        _error: function() {\n            progress(this.content, false);\n        },\n\n        _element: function() {\n            var options = this.options;\n            var height = options.height;\n\n            this.element.addClass(\"k-widget k-listview\");\n\n            if (options.navigatable || options.selectable) {\n                this.element.attr(ARIA_ROLE, \"listbox\");\n            } else {\n                this.element.attr(ARIA_ROLE, \"list\");\n            }\n\n            if (options.contentElement) {\n                this.content = $(document.createElement(options.contentElement)).appendTo(this.element);\n            } else {\n                this.content = this.element;\n            }\n\n            this.content.attr(TABINDEX, -1);\n\n            if (height) {\n                this.element.css(\"height\", height);\n            }\n        },\n\n        _layout: function() {\n            var that = this;\n            var options = that.options;\n            var flex = options.flex;\n            var grid = options.grid;\n            var element = that.element;\n            var elementClassNames = [\"k-widget\", \"k-listview\"];\n            var content = that.content;\n            var contentClassNames = [\"k-listview-content\"];\n\n            element.add(content).removeClass(function (index, className) {\n                if (className.indexOf(\"k-\") >= 0) {\n                    return true;\n                }\n            });\n\n            // Element class names\n            if (options.bordered === true) {\n                elementClassNames.push(\"k-listview-bordered\");\n            }\n\n            if (typeof options.borders === \"string\" && options.borders !== EMPTY_STRING) {\n                elementClassNames.push(\"k-listview-borders-\" + options.borders);\n            }\n\n\n            // Content class names\n            if (typeof options.contentPadding === \"string\" && options.contentPadding !== EMPTY_STRING) {\n                contentClassNames.push(\"k-listview-content-padding-\" + options.contentPadding);\n            }\n\n            if (typeof options.layout === \"string\" && options.layout !== EMPTY_STRING) {\n                contentClassNames.push(\"k-d-\" + options.layout);\n            }\n\n            if (options.layout === \"flex\" && typeof flex === \"object\") {\n                if (typeof flex.direction === \"string\" && flex.direction !== \"\") {\n                    contentClassNames.push(\"k-flex-\" + flex.direction);\n                }\n\n                if (typeof flex.wrap === \"string\" && flex.wrap !== \"\") {\n                    contentClassNames.push(\"k-flex-\" + flex.wrap);\n                }\n            }\n\n            if (options.layout === \"grid\" && typeof grid === \"object\") {\n                if (typeof grid.cols === \"number\") {\n                    content.css(\"grid-template-columns\", \"repeat(\" + grid.cols + \", 1fr)\");\n                } else if (typeof grid.cols === \"string\") {\n                    content.css(\"grid-template-columns\", grid.cols);\n                }\n\n                if (typeof grid.rows === \"number\") {\n                    content.css(\"grid-template-rows\", \"repeat(\" + grid.rows + \", \" + (grid.rowHeight !== undefined ? grid.rowHeight : \"1fr\") + \")\");\n                } else if (typeof grid.rows === \"string\") {\n                    content.css(\"grid-template-rows\", grid.rows);\n                }\n\n                if (typeof grid.gutter === \"number\") {\n                    content.css(\"grid-gap\", grid.gutter);\n                } else if (typeof grid.gutter === \"string\") {\n                    content.css(\"grid-gap\", grid.gutter);\n                }\n            }\n\n            that.element.addClass(elementClassNames.join(\" \"));\n            that.content.addClass(contentClassNames.join(\" \"));\n\n        },\n\n        _setContentHeight: function() {\n            var that = this,\n                options = that.options,\n                height;\n\n            if (options.scrollable && that.wrapper.is(\":visible\")) {\n\n                height = that.wrapper.innerHeight();\n                that.content.height(height);\n            }\n        },\n\n        refresh: function(e) {\n            var that = this,\n                view = that.dataSource.view(),\n                data,\n                items,\n                item,\n                html = \"\",\n                idx,\n                length,\n                template = that.template,\n                altTemplate = that.altTemplate,\n                options = that.options,\n                role = (options.selectable || options.navigatable) ? \"option\" : \"listitem\",\n                active = activeElement(),\n                endlessAppend =  that._endlessFetchInProgress,\n                index = endlessAppend ? that._skipRerenderItemsCount : 0,\n                scrollable = that.options.scrollable;\n\n            e = e || {};\n\n            if (e.action === \"itemchange\") {\n                if (!that._hasBindingTarget() && !that.editable) {\n                    data = e.items[0];\n                    item = that.items().filter(\"[\" + kendo.attr(\"uid\") + \"=\" + data.uid + \"]\");\n\n                    if (item.length > 0) {\n                        idx = item.index();\n\n                        that.angular(\"cleanup\", function() {\n                            return { elements: [ item ]};\n                        });\n\n                        item.replaceWith(template(data));\n                        item = that.items().eq(idx);\n                        item.attr(kendo.attr(\"uid\"), data.uid);\n\n                        that.angular(\"compile\", function() {\n                            return { elements: [ item ], data: [ { dataItem: data } ]};\n                        });\n\n                        that.trigger(\"itemChange\", {\n                            item: item,\n                            data: data\n                        });\n                    }\n                }\n\n                return;\n            }\n\n            if (that.trigger(DATABINDING, { action: e.action || \"rebind\", items: e.items, index: e.index })) {\n                return;\n            }\n\n            that._angularItems(\"cleanup\");\n\n            if (!endlessAppend) {\n                that._destroyEditable();\n            }\n\n            for (idx = index, length = view.length; idx < length; idx++) {\n                if (idx % 2) {\n                    html += altTemplate(view[idx]);\n                } else {\n                    html += template(view[idx]);\n                }\n            }\n\n            if (endlessAppend) {\n                that.content.append(html);\n            } else {\n                that.content.html(html);\n            }\n\n            items = that.items().not(\".k-loading-mask\");\n\n            if (!view.length) {\n                that.element.removeAttr(ARIA_ROLE);\n                that.element.removeAttr(ARIA_LABEL);\n            }\n\n            for (idx = index, length = view.length; idx < length; idx++) {\n                item = items.eq(idx);\n\n                item.addClass(ITEM_CLASS);\n\n                item.attr(kendo.attr(\"uid\"), view[idx].uid)\n                    .attr(\"role\", role);\n\n                if (that.options.selectable) {\n                    item.attr(\"aria-selected\", \"false\");\n                }\n\n                if (that.options.pageable) {\n                    item.attr(ARIA_SETSIZE, that.dataSource.total());\n                    item.attr(ARIA_POSINSET, that.dataSource.indexOf(that.dataItem(item)) + 1);\n                }\n            }\n\n            if (that.content[0] === active && that.options.navigatable) {\n                if (that._focusNext) {\n                    that.current(that.current().next());\n                } else {\n                    if (!scrollable) {\n                        that.current(items.eq(0));\n                    }\n                }\n            }\n\n            that._setContentHeight();\n            that._angularItems(\"compile\");\n\n            that._progress(false);\n            that._endlessFetchInProgress = null;\n\n            that.trigger(DATABOUND, { action: e.action || \"rebind\", items: e.items, index: e.index });\n        },\n\n        _pageable: function() {\n            var that = this,\n                pageable = that.options.pageable,\n                navigatable = that.options.navigatable,\n                pagerWrap,\n                settings;\n\n            if (!pageable) {\n                return;\n            }\n\n            pagerWrap = that.wrapper.find(DOT + PAGER_CLASS);\n\n            if (!pagerWrap.length) {\n                pagerWrap = $('<div />').addClass(PAGER_CLASS);\n            }\n\n            if (pageable.position === \"top\") {\n                pagerWrap\n                    .addClass(kendo.format(\"{0}-{1}\", PAGER_CLASS, pageable.position))\n                    .prependTo(that.wrapper);\n            } else {\n                pagerWrap.appendTo(that.wrapper);\n            }\n\n            if (that.pager) {\n                that.pager.destroy();\n            }\n\n            if (typeof pageable === \"object\" && pageable instanceof kendo.ui.Pager) {\n                that.pager = pageable;\n            } else {\n                pagerWrap = pageable.pagerId ? $(\"#\" + pageable.pagerId) : pagerWrap;\n\n                settings = $.extend({}, pageable, {\n                    dataSource: that.dataSource,\n                    navigatable: navigatable,\n                    pagerId: null\n                });\n\n                that.pager = new kendo.ui.Pager(pagerWrap, settings);\n            }\n        },\n\n        _selectable: function() {\n            var that = this,\n                multi,\n                current,\n                selectable = that.options.selectable,\n                navigatable = that.options.navigatable;\n\n            if (selectable) {\n                multi = kendo.ui.Selectable.parseOptions(selectable).multiple;\n\n                that.selectable = new kendo.ui.Selectable(that.element, {\n                    aria: true,\n                    multiple: multi,\n                    filter: that.options.contentElement ? \".k-listview-content \" + FOCUSSELECTOR : FOCUSSELECTOR,\n                    change: function() {\n                        that.trigger(CHANGE);\n                    }\n                });\n\n                if(multi) {\n                    that.element.attr(\"aria-multiselectable\", true);\n                }\n\n                if (navigatable) {\n                    that.element.on(\"keydown\" + NS, function(e) {\n\n                        if (!$(e.target).is(that.element)) { return; }\n\n                        if (e.keyCode === keys.SPACEBAR) {\n                            current = that.current();\n\n                            if (e.target == e.currentTarget) {\n                                e.preventDefault();\n                            }\n\n                            if (multi) {\n                                if (!e.ctrlKey) {\n                                    that.selectable.clear();\n                                } else {\n                                    if (current && current.hasClass(SELECTED)) {\n                                        current.removeClass(SELECTED);\n                                        that.trigger(CHANGE);\n                                        return;\n                                    }\n                                }\n                            } else {\n                                that.selectable.clear();\n                            }\n\n                            that.selectable.value(current);\n                        }\n                    });\n                }\n            }\n        },\n\n        _scrollable: function() {\n            var that = this;\n            var scrollable = that.options.scrollable;\n\n            if (scrollable) {\n\n                that.content.css({\n                    \"overflow-y\": \"scroll\",\n                    \"position\": \"relative\",\n                    \"-webkit-overflow-scrolling\": \"touch\"\n                });\n\n                if (scrollable === \"endless\") {\n                    that._bindScrollable();\n                }\n            }\n        },\n\n        _bindScrollable: function (){\n            var that = this;\n            var originalPageSize = that._endlessPageSize = that.dataSource.options.pageSize;\n\n            that.content\n                .off(\"scroll\" + NS)\n                .on(\"scroll\" + NS, function () {\n                    if (this.scrollTop + this.clientHeight - this.scrollHeight >= -15 &&\n                    !that._endlessFetchInProgress &&\n                    that._endlessPageSize < that.dataSource.total()) {\n                        that._skipRerenderItemsCount =  that._endlessPageSize;\n                        that._endlessPageSize = that._skipRerenderItemsCount  + originalPageSize;\n                        that.dataSource.options.endless = true;\n                        that._endlessFetchInProgress = true;\n                        that.dataSource.pageSize(that._endlessPageSize);\n                    }\n                });\n        },\n\n        current: function(candidate) {\n            var that = this,\n                element = that.element,\n                current = that._current,\n                id = that._itemId;\n\n            if (candidate === undefined) {\n                return current;\n            }\n\n            if (current && current[0]) {\n                if (current[0].id === id) {\n                    current.removeAttr(\"id\");\n                }\n\n                current.removeClass(FOCUSED);\n                element.removeAttr(\"aria-activedescendant\");\n            }\n\n            if (candidate && candidate[0]) {\n                id = candidate[0].id || id;\n\n                that._scrollTo(candidate[0]);\n\n                element.attr(\"aria-activedescendant\", id);\n                candidate.addClass(FOCUSED).attr(\"id\", id);\n            }\n\n            that._current = candidate;\n        },\n\n        _scrollTo: function(element) {\n            var that = this,\n                content = that.content,\n                container,\n                UseJQueryoffset = false,\n                SCROLL = \"scroll\";\n\n            if (content.css(\"overflow\") === \"auto\" || content.css(\"overflow\") === SCROLL || content.css(\"overflow-y\") === SCROLL) {\n                container = content[0];\n            } else {\n                container = window;\n                UseJQueryoffset = true;\n            }\n\n            var scrollDirectionFunc = function(direction, dimension) {\n\n                var elementOffset = UseJQueryoffset ? $(element).offset()[direction.toLowerCase()] : element[\"offset\" + direction],\n                    elementDimension = element[\"client\" + dimension],\n                    containerScrollAmount = $(container)[SCROLL + direction](),\n                    containerDimension = $(container)[dimension.toLowerCase()]();\n\n                if (elementOffset + elementDimension > containerScrollAmount + containerDimension) {\n                    $(container)[SCROLL + direction](elementOffset + elementDimension - containerDimension);\n                } else if (elementOffset < containerScrollAmount) {\n                    $(container)[SCROLL + direction](elementOffset);\n                }\n            };\n\n            scrollDirectionFunc(\"Top\", \"Height\");\n            scrollDirectionFunc(\"Left\", \"Width\");\n        },\n\n        _navigatable: function() {\n            var that = this,\n                navigatable = that.options.navigatable,\n                element = that.element,\n                content = that.content,\n                clickCallback = function(e) {\n                    that.current($(e.currentTarget));\n                    if (!$(e.target).is(\":button, a, :input, a > .k-icon, textarea\")) {\n                        kendo.focusElement(element);\n                    }\n                };\n\n            if (navigatable) {\n                that._tabindex();\n\n                element\n                    .on(\"focus\" + NS, function() {\n                        var current = that._current;\n\n                        if (!current || !current.is(\":visible\")) {\n                            current = that._item(\"first\");\n                        }\n\n                        that.current(current);\n                    })\n                    .on(\"focusout\" + NS, function() {\n                        if (that._current) {\n                            that._current.removeClass(FOCUSED);\n                        }\n                    })\n                    .on(\"keydown\" + NS, that, function(e) {\n                        var key = e.keyCode,\n                            current = that.current(),\n                            target = $(e.target),\n                            canHandle = !target.is(\":button, textarea, a, a > .t-icon, input\"),\n                            isTextBox = target.is(\":text, :password\"),\n                            preventDefault = kendo.preventDefault,\n                            editItem = content.find(\".\" + KEDITITEM),\n                            active = activeElement(), idx,\n                            scrollable = that.options.scrollable;\n\n                        if (!target.is(that.element) || (!canHandle && !isTextBox && key !== keys.ESC) || (isTextBox && key !== keys.ESC && key !== keys.ENTER)) {\n                            return;\n                        }\n\n                        if (key === keys.UP || key === keys.LEFT) {\n                            if (current && current[0]) {\n                                current = current.prev();\n                            }\n\n                            if (current && current[0]) {\n                                that.current(current);\n                            }\n                            else if (!scrollable) {\n                                that.current(that._item(\"last\"));\n                            }\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.DOWN || key === keys.RIGHT) {\n                            if (scrollable) {\n                                if (that.options.scrollable === \"endless\" && !current.next().length) {\n                                    that.content[0].scrollTop = that.content[0].scrollHeight;\n                                    that._focusNext = true;\n                                } else {\n                                    current = current.next();\n\n                                    if (current && current[0]) {\n                                        that.current(current);\n                                    }\n                                }\n                            }\n                            else {\n                                current = current.next();\n                                that.current(!current || !current[0] ? that._item(\"first\") : current);\n                            }\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.PAGEUP) {\n                            that.current(null);\n                            that.dataSource.page(that.dataSource.page() - 1);\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.PAGEDOWN) {\n                            that.current(null);\n                            that.dataSource.page(that.dataSource.page() + 1);\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.HOME) {\n                            that.current(that._item(\"first\"));\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.END) {\n                            that.current(that._item(\"last\"));\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.ENTER) {\n                            if (editItem.length !== 0 && (canHandle || isTextBox)) {\n                                idx = that.items().index(editItem);\n\n                                if (active) {\n                                    active.blur();\n                                }\n\n                                that.save();\n\n                                var focusAgain = function(){\n                                    that.element.trigger(\"focus\");\n                                    that.current(that.items().eq(idx));\n                                };\n\n                                that.one(\"dataBound\", focusAgain);\n                            } else if (that.options.editTemplate !== \"\") {\n                                that.edit(current);\n                            }\n                        }\n\n                        if (key === keys.ESC) {\n                            editItem = content.find(\".\" + KEDITITEM);\n\n                            if (editItem.length === 0) {\n                                return;\n                            }\n\n                            idx = that.items().index(editItem);\n                            that.cancel();\n                            that.element.trigger(\"focus\");\n                            that.current(that.items().eq(idx));\n                        }\n                    });\n\n                element.on(MOUSEDOWN + NS + \" \" + TOUCHSTART + NS, that.options.contentElement ? \".k-listview-content \" + FOCUSSELECTOR : FOCUSSELECTOR, proxy(clickCallback, that));\n            }\n        },\n\n        clearSelection: function() {\n            var that = this;\n            that.selectable.clear();\n            that.trigger(CHANGE);\n        },\n\n        select: function(items) {\n            var that = this,\n                selectable = that.selectable;\n\n            items = $(items);\n\n            if (items.length) {\n                if (!selectable.options.multiple) {\n                    selectable.clear();\n                    items = items.first();\n                }\n                selectable.value(items);\n                return;\n            }\n\n            return selectable.value();\n        },\n\n        _destroyEditable: function() {\n            var that = this;\n            if (that.editable) {\n                that.editable.destroy();\n                delete that.editable;\n            }\n        },\n\n        _modelFromElement: function(element) {\n            var uid = element.attr(kendo.attr(\"uid\"));\n\n            return this.dataSource.getByUid(uid);\n        },\n\n        _closeEditable: function() {\n            var that = this,\n                editable = that.editable,\n                options = that.options,\n                role = (options.selectable || options.navigatable) ? \"option\" : \"listitem\",\n                data,\n                item,\n                index,\n                template = that.template;\n\n            if (editable) {\n                if (editable.element.index() % 2) {\n                    template = that.altTemplate;\n                }\n\n                that.angular(\"cleanup\", function() {\n                    return { elements: [ editable.element ]};\n                });\n\n                data = that._modelFromElement(editable.element);\n                that._destroyEditable();\n\n                index = editable.element.index();\n                editable.element.replaceWith(template(data));\n                item = that.items().eq(index);\n                item.attr(kendo.attr(\"uid\"), data.uid);\n                item.attr(\"role\", role);\n\n                if (that._hasBindingTarget()) {\n                    kendo.bind(item, data);\n                }\n\n                that.angular(\"compile\", function() {\n                    return { elements: [ item ], data: [ { dataItem: data } ]};\n                });\n            }\n            return true;\n        },\n\n        edit: function(item) {\n            var that = this,\n                data = that._modelFromElement(item),\n                container,\n                uid = data.uid,\n                index;\n\n            that.cancel();\n\n            item = that.items().filter(\"[\" + kendo.attr(\"uid\") + \"=\" + uid + \"]\");\n            index = item.index();\n            item.replaceWith(that.editTemplate(data));\n            container = that.items().eq(index).addClass(KEDITITEM).attr(kendo.attr(\"uid\"), data.uid);\n            that.editable = container.kendoEditable({\n                model: data,\n                clearContainer: false,\n                errorTemplate: false,\n                target: that\n            }).data(\"kendoEditable\");\n\n            that.trigger(EDIT, { model: data, item: container });\n        },\n\n        save: function() {\n            var that = this,\n                editable = that.editable,\n                model;\n\n            if (!editable) {\n                return;\n            }\n\n            var container = editable.element;\n            model = that._modelFromElement(container);\n\n            if (editable.end() && !that.trigger(SAVE, { model: model, item: container }))  {\n                that._closeEditable();\n                that.dataSource.sync();\n            }\n        },\n\n        remove: function(item) {\n            var that = this,\n                dataSource = that.dataSource,\n                data = that._modelFromElement(item);\n\n            if (that.editable) {\n                dataSource.cancelChanges(that._modelFromElement(that.editable.element));\n                that._closeEditable();\n            }\n\n            if (!that.trigger(REMOVE, { model: data, item: item })) {\n                item.hide();\n                dataSource.remove(data);\n                dataSource.sync();\n            }\n        },\n\n        add: function() {\n            var that = this,\n                dataItem,\n                dataSource = that.dataSource,\n                index = dataSource.indexOf((dataSource.view() || [])[0]);\n\n            if (index < 0) {\n                index = 0;\n            }\n\n            that.cancel();\n            dataItem = dataSource.insert(index, {});\n            that.edit(that.element.find(\"[data-uid='\" + dataItem.uid + \"']\"));\n        },\n\n        cancel: function() {\n            var that = this,\n                dataSource = that.dataSource;\n\n            if (that.editable) {\n                var container = that.editable.element;\n                var model = that._modelFromElement(container);\n\n                if (!that.trigger(CANCEL, { model: model, container: container})) {\n                    dataSource.cancelChanges(model);\n                    that._closeEditable();\n                }\n            }\n        },\n\n        _crudHandlers: function() {\n            var that = this,\n                mousedownNs = MOUSEDOWN + NS,\n                touchstartNs = TOUCHSTART + NS,\n                clickNs = CLICK + NS;\n\n            that.content.on(mousedownNs + \" \" + touchstartNs, \".k-edit-button\", function(e) {\n                e.preventDefault();\n                var item = $(this).closest(\"[\" + kendo.attr(\"uid\") + \"]\");\n                setTimeout(function() {\n                    that.edit(item);\n                });\n            });\n\n\n            that.content.on(mousedownNs + \" \" + touchstartNs, \".k-delete-button\", function(e) {\n                e.preventDefault();\n                var item = $(this).closest(\"[\" + kendo.attr(\"uid\") + \"]\");\n                 setTimeout(function() {\n                    that.remove(item);\n                 });\n            });\n\n            that.content.on(clickNs, \".k-update-button\", function(e) {\n                that.save();\n                e.preventDefault();\n            });\n\n            that.content.on(clickNs, \".k-cancel-button\", function(e) {\n                that.cancel();\n                e.preventDefault();\n            });\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that._unbindDataSource();\n\n            that._destroyEditable();\n\n            that.element.off(NS);\n            that.content.off(NS);\n\n            that._endlessFetchInProgress = that._endlessPageSize = that._skipRerenderItemsCount = that._focusNext = null;\n\n            if (that.pager) {\n                that.pager.destroy();\n            }\n\n            kendo.destroy(that.element);\n        }\n    });\n\n    kendo.ui.plugin(ListView);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n/* jshint eqnull: true */\n(function(f, define) {\n    define('kendo.listbox',[ \"./kendo.draganddrop\", \"./kendo.data\", \"./kendo.selectable\" ], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"listbox\",\n    name: \"ListBox\",\n    category: \"web\",\n    depends: [\"draganddrop\", \"data\", \"selectable\"]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo;\n    var kendoAttr = kendo.attr;\n    var data = kendo.data;\n    var keys = kendo.keys;\n    var kendoTemplate = kendo.template;\n    var Widget = kendo.ui.Widget;\n    var DataSource = data.DataSource;\n    var Selectable = kendo.ui.Selectable;\n    var DataBoundWidget = kendo.ui.DataBoundWidget;\n    var Class = kendo.Class;\n\n    var extend = $.extend;\n    var noop = $.noop;\n    var proxy = $.proxy;\n\n    var DASH = \"-\";\n    var DOT = \".\";\n    var SPACE = \" \";\n    var HASH = \"#\";\n\n    var KENDO_LISTBOX = \"kendoListBox\";\n    var NS = DOT + KENDO_LISTBOX;\n    var DISABLED_STATE_CLASS = \"k-disabled\";\n    var SELECTED_STATE_CLASS = \"k-selected\";\n    var ENABLED_ITEM_SELECTOR = \".k-list-item:not(.k-disabled)\";\n    var ENABLED_ITEMS_SELECTOR = \".k-list-ul:not(.k-disabled) >\" + ENABLED_ITEM_SELECTOR;\n    var TOOLBAR_CLASS = \"k-listbox-toolbar\";\n    var TOOL_SELECTOR = \"li > a.k-button:not(.k-disabled)\";\n    var FOCUSED_CLASS = \"k-focus\";\n    var DRAG_CLUE_CLASS = \"k-drag-clue\";\n    var DROP_HINT_CLASS = \"k-drop-hint\";\n    var LIST_CLASS = \"k-list-ul\";\n    var LIST_SELECTOR = \".k-list-ul\";\n\n    var CLICK = \"click\" + NS;\n    var KEYDOWN = \"keydown\" + NS;\n    var BLUR = \"blur\" + NS;\n    var outerWidth = kendo._outerWidth;\n    var outerHeight = kendo._outerHeight;\n    var CHANGE = \"change\";\n    var DATABOUND = \"dataBound\";\n    var ADD = \"add\";\n    var REMOVE = \"remove\";\n    var REORDER = \"reorder\";\n    var MOVE_UP = \"moveUp\";\n    var MOVE_DOWN = \"moveDown\";\n    var TRANSFER_TO = \"transferTo\";\n    var TRANSFER_FROM = \"transferFrom\";\n    var TRANSFER_ALL_TO = \"transferAllTo\";\n    var TRANSFER_ALL_FROM = \"transferAllFrom\";\n    var DRAGGEDCLASS = \"k-ghost\";\n    var UNIQUE_ID = \"uid\";\n    var ID = \"id\";\n    var TABINDEX = \"tabindex\";\n    var COMMAND = \"command\";\n\n    var MOVE_UP_OFFSET = -1;\n    var MOVE_DOWN_OFFSET = 1;\n    var DRAGSTART = \"dragstart\";\n    var DRAG = \"drag\";\n    var DROP = \"drop\";\n    var DRAGEND = \"dragend\";\n    var DEFAULT_FILTER = \"ul.k-list-ul>li.k-list-item\";\n\n    var RIGHT = \"right\";\n    var BOTTOM = \"bottom\";\n\n    var TOOLBAR_POSITION_CLASS_NAMES = [\n        TOOLBAR_CLASS + DASH + \"left\",\n        TOOLBAR_CLASS + DASH + RIGHT,\n        TOOLBAR_CLASS + DASH + \"top\",\n        TOOLBAR_CLASS + DASH + BOTTOM\n    ];\n\n    function getSortedDomIndices(items) {\n        var indices = $.map(items, function(item) {\n            return $(item).index();\n        });\n\n        return indices;\n    }\n\n    function isUndefined(value) {\n        return (typeof value === \"undefined\");\n    }\n\n    function defaultHint(element) {\n        return element.clone()\n            .attr('class', '')\n            .addClass(DRAG_CLUE_CLASS);\n    }\n\n    function defaultPlaceholder() {\n        return $('<li>').addClass(DROP_HINT_CLASS);\n    }\n\n    var ListBox = DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this;\n            Widget.fn.init.call(that, element, options);\n\n            that._wrapper();\n            that._list();\n            that._ariaLabel();\n            element = that.element.attr(\"multiple\", \"multiple\").hide();\n\n            if (element[0] && !that.options.dataSource) {\n                that.options.dataTextField = that.options.dataTextField || \"text\";\n                that.options.dataValueField = that.options.dataValueField || \"value\";\n            }\n            that._templates();\n            that._selectable();\n            that._dataSource();\n            that._createToolbar();\n            that._createDraggable();\n            that._createNavigatable();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            DataBoundWidget.fn.destroy.call(that);\n            if (!isNaN(that._listTabIndex)) {\n                that._getList().off();\n                that._listTabIndex = null;\n            }\n            that._unbindDataSource();\n            that._destroySelectable();\n            that._destroyToolbar();\n            that.wrapper.off(NS);\n            if (that._target) {\n                that._target = null;\n            }\n            if (that._draggable) {\n                that._draggable.destroy();\n                that.placeholder = null;\n            }\n\n            kendo.destroy(that.element);\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n            this._templates();\n            this._dataSource();\n        },\n\n        events: [\n            CHANGE,\n            DATABOUND,\n            ADD,\n            REMOVE,\n            REORDER,\n            DRAGSTART,\n            DRAG,\n            DROP,\n            DRAGEND\n        ],\n\n        options: {\n            name: \"ListBox\",\n            autoBind: true,\n            template: \"\",\n            dataTextField: \"\",\n            dataValueField: \"\",\n            selectable: \"single\",\n            draggable: null,\n            dropSources: [],\n            connectWith: \"\",\n            navigatable: true,\n            toolbar: {\n                position: RIGHT,\n                tools: []\n            },\n            messages: {\n                tools: {\n                    remove: \"Delete\",\n                    moveUp: \"Move Up\",\n                    moveDown: \"Move Down\",\n                    transferTo: \"Transfer To\",\n                    transferFrom: \"Transfer From\",\n                    transferAllTo: \"Transfer All To\",\n                    transferAllFrom: \"Transfer All From\"\n                }\n            }\n        },\n\n        add: function(dataItems) {\n            var that = this;\n            var items = dataItems && dataItems.length ? dataItems : [dataItems];\n            var itemsLength = items.length;\n            var list = that._getList();\n            var i;\n\n            that._unbindDataSource();\n            that._unbindDataChange();\n            for (i = 0; i < itemsLength; i++) {\n                that._addItem(items[i], list);\n            }\n            that._bindDataChange();\n            that._bindDataSource();\n            that._syncElement();\n        },\n\n        _addItem: function(dataItem, list) {\n            var that = this;\n            var item = $(that.templates.itemTemplate({ item: dataItem, r: that.templates.itemContent }));\n\n            that._setItemId(item, dataItem.uid);\n\n            item.appendTo(list);\n\n            if (typeof dataItem === typeof \"\") {\n                that.dataSource._data.push(dataItem);\n            } else {\n                that.dataSource.add(dataItem);\n            }\n        },\n\n        _addItemAt: function(dataItem, index) {\n            var that = this;\n            var item = $(that.templates.itemTemplate({ item: dataItem, r: that.templates.itemContent }));\n            that._unbindDataSource();\n            if (typeof dataItem === typeof \"\") {\n                that._insertElementAt(item, index);\n                that.dataSource._data.push(dataItem);\n            } else {\n                that._setItemId(item, dataItem.uid);\n                that._insertElementAt(item, index);\n                that.dataSource.add(dataItem);\n            }\n            that._bindDataSource();\n            that._syncElement();\n        },\n\n        _insertElementAt: function(item, index) {\n            var that = this;\n            var list = that._getList();\n\n            if (index > 0) {\n                $(item).insertAfter(list.children().eq(index - 1));\n            } else {\n                $(list).prepend(item);\n            }\n        },\n\n        _createNavigatable: function() {\n            var that = this;\n            var options = that.options;\n\n            if (options.navigatable) {\n                that._getList().on(CLICK, ENABLED_ITEM_SELECTOR, proxy(that._click, that))\n                            .on(KEYDOWN, proxy(that._keyDown, that))\n                            .on(BLUR, proxy(that._blur, that));\n            }\n        },\n\n        _getTabIndex: function() {\n            var that = this;\n            var tabindex;\n\n            if (!isNaN(that._listTabIndex))\n            {\n                return that._listTabIndex;\n            }\n\n            tabindex = that.element.attr(TABINDEX);\n            that._listTabIndex = !isNaN(tabindex) ? tabindex : 0;\n\n            that.element.removeAttr(TABINDEX);\n\n            return that._listTabIndex;\n        },\n\n        _blur: function() {\n            if (this._target) {\n                this._target.removeClass(FOCUSED_CLASS);\n                this._getList().removeAttr(\"aria-activedescendant\");\n            }\n            this._target = null;\n        },\n\n        _click: function(e) {\n            var that = this;\n            var target = $(e.currentTarget);\n            var oldTarget = that._target;\n            var activeEl = kendo._activeElement();\n            var isContained = $.contains(that.wrapper[0], activeEl);\n\n            if (oldTarget) {\n                oldTarget.removeClass(FOCUSED_CLASS);\n            }\n\n            that._target = target;\n            target.addClass(FOCUSED_CLASS);\n            that._getList().attr(\"aria-activedescendant\", target.attr(ID));\n\n            if (that._getList()[0] !== kendo._activeElement() && (!isContained || !isInputElement(activeEl))) {\n                that.focus();\n            }\n        },\n\n        _getNavigatableItem: function(key) {\n            var that = this;\n            var current;\n\n            if (!that._target) {\n                current = that.items().filter(ENABLED_ITEM_SELECTOR).first();\n            } else {\n                current = that._target;\n            }\n\n            if (key === keys.UP && that._target) {\n                current = that._target.prevAll(ENABLED_ITEM_SELECTOR).first();\n            }\n\n            if (key === keys.DOWN && that._target) {\n                current = that._target.nextAll(ENABLED_ITEM_SELECTOR).first();\n            }\n\n            return current.length ? current : null;\n        },\n\n        _scrollIntoView: function(item) {\n            if (!item) {\n                return;\n            }\n\n            if (item[0]) {\n                item = item[0];\n            }\n\n            var list = this._getList().parent()[0];\n            var itemOffsetTop = item.offsetTop;\n            var contentScrollTop = list.scrollTop;\n            var contentOffsetHeight = list.clientHeight;\n            var bottomDistance = itemOffsetTop + item.offsetHeight;\n\n            if (contentScrollTop > itemOffsetTop) {\n                contentScrollTop = itemOffsetTop;\n            } else if (bottomDistance > (contentScrollTop + contentOffsetHeight)) {\n                contentScrollTop = (bottomDistance - contentOffsetHeight);\n            }\n\n            list.scrollTop = contentScrollTop;\n        },\n\n        _keyDown: function(e) {\n            var that = this;\n            var key = e.keyCode;\n            var current = that._getNavigatableItem(key);\n            var shouldPreventDefault;\n\n            if (that._target) {\n                that._target.removeClass(FOCUSED_CLASS);\n            }\n\n            if (!(e.shiftKey && !e.ctrlKey && (key === keys.DOWN || key === keys.UP))) {\n                that._shiftSelecting = false;\n            }\n\n            if (key == keys.DELETE) {\n                that._executeCommand(REMOVE);\n                if (that._target) {\n                    that._target.removeClass(FOCUSED_CLASS);\n                    that._getList().removeAttr(\"aria-activedescendant\");\n                    that._target = null;\n                }\n                shouldPreventDefault = true;\n            } else if (key === keys.DOWN || key === keys.UP) {\n                if (!current) {\n                    e.preventDefault();\n                    return;\n                }\n                if (e.shiftKey && !e.ctrlKey) {\n                    if (!that._shiftSelecting) {\n                        that.clearSelection();\n                        that._shiftSelecting = true;\n                    }\n                    if (that._target && current.hasClass(\"k-selected\")) {\n                        that._target.removeClass(SELECTED_STATE_CLASS);\n                        that.trigger(CHANGE);\n                    } else if (that.options.selectable == \"single\") {\n                       that.select(current);\n                    } else {\n                       that.select(current.add(that._target));\n                    }\n                } else if (e.shiftKey && e.ctrlKey) {\n                    that._executeCommand(key === keys.DOWN ? MOVE_DOWN : MOVE_UP);\n                    that._scrollIntoView(that._target);\n                    e.preventDefault();\n                    return;\n                } else if (!e.shiftKey && !e.ctrlKey) {\n                    if (that.options.selectable === \"multiple\") {\n                        that.clearSelection();\n                    }\n                    that.select(current);\n                }\n\n                that._target = current;\n                if (that._target) {\n                    that._target.addClass(FOCUSED_CLASS);\n                    that._scrollIntoView(that._target);\n                    that._getList().attr(\"aria-activedescendant\", that._target.attr(ID));\n                } else {\n                    that._getList().removeAttr(\"aria-activedescendant\");\n                }\n                shouldPreventDefault = true;\n            } else if (key == keys.SPACEBAR) {\n                if (e.ctrlKey && that._target) {\n                   if (that._target.hasClass(SELECTED_STATE_CLASS)) {\n                       that._target.removeClass(SELECTED_STATE_CLASS);\n                       that.trigger(CHANGE);\n                   } else {\n                       that.select(that._target);\n                   }\n                } else {\n                   that.clearSelection();\n                   that.select(that._target);\n                }\n                shouldPreventDefault = true;\n            } else if (e.ctrlKey && key == keys.RIGHT) {\n                if (e.shiftKey) {\n                   that._executeCommand(TRANSFER_ALL_TO);\n                } else {\n                   that._executeCommand(TRANSFER_TO);\n                }\n                that._target = that.select().length ? that.select() : null;\n                shouldPreventDefault = true;\n            } else if (e.ctrlKey && key == keys.LEFT) {\n                if (e.shiftKey) {\n                   that._executeCommand(TRANSFER_ALL_FROM);\n                } else {\n                   that._executeCommand(TRANSFER_FROM);\n                }\n                shouldPreventDefault = true;\n            }\n\n            if (shouldPreventDefault) {\n                e.preventDefault();\n            }\n        },\n\n        focus: function() {\n            kendo.focusElement(this._getList());\n        },\n\n        _createDraggable: function() {\n            var that = this;\n            var draggable = that.options.draggable;\n            var hint;\n\n            if (draggable) {\n                hint = draggable.hint;\n                if (!that.options.selectable) {\n                    throw new Error(\"Dragging requires selection to be enabled\");\n                }\n\n                if (!hint) {\n                    hint = defaultHint;\n                }\n\n                that._draggable = new kendo.ui.Draggable(that.wrapper, {\n                    filter: draggable.filter ? draggable.filter : DEFAULT_FILTER,\n                    hint: kendo.isFunction(hint) ? hint : $(hint),\n                    dragstart: proxy(that._dragstart, that),\n                    dragcancel: proxy(that._clear, that),\n                    drag: proxy(that._drag, that),\n                    dragend: proxy(that._dragend, that)\n                });\n            }\n        },\n\n        _dragstart: function(e) {\n            var that = this;\n            var draggedElement = that.draggedElement = e.currentTarget;\n            var placeholder = that.options.draggable.placeholder;\n            var dataItem = that.dataItem(draggedElement);\n            var eventData = { dataItems: dataItem, items: $(draggedElement), draggableEvent: e };\n\n            if (that.options.draggable.enabled === false) {\n                e.preventDefault();\n                return;\n            }\n\n            if (!placeholder) {\n                placeholder = defaultPlaceholder;\n            }\n\n            that.placeholder = kendo.isFunction(placeholder) ? $(placeholder.call(that, draggedElement)) : $(placeholder);\n\n            if (draggedElement.is(DOT + DISABLED_STATE_CLASS)) {\n                e.preventDefault();\n            } else {\n                if (that.trigger(DRAGSTART, eventData)) {\n                    e.preventDefault();\n                } else {\n                    that.clearSelection();\n                    that.select(draggedElement);\n                    draggedElement.addClass(DRAGGEDCLASS);\n                }\n            }\n        },\n\n        _clear: function() {\n            this.draggedElement.removeClass(DRAGGEDCLASS);\n            this.placeholder.remove();\n        },\n\n        _findElementUnderCursor: function(e) {\n            var elementUnderCursor = kendo.elementUnderCursor(e);\n            var draggable = e.sender;\n\n            if ($.contains(draggable.hint[0], elementUnderCursor) || draggable.hint[0] === elementUnderCursor) {\n                draggable.hint.hide();\n                elementUnderCursor = kendo.elementUnderCursor(e);\n                draggable.hint.show();\n            }\n\n            return elementUnderCursor;\n        },\n\n        _findTarget: function(e) {\n            var that = this;\n            var element = that._findElementUnderCursor(e);\n            var elementNode = $(element);\n            var list = that._getList();\n            var items;\n            var node;\n\n            if ($.contains(list[0], element)) {\n                items = that.items();\n                element = elementNode.is(\"li\") ? element : elementNode.closest(\"li\")[0];\n                node = items.filter(element)[0] || items.has(element)[0];\n                if (node) {\n                    node = $(node);\n                    return !node.hasClass(DISABLED_STATE_CLASS) ? { element: node, listBox: that } : null;\n                } else {\n                    return null;\n                }\n            } else if (list[0] == element || list.parent()[0] == element) {\n                return { element: $(list), appendToBottom: true, listBox: that };\n            } else {\n                return that._searchConnectedListBox(elementNode);\n            }\n        },\n\n        _getElementCenter: function(element) {\n            var center = element.length ? kendo.getOffset(element) : null;\n            if (center) {\n                center.top += outerHeight(element) / 2;\n                center.left += outerWidth(element) / 2;\n            }\n\n            return center;\n        },\n\n        _searchConnectedListBox: function(element) {\n            var connectedListBox;\n            var items;\n            var node;\n            var originalElement = element;\n            var closestContainer;\n\n            if (element.hasClass(\"k-list-scroller k-selectable\")) {\n                closestContainer = element;\n            } else {\n                closestContainer = element.closest(\".k-list-scroller.k-selectable\");\n            }\n\n            if (closestContainer.length) {\n                connectedListBox = closestContainer.parent().find(\"[data-role='listbox']\").getKendoListBox();\n            } else {\n                return null;\n            }\n\n            if (connectedListBox && $.inArray(this.element[0].id, connectedListBox.options.dropSources) !== -1) {\n                items = connectedListBox.items();\n                element = element.is(\"li\") ? element[0] : element.closest(\"li\")[0];\n                node = items.filter(element)[0] || items.has(element)[0];\n                if (node) {\n                    node = $(node);\n                    return !node.hasClass(DISABLED_STATE_CLASS) ? { element: node, listBox: connectedListBox } : null;\n                } else if (!items.length ||\n                            originalElement.hasClass(\"k-list-scroller k-selectable\") ||\n                            originalElement.hasClass(\"k-list-content\")) {\n                    return { element: connectedListBox._getList(), listBox: connectedListBox, appendToBottom: true };\n                } else {\n                    return null;\n                }\n            }\n            return null;\n        },\n\n        _drag: function(e) {\n            var that = this;\n            var draggedElement = that.draggedElement;\n            var target = that._findTarget(e);\n            var cursorOffset = { left: e.x.location, top: e.y.location };\n            var dataItem = that.dataItem(draggedElement);\n            var eventData = { dataItems: [dataItem], items: $(draggedElement), draggableEvent: e };\n            var targetCenter;\n            var offsetDelta;\n            var direction;\n\n            if (that.trigger(DRAG, eventData)) {\n                e.preventDefault();\n                return;\n            }\n\n            if (target) {\n                targetCenter = this._getElementCenter(target.element);\n\n                offsetDelta = {\n                    left: Math.round(cursorOffset.left - targetCenter.left),\n                    top: Math.round(cursorOffset.top - targetCenter.top)\n                };\n\n                if (target.appendToBottom) {\n                    that._movePlaceholder(target, null , draggedElement);\n                    return;\n                }\n\n                if (offsetDelta.top < 0) {\n                    direction = \"prev\";\n                } else if (offsetDelta.top > 0) {\n                    direction = \"next\";\n                }\n\n                if (direction) {\n                    if (target.element[0] != that.placeholder[0]) {\n                        that._movePlaceholder(target, direction, draggedElement);\n                    }\n                }\n             }\n             else if (that.placeholder.parent().length) {\n                that.placeholder.remove();\n             }\n        },\n\n        _movePlaceholder: function(target, direction, draggedElement) {\n            var that = this;\n            var placeholder = that.placeholder;\n            var draggableOptions = target.listBox.options.draggable;\n\n            if (placeholder.parent().length) {\n                that.placeholder.remove();\n                if (draggableOptions && draggableOptions.placeholder) {\n                    that.placeholder = kendo.isFunction(draggableOptions.placeholder) ? $(draggableOptions.placeholder.call(that, draggedElement)) : $(draggableOptions.placeholder);\n                } else {\n                    that.placeholder = $(defaultPlaceholder.call(that, draggedElement));\n                }\n            }\n\n            if (!direction) {\n                target.element.append(that.placeholder);\n            } else if (direction === \"prev\") {\n                target.element.before(that.placeholder);\n            } else if (direction === \"next\") {\n                target.element.after(that.placeholder);\n            }\n        },\n\n        _dragend: function(e) {\n            var that = this;\n            var draggedItem = that.draggedElement;\n            var items = that.items();\n            var placeholderIndex = items.not(that.draggedElement).index(that.placeholder);\n            var draggedIndex = items.not(that.placeholder).index(that.draggedElement);\n            var dataItem = that.dataItem(draggedItem);\n            var eventData = { dataItems: [dataItem], items: $(draggedItem) };\n            var connectedListBox = that.placeholder.closest(\".k-widget.k-listbox\").find(\"[data-role='listbox']\").getKendoListBox();\n\n            if (that.trigger(DROP, extend({}, eventData, { draggableEvent: e }))) {\n                e.preventDefault();\n                this._clear();\n                return;\n            }\n\n            if (placeholderIndex >= 0) {\n                if (placeholderIndex !== draggedIndex && !that.trigger(REORDER, extend({}, eventData, { offset: placeholderIndex - draggedIndex }))) {\n                    draggedItem.removeClass(DRAGGEDCLASS);\n                    that.reorder(draggedItem, placeholderIndex);\n                }\n            } else if (connectedListBox) {\n                if (!that.trigger(REMOVE, eventData)) {\n                    that.remove($(draggedItem));\n                }\n\n                if (!connectedListBox.trigger(ADD, eventData)) {\n                    connectedListBox._addItemAt(dataItem, connectedListBox.items().index(that.placeholder));\n                }\n            }\n\n            that._clear();\n            that._draggable.dropped = true;\n\n            that.trigger(DRAGEND, extend({}, eventData, { draggableEvent: e }));\n\n            that._updateToolbar();\n            that._updateAllToolbars();\n        },\n\n        reorder: function(item, index) {\n            var that = this;\n            var dataSource = that.dataSource;\n            var dataItem = that.dataItem(item);\n            var dataItemAtIndex = dataSource.at(index);\n            var itemAtIndex = that.items()[index];\n            var listItem = $(item);\n\n            if (dataItem && itemAtIndex && dataItemAtIndex) {\n                that._removeElement(listItem);\n                that._insertElementAt(listItem, index);\n                that._updateToolbar();\n            }\n        },\n\n        remove: function(items) {\n            var that = this;\n            var listItems = that._getItems(items);\n            var itemsLength = listItems.length;\n            var i;\n\n            that._unbindDataSource();\n            that._unbindDataChange();\n            for (i = 0; i < itemsLength; i++) {\n                that._removeItem($(listItems[i]));\n            }\n            that._bindDataChange();\n            that._bindDataSource();\n            that._syncElement();\n            that._updateToolbar();\n            that._updateAllToolbars();\n        },\n\n        _removeItem: function(item) {\n            var that = this;\n            var dataSource = that.dataSource;\n            var dataItem = that.dataItem(item);\n            var transport = dataSource.transport;\n\n            if (!dataItem || !dataSource) {\n                return;\n            }\n            if (typeof dataItem === typeof \"\") {\n                var data = dataSource._data;\n                for (var i = 0; i < data.length; i++) {\n                    if (dataItem === data[i]) {\n                        data[i] = data[data.length - 1];\n                        data.pop();\n                        break;\n                    }\n                }\n            } else {\n                dataSource.remove(dataItem);\n                if (transport && (transport.destroy || (transport.options || {}).destroy) &&\n                    (!dataItem.isNew || !dataItem.isNew())) {\n                    dataSource._destroyed.push(dataItem);\n                }\n            }\n            that._removeElement(item);\n        },\n\n        _removeElement: function(item) {\n            kendo.destroy(item);\n            $(item).off().remove();\n        },\n\n        dataItem: function(element) {\n            var uniqueIdAttr = kendoAttr(UNIQUE_ID);\n            var uid = $(element).attr(uniqueIdAttr) || $(element).closest(\"[\" + uniqueIdAttr + \"]\").attr(uniqueIdAttr);\n            if (uid) {\n                return this.dataSource.getByUid(uid);\n            }\n            else {\n                return $(element).html();\n            }\n        },\n\n        _dataItems: function(items) {\n            var dataItems = [];\n            var listItems = $(items);\n            var itemsLength = listItems.length;\n            var i;\n\n            for (i = 0; i < itemsLength; i++) {\n                dataItems.push(this.dataItem(listItems.eq(i)));\n            }\n\n            return dataItems;\n        },\n\n        items: function() {\n            var list = this._getList();\n            return list.children();\n        },\n\n        select: function(items) {\n            var that = this;\n            var selectable = that.selectable;\n            var enabledItems;\n\n            if (isUndefined(items)) {\n                return selectable.value();\n            }\n\n            enabledItems = that.items().filter(items).filter(ENABLED_ITEMS_SELECTOR);\n\n            if (!selectable.options.multiple) {\n                selectable.clear();\n                enabledItems = enabledItems.first();\n            }\n\n            return selectable.value(enabledItems);\n        },\n\n        clearSelection: function() {\n            var that = this;\n            var selectable = that.selectable;\n\n            if (selectable) {\n                selectable.clear();\n            }\n        },\n\n        enable: function(items, enable) {\n            var that = this;\n            var enabled = isUndefined(enable) ? true : !!enable;\n            var listItems = that._getItems(items);\n            var itemsLength = listItems.length;\n            var i;\n\n            for (i = 0; i < itemsLength; i++) {\n                that._enableItem($(listItems[i]), enabled);\n            }\n\n            that._updateAllToolbars();\n        },\n\n        _enableItem: function(item, enable) {\n            var that = this;\n            var dataItem = that.dataItem(item);\n\n            if (dataItem) {\n                if (enable) {\n                    $(item).removeClass(DISABLED_STATE_CLASS);\n                } else {\n                    $(item)\n                        .addClass(DISABLED_STATE_CLASS)\n                        .removeClass(SELECTED_STATE_CLASS);\n                }\n            }\n        },\n\n        setDataSource: function(dataSource) {\n            var that = this;\n\n            that.options.dataSource = dataSource;\n\n            that._dataSource();\n        },\n\n        _dataSource: function() {\n            var that = this;\n            var options = that.options;\n            var dataSource = options.dataSource || {};\n\n            dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n            dataSource.select = that.element;\n            dataSource.fields = [\n                { field: options.dataTextField },\n                { field: options.dataValueField }];\n\n            that._unbindDataSource();\n            that.dataSource = DataSource.create(dataSource);\n            that._bindDataSource();\n\n            if (that.options.autoBind) {\n                that.wrapper.attr(\"aria-busy\", true);\n                that.dataSource.fetch();\n            }\n        },\n\n        _bindDataChange: function() {\n            var dataSource = this.dataSource;\n            if (dataSource._data && dataSource._changeHandler) {\n                dataSource._data.bind(CHANGE, dataSource._changeHandler);\n                dataSource._data.trigger(CHANGE);\n            }\n        },\n\n        _unbindDataChange: function() {\n            var dataSource = this.dataSource;\n            if (dataSource._data && dataSource._changeHandler) {\n                dataSource._data.unbind(CHANGE, dataSource._changeHandler);\n            }\n        },\n\n        _bindDataSource: function() {\n            var that = this;\n            var dataSource = that.dataSource;\n\n            that._dataChangeHandler = proxy(that.refresh, that);\n\n            if (dataSource) {\n                dataSource.bind(CHANGE, that._dataChangeHandler);\n            }\n        },\n\n        _unbindDataSource: function() {\n            var that = this;\n            var dataSource = that.dataSource;\n\n            if (dataSource) {\n                dataSource.unbind(CHANGE, that._dataChangeHandler);\n            }\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper = element.parent(\"div.k-listbox\");\n\n            if (!wrapper[0]) {\n                wrapper = element.wrap('<div class=\"k-widget k-listbox\" unselectable=\"on\" />').parent();\n                wrapper[0].style.cssText = element[0].style.cssText;\n                wrapper[0].title = element[0].title;\n                $('<div class=\"k-list-scroller\"><div class=\"k-list k-list-md\"><div class=\"k-list-content\"></div></div></div>').insertBefore(element);\n            }\n\n            that.wrapper = wrapper.addClass(element[0].className).css(\"display\", \"\");\n            that._innerWrapper = $(wrapper[0].firstChild);\n        },\n\n        _list: function() {\n            var that = this,\n                list = $(\"<ul class='\" + LIST_CLASS + \"' role='listbox'></ul>\"),\n                selectable = that.options.selectable,\n                selectableOptions = Selectable.parseOptions(selectable);\n\n            if (selectableOptions.multiple) {\n                list.attr(\"aria-multiselectable\", \"true\");\n            }\n\n            list.appendTo(that.wrapper.find(\".k-list-content\"));\n\n            if (that.options.navigatable) {\n                that._getList().attr(TABINDEX, that._getTabIndex());\n            }\n        },\n\n        _ariaLabel: function() {\n            var that = this;\n            var inputElm = that.element;\n            var ul = that._getList();\n            var id = inputElm.attr(\"id\");\n            var labelElm = $(\"label[for=\\'\" + id + \"\\']\");\n            var ariaLabel = inputElm.attr(\"aria-label\");\n            var ariaLabelledBy = inputElm.attr(\"aria-labelledby\");\n            var labelId;\n\n            if (ariaLabel) {\n                ul.attr(\"aria-label\", ariaLabel);\n            } else if (ariaLabelledBy) {\n                ul.attr(\"aria-labelledby\", ariaLabelledBy);\n            } else if (labelElm.length) {\n                labelId = labelElm.attr(\"id\");\n                if (labelId) {\n                    ul.attr(\"aria-labelledby\", labelId);\n                } else {\n                    labelId = kendo.guid();\n                    labelElm.attr(\"id\", labelId);\n                    ul.attr(\"aria-labelledby\", labelId);\n                }\n            }\n        },\n\n        _templates: function() {\n            var that = this;\n            var options = this.options;\n            var template;\n\n            if (options.template && typeof options.template == \"string\") {\n                template = kendo.template(options.template);\n            } else if (!options.template) {\n                template = kendo.template('${' + kendo.expr(options.dataTextField, \"data\") + \"}\", { useWithBlock: false });\n            } else {\n                template = options.template;\n            }\n\n            that.templates = {\n                itemTemplate: kendo.template(\"# var item = data.item, r = data.r; # <li class='k-list-item' role='option' aria-selected='false'><span class='k-list-item-text'>#=r(item)#</span></li>\", { useWithBlock: false }),\n                itemContent: template,\n                toolbar: \"<div class='\" + TOOLBAR_CLASS + \"'></div>\"\n            };\n        },\n\n        refresh: function() {\n            var that = this;\n            var view = that.dataSource.view();\n            var template = that.templates.itemTemplate;\n            var html = \"\";\n\n            for (var idx = 0; idx < view.length; idx++) {\n                html += template({ item: view[idx], r: that.templates.itemContent });\n            }\n            that._getList().html(html);\n            that._setItemIds();\n            that._createToolbar();\n            that._syncElement();\n            that._updateToolbar();\n            that._updateAllToolbars();\n            that.trigger(DATABOUND);\n\n            that.wrapper.attr(\"aria-busy\", false);\n        },\n\n        _syncElement: function() {\n            var options = \"\";\n            var view = this.dataSource.view();\n            for (var idx = 0; idx < view.length; idx++) {\n                options += this._option(view[idx][this.options.dataValueField] || view[idx], view[idx][this.options.dataTextField] || view[idx], true);\n            }\n            this.element.html(options);\n        },\n\n        _option: function(dataValue, dataText) {\n            var option = \"<option\";\n\n            if (dataValue !== undefined) {\n                dataValue += \"\";\n\n                if (dataValue.indexOf('\"') !== -1) {\n                    dataValue = dataValue.replace(/\"/g, \"&quot;\");\n                }\n\n                option += ' value=\"' + dataValue + '\"';\n            }\n            option += \" selected>\";\n\n            if (dataText !== undefined) {\n                option += kendo.htmlEncode(dataText);\n            }\n\n            return option += \"</option>\";\n        },\n\n        _setItemId: function(item, id) {\n            if (!item.length) {\n                return;\n            }\n\n            item.attr(kendoAttr(UNIQUE_ID), id).attr(ID, id);\n        },\n\n        _setItemIds: function() {\n            var that = this;\n            var items = that.items();\n            var view = that.dataSource.view();\n            var viewLength = view.length;\n            var i;\n\n            for (i = 0; i < viewLength; i++) {\n                that._setItemId(items.eq(i), view[i].uid);\n            }\n        },\n\n        _selectable: function() {\n            var that = this;\n            var selectable = that.options.selectable;\n            var selectableOptions = Selectable.parseOptions(selectable);\n\n            that.selectable = new Selectable(that._innerWrapper, {\n                aria: true,\n                selectedClass: \"k-selected\",\n                multiple: selectableOptions.multiple,\n                filter: ENABLED_ITEM_SELECTOR,\n                change: proxy(that._onSelect, that)\n            });\n        },\n\n        _onSelect: function() {\n            var that = this;\n\n            that._updateToolbar();\n            that._updateAllToolbars();\n            that.trigger(CHANGE);\n        },\n\n        _destroySelectable: function() {\n            var that = this;\n\n            if (that.selectable && that.selectable.element) {\n                that.selectable.destroy();\n                that.selectable = null;\n            }\n        },\n\n        _getList: function() {\n            return this.wrapper.find(LIST_SELECTOR);\n        },\n\n        _getItems: function(items) {\n            return this.items().filter(items);\n        },\n\n        _createToolbar: function() {\n            var that = this;\n            var toolbarOptions = that.options.toolbar;\n            var position = toolbarOptions.position || RIGHT;\n            var toolbarInsertion = position === BOTTOM ? \"insertAfter\" : \"insertBefore\";\n            var tools = toolbarOptions.tools || [];\n            var messages = that.options.messages;\n\n            that._destroyToolbar();\n            that.wrapper.removeClass(TOOLBAR_POSITION_CLASS_NAMES.join(SPACE));\n\n            if (tools.length && tools.length > 0) {\n                var toolbarElement = $(that.templates.toolbar)[toolbarInsertion](that._innerWrapper);\n                that.toolbar = new ToolBar(toolbarElement, extend({}, toolbarOptions, { listBox: that, messages: messages }));\n                that.wrapper.addClass(TOOLBAR_CLASS + DASH + position);\n            }\n        },\n\n        _destroyToolbar: function() {\n            var that = this;\n\n            if (that.toolbar) {\n                that.toolbar.destroy();\n                that.toolbar = null;\n            }\n        },\n\n        _executeCommand: function(commandName) {\n            var that = this;\n            var command = CommandFactory.current.create(commandName, { listBox: that });\n\n            if (command) {\n                command.execute();\n                that._updateToolbar();\n                that._updateAllToolbars();\n            }\n        },\n\n        _updateToolbar: function() {\n            var toolbar = this.toolbar;\n\n            if (toolbar) {\n                toolbar._updateToolStates();\n            }\n        },\n\n        _updateAllToolbars: function() {\n            var listBoxElements = $(\"select[data-role='listbox']\");\n            var elementsLength = listBoxElements.length;\n            var listBox;\n            var i;\n\n            for (i = 0; i < elementsLength; i++) {\n                listBox = $(listBoxElements[i]).data(KENDO_LISTBOX);\n\n                if (listBox) {\n                    listBox._updateToolbar();\n                }\n            }\n        }\n    });\n\n    kendo.ui.plugin(ListBox);\n\n    var CommandFactory = Class.extend({\n        init: function() {\n            this._commands = [];\n        },\n\n        register: function(commandName, commandType) {\n            this._commands.push({\n                commandName: commandName,\n                commandType: commandType\n            });\n        },\n\n        create: function(commandName, options) {\n            var commands = this._commands;\n            var itemsLength = commands.length;\n            var name = commandName ? commandName.toLowerCase() : \"\";\n            var match;\n            var command;\n            var i;\n\n            for (i = 0; i < itemsLength; i++) {\n                command = commands[i];\n\n                if (command.commandName.toLowerCase() === name) {\n                    match = command;\n                    break;\n                }\n            }\n\n            if (match) {\n                return new match.commandType(options);\n            }\n        }\n    });\n    CommandFactory.current = new CommandFactory();\n\n    var ListBoxCommand = Class.extend({\n        init: function(options) {\n            var that = this;\n\n            that.options = extend({}, that.options, options);\n            that.listBox = that.options.listBox;\n        },\n\n        options: {\n            listBox: null\n        },\n\n        getItems: function() {\n            return $(this.listBox.select());\n        },\n\n        execute: noop,\n        canExecute: noop\n    });\n\n    var RemoveItemsCommand = ListBoxCommand.extend({\n        execute: function() {\n            var that = this;\n            var listBox = that.listBox;\n            var items = that.getItems();\n\n            if (!listBox.trigger(REMOVE, { dataItems: listBox._dataItems(items), items: items })) {\n                listBox.remove(items);\n            }\n        },\n\n        canExecute: function() {\n            return this.listBox.select().length > 0;\n        }\n    });\n    CommandFactory.current.register(REMOVE, RemoveItemsCommand);\n\n    var MoveItemsCommand = ListBoxCommand.extend({\n        execute: function() {\n            var that = this;\n\n            if (that.canExecute()) {\n                that.moveItems();\n            }\n        },\n\n        canExecute: noop,\n\n        moveItems: function() {\n            var that = this;\n            var listBox = that.listBox;\n            var options = that.options;\n            var items = that.getItems();\n            var offset = options.offset;\n            var indecesInDom = getSortedDomIndices(items);\n            var movedItems = $.makeArray(items.sort(that.itemComparer));\n            var moveAction = options.moveAction;\n            var movedItem;\n\n            if (!listBox.trigger(REORDER, { dataItems: listBox._dataItems(movedItems), items: $(movedItems), offset: offset })) {\n                while (movedItems.length > 0 && indecesInDom.length > 0) {\n                    movedItem = movedItems[moveAction]();\n\n                    listBox.reorder(movedItem, indecesInDom[moveAction]() + offset);\n                }\n            }\n        },\n\n        options: {\n            offset: 0,\n            moveAction: \"pop\"\n        },\n\n        itemComparer: function(item1, item2) {\n            var indexItem1 = $(item1).index();\n            var indexItem2 = $(item2).index();\n\n            if (indexItem1 === indexItem2) {\n                return 0;\n            } else {\n                return (indexItem1 > indexItem2 ? 1 : (-1));\n            }\n        }\n    });\n\n    var MoveUpItemsCommand = MoveItemsCommand.extend({\n        options: {\n            offset: MOVE_UP_OFFSET,\n            moveAction: \"shift\"\n        },\n\n        canExecute: function() {\n            var items = this.getItems();\n            var domIndices = getSortedDomIndices(items);\n\n            return (domIndices.length > 0 && domIndices[0] > 0);\n        }\n    });\n    CommandFactory.current.register(MOVE_UP, MoveUpItemsCommand);\n\n    var MoveDownItemsCommand = MoveItemsCommand.extend({\n        options: {\n            offset: MOVE_DOWN_OFFSET,\n            moveAction: \"pop\"\n        },\n\n        canExecute: function() {\n            var that = this;\n            var items = that.getItems();\n            var domIndices = getSortedDomIndices(items);\n\n            return (domIndices.length > 0 && $(domIndices).last()[0] < (that.listBox.items().length - 1));\n        }\n    });\n    CommandFactory.current.register(MOVE_DOWN, MoveDownItemsCommand);\n\n    var TransferItemsCommand = ListBoxCommand.extend({\n        options: {\n            filter: ENABLED_ITEM_SELECTOR\n        },\n\n        execute: function() {\n            var that = this;\n            var sourceListBox = that.getSourceListBox();\n            var items = that.getItems().filter(that.options.filter);\n            var dataItems = sourceListBox ? sourceListBox._dataItems(items) : [];\n            var destinationListBox = that.getDestinationListBox();\n            var updatedSelection = that.getUpdatedSelection(items);\n\n            if (destinationListBox && items.length > 0) {\n                if (!destinationListBox.trigger(ADD, { dataItems: dataItems, items: items })) {\n                    destinationListBox.add(dataItems);\n                }\n\n                if (!sourceListBox.trigger(REMOVE, { dataItems: dataItems, items: items })) {\n                    sourceListBox.remove(items);\n                    that.updateSelection(updatedSelection);\n                }\n            }\n        },\n\n        getUpdatedSelection: function(items) {\n\n            if (items.length !== 1) {\n                return null;\n            }\n            var that = this;\n            var itemFilter = that.options.filter;\n            var sourceListBox = that.getSourceListBox();\n            var lastEnabledItem = sourceListBox ? sourceListBox.items().filter(itemFilter).last() : null;\n            var containsLastItem = $(items).filter(lastEnabledItem).length > 0;\n            var itemToSelect = containsLastItem ? $(items).prevAll(itemFilter)[0] : $(items).nextAll(itemFilter)[0];\n\n            if (itemToSelect) {\n                return itemToSelect;\n            } else {\n                return null;\n            }\n        },\n\n        updateSelection: function(item) {\n            var sourceListBox = this.getSourceListBox();\n\n            if (sourceListBox && item) {\n                $(sourceListBox.select($(item)));\n                sourceListBox._scrollIntoView(item);\n            }\n        },\n\n        getSourceListBox: noop,\n        getDestinationListBox: noop\n    });\n\n    var TransferItemsToCommand = TransferItemsCommand.extend({\n        canExecute: function() {\n            var sourceListBox = this.getSourceListBox();\n\n            return (sourceListBox ? sourceListBox.select().length > 0 : false);\n        },\n\n        getSourceListBox: function() {\n            return this.listBox;\n        },\n\n        getDestinationListBox: function() {\n            var sourceListBox = this.getSourceListBox();\n            return sourceListBox && sourceListBox.options.connectWith ? $(HASH + sourceListBox.options.connectWith).data(KENDO_LISTBOX) : null;\n        },\n\n        getItems: function() {\n            var sourceListBox = this.getSourceListBox();\n            return sourceListBox ? $(sourceListBox.select()) : $();\n        }\n    });\n    CommandFactory.current.register(TRANSFER_TO, TransferItemsToCommand);\n\n    var TransferItemsFromCommand = TransferItemsCommand.extend({\n        canExecute: function() {\n            var sourceListBox = this.getSourceListBox();\n\n            return (sourceListBox ? sourceListBox.select().length > 0 : false);\n        },\n\n        getSourceListBox: function() {\n            var destinationListBox = this.getDestinationListBox();\n            return (destinationListBox && destinationListBox.options.connectWith) ? $(HASH + destinationListBox.options.connectWith).data(KENDO_LISTBOX) : null;\n        },\n\n        getDestinationListBox: function() {\n            return this.listBox;\n        },\n\n        getItems: function() {\n            var sourceListBox = this.getSourceListBox();\n            return sourceListBox ? $(sourceListBox.select()) : $();\n        }\n    });\n    CommandFactory.current.register(TRANSFER_FROM, TransferItemsFromCommand);\n\n    var TransferAllItemsToCommand = TransferItemsToCommand.extend({\n        canExecute: function() {\n            var sourceListBox = this.getSourceListBox();\n\n            return (sourceListBox ? sourceListBox.wrapper.find(ENABLED_ITEMS_SELECTOR).length > 0 : false);\n        },\n\n        getItems: function() {\n            var sourceListBox = this.getSourceListBox();\n            return sourceListBox ? sourceListBox.items() : $();\n        },\n\n        getUpdatedSelection: noop,\n        updateSelection: noop\n    });\n    CommandFactory.current.register(TRANSFER_ALL_TO, TransferAllItemsToCommand);\n\n    var TransferAllItemsFromCommand = TransferItemsFromCommand.extend({\n        canExecute: function() {\n            var sourceListBox = this.getSourceListBox();\n\n            return (sourceListBox ? sourceListBox.wrapper.find(ENABLED_ITEMS_SELECTOR).length > 0 : false);\n        },\n\n        getItems: function() {\n            var sourceListBox = this.getSourceListBox();\n            return sourceListBox ? sourceListBox.items() : $();\n        },\n\n        getUpdatedSelection: noop,\n        updateSelection: noop\n    });\n    CommandFactory.current.register(TRANSFER_ALL_FROM, TransferAllItemsFromCommand);\n\n    var ToolBar = Class.extend({\n        init: function(element, options) {\n            var that = this;\n\n            that.element = $(element).addClass(TOOLBAR_CLASS);\n            that.options = extend({}, that.options, options);\n            that.listBox = that.options.listBox;\n\n            that._initTemplates();\n            that._createTools();\n            that._updateToolStates();\n            that._attachEventHandlers();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that._detachEventHandlers();\n            kendo.destroy(that.element);\n            that.element.remove();\n            that.element = null;\n        },\n\n        options: {\n            position: RIGHT,\n            tools: []\n        },\n\n        _initTemplates: function() {\n            this.templates = {\n                tool: kendoTemplate(\n                    \"<li>\" +\n                        \"<a href='\\\\\\\\#' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button' data-command='#= command #' title='#= text #' aria-label='#= text #' role='button'>\" +\n                            \"<span class='k-button-icon k-icon #= iconClass #'></span>\" +\n                        \"</a>\" +\n                    \"</li>\")\n            };\n        },\n\n        _createTools: function() {\n            var that = this;\n            var tools = that.options.tools;\n            var toolsLength = tools.length;\n            var toolsMessages = that.options.messages.tools;\n            var toolList = that._createToolList();\n            var tool;\n            var i;\n\n            for (i = 0; i < toolsLength; i++) {\n                tool = extend({}, ToolBar.defaultTools[tools[i]], { text: toolsMessages[tools[i]] });\n\n                if (tool) {\n                    toolList.append($(that.templates.tool(tool)));\n                }\n            }\n\n            that.element.append(toolList);\n        },\n\n        _createToolList: function() {\n            return $(\"<ul class='k-reset' />\");\n        },\n\n        _attachEventHandlers: function() {\n            var that = this;\n\n            that.element.on(CLICK, TOOL_SELECTOR, proxy(that._onToolClick, that));\n        },\n\n        _detachEventHandlers: function() {\n            this.element.off(NS).find(\"*\").off(NS);\n        },\n\n        _onToolClick: function(e) {\n            e.preventDefault();\n\n            this._executeToolCommand($(e.currentTarget).data(COMMAND));\n        },\n\n        _executeToolCommand: function(command) {\n            var that = this;\n            var listBox = that.listBox;\n\n            if (listBox) {\n                listBox._executeCommand(command);\n            }\n        },\n\n        _updateToolStates: function() {\n            var that = this;\n            var tools = that.options.tools;\n            var toolsLength = tools.length;\n            var i;\n\n            for (i = 0; i < toolsLength; i++) {\n                that._updateToolState(tools[i]);\n            }\n        },\n\n        _updateToolState: function(toolName) {\n            var that = this;\n            var command = CommandFactory.current.create(toolName, { listBox: that.listBox });\n            var tool = that.element.find(\"[data-command='\" + toolName + \"']\");\n            var toolElement = tool[0];\n\n            if (toolElement && command && command.canExecute) {\n                if (command.canExecute()) {\n                    tool.removeClass(DISABLED_STATE_CLASS).removeAttr(TABINDEX);\n                } else {\n                    tool.addClass(DISABLED_STATE_CLASS).attr(TABINDEX, \"-1\");\n                }\n            }\n        }\n    });\n\n    ToolBar.defaultTools = {\n        remove: {\n            command: REMOVE,\n            iconClass: \"k-i-x\"\n        },\n        moveUp: {\n            command: MOVE_UP,\n            iconClass: \"k-i-arrow-60-up\"\n        },\n        moveDown: {\n            command: MOVE_DOWN,\n            iconClass: \"k-i-arrow-60-down\"\n        },\n        transferTo: {\n            command: TRANSFER_TO,\n            iconClass: \"k-i-arrow-60-right\"\n        },\n        transferFrom: {\n            command: TRANSFER_FROM,\n            iconClass: \"k-i-arrow-60-left\"\n        },\n        transferAllTo: {\n            command: TRANSFER_ALL_TO,\n            iconClass: \"k-i-arrow-double-60-right\"\n        },\n        transferAllFrom: {\n            command: TRANSFER_ALL_FROM,\n            iconClass: \"k-i-arrow-double-60-left\"\n        }\n    };\n\n    extend(ListBox, {\n        ToolBar: ToolBar\n    });\n\n    function isInputElement(element) {\n        return $(element).is(\":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdown\");\n    }\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function (f, define) {\n    define('kendo.loader',[\"./kendo.core\"], f);\n})(function () {\n\nvar __meta__ = {// jshint ignore:line\n    id: \"loader\",\n    name: \"Loader\",\n    category: \"web\",\n    description: \"The Loader is a visual indicator of loading data across different parts of the page.\",\n    depends: [\"core\"]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        ui = kendo.ui,\n\n        HIDDEN = 'k-hidden',\n        ROLE = 'role',\n        ARIA_LABEL = 'aria-label',\n        ARIA_HIDDEN = 'aria-hidden',\n        ARIA_LIVE = 'aria-live';\n\n    var loaderClasses = {\n        loader: \"k-widget k-loader\",\n        canvas: \"k-loader-canvas\",\n        segment: \"k-loader-segment\"\n    };\n\n    var loaderTypes = {\n        'pulsing': { className: 'pulsing-2', segments: 2 },\n        'infinite-spinner': { className: 'spinner-3', segments: 3 },\n        'converging-spinner': { className: 'spinner-4', segments: 4 }\n    };\n\n    var Loader = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._render();\n\n            that._appearance();\n\n            kendo.notify(that);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n        },\n\n        options: {\n            name: 'Loader',\n            themeColor: \"primary\",\n            sizes: {\n                'small': 'sm',\n                'medium': 'md',\n                'large': 'lg'\n            },\n            size: 'medium',\n            type: \"pulsing\",\n            visible: true,\n            messages: {\n                \"loading\": \"Loading\"\n            },\n            _classNames: []\n        },\n\n        _render: function() {\n            var that = this,\n                wrapper = that.element,\n                type = that.options.type,\n                typeData = loaderTypes[type] === undefined ? type : loaderTypes[type],\n                segments = [];\n\n            wrapper\n                .empty()\n                .attr(ARIA_LABEL, that.options.messages.loading)\n                .attr(ROLE, \"alert\")\n                .attr(ARIA_LIVE, \"polite\");\n\n            if (typeData.segments) {\n                for (var i = 0; i < typeData.segments; i += 1) {\n                    segments.push($('<span/>').addClass(loaderClasses.segment));\n                }\n            }\n\n            $(\"<div>\").addClass(loaderClasses.canvas)\n                .append(segments)\n                .appendTo(wrapper);\n        },\n\n        _appearance: function() {\n            var that = this;\n\n            that._themeColor = that.options.themeColor;\n            that._sizes = that.options.sizes;\n            that._size = that.options.size;\n            that._type = that.options.type;\n            that._visible = that.options.visible;\n\n            that._updateClassNames();\n        },\n\n        _updateClassNames: function() {\n            var that = this,\n                classNames = [loaderClasses.loader],\n                keepClassNames = that.options._classNames,\n                themeColor = that._themeColor,\n                sizes = that._sizes,\n                size = that._size,\n                type = that._type,\n                typeData = loaderTypes[type] === undefined ? type : loaderTypes[type],\n                sizeAbbr = sizes[size] === undefined ? size : sizes[size],\n                visible = that._visible;\n\n            // Remove all class names\n            that.element.removeClass(function(index, className) {\n                if (className.indexOf('k-') === 0 && keepClassNames.indexOf(className) === -1) {\n                    that.element.removeClass(className);\n                }\n            });\n\n            // Color\n            if (typeof themeColor === 'string' && themeColor !== '' && themeColor !== 'inherit') {\n                classNames.push('k-loader-' + themeColor);\n            }\n\n            // Size\n            if (typeof size === 'string' && size !== '' && sizeAbbr !== '') {\n                classNames.push('k-loader-' + sizeAbbr);\n            }\n\n            // Type\n            if (typeof type === 'string' && type !== '') {\n                classNames.push('k-loader-' + ($.isPlainObject(typeData) ? typeData.className : type));\n            }\n\n            // Visibility\n            if (visible === false) {\n                classNames.push(HIDDEN);\n            }\n\n            that.element.attr(ARIA_HIDDEN, !visible);\n\n            // Apply classnames\n            that.element.addClass(classNames.join(' '));\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(that, options);\n\n            that._render();\n\n            that._appearance();\n        },\n\n        themeColor: function(color) {\n            var that = this;\n\n            if (arguments.length === 0 || color === undefined) {\n                return that._themeColor;\n            }\n\n            that._themeColor = color;\n\n            that._updateClassNames();\n        },\n\n        hide: function() {\n            var that = this;\n\n            that._visible = false;\n\n            that._updateClassNames();\n        },\n\n        show: function() {\n            var that = this;\n\n            that._visible = true;\n\n            that._updateClassNames();\n        }\n    });\n\n    ui.plugin(Loader);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n});\n(function (f, define) {\n    define('kendo.textarea',[\"./kendo.core\", \"./kendo.floatinglabel\"], f);\n})(function () {\n\nvar __meta__ = {// jshint ignore:line\n    id: \"textarea\",\n    name: \"TextArea\",\n    category: \"web\",\n    description: \"The TextArea widget represents a multi-line plain-text editing control which enables you to style and provide a floating label functionality to textarea elements\",\n    depends: [\"core\", \"floatinglabel\"]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        ui = kendo.ui,\n        isPlainObject = $.isPlainObject,\n        NS = \".kendoTextArea\",\n        CHANGE = \"change\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        INPUT = \"k-input-inner\",\n        FOCUSED = \"k-focus\",\n        LABELCLASSES = \"k-label k-input-label\",\n        STATEDISABLED = \"k-disabled\",\n        STATEREADONLY = \"k-readonly\",\n        ARIA_DISABLED = \"aria-disabled\",\n        TEXTAREACONTAINER = \"k-textarea-container\",\n        proxy = $.proxy;\n\n    var TextArea = Widget.extend({\n        init: function (element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            options = $.extend(true, {}, options);\n\n            that.options.value = options.value || that.element.val();\n            that.options.readonly = options.readonly !== undefined ? options.readonly : Boolean(that.element.attr(\"readonly\"));\n            that.options.enable = options.enable !== undefined ? options.enable : !(Boolean(that.element.attr(\"disabled\")));\n            that.options.placeholder = options.placeholder || that.element.attr(\"placeholder\");\n\n            if(!that.options.value.replace(/\\s/g, '').length){\n                that.options.value = '';\n                that.element.val('');\n            }\n\n            that.value(that.options.value);\n            that._wrapper();\n            that._label();\n            that._editable({\n                readonly: that.options.readonly,\n                disable: !(that.options.enable)\n            });\n            that._applyAttributes();\n            that._applyCssClasses();\n            that.element\n                .addClass(INPUT)\n                .css(\"resize\", that.options.resizable)\n                .attr(\"autocomplete\", \"off\");\n\n            kendo.notify(that);\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        attributes: [\n            \"maxLength\",\n            \"rows\",\n            \"placeholder\"\n        ],\n\n        options: {\n            name: 'TextArea',\n            value: '',\n            readonly: false,\n            enable: true,\n            placeholder: '',\n            label: null,\n            resizable: \"none\",\n            maxLength: null,\n            cols: 20,\n            rows: 1,\n            rounded: \"medium\",\n            size: \"medium\",\n            fillMode: \"solid\",\n            resize: \"none\",\n            overflow: \"auto\"\n        },\n\n        _applyCssClasses: function (action) {\n            var that = this,\n                options = that.options,\n                resize = kendo.cssProperties.getValidClass({\n                    widget: options.name,\n                    propName: \"resize\",\n                    value: options.resize\n                }),\n                overflow = kendo.cssProperties.getValidClass({\n                    widget: options.name,\n                    propName: \"overflow\",\n                    value: options.overflow\n                });\n\n            Widget.fn._applyCssClasses.call(that);\n\n            action = action || \"addClass\";\n\n            if (options.overflow === \"auto\") {\n                overflow = \"!k-overflow-y-auto\";\n            }\n\n            that.wrapper[action](resize);\n            that.element[action](overflow);\n        },\n\n        _applyAttributes: function(){\n            var that = this;\n            var property;\n            var attributes = {};\n\n            for (property in that.attributes) {\n                attributes[that.attributes[property]] = that.options[that.attributes[property]];\n            }\n\n            that.element.attr(attributes);\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            that._value = value;\n            that.element.val(value);\n        },\n\n        readonly: function(readonly) {\n            var that = this;\n\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.readonly(readonly === undefined ? true : readonly);\n            }\n        },\n\n        enable: function(enable) {\n            var that = this;\n\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.enable(enable = enable === undefined ? true : enable);\n            }\n        },\n\n        focus: function() {\n            var that = this;\n\n            that.element[0].focus();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that.floatingLabel) {\n                that.floatingLabel.destroy();\n            }\n\n            that.element.off(NS);\n            Widget.fn.destroy.call(that);\n        },\n\n        setOptions: function(options) {\n            var that = this;\n            that._applyCssClasses(\"removeClass\");\n            Widget.fn.setOptions.call(that, options);\n        },\n\n        _editable: function(options) {\n            var that = this;\n            var element = that.element;\n            var wrapper = that.wrapper;\n            var disable = options.disable;\n            var readonly = options.readonly;\n\n            element.off(NS);\n\n            if (!readonly && !disable) {\n                element.prop(DISABLED, false)\n                       .prop(READONLY, false)\n                       .attr(ARIA_DISABLED, false);\n\n                wrapper.removeClass(STATEDISABLED)\n                        .removeClass(STATEREADONLY);\n\n                element.on(\"focusin\" + NS, proxy(that._focusin, that));\n                element.on(\"focusout\" + NS, proxy(that._focusout, that));\n            } else {\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable);\n\n                wrapper.toggleClass(STATEDISABLED, disable)\n                        .toggleClass(STATEREADONLY, readonly);\n            }\n        },\n\n        _label: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var id = element.attr(\"id\");\n            var floating;\n            var labelText;\n\n            if (options.label !== null) {\n                floating = isPlainObject(options.label) ? options.label.floating : false;\n                labelText = isPlainObject(options.label) ? options.label.content : options.label;\n\n                if (floating) {\n                    that._floatingLabelContainer = that.wrapper.wrap(\"<span></span>\").parent();\n                    that.floatingLabel = new kendo.ui.FloatingLabel(that._floatingLabelContainer, { widget: that, useReadOnlyClass: true });\n                    that._floatingLabelContainer.addClass(TEXTAREACONTAINER);\n                }\n\n                if (kendo.isFunction(labelText)) {\n                    labelText = labelText.call(that);\n                }\n\n                if (!labelText) {\n                    labelText = \"\";\n                }\n\n                if (!id) {\n                    id = options.name + \"_\" + kendo.guid();\n                    element.attr(\"id\", id);\n                }\n\n                that._inputLabel = $(\"<label class='\" + LABELCLASSES + \"' for='\" + id + \"'>\" + labelText + \"</label>'\").insertBefore(that.wrapper);\n            }\n        },\n\n        _focusin: function() {\n            var that = this;\n\n            that.wrapper.addClass(FOCUSED);\n        },\n\n        _focusout: function() {\n            var that = this;\n            var value = that._value;\n            var newValue = that.element.val();\n\n            that.wrapper.removeClass(FOCUSED);\n\n            if(value === null) {\n                value = \"\";\n            }\n\n            if (value !== newValue) {\n                that._value = newValue;\n\n                that.trigger(CHANGE);\n            }\n        },\n\n        _wrapper: function () {\n            var that = this;\n            var element = that.element;\n            var DOMElement = element[0];\n            var wrapper;\n\n            wrapper = element.wrap(\"<span class='k-input k-textarea'></span>\").parent();\n            wrapper[0].style.cssText = DOMElement.style.cssText;\n            DOMElement.style.width = \"100%\";\n\n            that.wrapper = wrapper.addClass(DOMElement.className).removeClass('input-validation-error');\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"TextArea\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"TextArea\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(TextArea);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.maskedtextbox',[ \"./kendo.core\", \"./kendo.floatinglabel\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"maskedtextbox\",\n    name: \"MaskedTextBox\",\n    category: \"web\",\n    description: \"The MaskedTextBox widget allows to specify a mask type on an input field.\",\n    depends: [\"core\", \"floatinglabel\"]\n};\n\n(function($, undefined) {\n    var global = window;\n    var min = global.Math.min;\n    var kendo = global.kendo;\n    var caret = kendo.caret;\n    var keys = kendo.keys;\n    var ui = kendo.ui;\n    var Widget = ui.Widget;\n    var NS = \".kendoMaskedTextBox\";\n    var isPlainObject = $.isPlainObject;\n    var proxy = $.proxy;\n    var setTimeout = window.setTimeout;\n\n    var LABELCLASSES = \"k-label k-input-label\";\n    var STATEDISABLED = \"k-disabled\";\n    var STATEINVALID = \"k-invalid\";\n    var FOCUSED = \"k-focus\";\n    var DISABLED = \"disabled\";\n    var READONLY = \"readonly\";\n    var CHANGE = \"change\";\n    var MOUSEUP = \"mouseup\";\n    var DROP = \"drop\";\n    var KEYDOWN = \"keydown\";\n    var PASTE = \"paste\";\n    var INPUT = \"input\";\n\n    function ns(name) { return name + NS; }\n\n    var INPUT_EVENT_NAME = ns(kendo.support.propertyChangeEvent ? \"propertychange\" : INPUT);\n\n    function stringDiffStart(str1, str2) {\n        var i = 0;\n        while (i < str2.length) {\n            if (str1[i] !== str2[i]) {\n                break;\n            }\n            i++;\n        }\n\n        return i;\n    }\n    var MaskedTextBox = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n            var DOMElement;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._rules = $.extend({}, that.rules, that.options.rules);\n\n            element = that.element;\n            DOMElement = element[0];\n\n            that._wrapper();\n            that._tokenize();\n            that._form();\n\n            that.element\n                .addClass(\"k-input-inner\")\n                .attr(\"autocomplete\", \"off\")\n                .on(\"focus\" + NS, function() {\n                    var value = DOMElement.value;\n\n                    if (!value) {\n                        DOMElement.value = that._old = that._emptyMask;\n                    } else {\n                        that._togglePrompt(true);\n                    }\n\n                    that._oldValue = value;\n                    that.wrapper.addClass(FOCUSED);\n\n                    that._timeoutId = setTimeout(function() {\n                        caret(element, 0, value ? that._maskLength : 0);\n                    });\n                })\n                .on(\"focusout\" + NS, function() {\n                    var value = element.val();\n\n                    clearTimeout(that._timeoutId);\n                    DOMElement.value = that._old = \"\";\n\n                    if (value !== that._emptyMask) {\n                        DOMElement.value = that._old = value;\n                    }\n\n                    that.wrapper.removeClass(FOCUSED);\n                    that._change();\n                    that._togglePrompt();\n                });\n\n            var disabled = element.is(\"[disabled]\") || $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(element.is(\"[readonly]\"));\n            }\n\n            that.value(that.options.value || element.val());\n\n            that._validationIcon = $(\"<span class='k-input-validation-icon k-icon k-i-warning k-hidden'></span>\").insertAfter(element);\n\n            that._label();\n            that._applyCssClasses();\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"MaskedTextBox\",\n            clearPromptChar: false,\n            unmaskOnPost: false,\n            promptChar: \"_\",\n            culture: \"\",\n            rules: {},\n            value: \"\",\n            mask: \"\",\n            label: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        rules: {\n            \"0\": /\\d/,\n            \"9\": /\\d|\\s/,\n            \"#\": /\\d|\\s|\\+|\\-/,\n            \"L\": /[a-zA-Z]/,\n            \"?\": /[a-zA-Z]|\\s/,\n            \"&\": /\\S/,\n            \"C\": /./,\n            \"A\": /[a-zA-Z0-9]/,\n            \"a\": /[a-zA-Z0-9]|\\s/\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(that, options);\n\n            that._rules = $.extend({}, that.rules, that.options.rules);\n\n            that._tokenize();\n\n            this._unbindInput();\n            this._bindInput();\n\n            that.value(that.element.val());\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that.floatingLabel) {\n                that.floatingLabel.destroy();\n            }\n\n            that.element.off(NS);\n\n            if (that._formElement) {\n                that._formElement.off(\"reset\", that._resetHandler);\n                that._formElement.off(\"submit\", that._submitHandler);\n            }\n\n            Widget.fn.destroy.call(that);\n        },\n\n        raw: function() {\n            var unmasked = this._unmask(this.element.val(), 0);\n            return unmasked.replace(new RegExp(escapeRegExp(this.options.promptChar), \"g\"), \"\");\n        },\n\n        value: function(value) {\n            var element = this.element;\n            var emptyMask = this._emptyMask;\n\n            if (value === undefined) {\n                return this.element.val();\n            }\n\n            if (value === null) {\n                value = \"\";\n            }\n\n            if (!emptyMask) {\n                this._oldValue = value;\n                element.val(value);\n                return;\n            }\n\n            value = this._unmask(value + \"\");\n\n            element.val(value ? emptyMask : \"\");\n\n            this._mask(0, this._maskLength, value);\n            this._unmaskedValue = null;\n\n            value = element.val();\n            this._oldValue = value;\n\n            if (kendo._activeElement() !== element) {\n                if (value === emptyMask) {\n                    element.val(\"\");\n                } else {\n                    this._togglePrompt();\n                }\n            }\n        },\n\n        _togglePrompt: function(show) {\n            var DOMElement = this.element[0];\n            var value = DOMElement.value;\n\n            if (this.options.clearPromptChar) {\n                if (!show) {\n                    value = value.replace(new RegExp(escapeRegExp(this.options.promptChar), \"g\"), \" \");\n                } else {\n                    value = this._oldValue;\n                }\n\n                DOMElement.value = this._old = value;\n            }\n        },\n\n        readonly: function(readonly) {\n            var that = this;\n\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.readonly(readonly === undefined ? true : readonly);\n            }\n        },\n\n        enable: function(enable) {\n            var that = this;\n\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n\n            if (that.floatingLabel) {\n                that.floatingLabel.enable(enable = enable === undefined ? true : enable);\n            }\n        },\n\n        _bindInput: function() {\n            var that = this;\n\n            if (that._maskLength) {\n                if(that.options.$angular) {//detach \"input\" event in angular scenario to keep the ng-model consistent and updated only when the change event of the textbox is raised.\n                    that.element.off(INPUT);\n                }\n                that.element\n                    .on(ns(KEYDOWN), proxy(that._keydown, that))\n                    .on(ns(DROP), proxy(that._drop, that))\n                    .on(ns(CHANGE), proxy(that._trackChange, that))\n                    .on(INPUT_EVENT_NAME, proxy(that._inputHandler, that));\n\n\n                if (kendo.support.browser.msie) {\n                    var version = kendo.support.browser.version;\n                    if (version > 8 && version < 11) {\n                        var events = [ns(MOUSEUP), ns(DROP), ns(KEYDOWN), ns(PASTE)].join(\" \");\n                        that.element.on(events, proxy(that._legacyIEInputHandler, that));\n                    }\n                }\n            }\n        },\n\n        _unbindInput: function() {\n            var events = [INPUT_EVENT_NAME, ns(KEYDOWN), ns(MOUSEUP), ns(DROP), ns(PASTE)].join(\" \");\n\n            this.element.off(events);\n        },\n\n        _editable: function(options) {\n            var that = this;\n            var element = that.element;\n            var wrapper = that.wrapper;\n            var disable = options.disable;\n            var readonly = options.readonly;\n\n            that._unbindInput();\n\n            if (!readonly && !disable) {\n                element.prop(DISABLED, false)\n                       .prop(READONLY, false);\n\n                wrapper.removeClass(STATEDISABLED);\n\n                that._bindInput();\n            } else {\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly);\n\n                wrapper.toggleClass(STATEDISABLED, disable);\n            }\n        },\n\n        _change: function() {\n            var that = this;\n            var value = that.value();\n\n            if (value !== that._oldValue) {\n                that._oldValue = value;\n\n                that.trigger(CHANGE);\n                that.element.trigger(CHANGE);\n            }\n            else if (value === \"\" && that.__changing) {//ensure change is raised when empty value (mask is stripped from input content) for consistent ngjs model update\n                that.element.trigger(CHANGE);\n            }\n        },\n\n        inputChange: function(backward) {\n            var that = this;\n            var old = that._old;\n            var element = that.element[0];\n            var value = element.value;\n            var selection = caret(element);\n            var cursor = selection[1];\n            var lengthDiff = value.length - old.length;\n            var mobile = kendo.support.mobileOS;\n\n            if (that.__dropping && lengthDiff < 0) {//dropping in same input on WebKit is raised once for the removal phase and once for the adding phase\n                return;\n            }\n\n            if (lengthDiff === -1 && mobile.android && mobile.browser === \"chrome\") {\n                backward = true;\n            }\n\n            var contentStart = min(cursor, stringDiffStart(value, old));\n            var content = value.substring(contentStart, cursor);\n\n            element.value = value.substring(0, contentStart) + that._emptyMask.substring(contentStart);\n\n            var caretPos = that._mask(contentStart, cursor, content);\n            var endContent = that._trimStartPromptChars(value.substring(cursor), min(lengthDiff, caretPos - contentStart));\n\n            var unmasked = that._unmask(endContent, old.length - endContent.length);\n            that._mask(caretPos, caretPos, unmasked);\n\n            if (backward) {\n                caretPos = that._findCaretPosBackwards(contentStart);\n            }\n\n            caret(element, caretPos);\n\n            //clean-up flags\n            that.__dropping = false;\n        },\n\n        _trimStartPromptChars: function(content, count) {\n            var promptChar = this.options.promptChar;\n\n            while (count-- > 0 && content.indexOf(promptChar) === 0) {\n                content = content.substring(1);\n            }\n\n            return content;\n        },\n\n        _findCaretPosBackwards: function(pos) {\n            var caretStart = this._find(pos, true);\n            if (caretStart < pos) {\n                caretStart += 1;\n            }\n\n            return caretStart;\n        },\n\n        _inputHandler: function() {\n            if (kendo._activeElement() !== this.element[0]) {\n                return;\n            }\n\n            this.inputChange(this.__backward);\n        },\n\n        _legacyIEInputHandler: function(e) {\n            var that = this;\n            var input = that.element[0];\n            var value = input.value;\n            var type = e.type;\n\n            that.__pasting = (type === \"paste\");\n\n            setTimeout(function() {\n                if(type === \"mouseup\" && that.__pasting) {\n                    return;\n                }\n                if (input.value && input.value !== value) {\n                    that.inputChange(that.__backward);\n                }\n            });\n        },\n\n        _trackChange: function() {\n            var that = this;\n\n            that.__changing = true;\n            setTimeout(function() { that.__changing = false; });\n        },\n\n        _form: function() {\n            var that = this;\n            var element = that.element;\n            var formId = element.attr(\"form\");\n            var form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    setTimeout(function() {\n                        that.value(element[0].value);\n                    });\n                };\n\n                that._submitHandler = function() {\n                    that.element[0].value = that._old = that.raw();\n                };\n\n                if (that.options.unmaskOnPost) {\n                    form.on(\"submit\", that._submitHandler);\n                }\n\n                that._formElement = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _keydown: function(e) {\n            var key = e.keyCode;\n\n            this.__backward = key === keys.BACKSPACE;\n\n            if (key === keys.ENTER) {\n                this._change();\n            }\n        },\n\n        _drop: function() {\n            this.__dropping = true;\n        },\n\n        _find: function(idx, backward) {\n            var value = this.element.val() || this._emptyMask;\n            var step = 1;\n\n            if (backward === true) {\n                step = -1;\n            }\n\n            while (idx > -1 || idx <= this._maskLength) {\n                if (value.charAt(idx) !== this.tokens[idx]) {\n                    return idx;\n                }\n\n                idx += step;\n            }\n\n            return -1;\n        },\n\n        _mask: function(start, end, value, backward) {\n            var element = this.element[0];\n            var current = element.value || this._emptyMask;\n            var empty = this.options.promptChar;\n            var valueLength;\n            var chrIdx = 0;\n            var unmasked;\n            var chr;\n            var idx;\n\n            start = this._find(start, backward);\n\n            if (start > end) {\n                end = start;\n            }\n\n            unmasked = this._unmask(current.substring(end), end);\n            value = this._unmask(value, start);\n            valueLength = value.length;\n\n            if (value) {\n                unmasked = unmasked.replace(new RegExp(\"^_{0,\" + valueLength + \"}\"), \"\");\n            }\n\n            value += unmasked;\n            current = current.split(\"\");\n            chr = value.charAt(chrIdx);\n\n            while (start < this._maskLength) {\n                current[start] = chr || empty;\n                chr = value.charAt(++chrIdx);\n\n                if (idx === undefined && chrIdx > valueLength) {\n                    idx = start;\n                }\n\n                start = this._find(start + 1);\n            }\n\n            element.value = this._old = current.join(\"\");\n\n            if (kendo._activeElement() === element) {\n                if (idx === undefined) {\n                    idx = this._maskLength;\n                }\n\n                caret(element, idx);\n            }\n\n            return idx;\n        },\n\n        _unmask: function(value, idx) {\n            if (!value) {\n                return \"\";\n            }\n\n            if (this._unmaskedValue === value) {\n                return this._unmaskedValue;\n            }\n            value = (value + \"\").split(\"\");\n\n            var chr;\n            var token;\n            var chrIdx = 0;\n            var tokenIdx = idx || 0;\n\n            var empty = this.options.promptChar;\n\n            var valueLength = value.length;\n            var tokensLength = this.tokens.length;\n\n            var result = \"\";\n\n            while (tokenIdx < tokensLength) {\n                chr = value[chrIdx];\n                token = this.tokens[tokenIdx];\n\n                if (chr === token || chr === empty) {\n                    result += chr === empty ? empty : \"\";\n\n                    chrIdx += 1;\n                    tokenIdx += 1;\n                } else if (typeof token !== \"string\") {\n                    if ((token && token.test && token.test(chr)) || (kendo.isFunction(token) && token(chr))) {\n                        result += chr;\n                        tokenIdx += 1;\n                    } else {\n                        if (valueLength === 1) {\n                            this._blinkInvalidState();\n                        }\n                    }\n\n                    chrIdx += 1;\n                } else {\n                    tokenIdx += 1;\n                }\n\n                if (chrIdx >= valueLength) {\n                    break;\n                }\n            }\n            this._unmaskedValue = result;\n            return result;\n        },\n\n        _label: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var id = element.attr(\"id\");\n            var floating;\n            var labelText;\n\n            if (options.label !== null) {\n                floating = isPlainObject(options.label) ? options.label.floating : false;\n                labelText = isPlainObject(options.label) ? options.label.content : options.label;\n\n                if (floating) {\n                    that._floatingLabelContainer = that.wrapper.wrap(\"<span></span>\").parent();\n                    that.floatingLabel = new kendo.ui.FloatingLabel(that._floatingLabelContainer, { widget: that });\n                }\n\n                if (kendo.isFunction(labelText)) {\n                    labelText = labelText.call(that);\n                }\n\n                if (!labelText) {\n                    labelText = \"\";\n                }\n\n                if (!id) {\n                    id = options.name + \"_\" + kendo.guid();\n                    element.attr(\"id\", id);\n                }\n\n                that._inputLabel = $(\"<label class='\" + LABELCLASSES + \"' for='\" + id + \"'>\" + labelText + \"</label>'\").insertBefore(that.wrapper);\n            }\n        },\n\n        _wrapper: function () {\n            var that = this;\n            var element = that.element;\n            var DOMElement = element[0];\n\n            var wrapper = element.wrap(\"<span class='k-input k-maskedtextbox'></span>\").parent();\n            wrapper[0].style.cssText = DOMElement.style.cssText;\n            DOMElement.style.width = \"100%\";\n            that.wrapper = wrapper.addClass(DOMElement.className).removeClass('input-validation-error');\n        },\n\n        _blinkInvalidState: function () {\n            var that = this;\n\n            that._addInvalidState();\n            clearTimeout(that._invalidStateTimeout);\n            that._invalidStateTimeout = setTimeout(proxy(that._removeInvalidState, that), 100);\n        },\n\n        _addInvalidState: function() {\n            var that = this;\n\n            that.wrapper.addClass(STATEINVALID);\n            that._validationIcon.removeClass(\"k-hidden\");\n        },\n\n        _removeInvalidState: function () {\n            var that = this;\n\n            that.wrapper.removeClass(STATEINVALID);\n            that._validationIcon.addClass(\"k-hidden\");\n            that._invalidStateTimeout = null;\n        },\n\n        _tokenize: function() {\n            var tokens = [];\n            var tokenIdx = 0;\n\n            var mask = this.options.mask || \"\";\n            var maskChars = mask.split(\"\");\n            var length = maskChars.length;\n            var idx = 0;\n            var chr;\n            var rule;\n\n            var emptyMask = \"\";\n            var promptChar = this.options.promptChar;\n            var numberFormat = kendo.getCulture(this.options.culture).numberFormat;\n            var rules = this._rules;\n\n            for (; idx < length; idx++) {\n                chr = maskChars[idx];\n                rule = rules[chr];\n\n                if (rule) {\n                    tokens[tokenIdx] = rule;\n                    emptyMask += promptChar;\n                    tokenIdx += 1;\n                } else {\n                    if (chr === \".\" || chr === \",\") {\n                        chr = numberFormat[chr];\n                    } else if (chr === \"$\") {\n                        chr = numberFormat.currency.symbol;\n                    } else if (chr === \"\\\\\") {\n                        idx += 1;\n                        chr = maskChars[idx];\n                    }\n\n                    chr = chr.split(\"\");\n\n                    for (var i = 0, l = chr.length; i < l; i++) {\n                        tokens[tokenIdx] = chr[i];\n                        emptyMask += chr[i];\n                        tokenIdx += 1;\n                    }\n                }\n            }\n\n            this.tokens = tokens;\n\n            this._emptyMask = emptyMask;\n            this._maskLength = emptyMask.length;\n        }\n    });\n\n    function escapeRegExp(text) {\n        return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n    }\n\n    kendo.cssProperties.registerPrefix(\"MaskedTextBox\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"MaskedTextBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(MaskedTextBox);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.menu',[ \"./kendo.popup\", \"./kendo.data\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"menu\",\n    name: \"Menu\",\n    category: \"web\",\n    description: \"The Menu widget displays hierarchical data as a multi-level menu.\",\n    depends: [ \"popup\", \"data\", \"data.odata\" ]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        activeElement = kendo._activeElement,\n        touch = (kendo.support.touch && kendo.support.mobileOS),\n        isArray = Array.isArray,\n        HierarchicalDataSource = kendo.data.HierarchicalDataSource,\n        MOUSEDOWN = \"mousedown\",\n        CLICK = \"click\",\n        DELAY = 30,\n        SCROLLSPEED = 50,\n        extend = $.extend,\n        proxy = $.proxy,\n        each = $.each,\n        template = kendo.template,\n        keys = kendo.keys,\n        Widget = ui.Widget,\n        excludedNodesRegExp = /^(ul|a|div)$/i,\n        NS = \".kendoMenu\",\n        IMG = \"img\",\n        OPEN = \"open\",\n        MENU = \"k-menu\",\n        LINK = \"k-link k-menu-link\",\n        LINK_SELECTOR = \".k-link\",\n        ICON_SELECTOR = \".k-menu-expand-arrow-icon\",\n        LAST = \"k-last\",\n        CLOSE = \"close\",\n        TIMER = \"timer\",\n        FIRST = \"k-first\",\n        IMAGE = \"k-image\",\n        SELECT = \"select\",\n        ZINDEX = \"zIndex\",\n        ACTIVATE = \"activate\",\n        DEACTIVATE = \"deactivate\",\n        POINTERDOWN = \"touchstart\" + NS + \" MSPointerDown\" + NS + \" pointerdown\" + NS,\n        pointers = kendo.support.pointers,\n        msPointers = kendo.support.msPointers,\n        allPointers = msPointers || pointers,\n        CHANGE = \"change\",\n        ERROR = \"error\",\n        TOUCHSTART = kendo.support.touch ? \"touchstart\" : \"\",\n        MOUSEENTER = pointers ? \"pointerover\" : (msPointers ? \"MSPointerOver\" : \"mouseenter\"),\n        MOUSELEAVE = pointers ? \"pointerout\" : (msPointers ? \"MSPointerOut\" : \"mouseleave\"),\n        MOUSEWHEEL = \"DOMMouseScroll\" + NS + \" mousewheel\" + NS,\n        RESIZE = kendo.support.resize + NS,\n        SCROLLWIDTH = \"scrollWidth\",\n        SCROLLHEIGHT = \"scrollHeight\",\n        OFFSETWIDTH = \"offsetWidth\",\n        OFFSETHEIGHT = \"offsetHeight\",\n        POPUP_ID_ATTR = \"group\",\n        POPUP_OPENER_ATTR = \"groupparent\",\n        DOCUMENT_ELEMENT = $(document.documentElement),\n        KENDOPOPUP = \"kendoPopup\",\n        HOVERSTATE = \"k-hover\",\n        FOCUSEDSTATE = \"k-focus\",\n        DISABLEDSTATE = \"k-disabled\",\n        SELECTEDSTATE = \"k-selected\",\n        menuSelector = \".k-menu\",\n        groupSelector = \".k-menu-group\",\n        animationContainerSelector = \".k-animation-container\",\n        popupSelector = groupSelector + \",\" + animationContainerSelector,\n        allItemsSelector = \":not(.k-list) > .k-item:not([role='treeitem'])\",\n        disabledSelector = \".k-item.k-disabled\",\n        itemSelector = \".k-item\",\n        availableItemsSelector = \".k-item:not(.k-disabled)\",\n        linkSelector = \".k-item:not(.k-disabled) > .k-link\",\n        exclusionSelector = \":not(.k-item.k-separator)\",\n        templateSelector = \"div:not(.k-animation-container,.k-list-container)\",\n        scrollButtonSelector = \".k-menu-scroll-button\",\n        touchPointerTypes = { \"2\": 1, \"touch\": 1 },\n        STRING = \"string\",\n        DATABOUND = \"dataBound\",\n        ARIA_EXPANDED = \"aria-expanded\",\n\n        bindings = {\n            text: \"dataTextField\",\n            url: \"dataUrlField\",\n            spriteCssClass: \"dataSpriteCssClassField\",\n            imageUrl: \"dataImageUrlField\",\n            imageAttr: \"dataImageAttrField\",\n            content: \"dataContentField\"\n        },\n\n        rendering = {\n            wrapperCssClass: function(group, item) {\n                var result = \"k-item k-menu-item\",\n                    index = item.index;\n\n                if (item.enabled === false) {\n                    result += \" k-disabled\";\n                }\n\n                if (group.firstLevel && index === 0) {\n                    result += \" k-first\";\n                }\n\n                if (index == group.length - 1) {\n                    result += \" k-last\";\n                }\n\n                if (item.cssClass) {\n                    result += \" \" + item.cssClass;\n                }\n\n                if (item.attr && item.attr.hasOwnProperty(\"class\")) {\n                    result += \" \" + item.attr[\"class\"];\n                }\n\n                if (item.selected) {\n                    result += \" \" + SELECTEDSTATE;\n                }\n\n                return result;\n            },\n\n            itemCssAttributes: function (item) {\n                var result = \"\";\n                var attributes = item.attr || {};\n\n                for (var attr in attributes) {\n                    if(attributes.hasOwnProperty(attr) && attr !== \"class\") {\n                        result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                    }\n                }\n\n                return result;\n            },\n\n            imageCssAttributes: function (imgAttributes) {\n                var result = \"\";\n                var attributes = imgAttributes && imgAttributes.toJSON ? imgAttributes.toJSON() : {};\n\n                if (!attributes['class']) {\n                    attributes['class'] = IMAGE;\n                } else {\n                    attributes['class'] += \" \" + IMAGE;\n                }\n\n                for (var attr in attributes) {\n                    if(attributes.hasOwnProperty(attr)) {\n                        result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                    }\n                }\n\n                return result;\n            },\n\n            contentCssAttributes: function (item) {\n                var result = \"\";\n                var attributes = item.contentAttr || {};\n                var defaultClasses = \"k-content k-group k-menu-group k-menu-group-md\";\n\n                if (!attributes['class']) {\n                    attributes['class'] = defaultClasses;\n                } else {\n                    attributes['class'] += \" \" + defaultClasses;\n                }\n\n                for (var attr in attributes) {\n                    if(attributes.hasOwnProperty(attr)) {\n                        result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                    }\n                }\n\n                return result;\n            },\n\n            textClass: function() {\n                return LINK;\n            },\n\n            arrowClass: function(item, group) {\n                var result = \"k-menu-expand-arrow-icon k-icon\";\n\n                if (group.horizontal) {\n                    result += \" k-i-arrow-s\";\n                } else {\n                    result += \" k-i-arrow-e\";\n                }\n\n                return result;\n            },\n\n            groupAttributes: function(group) {\n                return group.expanded !== true ? \" style='display:none'\" : \"\";\n            },\n\n            groupCssClass: function() {\n                return \"k-group k-menu-group k-menu-group-md\";\n            },\n\n            content: function(item) {\n                return item.content ? item.content : \"&nbsp;\";\n            }\n    };\n\n    function getEffectDirection(direction, root) {\n        direction = direction.split(\" \")[!root+0] || direction;\n        return direction.replace(\"top\", \"up\").replace(\"bottom\", \"down\");\n    }\n\n    function parseDirection(direction, root, isRtl) {\n        direction = direction.split(\" \")[!root+0] || direction;\n        var output = { origin: [\"bottom\", (isRtl ? \"right\" : \"left\")], position: [\"top\", (isRtl ? \"right\" : \"left\")] },\n            horizontal = /left|right/.test(direction);\n\n        if (horizontal) {\n            output.origin = [ \"top\", direction ];\n            output.position[1] = kendo.directions[direction].reverse;\n        } else {\n            output.origin[0] = direction;\n            output.position[0] = kendo.directions[direction].reverse;\n        }\n\n        output.origin = output.origin.join(\" \");\n        output.position = output.position.join(\" \");\n\n        return output;\n    }\n\n    function contains(parent, child) {\n        try {\n            return $.contains(parent, child);\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function updateItemClasses(item) {\n        item = $(item);\n        var omitWrap = item.attr(kendo.attr(\"omit-wrap\"));\n\n        if (omitWrap) {\n            return;\n        }\n\n        item.addClass(\"k-item k-menu-item\")\n            .children(IMG)\n            .addClass(IMAGE);\n\n        item\n            .children(\"a\")\n            .addClass(LINK)\n            .children(IMG)\n            .addClass(IMAGE);\n\n        item\n            .filter(\":not([disabled])\");\n\n        item\n            .filter(\".k-separator\")\n            .removeClass(\"k-menu-item\")\n            .addClass(\"k-menu-separator\")\n            .empty()\n            .append(\"&nbsp;\");\n\n        item\n            .filter(\"li[disabled]\")\n            .addClass(DISABLEDSTATE)\n            .prop(\"disabled\", false)\n            .attr(\"aria-disabled\", true);\n\n        if (!item.filter(\"[role]\").length) {\n            item.attr(\"role\", \"menuitem\");\n        }\n\n        if (!item.children(LINK_SELECTOR).length) {\n            item.contents()      // exclude groups, real links, templates and empty text nodes\n                .filter(function() { return (!this.nodeName.match(excludedNodesRegExp) && !(this.nodeType === 3 && !kendo.trim(this.nodeValue))); })\n                .wrapAll(\"<span class='\" + LINK + \"'></span>\")\n                .filter(function(idx, elm) { return elm.nodeType === 3; })\n                .wrap(\"<span class='k-menu-link-text'></span>\");\n        }\n\n        updateArrow(item);\n        updateFirstLast(item);\n    }\n\n    function updateArrow(item) {\n        item = $(item);\n\n        item.find(\"> .k-link > .k-menu-expand-arrow > [class*=k-i-arrow]:not(.k-sprite)\").parent().remove();\n\n        item.filter(\":has(.k-menu-group)\")\n            .children(\".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))\")\n            .each(function () {\n                var item = $(this),\n                    arrowCssClass = getArrowCssClass(item);\n\n                item.append(\"<span class='k-menu-expand-arrow'><span class='k-menu-expand-arrow-icon k-icon \" + arrowCssClass + \"'></span></span>\");\n            });\n    }\n\n    function getArrowCssClass(item) {\n        var arrowCssClass,\n            parent = item.parent().parent(),\n            isRtl = kendo.support.isRtl(parent);\n\n        if (parent.hasClass(MENU + \"-horizontal\")) {\n            arrowCssClass = \"k-i-arrow-s\";\n        } else {\n            if (isRtl) {\n                arrowCssClass = \"k-i-arrow-w\";\n            }\n            else {\n                arrowCssClass = \"k-i-arrow-e\";\n            }\n        }\n        return arrowCssClass;\n    }\n\n    function updateFirstLast (item) {\n        item = $(item);\n\n        item.filter(\".k-first:not(:first-child)\").removeClass(FIRST);\n        item.filter(\".k-last:not(:last-child)\").removeClass(LAST);\n        item.filter(\":first-child\").addClass(FIRST);\n        item.filter(\":last-child\").addClass(LAST);\n    }\n\n    function updateHasAriaPopup (parents) {\n        if (parents && parents.length) {\n            for (var index in parents) {\n                var parentLi = parents.eq(index);\n                if (parentLi.find(\"ul\").length) {\n                    parentLi.attr(\"aria-haspopup\", true);\n                } else {\n                    parentLi.removeAttr(\"aria-haspopup\");\n                }\n            }\n        }\n    }\n\n    function getParentLiItems(group) {\n        if (!group.hasClass(MENU)) {\n            return group.parentsUntil(\".\" + MENU, \"li\");\n        }\n    }\n\n    function storeItemSelectEventHandler (element, options) {\n        var selectHandler = getItemSelectEventHandler(options);\n        if(selectHandler) {\n            setItemData(element, selectHandler);\n        }\n\n        if (options.items) {\n            $(element).children(\"ul\").children(\"li\").each(function(i){\n                storeItemSelectEventHandler(this, options.items[i]);\n            });\n        }\n    }\n\n    function setItemData (element, selectHandler) {\n        $(element).children(\".k-link\").data({\n            selectHandler : selectHandler\n        });\n    }\n\n    function getItemSelectEventHandler (options) {\n        var selectHandler = options.select,\n            isFunction = kendo.isFunction;\n\n        if (selectHandler && isFunction(selectHandler)) {\n            return selectHandler;\n        }\n        return null;\n    }\n\n    function popupOpenerSelector(id){\n        return id ? \"li[data-groupparent='\" + id + \"']\" : \"li[data-groupparent]\";\n    }\n    function popupGroupSelector(id) {\n        var selector = id ? \"[data-group='\" + id + \"']\" : \"[data-group]\";\n        return \"ul\" + selector + \",div\" + selector;\n    }\n    function getChildPopups (currentPopup, overflowWrapper) {\n        var childPopupOpener = currentPopup.find(popupOpenerSelector());\n        var result = [];\n        childPopupOpener.each(function(i, opener){\n            opener = $(opener);\n            var popupId = opener.data(POPUP_OPENER_ATTR);\n            var popup = currentPopup;\n            while(popupId) {\n                popup = overflowWrapper.find(popupGroupSelector(popupId) + \":visible\");\n                if (popup.length) {\n                    result.push(popup);\n                }\n                opener = popup.find(popupOpenerSelector());\n                popupId = opener.data(POPUP_OPENER_ATTR);\n            }\n        });\n\n        return result;\n    }\n\n    function popupParentItem(popupElement, overflowWrapper) {\n        var popupId = popupElement.data(POPUP_ID_ATTR);\n        return popupId ? overflowWrapper.find(popupOpenerSelector(popupId)) : $([]);\n    }\n\n    function itemPopup(item, overflowWrapper) {\n        var popupId = item.data(POPUP_OPENER_ATTR);\n        return popupId ? overflowWrapper.children(animationContainerSelector).children(popupGroupSelector(popupId)) : $([]);\n    }\n\n    function overflowMenuParents(current, overflowWrapper) {\n        var parents = [];\n        var getParents = function(item){\n            while (item.parentNode && !overflowWrapper.is(item.parentNode)) {\n                parents.push(item.parentNode);\n                item = item.parentNode;\n            }\n        };\n        var elem = current[0] || current;\n        getParents(elem);\n        var last = parents[parents.length - 1];\n        while($(last).is(animationContainerSelector)){\n            var popupElement = $(last).children(\"ul\");\n            elem = popupParentItem(popupElement, overflowWrapper)[0];\n            if (!elem) {\n                break;\n            }\n            parents.push(elem);\n            getParents(elem);\n            last = parents[parents.length - 1];\n        }\n        return parents;\n    }\n\n    function mousewheelDelta(e) {\n        var delta = 0;\n\n        if (e.wheelDelta) {\n            delta = -e.wheelDelta / 120;\n            delta = delta > 0 ? Math.ceil(delta) : Math.floor(delta);\n        }\n\n        if (e.detail) {\n            delta = Math.round(e.detail / 3);\n        }\n\n        return delta;\n    }\n\n    function parentsScroll(current, scrollDirection) {\n        var scroll = 0;\n        var parent = current.parentNode;\n        while(parent && !isNaN(parent[scrollDirection])) {\n            scroll += parent[scrollDirection];\n            parent = parent.parentNode;\n        }\n        return scroll;\n    }\n\n    function isPointerTouch(e){\n        return allPointers && e.originalEvent && e.originalEvent.pointerType in touchPointerTypes;\n    }\n\n    function isTouch(e){\n        var ev = e.originalEvent;\n        return touch && /touch/i.test(ev.type || \"\");\n    }\n\n    function removeSpacesBetweenItems(ul){\n        ul.contents().filter(function(){ return this.nodeName != \"LI\"; }).remove();\n    }\n\n    var Menu = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.wrapper = that.element;\n            options = that.options;\n            that._accessors();\n            that._templates();\n            that._dataSource();\n\n            that._updateClasses();\n\n            that._animations(options);\n\n            that.nextItemZIndex = 100;\n\n            that._tabindex();\n\n            that._initOverflow(options);\n\n            that._attachMenuEventsHandlers();\n\n            if (options.openOnClick) {\n                that.clicked = false;\n            }\n\n            element.attr(\"role\", \"menubar\");\n\n            if (element[0].id) {\n                that._ariaId = kendo.format(\"{0}_mn_active\", element[0].id);\n            }\n\n            kendo.notify(that);\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            ACTIVATE,\n            DEACTIVATE,\n            SELECT,\n            DATABOUND\n        ],\n\n        options: {\n            name: \"Menu\",\n            animation: {\n                open: {\n                    duration: 200\n                },\n                close: { // if close animation effects are defined, they will be used instead of open.reverse\n                    duration: 100\n                }\n            },\n            orientation: \"horizontal\",\n            direction: \"default\",\n            openOnClick: false,\n            closeOnClick: true,\n            hoverDelay: 100,\n            scrollable: false,\n            popupCollision: undefined\n        },\n\n        _initData: function() {\n            var that = this;\n\n            if (that.dataSource) {\n                that.angular(\"cleanup\", function(){\n                    return {\n                        elements: that.element.children()\n                    };\n                });\n                that.element.empty();\n\n                that.append(that.dataSource.view(), that.element);\n                that.angular(\"compile\", function(){\n                    return {\n                        elements: that.element.children()\n                    };\n                });\n            }\n        },\n\n        _attachMenuEventsHandlers: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var overflowWrapper = that._overflowWrapper();\n\n            that._checkActiveProxy = proxy(that._checkActiveElement, that);\n\n            (overflowWrapper || element).on(POINTERDOWN, itemSelector, proxy(that._focusHandler, that))\n                   .on(CLICK + NS, disabledSelector, false)\n                   .on(CLICK + NS, itemSelector, proxy(that._click , that))\n                   .on(POINTERDOWN + \" \" + MOUSEDOWN + NS, \".k-content\", proxy(that._preventClose, that))\n                   .on(MOUSEENTER + NS, availableItemsSelector, proxy(that._mouseenter, that))\n                   .on(MOUSELEAVE + NS, availableItemsSelector, proxy(that._mouseleave, that))\n                   .on(MOUSEDOWN + NS, availableItemsSelector, proxy(that._mousedown, that))\n                   .on(TOUCHSTART + NS + \" \" + MOUSEENTER + NS + \" \" + MOUSELEAVE + NS + \" \" +\n                       MOUSEDOWN + NS + \" \" + CLICK + NS, linkSelector, proxy(that._toggleHover, that));\n\n            element.on(\"keydown\" + NS, proxy(that._keydown, that))\n                   .on(\"focus\" + NS, proxy(that._focus, that))\n                   .on(\"focus\" + NS, \".k-content\", proxy(that._focus, that))\n                   .on(\"blur\" + NS, proxy(that._removeHoverItem, that))\n                   .on(\"blur\" + NS, \"[tabindex]\", that._checkActiveProxy);\n\n            if (overflowWrapper) {\n                overflowWrapper\n                    .on(MOUSELEAVE + NS, popupSelector, proxy(that._mouseleavePopup, that))\n                    .on(MOUSEENTER + NS, popupSelector, proxy(that._mouseenterPopup, that));\n            }\n\n            if (options.openOnClick) {\n                that._documentClickHandler = proxy(that._documentClick, that);\n                $(document).on(\"click\", that._documentClickHandler);\n            }\n        },\n\n        _detachMenuEventsHandlers: function() {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n\n            if (overflowWrapper) {\n                overflowWrapper.off(NS);\n            }\n\n            that.element.off(NS);\n\n            if (that._documentClickHandler) {\n                $(document).off(\"click\", that._documentClickHandler);\n            }\n        },\n\n        _initOverflow: function(options) {\n            var that = this;\n            var isHorizontal = options.orientation == \"horizontal\";\n            var backwardBtn, forwardBtn;\n\n            if (options.scrollable) {\n                that._openedPopups = {};\n                that._scrollWrapper = that.element.wrap(\"<div class='k-menu-scroll-wrapper \" + options.orientation + \"'></div>\").parent();\n                if (isHorizontal) {\n                    removeSpacesBetweenItems(that.element);\n                }\n\n                backwardBtn = $(that.templates.scrollButton({direction: isHorizontal ? \"left\" : \"up\"}));\n                forwardBtn = $(that.templates.scrollButton({direction: isHorizontal ? \"right\": \"down\"}));\n                backwardBtn.add(forwardBtn).appendTo(that._scrollWrapper);\n\n                that._initScrolling(that.element, backwardBtn, forwardBtn, isHorizontal);\n\n                var initialWidth = that.element.outerWidth();\n                var initialCssWidth = that.element[0].style.width;\n                initialCssWidth = initialCssWidth === \"auto\" ? \"\" : initialCssWidth;\n\n                if (isHorizontal) {\n                    $(window).on(RESIZE, function() {\n                        setTimeout(function(){\n                            that._setOverflowWrapperWidth(initialWidth, initialCssWidth);\n                            that._toggleScrollButtons(that.element, backwardBtn, forwardBtn, isHorizontal);\n                        }, 300);\n                    });\n                }\n\n                that._setOverflowWrapperWidth(initialWidth, initialCssWidth);\n                that._toggleScrollButtons(that.element, backwardBtn, forwardBtn, isHorizontal);\n            }\n        },\n\n        _overflowWrapper: function(){\n            return this._scrollWrapper || this._popupsWrapper;\n        },\n\n        _setOverflowWrapperWidth: function(initialWidth, initialCssWidth) {\n            var that = this;\n            var wrapperCssWidth = that._scrollWrapper.css(\"width\");\n\n            that._scrollWrapper.css({width: \"\"});\n            var wrapperWidth = that._scrollWrapper.outerWidth();\n            that._scrollWrapper.css({ width: wrapperCssWidth });\n\n            var menuWidth = that.element.outerWidth();\n            var borders = that.element[0].offsetWidth - that.element[0].clientWidth;\n\n            if (menuWidth != wrapperWidth && wrapperWidth > 0) {\n                var width = initialCssWidth ? Math.min(initialWidth, wrapperWidth) : wrapperWidth;\n                that.element.width(width - borders);\n                that._scrollWrapper.width(width);\n            }\n        },\n\n        _reinitOverflow: function(options) {\n            var that = this;\n            var overflowChanged = ((options.scrollable && !that.options.scrollable) || (!options.scrollable && that.options.scrollable)) ||\n                (options.scrollable && that.options.scrollable && options.scrollable.distance != that.options.scrollable.distance) ||\n                options.orientation != that.options.orientation;\n\n            if (overflowChanged) {\n                that._detachMenuEventsHandlers();\n                that._destroyOverflow();\n                that._initOverflow(options);\n                that._attachMenuEventsHandlers();\n            }\n        },\n\n        _destroyOverflow: function() {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            if(overflowWrapper) {\n                overflowWrapper.off(NS);\n                overflowWrapper.find(scrollButtonSelector).off(NS).remove();\n                overflowWrapper.children(animationContainerSelector).each(function(i, popupWrapper){\n                    var ul = $(popupWrapper).children(groupSelector);\n                    ul.off(MOUSEWHEEL);\n                    var popupParentLi = popupParentItem(ul, overflowWrapper);\n                    if (popupParentLi.length) {\n                        popupParentLi.append(popupWrapper);\n                    }\n                });\n\n                overflowWrapper.find(popupOpenerSelector()).removeAttr(\"data-groupparent\");\n                overflowWrapper.find(popupGroupSelector()).removeAttr(\"data-group\");\n                that.element.off(MOUSEWHEEL);\n                $(window).off(RESIZE);\n                overflowWrapper.contents().unwrap();\n\n                that._scrollWrapper = that._popupsWrapper = that._openedPopups = undefined;\n            }\n        },\n\n        _initScrolling: function(scrollElement, backwardBtn, forwardBtn, isHorizontal) {\n            var that = this;\n            var scrollable = that.options.scrollable;\n            var distance =  that.isNumeric(scrollable.distance) ? scrollable.distance : SCROLLSPEED;\n            var mouseWheelDistance = distance / 2;\n            var backward = \"-=\" + distance;\n            var forward = \"+=\" + distance;\n            var backwardDouble = \"-=\" + distance * 2;\n            var forwardDouble = \"+=\" + distance * 2;\n            var scrolling = false;\n            var touchEvents = false;\n\n            var scroll = function(value) {\n                var scrollValue = isHorizontal ? {\"scrollLeft\": value} : { \"scrollTop\": value };\n                scrollElement.finish().animate(scrollValue, \"fast\", \"linear\", function () {\n                    if (scrolling) {\n                        scroll(value);\n                    }\n                });\n                that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n            };\n\n            var mouseenterHandler = function(e) {\n                if (!scrolling && !touchEvents) {\n                    scroll(e.data.direction);\n                    scrolling = true;\n                }\n            };\n\n            var mousedownHandler = function(e) {\n                var scrollValue = isHorizontal ? {\"scrollLeft\": e.data.direction} : { \"scrollTop\": e.data.direction };\n                touchEvents = isTouch(e) || isPointerTouch(e);\n                scrollElement.stop().animate(scrollValue, \"fast\", \"linear\", function(){\n                    if (!touchEvents) {\n                        $(e.currentTarget).trigger(MOUSEENTER);\n                    } else {\n                         that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                         scrolling = true;\n                    }\n                });\n                scrolling = false;\n\n                e.stopPropagation();\n                e.preventDefault();\n            };\n\n            backwardBtn.on(MOUSEENTER + NS, {direction: backward}, mouseenterHandler)\n                .on(kendo.eventMap.down + NS, {direction: backwardDouble}, mousedownHandler);\n\n            forwardBtn.on(MOUSEENTER + NS, {direction: forward}, mouseenterHandler)\n                .on(kendo.eventMap.down + NS, {direction: forwardDouble}, mousedownHandler);\n\n            backwardBtn.add(forwardBtn)\n                .on(MOUSELEAVE + NS, function() {\n                    scrollElement.stop();\n                    scrolling = false;\n                    that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                });\n\n            scrollElement.on(MOUSEWHEEL, function(e){\n                if (!e.ctrlKey && !e.shiftKey && !e.altKey) {\n                    var wheelDelta = mousewheelDelta(e.originalEvent);\n                    var scrollSpeed = Math.abs(wheelDelta) * mouseWheelDistance;\n                    var value = (wheelDelta > 0 ? \"+=\" : \"-=\") + scrollSpeed;\n                    var scrollValue = isHorizontal ? {\"scrollLeft\": value} : {\"scrollTop\": value };\n\n                    that._closeChildPopups(scrollElement);\n\n                    scrollElement.finish().animate(scrollValue, \"fast\", \"linear\", function(){\n                        that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                    });\n                    e.preventDefault();\n                }\n            });\n        },\n\n        isNumeric: function(n) {\n            return !isNaN(parseFloat(n)) && isFinite(n);\n        },\n\n        _toggleScrollButtons: function(scrollElement, backwardBtn, forwardBtn, horizontal) {\n            var currentScroll = horizontal ? kendo.scrollLeft(scrollElement) : scrollElement.scrollTop();\n            var scrollSize = horizontal ? SCROLLWIDTH : SCROLLHEIGHT;\n            var offset = horizontal ? OFFSETWIDTH : OFFSETHEIGHT;\n\n            backwardBtn.toggle(currentScroll !== 0);\n            forwardBtn.toggle(currentScroll < scrollElement[0][scrollSize] - scrollElement[0][offset] - 1);\n        },\n\n        setOptions: function(options) {\n            var animation = this.options.animation;\n\n            this._animations(options);\n\n            options.animation = extend(true, animation, options.animation);\n\n            if (\"dataSource\" in options) {\n                this._dataSource(options);\n            }\n\n            this._updateClasses();\n            this._reinitOverflow(options);\n\n            Widget.fn.setOptions.call(this, options);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that._detachMenuEventsHandlers();\n\n            that._destroyOverflow();\n\n            kendo.destroy(that.element);\n        },\n\n        enable: function (element, enable) {\n            this._toggleDisabled(element, enable !== false);\n\n            return this;\n        },\n\n        disable: function (element) {\n            this._toggleDisabled(element, false);\n\n            return this;\n        },\n\n        attemptGetItem: function (candidate) {\n            candidate = candidate || this.element;\n            var item = this.element.find(candidate);\n            var overflowWrapper = this._overflowWrapper();\n\n            if (item.length || candidate === this.element){\n                return item;\n            } else if (overflowWrapper) {\n                return overflowWrapper.find(candidate);\n            } else {\n                return $();\n            }\n        },\n\n        append: function (item, referenceItem) {\n            referenceItem = this.attemptGetItem(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.length ? this._childPopupElement(referenceItem) : null);\n\n            each(inserted.items, function (i) {\n                inserted.group.append(this);\n                updateArrow(this);\n                storeItemSelectEventHandler(this, item[i] || item);\n            });\n\n            updateArrow(referenceItem);\n            updateFirstLast(inserted.group.find(\".k-first, .k-last\").add(inserted.items));\n            updateHasAriaPopup(getParentLiItems(inserted.group));\n\n            return this;\n        },\n\n        insertBefore: function (item, referenceItem) {\n            referenceItem = this.attemptGetItem(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.parent());\n\n            each(inserted.items, function (i) {\n                referenceItem.before(this);\n                updateArrow(this);\n                updateFirstLast(this);\n                storeItemSelectEventHandler(this, item[i] || item);\n            });\n\n            updateFirstLast(referenceItem);\n\n            return this;\n        },\n\n        insertAfter: function (item, referenceItem) {\n            referenceItem = this.attemptGetItem(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.parent());\n\n            each(inserted.items, function (i) {\n                referenceItem.after(this);\n                updateArrow(this);\n                updateFirstLast(this);\n                storeItemSelectEventHandler(this, item[i] || item);\n            });\n\n            updateFirstLast(referenceItem);\n\n            return this;\n        },\n\n        _insert: function (item, referenceItem, parent) {\n            var that = this,\n                items, groups;\n\n            if (!referenceItem || !referenceItem.length) {\n                parent = that.element;\n            }\n\n            var plain = $.isPlainObject(item) || item instanceof kendo.data.ObservableObject,\n                groupData = {\n                    firstLevel: parent.hasClass(MENU),\n                    horizontal: parent.hasClass(MENU + \"-horizontal\"),\n                    expanded: true,\n                    length: parent.children().length\n                };\n\n            if (referenceItem && !parent.length) {\n                parent = $(that.renderGroup({ group: groupData, options: that.options })).appendTo(referenceItem);\n            }\n\n            if (plain || isArray(item) || item instanceof kendo.data.ObservableArray) { // is JSON\n                items = $($.map(plain ? [ item ] : item, function (value, idx) {\n                            if (typeof value === \"string\") {\n                                return $(value).get();\n                            } else {\n                                return $(that.renderItem({\n                                    group: groupData,\n                                    item: extend(value, { index: idx })\n                                })).get();\n                            }\n                        }));\n            } else {\n                if (typeof item == \"string\" && item.charAt(0) != \"<\") {\n                    items = that.element.find(item);\n                } else {\n                    items = $(item);\n                }\n\n                groups = items.find(\"> ul\")\n                                .addClass(\"k-menu-group k-menu-group-md\")\n                                .attr(\"role\", \"menu\");\n\n                items = items.filter(\"li\");\n\n                items.add(groups.find(\"> li\")).each(function () {\n                    updateItemClasses(this);\n                });\n            }\n\n            return { items: items, group: parent };\n        },\n\n        remove: function (element) {\n            element = this.attemptGetItem(element);\n\n            var that = this,\n                parent = element.parentsUntil(that.element, allItemsSelector),\n                group = element.parent(\"ul:not(.k-menu)\");\n\n            element.remove();\n\n            if (group && !group.children(allItemsSelector).length) {\n                var parentItems = getParentLiItems(group);\n\n                var container = group.parent(animationContainerSelector);\n\n                if (container.length) {\n                    container.remove();\n                } else {\n                    group.remove();\n                }\n\n                updateHasAriaPopup(parentItems);\n            }\n\n            if (parent.length) {\n                parent = parent.eq(0);\n\n                updateArrow(parent);\n                updateFirstLast(parent);\n            }\n\n            return that;\n        },\n\n        _openAfterLoad: function (element, dataItem) {\n            var that = this;\n            if(dataItem.loaded()) {\n                that.open(element);\n                that._loading = false;\n            } else {\n                dataItem.one(CHANGE, function(){\n                    element.find(ICON_SELECTOR).removeClass(\"k-i-loading\");\n                    if(that._loading) {\n                        that.open(element);\n                        that._loading = false;\n                    }\n                });\n            }\n        },\n\n        open: function (element) {\n            var that = this;\n            var options = that.options;\n            var horizontal = options.orientation == \"horizontal\";\n            var direction = options.direction;\n            var isRtl = kendo.support.isRtl(that.wrapper);\n            var overflowWrapper = that._overflowWrapper();\n            element = (overflowWrapper || that.element).find(element);\n\n            var dataItem = that.dataSource && that.dataSource.getByUid(element.data(kendo.ns + \"uid\"));\n\n            if(dataItem && dataItem.hasChildren && !dataItem.loaded() && !that._loading){\n                that._loading = true;\n                element.find(ICON_SELECTOR).addClass(\"k-i-loading\");\n                dataItem.load();\n                that._openAfterLoad(element, dataItem);\n                return;\n            }\n\n            if (/^(top|bottom|default)$/.test(direction)) {\n                if (isRtl) {\n                    direction = horizontal ? (direction + \" left\").replace(\"default\", \"bottom\") : \"left\";\n                } else {\n                    direction = horizontal ? (direction + \" right\").replace(\"default\", \"bottom\") : \"right\";\n                }\n            }\n\n            var visiblePopups = \">.k-popup:visible,>.k-animation-container>.k-popup:visible\";\n            var closePopup = function () {\n                var popup = $(this).data(KENDOPOPUP);\n                if (popup) {\n                    // Use the built-in close method to play the hoverDelay from the options\n                    that.close($(this).closest(\"li.k-item\"), true);\n                }\n            };\n\n            element.siblings()\n                   .find(visiblePopups)\n                   .each(closePopup);\n\n            if (overflowWrapper) {\n                element.find(visiblePopups).each(closePopup);\n            }\n\n            if (that.options.openOnClick) {\n                that.clicked = true;\n            }\n\n            element.each(function () {\n                var li = $(this);\n\n                clearTimeout(li.data(TIMER));\n\n                li.data(TIMER, setTimeout(function () {\n                    var ul = li.find(\"> .k-menu-group, > .k-animation-container > .k-menu-group\").filter(\":hidden\").first();\n                    var popup;\n                    var overflowPopup;\n\n                    if  (!ul[0] && overflowWrapper) {\n                        overflowPopup = that._getPopup(li);\n                        ul = overflowPopup && overflowPopup.element;\n                    }\n                    if (ul.is(\":visible\")) {\n                        return;\n                    }\n\n                    if (ul[0] && that._triggerEvent({ item: li[0], type: OPEN }) === false) {\n\n                        if (!ul.find(\".k-menu-group\")[0] && ul.children(\".k-item\").length > 1) {\n                            var windowHeight = $(window).height(),\n                                setScrolling = function(){\n                                    ul.css({maxHeight: windowHeight - (kendo._outerHeight(ul) - ul.height()) - kendo.getShadows(ul).bottom, overflow: \"auto\"});\n                                };\n\n                            setScrolling();\n                        } else {\n                            ul.css({maxHeight: \"\", overflow: \"\"});\n                        }\n\n                        li.data(ZINDEX, li.css(ZINDEX));\n                        var nextZindex = that.nextItemZIndex++;\n                        li.css(ZINDEX, nextZindex);\n\n                        if (that.options.scrollable) {\n                            li.parent().siblings(scrollButtonSelector).css({zIndex: ++nextZindex});\n                        }\n\n                        popup = ul.data(KENDOPOPUP);\n                        var root = li.parent().hasClass(MENU),\n                            parentHorizontal = root && horizontal,\n                            directions = parseDirection(direction, root, isRtl),\n                            effects = options.animation.open.effects,\n                            openEffects = effects !== undefined ? effects : \"slideIn:\" + getEffectDirection(direction, root);\n\n                        if (!popup) {\n                            popup = ul.kendoPopup({\n                                activate: function() { that._triggerEvent({ item: this.wrapper.parent(), type: ACTIVATE }); },\n                                deactivate: function(e) {\n                                    that._closing = false;\n                                    e.sender.element // Restore opacity after fade.\n                                        .removeData(\"targetTransform\")\n                                        .css({ opacity: \"\" });\n                                    that._triggerEvent({ item: this.wrapper.parent(), type: DEACTIVATE });\n                                },\n                                origin: directions.origin,\n                                position: directions.position,\n                                collision: options.popupCollision !== undefined ? options.popupCollision : (parentHorizontal ? \"fit\" : \"fit flip\"),\n                                anchor: li,\n                                appendTo: overflowWrapper || li,\n                                animation: {\n                                    open: extend(true, { effects: openEffects }, options.animation.open),\n                                    close: options.animation.close\n                                },\n                                open: proxy(that._popupOpen, that),\n                                close: function (e) {\n                                    that._closing = e.sender.element;\n                                    var li = e.sender.wrapper.parent();\n\n                                    if (overflowWrapper) {\n                                        var popupId = e.sender.element.data(POPUP_ID_ATTR);\n                                        if (popupId) {\n                                            li = (overflowWrapper || that.element).find(popupOpenerSelector(popupId));\n                                        }\n                                        e.sender.wrapper.children(scrollButtonSelector).hide();\n                                    }\n\n                                    if (!that._triggerEvent({ item: li[0], type: CLOSE })) {\n                                        li.css(ZINDEX, li.data(ZINDEX));\n                                        li.removeData(ZINDEX);\n\n                                        if (that.options.scrollable) {\n                                            li.parent().siblings(scrollButtonSelector).css({zIndex: \"\"});\n                                        }\n\n                                        if (touch || allPointers || kendo.support.mouseAndTouchPresent) {\n                                            li.removeClass(HOVERSTATE);\n                                            that._removeHoverItem();\n                                        }\n                                    } else {\n                                        e.preventDefault();\n                                    }\n                                }\n                            }).data(KENDOPOPUP);\n                        } else {\n                            popup = ul.data(KENDOPOPUP);\n                            popup.options.origin = directions.origin;\n                            popup.options.position = directions.position;\n                            popup.options.animation.open.effects = openEffects;\n                        }\n                        ul.removeAttr(\"aria-hidden\");\n                        li.attr(ARIA_EXPANDED, true);\n\n                        that._configurePopupOverflow(popup, li);\n\n                        popup._hovered = true;\n                        popup.open();\n\n                        that._initPopupScrolling(popup);\n                    }\n\n                }, that.options.hoverDelay));\n            });\n\n            return that;\n        },\n\n        _configurePopupOverflow: function(popup, popupOpener) {\n            var that = this;\n           if (that.options.scrollable) {\n                that._wrapPopupElement(popup);\n                if (!popupOpener.attr(\"data-groupparent\")) {\n                    var groupId = new Date().getTime();\n                    popupOpener.attr(\"data-groupparent\", groupId);\n                    popup.element.attr(\"data-group\", groupId);\n                }\n           }\n        },\n\n        _wrapPopupElement: function(popup){\n            if (!popup.element.parent().is(animationContainerSelector)) {\n                popup.wrapper = kendo.wrap(popup.element, popup.options.autosize)\n                    .css({\n                        overflow: \"hidden\",\n                        display: \"block\",\n                        position: \"absolute\"\n                    });\n            }\n        },\n\n        _initPopupScrolling: function(popup, isHorizontal, skipMouseEvents) {\n            var that = this;\n\n            if (that.options.scrollable && popup.element[0].scrollHeight > popup.element[0].offsetHeight) {\n                that._initPopupScrollButtons(popup, isHorizontal, skipMouseEvents);\n            }\n        },\n\n        _initPopupScrollButtons: function(popup, isHorizontal, skipMouseEvents) {\n            var that = this;\n            var scrollButtons = popup.wrapper.children(scrollButtonSelector);\n            var animation = that.options.animation;\n            var timeout = ((animation && animation.open && animation.open.duration) || 0) + DELAY;\n            setTimeout(function() {\n                if (!scrollButtons.length) {\n                    var backwardBtn = $(that.templates.scrollButton({direction: isHorizontal ? \"left\" : \"up\"}));\n                    var forwardBtn = $(that.templates.scrollButton({direction: isHorizontal ? \"right\": \"down\"}));\n\n                    scrollButtons = backwardBtn.add(forwardBtn).appendTo(popup.wrapper);\n\n                    that._initScrolling(popup.element, backwardBtn, forwardBtn, isHorizontal);\n                    if (!skipMouseEvents) {\n                        scrollButtons.on(MOUSEENTER + NS, function() {\n                            var overflowWrapper = that._overflowWrapper();\n                            $(getChildPopups(popup.element, overflowWrapper)).each(function(i, p){\n                                var popupOpener = overflowWrapper.find(popupOpenerSelector(p.data(POPUP_ID_ATTR)));\n                                that.close(popupOpener);\n                            });\n                        })\n                        .on(MOUSELEAVE + NS, function(){\n                            setTimeout(function(){\n                                if ($.isEmptyObject(that._openedPopups)) {\n                                    that._closeParentPopups(popup.element);\n                                }\n                            }, DELAY);\n                        });\n                    }\n                }\n                that._toggleScrollButtons(popup.element, scrollButtons.first(), scrollButtons.last(), isHorizontal);\n            }, timeout);\n        },\n\n        _popupOpen: function(e) {\n            if (!this._keyTriggered) {\n                e.sender.element.children(\".\" + FOCUSEDSTATE).removeClass(FOCUSEDSTATE);\n            }\n            if (this.options.scrollable) {\n                this._setPopupHeight(e.sender);\n            }\n        },\n\n        _setPopupHeight: function(popup, isFixed){\n            var popupElement = popup.element;\n            var popups = popupElement.add(popupElement.parent(animationContainerSelector));\n\n            popups.height((popupElement.hasClass(MENU) && this._initialHeight) || \"\");\n\n            var location = popup._location(isFixed);\n            var windowHeight = $(window).height();\n            var popupOuterHeight = location.height;\n            var popupOffsetTop = isFixed ? 0 : Math.max(location.top, 0);\n            var scrollTop = isFixed ? 0 : parentsScroll(this._overflowWrapper()[0], \"scrollTop\");\n            var bottomScrollbar = window.innerHeight - windowHeight;\n            var maxHeight = windowHeight - kendo.getShadows(popupElement).bottom + bottomScrollbar;\n            var canFit = maxHeight + scrollTop > popupOuterHeight + popupOffsetTop;\n\n            if (!canFit) {\n                var height = Math.min(maxHeight, maxHeight - popupOffsetTop + scrollTop);\n                popups.css({overflow: \"hidden\", height: height + \"px\"});\n            }\n        },\n\n        close: function (items, dontClearClose) {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            var element = (overflowWrapper || that.element);\n\n            items = element.find(items);\n\n            if (!items.length) {\n                items = element.find(\">.k-item\");\n            }\n\n            var hasChildPopupsHovered = function(currentPopup){\n                var result = false;\n                if ($.isEmptyObject(that._openedPopups)) {\n                    return result;\n                }\n                $(getChildPopups(currentPopup, overflowWrapper)).each(function(i, popup){\n                    result = !!that._openedPopups[popup.data(POPUP_ID_ATTR).toString()];\n                    return !result;\n                });\n                return result;\n            };\n\n            var isPopupMouseLeaved = function(opener) {\n                var groupId = opener.data(POPUP_OPENER_ATTR);\n                return (!overflowWrapper || !groupId || !that._openedPopups[groupId.toString()]);\n            };\n\n            items.each(function () {\n                var li = $(this);\n\n                li.attr(ARIA_EXPANDED, false);\n\n                if (!dontClearClose && that._isRootItem(li)) {\n                    that.clicked = false;\n                }\n\n                clearTimeout(li.data(TIMER));\n\n                li.data(TIMER, setTimeout(function () {\n                    var popup = that._getPopup(li);\n                    if (popup && (isPopupMouseLeaved(li) || that._forceClose)) {\n                        if (!that._forceClose && hasChildPopupsHovered(popup.element)) {\n                            return;\n                        }\n\n                        popup.close();\n                        popup.element.attr(\"aria-hidden\", true);\n\n                        if (overflowWrapper) {\n                            if (that._forceClose && items.last().is(li[0])) {\n                                delete that._forceClose;\n                            }\n                        }\n                    }\n                }, that.options.hoverDelay));\n            });\n\n            return that;\n        },\n\n        _getPopup: function(li) {\n            var that = this;\n            var popup = li.find(\".k-menu-group:not(.k-list-container):not(.k-calendar-container):visible\").first().data(KENDOPOPUP);\n            var overflowWrapper = that._overflowWrapper();\n\n            if (!popup && overflowWrapper) {\n                var groupId = li.data(POPUP_OPENER_ATTR);\n                if (groupId) {\n                    var popupElement = overflowWrapper.find(popupGroupSelector(groupId));\n                    popup = popupElement.data(KENDOPOPUP);\n                }\n            }\n            return popup;\n        },\n\n        _toggleDisabled: function (items, enable) {\n            this.element.find(items).each(function () {\n                $(this)\n                    .toggleClass(DISABLEDSTATE, !enable)\n                    .attr(\"aria-disabled\", !enable);\n            });\n        },\n\n        _toggleHover: function(e) {\n            var target = $(kendo.eventTarget(e) || e.target).closest(allItemsSelector),\n                isEnter = e.type == MOUSEENTER || MOUSEDOWN.indexOf(e.type) !== -1;\n\n            target.siblings().removeClass(HOVERSTATE);\n\n            if (!target.parents(\"li.\" + DISABLEDSTATE).length) {\n                target.toggleClass(HOVERSTATE, isEnter || e.type == \"mousedown\" || e.type == \"pointerover\" || e.type == TOUCHSTART);\n            }\n\n            this._removeHoverItem();\n        },\n\n        _preventClose: function() {\n            if (!this.options.closeOnClick) {\n                this._closurePrevented = true;\n            }\n        },\n\n        _checkActiveElement: function(e) {\n            var that = this,\n                hoverItem = $(e ? e.currentTarget : this._hoverItem()),\n                target = that._findRootParent(hoverItem)[0];\n\n            if (!this._closurePrevented) {\n                setTimeout(function() {\n                    if (!document.hasFocus() || (!contains(target, kendo._activeElement()) && e && !contains(target, e.currentTarget))) {\n                        that.close(target);\n                    }\n                }, 0);\n            }\n\n            this._closurePrevented = false;\n        },\n\n        _removeHoverItem: function() {\n            var oldHoverItem = this._hoverItem();\n\n            if (oldHoverItem && oldHoverItem.hasClass(FOCUSEDSTATE)) {\n                oldHoverItem.removeClass(FOCUSEDSTATE);\n                this._oldHoverItem = null;\n            }\n        },\n\n        _updateClasses: function() {\n            var element = this.element,\n                nonContentGroupsSelector = \".k-menu-init div ul\",\n                items;\n\n            element.removeClass(\"k-menu-horizontal k-menu-vertical\");\n            element.addClass(\"k-widget k-reset k-menu-init \" + MENU).addClass(MENU + \"-\" + this.options.orientation);\n\n            if(this.options.orientation === \"vertical\") {\n                element.attr(\"aria-orientation\", \"vertical\");\n            } else {\n                element.attr(\"aria-orientation\", \"horizontal\");\n            }\n\n            element.find(\"li > ul\")\n                   .filter(function() {\n                       return !kendo.support.matchesSelector.call(this, nonContentGroupsSelector);\n                   })\n                   .addClass(\"k-group k-menu-group k-menu-group-md\")\n                   .attr(\"role\", \"menu\")\n                   .hide()\n                   .attr(\"aria-hidden\", element.is(\":visible\"))\n                   .parent(\"li\")\n                   .attr(\"aria-haspopup\", \"true\")\n                   .end()\n                   .find(\"li > div\")\n                   .addClass(\"k-content\")\n                   .attr(\"tabindex\", \"-1\"); // Capture the focus before the Menu\n\n            element.find(\"li[aria-haspopup]\").attr(ARIA_EXPANDED, false);\n\n            items = element.find(\"> li,.k-menu-group > li\");\n\n            element.removeClass(\"k-menu-init\");\n\n            items.each(function () {\n                updateItemClasses(this);\n            });\n        },\n\n        _mouseenter: function (e) {\n            var that = this;\n            var element = $(e.currentTarget);\n            var hasChildren = that._itemHasChildren(element);\n            var popupId = element.data(POPUP_OPENER_ATTR) || element.parent().data(POPUP_ID_ATTR);\n            var pointerTouch = isPointerTouch(e);\n            var isParentClosing = false;\n\n            if (popupId) {\n                that._openedPopups[popupId.toString()] = true;\n            }\n\n            if(that._closing) {\n                isParentClosing = !!that._closing.find(element).length;\n            }\n\n            if (isParentClosing || (e.delegateTarget != element.parents(menuSelector)[0] && e.delegateTarget != element.parents(\".k-menu-scroll-wrapper,.k-popups-wrapper\")[0])) {\n                return;\n            }\n\n            that._keyTriggered = false;\n\n            if ((that.options.openOnClick.rootMenuItems && that._isRootItem(element.closest(allItemsSelector))) ||\n                (that.options.openOnClick.subMenuItems && !that._isRootItem(element.closest(allItemsSelector)))) {\n                return;\n            }\n\n            if ((that.options.openOnClick === false ||\n                (that.options.openOnClick.rootMenuItems === false && that._isRootItem(element.closest(allItemsSelector))) ||\n                (that.options.openOnClick.subMenuItems === false && !that._isRootItem(element.closest(allItemsSelector))) || that.clicked) && !touch &&\n                !(pointerTouch && that._isRootItem(element.closest(allItemsSelector)))) {\n\n                if (!contains(e.currentTarget, e.relatedTarget) && hasChildren) {\n                    that.open(element);\n                }\n            }\n\n            if (that.options.openOnClick === true && that.clicked || touch) {\n                element.siblings().each(proxy(function (_, sibling) {\n                    that.close(sibling, true);\n                }, that));\n            }\n        },\n\n        _mousedown: function (e) {\n            var that = this;\n            var element = $(e.currentTarget);\n            // needs to close subMenuItems\n            if (that.options.openOnClick.subMenuItems && !that._isRootItem(element) || touch) {\n                element.siblings().each(proxy(function (_, sibling) {\n                    that.close(sibling, true);\n                }, that));\n            }\n        },\n\n        _mouseleave: function (e) {\n            var that = this;\n            var element = $(e.currentTarget);\n            var popupOpener = element.data(POPUP_OPENER_ATTR);\n            var hasChildren = (element.children(animationContainerSelector).length || element.children(groupSelector).length) || popupOpener;\n            var $window = $(window);\n\n            if (popupOpener) {\n                delete that._openedPopups[popupOpener.toString()];\n            }\n\n            if (element.parentsUntil(animationContainerSelector, \".k-list-container,.k-calendar-container\")[0]) {\n                e.stopImmediatePropagation();\n                return;\n            }\n\n            if ((that.options.openOnClick === false || (!that.options.openOnClick.rootMenuItems && that._isRootItem(element)) ||\n                (!that.options.openOnClick.subMenuItems && !that._isRootItem(element))) && !touch && !isPointerTouch(e) &&\n                !contains(e.currentTarget, e.relatedTarget || e.target) && hasChildren &&\n                !contains(e.currentTarget, kendo._activeElement())) {\n                    that.close(element, true);\n                    that._loading = false;\n                    return;\n            }\n\n            // Detect if cursor goes outside the viewport of the browser\n            if( (kendo.support.browser.msie && !e.toElement && !e.relatedTarget && !isPointerTouch(e)) ||\n                e.clientX < 0 || e.clientY < 0 ||\n                e.clientY > $window.height() ||\n                e.clientX > $window.width()){\n                that.close(element);\n            }\n        },\n\n        _mouseenterPopup: function(e){\n            var that = this;\n            var popupElement = $(e.currentTarget);\n\n            if (popupElement.parent().is(animationContainerSelector)) {\n                 return;\n            }\n\n            popupElement = popupElement.children(\"ul\");\n            var popupId = popupElement.data(POPUP_ID_ATTR);\n\n            if (popupId) {\n                that._openedPopups[popupId.toString()] = true;\n            }\n        },\n\n        _mouseleavePopup: function (e) {\n            var that = this;\n            var popupElement = $(e.currentTarget);\n\n            if (!isPointerTouch(e) && popupElement.is(animationContainerSelector)) {\n                that._closePopups(popupElement.children(\"ul\"));\n            }\n        },\n\n        _closePopups: function(rootPopup) {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            var popupId = rootPopup.data(POPUP_ID_ATTR);\n\n            if (popupId) {\n                delete that._openedPopups[popupId.toString()];\n                var groupParent = overflowWrapper.find(popupOpenerSelector(popupId));\n\n                setTimeout(function() {\n                    if (that.options.openOnClick) {\n                        that._closeChildPopups(rootPopup);\n                    } else {\n                        if ($.isEmptyObject(that._openedPopups)) {\n                            var innerPopup = that._innerPopup(rootPopup);\n                            that._closeParentPopups(innerPopup);\n                        } else {\n                            that.close(groupParent, true);\n                        }\n                    }\n                }, 0);\n            }\n        },\n\n        _closeChildPopups: function(current){\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            $(getChildPopups(current, overflowWrapper)).each(function(){\n                var popupOpener = overflowWrapper.find(popupOpenerSelector(this.data(POPUP_ID_ATTR)));\n                that.close(popupOpener, true);\n            });\n        },\n\n        _innerPopup: function(current) {\n            var overflowWrapper = this._overflowWrapper();\n            var popups = getChildPopups(current, overflowWrapper);\n            return popups[popups.length - 1] || current;\n        },\n\n        _closeParentPopups: function (current) {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            var popupId = current.data(POPUP_ID_ATTR);\n            var popupOpener = overflowWrapper.find(popupOpenerSelector(popupId));\n            popupId = popupOpener.parent().data(POPUP_ID_ATTR);\n            that.close(popupOpener, true);\n            while (popupId && !that._openedPopups[popupId]) {\n                if (popupOpener.parent().is(menuSelector)) {\n                    break;\n                }\n                popupOpener = overflowWrapper.find(popupOpenerSelector(popupId));\n                that.close(popupOpener, true);\n                popupId = popupOpener.parent().data(POPUP_ID_ATTR);\n            }\n        },\n\n        _click: function (e) {\n            var that = this, openHandle,\n                options = that.options,\n                target = $(kendo.eventTarget(e)),\n                targetElement = target[0],\n                nodeName = target[0] ? target[0].nodeName.toUpperCase() : \"\",\n                formNode = (nodeName == \"INPUT\" || nodeName == \"SELECT\" || nodeName == \"BUTTON\" || nodeName == \"LABEL\"),\n                link = target.closest(LINK_SELECTOR),\n                element = target.closest(allItemsSelector),\n                itemElement = element[0],\n                href = link.attr(\"href\"), childGroup, childGroupVisible,\n                targetHref = target.attr(\"href\"),\n                sampleHref = $(\"<a href='#' />\").attr(\"href\"),\n                isLink = (!!href && href !== sampleHref),\n                isLocalLink = isLink && !!href.match(/^#/),\n                isTargetLink = (!!targetHref && targetHref !== sampleHref),\n                overflowWrapper = that._overflowWrapper(),\n                shouldCloseTheRootItem;\n\n            if(targetElement && (!targetElement.parentNode || !itemElement)){\n                return;\n            }\n\n            if($(target).hasClass('k-menu-expand-arrow-icon')){\n                this._lastClickedElement = itemElement;\n            }\n\n            while (targetElement && targetElement.parentNode != itemElement) {\n                targetElement = targetElement.parentNode;\n            }\n\n            if ($(targetElement).is(templateSelector)) {\n                return;\n            }\n\n            if (element.hasClass(DISABLEDSTATE)) {\n                e.preventDefault();\n                return;\n            }\n\n            if (!e.handled && that._triggerSelect(target, itemElement) && !formNode) { // We shouldn't stop propagation and shoudn't prevent form elements.\n                e.preventDefault();\n            }\n\n            e.handled = true;\n\n            childGroup = element.children(popupSelector);\n            if (overflowWrapper) {\n                var childPopupId = element.data(POPUP_OPENER_ATTR);\n                if (childPopupId) {\n                    childGroup = overflowWrapper.find(popupGroupSelector(childPopupId));\n                }\n            }\n            childGroupVisible = childGroup.is(\":visible\");\n            shouldCloseTheRootItem = options.openOnClick && childGroupVisible && that._isRootItem(element);\n\n            if (options.closeOnClick && (!isLink || isLocalLink) && (!childGroup.length || shouldCloseTheRootItem)) {\n                element.removeClass(HOVERSTATE).css(\"height\"); // Force refresh for Chrome\n                that._oldHoverItem = that._findRootParent(element);\n                var item = that._parentsUntil(link, that.element, allItemsSelector);\n                that._forceClose = !!overflowWrapper;\n                that.close(item);\n                that.clicked = false;\n                if (\"MSPointerUp\".indexOf(e.type) != -1) {\n                    e.preventDefault();\n                }\n                return;\n            }\n\n            if (isLink && e.enterKey) {\n                link[0].click();\n            }\n\n            if (((!that._isRootItem(element) || options.openOnClick === false) && !options.openOnClick.subMenuItems) && !kendo.support.touch && !(isPointerTouch(e) && that._isRootItem(element.closest(allItemsSelector)))) {\n                return;\n            }\n\n            if (!isLink && !formNode && !isTargetLink) {\n                e.preventDefault();\n            }\n\n            that.clicked = true;\n            openHandle = childGroup.is(\":visible\") ? CLOSE : OPEN;\n            if (!options.closeOnClick && openHandle == CLOSE) {\n                return;\n            }\n            that[openHandle](element);\n        },\n\n        _parentsUntil: function(context, top, selector) {\n            var overflowWrapper = this._overflowWrapper();\n            if (!overflowWrapper) {\n                return context.parentsUntil(top, selector);\n            } else {\n                var parents = overflowMenuParents(context, overflowWrapper);\n                var result = [];\n                $(parents).each(function(){\n                    var parent = $(this);\n                    if (parent.is(top)) {\n                        return false;\n                    }\n                    if (parent.is(selector)) {\n                        result.push(this);\n                    }\n                });\n                return $(result);\n            }\n        },\n\n        _triggerSelect: function (target, itemElement) {\n            target = target.is(\".k-link\") ? target : target.closest(\".k-link\");\n\n            var selectHandler = target.data(\"selectHandler\"),\n                itemSelectEventData;\n\n            if (selectHandler) {\n                itemSelectEventData = this._getEventData(target);\n                selectHandler.call(this, itemSelectEventData);\n            }\n\n            var isSelectItemDefaultPrevented = itemSelectEventData && itemSelectEventData.isDefaultPrevented();\n            var isSelectDefaultPrevented = this._triggerEvent({ item: itemElement, type: SELECT });\n            return isSelectItemDefaultPrevented || isSelectDefaultPrevented;\n        },\n\n        _getEventData: function (target) {\n            var eventData = {\n                sender: this,\n                target: target,\n                _defaultPrevented: false,\n                preventDefault: function () {\n                    this._defaultPrevented = true;\n                },\n                isDefaultPrevented: function () {\n                    return this._defaultPrevented;\n                }\n            };\n            return eventData;\n        },\n\n        _documentClick: function (e) {\n            var that = this;\n            var target = $(e.target).hasClass('k-menu-expand-arrow-icon') ? that._lastClickedElement : e.target;\n\n            if (contains((that._overflowWrapper() || that.element)[0], target)) {\n                that._lastClickedElement = undefined;\n                return;\n            }\n\n            that.clicked = false;\n        },\n\n        _focus: function (e) {\n            var that = this,\n                target = e.target,\n                hoverItem = that._hoverItem(),\n                active = activeElement();\n\n            if (target != that.wrapper[0] && !$(target).is(\":kendoFocusable\")) {\n                e.stopPropagation();\n                $(target).closest(\".k-content\").closest(\".k-menu-group\").closest(\".k-item\").addClass(FOCUSEDSTATE);\n                that.wrapper.trigger(\"focus\");\n                return;\n            }\n\n            if (active === e.currentTarget) {\n                if (hoverItem.length) {\n                    that._moveHover([], hoverItem);\n                } else if (!that._oldHoverItem) {\n                    that._moveHover([], that.wrapper.children().first());\n                }\n            }\n        },\n\n        _keydown: function (e) {\n            var that = this,\n                key = e.keyCode,\n                hoverItem = that._oldHoverItem,\n                target,\n                belongsToVertical,\n                hasChildren,\n                isRtl = kendo.support.isRtl(that.wrapper);\n\n            if (e.target != e.currentTarget && key != keys.ESC) {\n                return;\n            }\n\n            if (!hoverItem) {\n                hoverItem  = that._oldHoverItem = that._hoverItem();\n            }\n\n            belongsToVertical = that._itemBelongsToVertival(hoverItem);\n            hasChildren = that._itemHasChildren(hoverItem);\n            that._keyTriggered = true;\n\n            if (key == keys.RIGHT) {\n                target = that[isRtl ? \"_itemLeft\" : \"_itemRight\"](hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.LEFT) {\n                target = that[isRtl ? \"_itemRight\" : \"_itemLeft\"](hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.DOWN) {\n                target = that._itemDown(hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.UP) {\n                target = that._itemUp(hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.HOME) {\n                that._moveHover(hoverItem, hoverItem.parent().children().first());\n                e.preventDefault();\n            } else if (key == keys.END) {\n                that._moveHover(hoverItem, hoverItem.parent().children().last());\n                e.preventDefault();\n            } else if (key == keys.ESC) {\n                target = that._itemEsc(hoverItem, belongsToVertical);\n            } else if (key == keys.ENTER || key == keys.SPACEBAR) {\n                target = hoverItem.children(\".k-link\");\n                if (target.length > 0) {\n                    that._click({ target: target[0], preventDefault: function () {}, enterKey: true });\n                    if (hasChildren && !hoverItem.hasClass(DISABLEDSTATE)) {\n                        that.open(hoverItem);\n                        that._moveHover(hoverItem, that._childPopupElement(hoverItem).children().first());\n                    } else {\n                        that._moveHoverToRoot(hoverItem, that._findRootParent(hoverItem));\n                    }\n                }\n            } else if (key == keys.TAB) {\n                target = that._findRootParent(hoverItem);\n                that._moveHover(hoverItem, target);\n                that._checkActiveElement();\n                return;\n            }\n\n            if (target && target[0]) {\n                e.preventDefault();\n                e.stopPropagation(); // needed to handle ESC in column menu only when a root item is focused\n            }\n        },\n\n        _hoverItem: function() {\n            return this.wrapper.find(\".k-item.k-hover,.k-item.k-focus\").filter(\":visible\");\n        },\n\n        _itemBelongsToVertival: function (item) {\n            var menuIsVertical = this.wrapper.hasClass(\"k-menu-vertical\");\n\n            if (!item.length) {\n                return menuIsVertical;\n            }\n            return item.parent().hasClass(\"k-menu-group\") || menuIsVertical;\n        },\n\n        _itemHasChildren: function (item) {\n            if (!item || !item.length || !item[0].nodeType) {\n                return false;\n            }\n            return item.children(\".k-menu-group, div.k-animation-container\").length > 0 ||\n                (!!item.data(POPUP_OPENER_ATTR) && !!this._overflowWrapper().children(popupGroupSelector(item.data(POPUP_OPENER_ATTR))));\n        },\n\n        _moveHover: function (item, nextItem) {\n            var that = this,\n                id = that._ariaId;\n\n            if (item.length && nextItem.length) {\n                item.removeClass(FOCUSEDSTATE);\n            }\n\n            if (nextItem.length) {\n                if (nextItem[0].id) {\n                    id = nextItem[0].id;\n                }\n\n                nextItem.addClass(FOCUSEDSTATE);\n                that._oldHoverItem = nextItem;\n\n                if (id) {\n                    that.element.removeAttr(\"aria-activedescendant\");\n                    $(\"#\" + id).removeAttr(\"id\");\n                    nextItem.attr(\"id\", id);\n                    that.element.attr(\"aria-activedescendant\", id);\n                }\n                that._scrollToItem(nextItem);\n            }\n        },\n\n        _moveHoverToRoot: function (item, nextItem) {\n            this._moveHover(item, nextItem);\n        },\n\n        _findRootParent: function (item) {\n            if (this._isRootItem(item)) {\n                return item;\n            } else {\n                return this._parentsUntil(item, menuSelector, \"li.k-item\").last();\n            }\n        },\n\n        _isRootItem: function (item) {\n            return item.parent().hasClass(MENU);\n        },\n\n        _itemRight: function (item, belongsToVertical, hasChildren) {\n            var that = this,\n                nextItem,\n                parentItem,\n                overflowWrapper;\n\n            if (!belongsToVertical) {\n                nextItem = item.nextAll(itemSelector + exclusionSelector).eq(0);\n                if (!nextItem.length) {\n                    nextItem = item.prevAll(itemSelector + exclusionSelector).last();\n                }\n                that.close(item);\n            } else if (hasChildren && !item.hasClass(DISABLEDSTATE)) {\n                that.open(item);\n                nextItem = that._childPopupElement(item).children().first();\n            } else if (that.options.orientation == \"horizontal\") {\n                parentItem = that._findRootParent(item);\n                overflowWrapper = that._overflowWrapper();\n                if (overflowWrapper) {\n                    var rootPopup = itemPopup(parentItem, overflowWrapper);\n                    that._closeChildPopups(rootPopup);\n                }\n                that.close(parentItem);\n                nextItem = parentItem.nextAll(itemSelector + exclusionSelector).eq(0);\n            }\n\n            if (nextItem && !nextItem.length) {\n                nextItem = that.wrapper.children(\".k-item\").first();\n            } else if (!nextItem) {\n                nextItem = [];\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _itemLeft: function (item, belongsToVertical) {\n            var that = this,\n                nextItem,\n                overflowWrapper;\n\n            if (!belongsToVertical) {\n                nextItem = item.prevAll(itemSelector + exclusionSelector).eq(0);\n                if (!nextItem.length) {\n                    nextItem = item.nextAll(itemSelector + exclusionSelector).last();\n                }\n                that.close(item);\n            } else {\n                nextItem = item.parent().closest(\".k-item\");\n                overflowWrapper = that._overflowWrapper();\n                if (!nextItem.length && overflowWrapper) {\n                    nextItem = popupParentItem(item.parent(), overflowWrapper);\n                }\n                that.close(nextItem);\n                if (that._isRootItem(nextItem) && that.options.orientation == \"horizontal\") {\n                    nextItem = nextItem.prevAll(itemSelector + exclusionSelector).eq(0);\n                }\n            }\n\n            if (!nextItem.length) {\n                nextItem = that.wrapper.children(\".k-item\").last();\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _itemDown: function (item, belongsToVertical, hasChildren) {\n            var that = this,\n                nextItem;\n\n            if (!belongsToVertical) {\n                if (!hasChildren || item.hasClass(DISABLEDSTATE)) {\n                    return;\n                } else {\n                    that.open(item);\n                    nextItem = that._childPopupElement(item).children().first();\n                }\n            } else {\n                nextItem = item.nextAll(itemSelector + exclusionSelector).eq(0);\n            }\n\n            if (!nextItem.length && item.length) {\n                nextItem = item.parent().children().first();\n            } else if (!item.length) {\n                nextItem = that.wrapper.children(\".k-item\").first();\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _itemUp: function (item, belongsToVertical) {\n            var that = this,\n                nextItem;\n\n            if (!belongsToVertical) {\n                return;\n            } else {\n                nextItem = item.prevAll(itemSelector + exclusionSelector).eq(0);\n            }\n\n            if (!nextItem.length && item.length) {\n                nextItem = item.parent().children().last();\n            } else if (!item.length) {\n                nextItem = that.wrapper.children(\".k-item\").last();\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _scrollToItem: function(item){\n            var that = this;\n            if (that.options.scrollable && item && item.length) {\n                var ul = item.parent();\n                var isHorizontal = ul.hasClass(MENU) ? that.options.orientation == \"horizontal\" : false;\n                var scrollDir = isHorizontal ? \"scrollLeft\" : \"scrollTop\";\n                var getSize = isHorizontal ? kendo._outerWidth : kendo._outerHeight;\n                var currentScrollOffset = ul[scrollDir]();\n                var itemSize = getSize(item);\n                var itemOffset = item[0][isHorizontal ? \"offsetLeft\" : \"offsetTop\"];\n                var ulSize = getSize(ul);\n                var scrollButtons = ul.siblings(scrollButtonSelector);\n                var scrollButtonSize = scrollButtons.length ? getSize(scrollButtons.first()) : 0;\n                var itemPosition;\n\n                if (currentScrollOffset + ulSize < itemOffset + itemSize + scrollButtonSize) {\n                    itemPosition = itemOffset + itemSize - ulSize + scrollButtonSize;\n                } else if (currentScrollOffset > itemOffset - scrollButtonSize) {\n                    itemPosition = itemOffset - scrollButtonSize;\n                }\n\n                if (!isNaN(itemPosition)) {\n                    var scrolling = {};\n                    scrolling[scrollDir] = itemPosition;\n                    ul.finish().animate(scrolling, \"fast\", \"linear\", function () {\n                        that._toggleScrollButtons(ul, scrollButtons.first(), scrollButtons.last(), isHorizontal);\n                    });\n                }\n            }\n        },\n\n        _itemEsc: function (item, belongsToVertical) {\n            var that = this,\n                nextItem;\n\n            if (!belongsToVertical) {\n                return item;\n            } else {\n                nextItem = item.parent().closest(\".k-item\");\n                that.close(nextItem);\n                that._moveHover(item, nextItem);\n            }\n\n            return nextItem;\n        },\n\n        _childPopupElement: function(item) {\n            var popupElement = item.find(\".k-menu-group\");\n            var wrapper = this._overflowWrapper();\n            if (!popupElement.length && wrapper) {\n                popupElement = itemPopup(item, wrapper);\n            }\n            return popupElement;\n        },\n\n        _triggerEvent: function(e) {\n            var that = this;\n\n            return that.trigger(e.type, { type: e.type, item: e.item });\n        },\n\n        _focusHandler: function (e) {\n            var that = this,\n                item = $(kendo.eventTarget(e)).closest(allItemsSelector);\n\n            if (item.hasClass(DISABLEDSTATE)) {\n                return;\n            }\n\n            setTimeout(function () {\n                that._moveHover([], item);\n                if (item.children(\".k-content\")[0]) {\n                    item.parent().closest(\".k-item\").removeClass(FOCUSEDSTATE);\n                }\n            }, 200);\n        },\n\n        _animations: function(options) {\n            if (options && (\"animation\" in options) && !options.animation) {\n                options.animation = { open: { effects: {} }, close: { hide: true, effects: {} } };\n            }\n        },\n        _dataSource: function(options) {\n            var that = this,\n                dataSource = options ? options.dataSource : that.options.dataSource;\n\n            if (!dataSource) {\n                return;\n            }\n\n            dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            that._unbindDataSource();\n\n            if (!dataSource.fields) {\n                dataSource.fields = [\n                    { field: \"uid\" },\n                    { field: \"text\" },\n                    { field: \"url\" },\n                    { field: \"cssClass\" },\n                    { field: \"spriteCssClass\" },\n                    { field: \"imageUrl\" },\n                    { field: \"imageAttr\" },\n                    { field: \"attr\" },\n                    { field: \"contentAttr\" },\n                    { field: \"content\" },\n                    { field: \"encoded\" },\n                    { field: \"items\" },\n                    { field: \"select\" }\n                ];\n            }\n\n            that.dataSource = HierarchicalDataSource.create(dataSource);\n\n            that._bindDataSource();\n\n            that.dataSource.fetch();\n        },\n\n        _bindDataSource: function() {\n            this._refreshHandler = proxy(this.refresh, this);\n            this._errorHandler = proxy(this._error, this);\n\n            this.dataSource.bind(CHANGE, this._refreshHandler);\n            this.dataSource.bind(ERROR, this._errorHandler);\n        },\n\n        _unbindDataSource: function() {\n            var dataSource = this.dataSource;\n\n            if (dataSource) {\n                dataSource.unbind(CHANGE, this._refreshHandler);\n                dataSource.unbind(ERROR, this._errorHandler);\n            }\n        },\n\n        _error: function () {\n\n        },\n\n        findByUid: function (uid) {\n            var wrapperElement = this._overflowWrapper() || this.element;\n            return wrapperElement.find(\"[\" + kendo.attr(\"uid\") + \"=\" + uid + \"]\");\n        },\n\n        refresh: function (ev) {\n            var that = this;\n            var node = ev.node;\n            var action = ev.action;\n            var parentElement = node ? that.findByUid(node.uid) : that.element;\n            var itemsToUpdate = ev.items;\n            var index = ev.index;\n            var updateProxy = $.proxy(that._updateItem, that);\n            var removeProxy = $.proxy(that._removeItem, that);\n\n            if (action == \"add\") {\n                that._appendItems(itemsToUpdate, index, parentElement);\n            } else if (action == \"remove\") {\n                itemsToUpdate.forEach(removeProxy);\n            } else if (action == \"itemchange\") {\n                itemsToUpdate.forEach(updateProxy);\n            } else if (action === \"itemloaded\") {\n                that.append(ev.items, parentElement);\n            } else {\n                this._initData();\n            }\n\n            this.trigger(DATABOUND, { item: parentElement, dataItem: node });\n        },\n\n        _appendItems: function(items, index, parent) {\n            var that = this;\n            var referenceItem = parent.find(itemSelector).eq(index);\n\n            if(referenceItem.length){\n                that.insertBefore(items, referenceItem);\n            } else {\n                that.append(items, parent);\n            }\n        },\n\n        _removeItem: function(item) {\n            var that = this;\n            var element = that.findByUid(item.uid);\n            that.remove(element);\n        },\n\n        _updateItem: function(item) {\n            var that = this;\n            var element = that.findByUid(item.uid);\n            var nextElement = element.next();\n            var parentNode = item.parentNode();\n\n            that.remove(element);\n\n            if(nextElement.length) {\n                that.insertBefore(item, nextElement);\n            } else {\n                that.append(item, parentNode && that.findByUid(parentNode.uid));\n            }\n        },\n\n        _accessors: function() {\n            var that = this,\n                options = that.options,\n                i, field, textField,\n                element = that.element;\n\n            for (i in bindings) {\n                field = options[bindings[i]];\n                textField = element.attr(kendo.attr(i + \"-field\"));\n\n                if (!field && textField) {\n                    field = textField;\n                }\n\n                if (!field) {\n                    field = i;\n                }\n\n                if (!isArray(field)) {\n                    field = [field];\n                }\n\n                options[bindings[i]] = field;\n            }\n        },\n\n        _fieldAccessor: function(fieldName) {\n            var fieldBindings = this.options[bindings[fieldName]] || [],\n                count = fieldBindings.length,\n                result = \"(function(item) {\";\n\n            if (count === 0) {\n                result += \"return item['\" + fieldName + \"'];\";\n            } else {\n                result += \"var levels = [\" +\n                            $.map(fieldBindings, function(x) {\n                                return \"function(d){ return \" + kendo.expr(x) + \"}\";\n                            }).join(\",\") + \"];\";\n                result += \"if(item.level){return levels[Math.min(item.level(), \" + count + \"-1)](item);}else\";\n                result += \"{return levels[\"+ count + \"-1](item)}\";\n            }\n\n            result += \"})\";\n\n            return result;\n        },\n\n        _templates: function () {\n            var that = this,\n                options = that.options,\n                fieldAccessor = proxy(that._fieldAccessor, that);\n\n            if (options.template && typeof options.template == STRING) {\n                    options.template = template(options.template);\n            } else if (!options.template) {\n                    options.template = template(\n                    \"<span class='k-menu-link-text'>\" +\n                    \"# var text = \" + fieldAccessor(\"text\") + \"(data.item); #\" +\n                    \"# if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#\" +\n                        \"#= text #\" +\n                    \"# } else { #\" +\n                        \"#: text #\" +\n                    \"# } #</span>\"\n                );\n            }\n\n            that.templates = {\n                content: template(\n                    \"#var contentHtml = \" + fieldAccessor(\"content\") + \"(item);#\" +\n                    \"<div #= contentCssAttributes(item.toJSON ? item.toJSON() : item) # tabindex='-1'>#= contentHtml || '' #</div>\"\n                ),\n                group: template(\n                    \"<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>\" +\n                        \"#= renderItems(data) #\" +\n                    \"</ul>\"\n                ),\n                itemWrapper: template(\n                    \"# var url = \" + fieldAccessor(\"url\") + \"(item); #\" +\n                    \"# var imageUrl = \" + fieldAccessor(\"imageUrl\") + \"(item); #\" +\n                    \"# var imgAttributes = \" + fieldAccessor(\"imageAttr\") + \"(item);#\" +\n                    \"# var tag = url ? 'a' : 'span' #\" +\n                    \"<#= tag # class='#= textClass(item) #' #if(url){#href='#= url #'#}#>\" +\n\n                    \"# if (imageUrl) { #\" +\n                              \"<img #= imageCssAttributes(imgAttributes) #  alt='' src='#= imageUrl #' />\" +\n                    \"# } #\" +\n\n                    \"#= sprite(item) #\" +\n                    \"#= data.menu.options.template(data) #\" +\n                    \"#= arrow(data) #\" +\n                    \"</#= tag #>\"\n                ),\n                item: template(\n                    \"#var contentHtml = \" + fieldAccessor(\"content\") + \"(item);#\" +\n                    \"<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item.toJSON ? item.toJSON() : item) # role='menuitem'  #=item.items ? \\\"aria-haspopup='true'\\\": \\\"\\\"#\" +\n                        \"#=item.enabled === false ? \\\"aria-disabled='true'\\\" : ''#\" +\n                        kendo.attr(\"uid\") + \"='#= item.uid #' \" +\n                        \"# if(item.items && item.items.length > 0) { # \" +\n                            \"# if(item.expanded) { # \" +\n                                \" aria-expanded='true'\" +\n                            \"# } else { #\" +\n                                \" aria-expanded='false'\" +\n                            \"# } #\" +\n                        \"# } #\" +\n                    \">\" +\n                        \"#= itemWrapper(data) #\" +\n                        \"#if (item.hasChildren || item.items) { #\" +\n                            \"#= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) #\" +\n                        \"# } else if (item.content || item.contentUrl || contentHtml) { #\" +\n                            \"#= renderContent(data) #\" +\n                        \"# } #\" +\n                    \"</li>\"\n                ),\n                scrollButton: template(\n                    \"<span class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-menu-scroll-button k-scroll-#= direction #' unselectable='on'>\" +\n                        \"<span class='k-button-icon k-icon k-i-arrow-60-#= direction #'></span>\" +\n                    \"</span>\"\n                ),\n                arrow: template(\"<span class='k-menu-expand-arrow'><span class='#= arrowClass(item, group) #'></span></span>\"),\n                sprite: template(\"# var spriteCssClass = \" + fieldAccessor(\"spriteCssClass\") + \"(data); if(spriteCssClass) {#<span class='k-sprite #= spriteCssClass #'></span>#}#\"),\n                empty: template(\"\")\n            };\n        },\n\n        renderItem: function (options) {\n            var that = this;\n            options = extend({ menu: that, group: {} }, options);\n\n            var empty = that.templates.empty,\n                item = options.item;\n\n            return that.templates.item(extend(options, {\n                sprite: that.templates.sprite,\n                itemWrapper: that.templates.itemWrapper,\n                renderContent: that.renderContent,\n                arrow: item.items || item.content || item[that.options.dataContentField[0]] ? that.templates.arrow : empty,\n                subGroup: that.renderGroup\n            }, rendering));\n        },\n\n        renderGroup: function (options) {\n            var that = this;\n            var templates = that.templates || options.menu.templates;\n\n            return templates.group(extend({\n                renderItems: function(options) {\n                    var html = \"\",\n                        i = 0,\n                        items = options.items,\n                        len = items ? items.length : 0,\n                        group = extend({ length: len }, options.group);\n\n                    for (; i < len; i++) {\n                        html += options.menu.renderItem(extend(options, {\n                            group: group,\n                            item: extend({ index: i }, items[i])\n                        }));\n                    }\n\n                    return html;\n                }\n            }, options, rendering));\n        },\n\n        renderContent: function (options) {\n            return options.menu.templates.content(extend(options, rendering));\n        }\n    });\n\n    var ContextMenu = Menu.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Menu.fn.init.call(that, element, options);\n\n            that.element.attr(\"role\", \"menu\");\n\n            that._marker = kendo.guid().substring(0, 8);\n\n            that.target = $(that.options.target);\n\n            that._popup();\n            that._wire();\n        },\n\n        _initOverflow: function(options){\n            var that = this;\n            if (options.scrollable && !that._overflowWrapper()) {\n                that._openedPopups = {};\n\n                that._popupsWrapper = (that.element.parent().is(animationContainerSelector) ? that.element.parent() : that.element)\n                    .wrap(\"<div class='k-popups-wrapper \" + options.orientation + \"'></div>\").parent();\n\n                if (that.options.orientation == \"horizontal\") {\n                    removeSpacesBetweenItems(that.element);\n                }\n\n                if (options.appendTo) {\n                    options.appendTo = $(options.appendTo);\n                    options.appendTo.append(that._popupsWrapper);\n                }\n\n                that._initialHeight = that.element[0].style.height;\n                that._initialWidth = that.element[0].style.width;\n            }\n        },\n\n        options: {\n            name: \"ContextMenu\",\n            filter: null,\n            showOn: \"contextmenu\",\n            orientation: \"vertical\",\n            alignToAnchor: false,\n            copyAnchorStyles : true,\n            target: \"body\"\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            ACTIVATE,\n            DEACTIVATE,\n            SELECT\n        ],\n\n        setOptions: function(options) {\n            var that = this;\n\n            Menu.fn.setOptions.call(that, options);\n\n            that.target.off(that.showOn + NS + that._marker, that._showProxy);\n\n            if (that.userEvents) {\n                that.userEvents.destroy();\n            }\n\n            that.target = $(that.options.target);\n            if (options.orientation && that.popup.wrapper[0]) {\n                that.popup.element.unwrap();\n            }\n\n            that._wire();\n\n            Menu.fn.setOptions.call(this, options);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.target.off(that.options.showOn + NS + that._marker);\n            DOCUMENT_ELEMENT.off(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n\n            if (that.userEvents) {\n                that.userEvents.destroy();\n            }\n\n            Menu.fn.destroy.call(that);\n        },\n\n        open: function(x, y) {\n            var that = this;\n\n            x = $(x)[0];\n\n            if (contains(that.element[0], $(x)[0]) || that._itemHasChildren($(x))) { // call parent open for children elements\n                Menu.fn.open.call(that, x);\n            } else {\n                if (that._triggerEvent({ item: that.element, type: OPEN }) === false) {\n                    if (that.popup.visible() && that.options.filter) {\n                        that.popup.close(true);\n                        that.popup.element.kendoStop(true);\n                    }\n\n                    if (y !== undefined) {\n                        var overflowWrapper = that._overflowWrapper();\n                        if (overflowWrapper) {\n                            var offset = overflowWrapper.offset();\n                            x -= offset.left;\n                            y -= offset.top;\n                        }\n                        that.popup.wrapper.hide();\n                        that._configurePopupScrolling(x, y);\n                        that.popup.open(x, y);\n                    } else {\n                        that.popup.options.anchor = (x ? x : that.popup.anchor) || that.target;\n                        that.popup.element.kendoStop(true);\n                        that._configurePopupScrolling();\n                        that.popup.open();\n                    }\n\n                    DOCUMENT_ELEMENT.off(that.popup.downEvent, that.popup._mousedownProxy);\n                    DOCUMENT_ELEMENT\n                        .on(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n\n                    that.element.trigger(\"focus\");\n                }\n            }\n\n            return that;\n        },\n\n        _configurePopupScrolling: function(x, y){\n            var that = this;\n            var popup = that.popup;\n            var isHorizontal = that.options.orientation == \"horizontal\";\n\n            if (that.options.scrollable) {\n                that._wrapPopupElement(popup);\n\n                popup.element.parent().css({\n                    position: \"\",\n                    height: \"\"\n                });\n\n                popup.element.css({\n                    visibility: \"hidden\",\n                    display: \"\",\n                    position: \"\"\n                });\n\n                if (isHorizontal) {\n                    that._setPopupWidth(popup, isNaN(x) ? undefined : {isFixed: true, x: x, y: y});\n                } else {\n                    that._setPopupHeight(popup, isNaN(x) ? undefined : {isFixed: true, x: x, y: y});\n                }\n\n                popup.element.css({\n                    visibility: \"\",\n                    display: \"none\",\n                    position: \"absolute\"\n                });\n\n                that._initPopupScrollButtons(popup, isHorizontal, true);\n                popup.element.siblings(scrollButtonSelector).hide();\n            }\n        },\n\n        _setPopupWidth: function(popup, isFixed){\n            var popupElement = popup.element;\n            var popups = popupElement.add(popupElement.parent(animationContainerSelector));\n\n            popups.width(this._initialWidth || \"\");\n\n            var location = popup._location(isFixed);\n            var windowWidth = $(window).width();\n            var popupOuterWidth = location.width;\n            var popupOffsetLeft = Math.max(location.left, 0);\n            var scrollLeft = isFixed ? 0 : parentsScroll(this._overflowWrapper()[0], \"scrollLeft\");\n            var shadow = kendo.getShadows(popupElement);\n            var maxWidth = windowWidth - shadow.left - shadow.right;\n            var canFit = maxWidth + scrollLeft > popupOuterWidth + popupOffsetLeft;\n\n            if (!canFit) {\n                popups.css({overflow: \"hidden\", width: (maxWidth - popupOffsetLeft + scrollLeft) + \"px\"});\n            }\n        },\n\n        close: function() {\n            var that = this;\n\n            if (contains(that.element[0], $(arguments[0])[0]) || that._itemHasChildren(arguments[0])) {\n                Menu.fn.close.call(that, arguments[0]);\n            } else {\n                if (that.popup.visible()) {\n                    if (that._triggerEvent({ item: that.element, type: CLOSE }) === false) {\n                        that._removeHoverItem();\n                        that.element.find(\"#\" + that._ariaId).removeAttr(\"id\");\n                        that.popup.close();\n                        DOCUMENT_ELEMENT.off(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n                        that.unbind(SELECT, that._closeTimeoutProxy);\n                        that.popup.options.anchor.focus();\n                    }\n                }\n            }\n        },\n\n        _showHandler: function (e) {\n            var ev = e, offset,\n                that = this,\n                options = that.options,\n                target = kendo.support.mobileOS ? $(ev.target) : $(ev.currentTarget);\n\n            if (e.event) {\n                ev = e.event;\n                ev.pageX = e.x.location;\n                ev.pageY = e.y.location;\n            }\n\n            if (contains(that.element[0], e.relatedTarget || e.target)) {\n                return;\n            }\n\n            that._eventOrigin = ev;\n\n            ev.preventDefault();\n            ev.stopImmediatePropagation();\n\n            that.element.find(\".\" + FOCUSEDSTATE).removeClass(FOCUSEDSTATE);\n\n            if ((options.filter && target.is(options.filter)) || !options.filter) {\n                if (options.alignToAnchor) {\n                    that.popup.options.anchor = ev.currentTarget;\n                    that.open(ev.currentTarget);\n                } else {\n                    that.popup.options.anchor = ev.currentTarget;\n\n                    if (that._targetChild) {\n                        offset = that.target.offset();\n                        that.open(ev.pageX - offset.left, ev.pageY - offset.top);\n                    } else {\n                        that.open(ev.pageX, ev.pageY);\n                    }\n                }\n            }\n        },\n\n        _closeHandler: function (e) {\n            var that = this,\n                target = $(e.relatedTarget || e.target),\n                sameTarget = target.closest(that.target.selector)[0] == that.target[0],\n                item = target.closest(itemSelector),\n                children = that._itemHasChildren(item),\n                overflowWrapper = that._overflowWrapper(),\n                containment = contains(that.element[0], target[0]) || (overflowWrapper && contains(overflowWrapper[0], target[0]));\n\n            that._eventOrigin = e;\n\n            var normalClick = e.which !== 3;\n\n            if (that.popup.visible() && ((normalClick && sameTarget) || !sameTarget) && ((that.options.closeOnClick && !children && containment) || !containment)) {\n                if (containment) {\n                    this.unbind(SELECT, this._closeTimeoutProxy);\n                    that.bind(SELECT, that._closeTimeoutProxy);\n                } else {\n                    that.close();\n                }\n            }\n        },\n\n        _wire: function() {\n            var that = this,\n                options = that.options,\n                target = that.target;\n\n            that._preventProxy = null;\n            that._showProxy = proxy(that._showHandler, that);\n            that._closeProxy = proxy(that._closeHandler, that);\n            that._closeTimeoutProxy = proxy(that.close, that);\n\n            if (target[0]) {\n                if (kendo.support.mobileOS && options.showOn == \"contextmenu\") {\n                    that.userEvents = new kendo.UserEvents(target, {\n                        filter: options.filter,\n                        allowSelection: false\n                    });\n\n                    that._preventProxy = function() { return false; };\n\n                    that.userEvents.bind(\"hold\", that._showProxy);\n                }\n\n                if (options.filter) {\n                    target.on(options.showOn + NS + that._marker, options.filter, that._preventProxy || that._showProxy);\n                } else {\n                    target.on(options.showOn + NS + that._marker, that._preventProxy || that._showProxy);\n                }\n            }\n        },\n\n        _triggerEvent: function(e) {\n            var that = this,\n                anchor = $(that.popup.options.anchor)[0],\n                origin = that._eventOrigin;\n\n            that._eventOrigin = undefined;\n\n            return that.trigger(e.type, extend({ type: e.type, item: e.item || this.element[0], target: anchor }, origin ? { event: origin } : {} ));\n        },\n\n        _popup: function() {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n\n            that._triggerProxy = proxy(that._triggerEvent, that);\n\n            that.popup = that.element\n                            .addClass(\"k-context-menu\")\n                            .kendoPopup({\n                                autosize: that.options.orientation === \"horizontal\",\n                                anchor: that.target || \"body\",\n                                copyAnchorStyles: that.options.copyAnchorStyles,\n                                collision: that.options.popupCollision || \"fit\",\n                                animation: that.options.animation,\n                                activate: that._triggerProxy,\n                                deactivate: that._triggerProxy,\n                                appendTo: overflowWrapper || that.options.appendTo,\n                                close: !overflowWrapper ? $.noop : function(e) {\n                                    $(getChildPopups(e.sender.element, overflowWrapper)).each(function(i, p) {\n                                        var popup = p.data(KENDOPOPUP);\n                                        if (popup) {\n                                            popup.close(true);\n                                        }\n                                    });\n                                }\n                            }).data(KENDOPOPUP);\n\n            that._targetChild = contains(that.target[0], that.popup.element[0]);\n        },\n\n        _moveHoverToRoot: function (item, nextItem) {\n            this._moveHover(item, nextItem);\n            this.close();\n        },\n\n        _focus: function (e) {\n            var hoverItem  = this._oldHoverItem = this._hoverItem() || [];\n\n            Menu.fn._focus.call(this, e);\n\n            if (activeElement() === e.currentTarget) {\n                this._moveHover(hoverItem, this.wrapper.children().first());\n            }\n        }\n    });\n\n    ui.plugin(Menu);\n    ui.plugin(ContextMenu);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.panelbar',[ \"./kendo.data\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"panelbar\",\n    name: \"PanelBar\",\n    category: \"web\",\n    description: \"The PanelBar widget displays hierarchical data as a multi-level expandable panel bar.\",\n    depends: [ \"core\", \"data\", \"data.odata\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        keys = kendo.keys,\n        extend = $.extend,\n        proxy = $.proxy,\n        each = $.each,\n        isArray = Array.isArray,\n        template = kendo.template,\n        Widget = ui.Widget,\n        HierarchicalDataSource = kendo.data.HierarchicalDataSource,\n        excludedNodesRegExp = /^(ul|a|div)$/i,\n        NS = \".kendoPanelBar\",\n        IMG = \"img\",\n        HREF = \"href\",\n        LAST = \"k-last\",\n        LINK = \"k-link\",\n        LINKSELECTOR = \".\" + LINK,\n        ERROR = \"error\",\n        ITEM = \".k-item\",\n        GROUP = \".k-group\",\n        VISIBLEGROUP = GROUP + \":visible\",\n        IMAGE = \"k-image\",\n        FIRST = \"k-first\",\n        CHANGE = \"change\",\n        EXPAND = \"expand\",\n        SELECT = \"select\",\n        CLICK = \"click\",\n        CONTENT = \"k-content\",\n        ACTIVATE = \"activate\",\n        COLLAPSE = \"collapse\",\n        DATABOUND = \"dataBound\",\n        MOUSEENTER = \"mouseenter\",\n        MOUSELEAVE = \"mouseleave\",\n        CONTENTLOAD = \"contentLoad\",\n        UNDEFINED = \"undefined\",\n        ACTIVECLASS = \"k-state-active\",\n        GROUPS = \"> .k-panel\",\n        CONTENTS = \"> .k-content\",\n        STRING = \"string\",\n        FOCUSEDCLASS = \"k-state-focused\",\n        DISABLEDCLASS = \"k-state-disabled\",\n        SELECTEDCLASS = \"k-state-selected\",\n        SELECTEDSELECTOR = \".\" + SELECTEDCLASS,\n        HIGHLIGHTCLASS = \"k-state-highlight\",\n        ACTIVEITEMSELECTOR = ITEM + \":not(.k-state-disabled)\",\n        clickableItems = \"> \" + ACTIVEITEMSELECTOR + \" > \" + LINKSELECTOR + \", .k-panel > \" + ACTIVEITEMSELECTOR + \" > \" + LINKSELECTOR,\n        disabledItems = ITEM + \".k-state-disabled > .k-link\",\n        selectableItems = \"> li > \" + SELECTEDSELECTOR + \", .k-panel > li > \" + SELECTEDSELECTOR,\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        ARIA_SELECTED = \"aria-selected\",\n        VISIBLE = \":visible\",\n        EMPTY = \":empty\",\n        SINGLE = \"single\",\n        bindings = {\n            text: \"dataTextField\",\n            url: \"dataUrlField\",\n            spriteCssClass: \"dataSpriteCssClassField\",\n            imageUrl: \"dataImageUrlField\"\n        },\n        itemIcon,\n        rendering = {\n        aria: function(item) {\n            var attr = \"\";\n\n            if (item.items || item.content || item.contentUrl || item.expanded) {\n                attr += ARIA_EXPANDED + \"='\" + (item.expanded ? \"true\" : \"false\") + \"' \";\n            }\n\n            if (item.enabled === false) {\n                attr += ARIA_DISABLED + \"='true'\";\n            }\n\n            return attr;\n        },\n\n    wrapperCssClass: function (group, item) {\n        var result = \"k-item\",\n            index = item.index;\n\n        result += group.firstLevel ? \" k-panelbar-header\" : \" k-panelbar-item\";\n\n        if (item.enabled === false) {\n            result += \" \" + DISABLEDCLASS;\n        } else if (item.expanded === true) {\n            result += \" \" + ACTIVECLASS;\n        }\n\n        if (index === 0) {\n            result += \" k-first\";\n        }\n\n        if (index == group.length - 1) {\n            result += \" k-last\";\n        }\n\n        if (item.cssClass) {\n            result += \" \" + item.cssClass;\n        }\n\n        if (item.level) {\n            result += \" k-level-\" + item.level();\n        }\n\n        return result;\n    },\n\n    textClass: function(item) {\n        var result = LINK;\n\n        if (item.selected) {\n            result += \" \" + SELECTEDCLASS;\n        }\n\n        return result;\n    },\n    textAttributes: function(url) {\n        return url ? \" href='\" + url + \"'\" : \"\";\n    },\n    arrowClass: function(item) {\n        var result = \"k-icon\";\n\n        result += item.expanded ? \" k-panelbar-toggle k-panelbar-collapse k-i-arrow-chevron-up\" : \" k-panelbar-toggle k-panelbar-expand k-i-arrow-chevron-down\";\n\n        return result;\n    },\n    text: function(item) {\n         return item.encoded === false ? item.text : kendo.htmlEncode(item.text);\n    },\n    groupAttributes: function(group) {\n        return group.expanded !== true ? \" style='display:none'\" : \"\";\n    },\n    ariaHidden: function(group){\n        return group.expanded !== true;\n    },\n    groupCssClass: function() {\n        return \"k-panelbar-group k-group k-panel\";\n    },\n    contentAttributes: function(content) {\n        return content.item.expanded !== true ? \" style='display:none'\" : \"\";\n    },\n    content: function(item) {\n        return item.content ? item.content : item.contentUrl ? \"\" : \"&nbsp;\";\n    },\n    contentUrl: function(item) {\n        return item.contentUrl ? 'href=\"' + item.contentUrl + '\"' : \"\";\n    }\n};\n\n    function updateFirstLast (items) {\n        items = $(items);\n\n        items.filter(\".k-first:not(:first-child)\").removeClass(FIRST);\n        items.filter(\".k-last:not(:last-child)\").removeClass(LAST);\n        items.filter(\":first-child\").addClass(FIRST);\n        items.filter(\":last-child\").addClass(LAST);\n    }\n\n    function updateLevel (item) {\n        item = $(item);\n\n        item.addClass(\"k-level-\" + item.parentsUntil(\".k-panelbar\", \"ul\").length);\n    }\n\n     function updateItemHtml(item) {\n        var wrapper = item,\n            group = item.children(\"ul\"),\n            toggleButton = wrapper.children(\".k-link\").children(\".k-icon\");\n\n        if (item.hasClass(\"k-panelbar\")) {\n            return;\n        }\n\n        if (!toggleButton.length && group.length) {\n            toggleButton = $(\"<span class='k-icon' />\").appendTo(wrapper);\n        } else if (!group.length || !group.children().length) {\n            toggleButton.remove();\n            group.remove();\n        }\n     }\n\n    itemIcon = function(item) {\n        return item.children(\"span\").children(\".k-icon\");\n    };\n\n    var PanelBar = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this,\n                content,\n                hasDataSource;\n\n           if (isArray(options)) {\n                options = { dataSource: options };\n           }\n\n            hasDataSource = options && !!options.dataSource;\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.wrapper = that.element.addClass(\"k-panelbar\");\n            options = that.options;\n\n            if (element[0].id) {\n                that._itemId = element[0].id + \"_pb_active\";\n            }\n\n            that._tabindex();\n\n            that._accessors();\n\n            that._dataSource();\n\n            that._templates();\n\n            that._initData(hasDataSource);\n\n            that._updateClasses();\n\n            that._animations(options);\n\n            element\n                .on(CLICK + NS, clickableItems, proxy(that._click, that))\n                .on(MOUSEENTER  + NS + \" \" + MOUSELEAVE + NS, clickableItems, that._toggleHover)\n                .on(CLICK + NS, disabledItems, false)\n                .on(CLICK + NS, \".k-request-retry\", proxy(that._retryRequest, that))\n                .on(\"keydown\" + NS, proxy(that._keydown, that))\n                .on(\"focus\" + NS, function() {\n                    var item = that.select();\n                    that._current(item[0] ? item : that._first());\n                })\n                .on(\"blur\" + NS, function() {\n                    that._current(null);\n                })\n                .attr(\"role\", \"tree\");\n\n            content = element.find(\"li.\" + ACTIVECLASS + \" > .\" + CONTENT);\n\n            if (content[0]) {\n                that.expand(content.parent(), false);\n            }\n\n            if (!options.dataSource) {\n                that._angularCompile();\n            }\n\n            kendo.notify(that);\n        },\n\n        events: [\n            EXPAND,\n            COLLAPSE,\n            SELECT,\n            ACTIVATE,\n            CHANGE,\n            ERROR,\n            DATABOUND,\n            CONTENTLOAD\n        ],\n        options: {\n            name: \"PanelBar\",\n            dataSource: {},\n            animation: {\n                expand: {\n                    effects: \"expand:vertical\",\n                    duration: 200\n                },\n                collapse: { // if collapse animation effects are defined, they will be used instead of expand.reverse\n                    duration: 200\n                }\n            },\n            messages: {\n                loading: \"Loading...\",\n                requestFailed: \"Request failed.\",\n                retry: \"Retry\"\n            },\n            autoBind: true,\n            loadOnDemand: true,\n            expandMode: \"multiple\",\n            template: \"\",\n            dataTextField: null\n        },\n\n        _angularCompile: function() {\n            var that = this;\n            that.angular(\"compile\", function(){\n                return {\n                    elements: that.element.children(\"li\"),\n                    data: [{ dataItem: that.options.$angular}]\n                };\n            });\n        },\n\n        _angularCompileElements: function(html, items) {\n            var that = this;\n            that.angular(\"compile\", function(){\n                return {\n                    elements: html,\n                    data: $.map(items, function(item) {\n                        return [{ dataItem: item }];\n                    })\n                };\n            });\n        },\n\n        _angularCleanup: function() {\n            var that = this;\n\n            that.angular(\"cleanup\", function(){\n                return { elements: that.element.children(\"li\") };\n            });\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            this.element.off(NS);\n\n            this._angularCleanup();\n\n            kendo.destroy(this.element);\n        },\n\n        _initData: function(hasDataSource) {\n            var that = this;\n\n            if (hasDataSource) {\n                that.element.empty();\n                 if (that.options.autoBind) {\n                    that._progress(true);\n\n                    that.dataSource.fetch();\n                 }\n            }\n        },\n\n        _templates: function() {\n            var that = this,\n                options = that.options,\n                fieldAccessor = proxy(that._fieldAccessor, that);\n\n              if (options.template && typeof options.template == STRING) {\n                    options.template = template(options.template);\n              } else if (!options.template) {\n                     options.template = template(\n                        \"# var text = \" + fieldAccessor(\"text\") + \"(data.item); #\" +\n                        \"# if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#\" +\n                            \"<span class='k-panelbar-item-text'>#= text #</span>\" +\n                        \"# } else { #\" +\n                            \"<span class='k-panelbar-item-text'>#: text #</span>\" +\n                        \"# } #\"\n                    );\n                }\n\n            that.templates = {\n                content: template(\n                    \"<div class='k-panelbar-content k-content'#= contentAttributes(data) #>#= content(item) #</div>\"\n                ),\n                group: template(\n                    \"<ul role='group' aria-hidden='#= ariaHidden(group) #' class='#= groupCssClass(group) #'#= groupAttributes(group) #>\" +\n                        \"#= renderItems(data) #\" +\n                    \"</ul>\"\n                ),\n                itemWrapper: template(\n                     \"# var url = \" + fieldAccessor(\"url\") + \"(item); #\" +\n                     \"# var imageUrl = \" + fieldAccessor(\"imageUrl\") + \"(item); #\" +\n                     \"# var spriteCssClass = \" + fieldAccessor(\"spriteCssClass\") + \"(item); #\" +\n                     \"# var contentUrl = contentUrl(item); #\" +\n                     \"# var tag = url||contentUrl ? 'a' : 'span'; #\" +\n\n                    \"<#= tag # class='#= textClass(item) #' #= contentUrl ##= textAttributes(url) #>\" +\n                        \"# if (imageUrl) { #\" +\n                              \"<img class='k-panelbar-item-icon k-image' alt='' src='#= imageUrl #' />\" +\n                        \"# } #\" +\n\n                        \"# if (spriteCssClass) { #\" +\n                            \"<span class='k-sprite #= spriteCssClass #'></span>\" +\n                        \"# } #\" +\n                      \"#= data.panelBar.options.template(data) #\" +\n                      \"#= arrow(data) #\" +\n                    \"</#= tag #>\"\n                ),\n\n                item: template(\n                    \"<li role='treeitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'\" +\n                         kendo.attr(\"uid\") + \"='#= item.uid #'>\" +\n                        \"#= itemWrapper(data) #\" +\n                        \"# if (item.items && item.items.length > 0) { #\" +\n                        \"#= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) #\" +\n                        \"# } else if (item.content || item.contentUrl) { #\" +\n                        \"#= renderContent(data) #\" +\n                        \"# } #\" +\n                    \"</li>\"\n                ),\n                loading: template(\"<li class='k-item'><span class='k-icon k-i-loading'></span> #: data.messages.loading #</li>\"),\n                retry: template(\n                    \"<li class='k-item'>\" +\n                        \"#: data.messages.requestFailed # \" +\n                        \"<button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-request-retry'><span class='k-button-text'>#: data.messages.retry #</span></button>\" +\n                    \"</li>\"\n                ),\n                arrow: template(\"<span class='#= arrowClass(item) #'></span>\"),\n                empty: template(\"\")\n            };\n        },\n\n        setOptions: function(options) {\n            var animation = this.options.animation;\n\n            this._animations(options);\n\n            options.animation = extend(true, animation, options.animation);\n\n            if (\"dataSource\" in options) {\n                this.setDataSource(options.dataSource);\n            }\n\n            Widget.fn.setOptions.call(this, options);\n        },\n\n        expand: function (element, useAnimation) {\n            var that = this,\n                animBackup = {};\n\n            element = this.element.find(element);\n\n            if (that._animating && element.find(\"ul\").is(\":visible\")) {\n                that.one(\"complete\", function() {\n                    setTimeout(function() {\n                        that.expand(element);\n                    });\n                });\n                return;\n            }\n            that._animating = true;\n\n            useAnimation = useAnimation !== false;\n\n            element.each(function (index, item) {\n                item = $(item);\n                var wrapper = element.children(\".k-group,.k-content\");\n\n                if (!wrapper.length) {\n                    wrapper =  that._addGroupElement(element);\n                }\n\n                 var groups = wrapper.add(item.find(CONTENTS));\n\n                if (!item.hasClass(DISABLEDCLASS) && groups.length > 0) {\n\n                    if (that.options.expandMode == SINGLE && that._collapseAllExpanded(item)) {\n                        return that;\n                    }\n\n                    element.find(\".\" + HIGHLIGHTCLASS).removeClass(HIGHLIGHTCLASS);\n                    item.addClass(HIGHLIGHTCLASS);\n\n                    if (!useAnimation) {\n                        animBackup = that.options.animation;\n                        that.options.animation = { expand: { effects: {} }, collapse: { hide: true, effects: {} } };\n                    }\n\n                    if (!that._triggerEvent(EXPAND, item)) {\n                        that._toggleItem(item, false, false);\n                    }\n\n                    if (!useAnimation) {\n                        that.options.animation = animBackup;\n                    }\n                }\n            });\n\n            return that;\n        },\n\n        collapse: function (element, useAnimation) {\n            var that = this,\n                animBackup = {};\n\n            that._animating = true;\n\n            useAnimation = useAnimation !== false;\n            element = that.element.find(element);\n\n            element.each(function (index, item) {\n                item = $(item);\n                var groups = item.find(GROUPS).add(item.find(CONTENTS));\n\n                if (!item.hasClass(DISABLEDCLASS) && groups.is(VISIBLE)) {\n                    item.removeClass(HIGHLIGHTCLASS);\n\n                    if (!useAnimation) {\n                        animBackup = that.options.animation;\n                        that.options.animation = { expand: { effects: {} }, collapse: { hide: true, effects: {} } };\n                    }\n\n                    if (!that._triggerEvent(COLLAPSE, item)) {\n                        that._toggleItem(item, true);\n                    }\n\n                    if (!useAnimation) {\n                        that.options.animation = animBackup;\n                    }\n                }\n\n            });\n            return that;\n        },\n\n         updateArrow: function(items) {\n                var that = this;\n\n                items = $(items);\n                items.children(LINKSELECTOR).children(\".k-panelbar-collapse, .k-panelbar-expand\").remove();\n\n                items\n                    .filter(function() {\n                        var dataItem = that.dataItem(this);\n\n                        if (!dataItem) {\n                            return $(this).find(\".k-panel\").length > 0 ||\n                                $(this).find(\".k-content\").length > 0;\n                        }\n\n                        return dataItem.hasChildren || dataItem.content || dataItem.contentUrl;\n                    })\n                    .children(\".k-link:not(:has([class*=k-i-arrow]))\")\n                    .each(function () {\n                        var item = $(this),\n                            parent = item.parent();\n\n                        item.append(\"<span class='k-icon \" + (parent.hasClass(ACTIVECLASS) ? \" k-panelbar-toggle k-panelbar-collapse k-i-arrow-chevron-up\" : \" k-panelbar-toggle k-panelbar-expand k-i-arrow-chevron-down\") + \"'/>\");\n                    });\n         },\n\n        _accessors: function() {\n            var that = this,\n                options = that.options,\n                i, field, textField,\n                element = that.element;\n\n            for (i in bindings) {\n                field = options[bindings[i]];\n                textField = element.attr(kendo.attr(i + \"-field\"));\n\n                if (!field && textField) {\n                    field = textField;\n                }\n\n                if (!field) {\n                    field = i;\n                }\n\n                if (!isArray(field)) {\n                    field = [field];\n                }\n\n                options[bindings[i]] = field;\n            }\n        },\n\n        _progress: function(item, showProgress) {\n            var element = this.element;\n            var loadingText = this.templates.loading({ messages: this.options.messages });\n\n            if (arguments.length == 1) {\n                showProgress = item;\n\n                if (showProgress) {\n                    element.html(loadingText);\n                } else {\n                    element.empty();\n                }\n            }\n            else {\n                itemIcon(item).toggleClass(\"k-i-loading\", showProgress).removeClass(\"k-i-refresh\");\n            }\n        },\n\n        _refreshRoot: function(items) {\n            var that = this;\n            var parent = that.element;\n            var  groupData = {\n                firstLevel: true,\n                expanded: true,\n                length: parent.children().length\n            };\n\n            this.element.empty();\n\n            var rootItemsHtml = $.map(items, function(value, idx) {\n                    if (typeof value === \"string\") {\n                        return $(value);\n                    } else {\n                        value.items = [];\n                        return $(that.renderItem({\n                            group: groupData,\n                            item: extend(value, { index: idx })\n                        }));\n                    }\n            });\n\n            this.element.append(rootItemsHtml);\n            var elements = this.element.children(\".k-item\");\n            for (var i = 0; i < items.length; i++) {\n                this.trigger(\"itemChange\", {\n                    item: elements.eq(i).find(\".k-link\").first(),\n                    data: items[i],\n                    ns: ui\n                });\n            }\n            this._angularCompileElements(rootItemsHtml, items);\n        },\n\n        _refreshChildren: function(item, parentNode) {\n            var i, children, child;\n\n            parentNode.children(\".k-group\").empty();\n            var items = item.children.data();\n            if (!items.length) {\n                updateItemHtml(parentNode);\n                children = parentNode.children(\".k-group\").children(\"li\");\n                this._angularCompileElements(children, items);\n            } else {\n                this.append(item.children, parentNode);\n\n                if(this.options.loadOnDemand){\n                    this._toggleGroup(parentNode.children(\".k-group\"), false);\n                }\n                children = parentNode.children(\".k-group\").children(\"li\");\n\n                for (i = 0; i < children.length; i++) {\n                    child = children.eq(i);\n                    this.trigger(\"itemChange\", {\n                        item: child.find(\".k-link\").first(),\n                        data: this.dataItem(child),\n                        ns: ui\n                    });\n                }\n            }\n        },\n\n        findByUid: function(uid) {\n            var items = this.element.find(\".k-item\");\n            var uidAttr = kendo.attr(\"uid\");\n            var result;\n\n            for (var i = 0; i < items.length; i++) {\n                if (items[i].getAttribute(uidAttr) == uid) {\n                    result = items[i];\n                    break;\n                }\n            }\n\n            return $(result);\n        },\n\n        refresh: function(e) {\n            var options = this.options;\n            var node = e.node;\n            var action = e.action;\n            var items = e.items;\n            var parentNode = this.wrapper;\n            var loadOnDemand = options.loadOnDemand;\n\n            if (e.field) {\n                if (!items[0] || !items[0].level) {\n                    return;\n                }\n\n                return this._updateItems(items, e.field);\n            }\n\n            if (node) {\n                parentNode = this.findByUid(node.uid);\n                this._progress(parentNode, false);\n            }\n            if (action == \"add\") {\n                this._appendItems(e.index, items, parentNode);\n            } else if (action == \"remove\") {\n                this.remove(this.findByUid(items[0].uid));\n            } else if (action == \"itemchange\") {\n                this._updateItems(items);\n            } else if (action == \"itemloaded\") {\n                this._refreshChildren(node, parentNode);\n            } else {\n                this._refreshRoot(items);\n            }\n\n            if (action != \"remove\") {\n                for (var k = 0; k < items.length; k++) {\n\n                    if (!loadOnDemand || items[k].expanded) {\n                        var tempItem = items[k];\n                        if (this._hasChildItems(tempItem)) {\n                                tempItem.load();\n                        }\n                    }\n                }\n            }\n\n            this.trigger(DATABOUND, { node: node ? parentNode : undefined });\n        },\n\n        _error: function(e) {\n            var node = e.node && this.findByUid(e.node.uid);\n            var retryHtml = this.templates.retry({ messages: this.options.messages });\n\n            if (node) {\n                this._progress(node, false);\n                this._expanded(node, false);\n                itemIcon(node).addClass(\"k-i-refresh\");\n                e.node.loaded(false);\n            } else {\n                this._progress(false);\n                this.element.html(retryHtml);\n            }\n        },\n\n        _retryRequest: function(e) {\n            e.preventDefault();\n\n            this.dataSource.fetch();\n        },\n\n         items: function() {\n            return this.element.find(\".k-item > span:first-child\");\n        },\n\n        setDataSource: function(dataSource) {\n            var options = this.options;\n\n            options.dataSource = dataSource;\n\n            this._dataSource();\n\n            if (this.options.autoBind) {\n                this._progress(true);\n                this.dataSource.fetch();\n            }\n        },\n\n        _bindDataSource: function() {\n            this._refreshHandler = proxy(this.refresh, this);\n            this._errorHandler = proxy(this._error, this);\n\n            this.dataSource.bind(CHANGE, this._refreshHandler);\n            this.dataSource.bind(ERROR, this._errorHandler);\n        },\n\n        _unbindDataSource: function() {\n            var dataSource = this.dataSource;\n\n            if (dataSource) {\n                dataSource.unbind(CHANGE, this._refreshHandler);\n                dataSource.unbind(ERROR, this._errorHandler);\n            }\n        },\n\n        // generates accessor function for a given field name, honoring the data*Field arrays\n        _fieldAccessor: function(fieldName) {\n            var fieldBindings = this.options[bindings[fieldName]] || [],\n                count = fieldBindings.length,\n                result = \"(function(item) {\";\n\n            if (count === 0) {\n                result += \"return item['\" + fieldName + \"'];\";\n            } else {\n                result += \"var levels = [\" +\n                            $.map(fieldBindings, function(x) {\n                                return \"function(d){ return \" + kendo.expr(x) + \"}\";\n                            }).join(\",\") + \"];\";\n                result += \"if(item.level){return levels[Math.min(item.level(), \" + count + \"-1)](item);}else\";\n                result += \"{return levels[\"+ count + \"-1](item)}\";\n            }\n\n            result += \"})\";\n\n            return result;\n        },\n\n        _dataSource: function() {\n            var that = this,\n                options = that.options,\n                dataSource = options.dataSource;\n\n            if (!dataSource) {\n                return;\n            }\n\n            dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            that._unbindDataSource();\n\n            if (!dataSource.fields) {\n                dataSource.fields = [\n                    { field: \"text\" },\n                    { field: \"url\" },\n                    { field: \"spriteCssClass\" },\n                    { field: \"imageUrl\" }\n                ];\n            }\n\n            that.dataSource = HierarchicalDataSource.create(dataSource);\n\n            that._bindDataSource();\n        },\n\n        _appendItems: function(index, items, parentNode) {\n            var that = this, children, wrapper;\n\n              if (parentNode.hasClass(\"k-panelbar\")) {\n                  children = parentNode.children(\"li\");\n                  wrapper = parentNode;\n              } else {\n                  wrapper = parentNode.children(\".k-group\");\n                  if (!wrapper.length) {\n                      wrapper =  that._addGroupElement(parentNode);\n                  }\n\n                  children = wrapper.children(\"li\");\n              }\n\n             var  groupData = {\n                firstLevel: parentNode.hasClass(\"k-panelbar\"),\n                expanded: true,\n                length: children.length\n             };\n\n             var itemsHtml = $.map(items, function(value, idx) {\n                    if (typeof value === \"string\") {\n                        return $(value);\n                    } else {\n                        return $(that.renderItem({\n                            group: groupData,\n                            item: extend(value, { index: idx })\n                        }));\n                    }\n            });\n\n              if (typeof index == UNDEFINED) {\n                   index = children.length;\n              }\n\n              for (var i = 0; i < itemsHtml.length; i++) {\n                  if (children.length === 0 || index === 0) {\n                      wrapper.append(itemsHtml[i]);\n                  } else {\n                       itemsHtml[i].insertAfter(children[index - 1]);\n                  }\n               }\n\n            that._angularCompileElements(itemsHtml, items);\n              if (that.dataItem(parentNode)) {\n                  that.dataItem(parentNode).hasChildren = true;\n                  that.updateArrow(parentNode);\n              }\n        },\n\n        _updateItems: function (items, field) {\n            var that = this;\n            var i, node, nodeWrapper, item;\n            var context = { panelBar: that.options, item: item, group: {} };\n            var render = field != \"expanded\";\n\n            if (field == \"selected\") {\n                if(items[0][field]){\n                    var currentNode = that.findByUid(items[0].uid);\n\n                    if (!currentNode.hasClass(DISABLEDCLASS)) {\n                        that.select(currentNode, true);\n                    }\n                }else{\n                    that.clearSelection();\n                }\n            } else {\n                var elements = $.map(items, function(item) {\n                    return that.findByUid(item.uid);\n                });\n\n                if (render) {\n                    that.angular(\"cleanup\", function() { return { elements: elements }; });\n                }\n\n                for (i = 0; i < items.length; i++) {\n                    context.item = item = items[i];\n                    context.panelBar = that;\n                    nodeWrapper = elements[i];\n                    node = nodeWrapper.parent();\n                    if (render) {\n                        context.group = {\n                            firstLevel: node.hasClass(\"k-panelbar\"),\n                            expanded: nodeWrapper.parent().hasClass(ACTIVECLASS),\n                            length: nodeWrapper.children().length\n                        };\n\n                        nodeWrapper.children(\".k-link\").remove();\n                        nodeWrapper.prepend(that.templates.itemWrapper(extend(context,\n                            {\n                                arrow: item.hasChildren || item.content || item.contentUrl ? that.templates.arrow : that.templates.empty\n                            },\n                            rendering)));\n                    }\n\n                    if (field == \"expanded\") {\n                        that._toggleItem(nodeWrapper, !item[field], item[field] ? \"true\": true);\n                    } else if (field == \"enabled\") {\n                        that.enable(nodeWrapper, item[field]);\n                         if (!item[field]) {\n                            if (item.selected) {\n                                item.set(\"selected\", false);\n                            }\n                         }\n                    }\n\n                    if (nodeWrapper.length) {\n                        this.trigger(\"itemChange\", { item: nodeWrapper.find(\".k-link\").first(), data: item, ns: ui });\n                    }\n                }\n\n                if (render) {\n                    that.angular(\"compile\", function(){\n                        return {\n                            elements: elements,\n                            data: $.map(items, function(item) {\n                                return [{ dataItem: item }];\n                            })\n                        };\n                    });\n                }\n            }\n        },\n\n        _toggleDisabled: function(element, enable) {\n            element = this.element.find(element);\n            element\n                .toggleClass(DISABLEDCLASS, !enable)\n                .attr(ARIA_DISABLED, !enable);\n        },\n\n       dataItem: function(item) {\n            var uid = $(item).closest(ITEM).attr(kendo.attr(\"uid\")),\n                dataSource = this.dataSource;\n\n            return dataSource && dataSource.getByUid(uid);\n       },\n\n       select: function (element, skipChange) {\n           var that = this;\n\n            if (element === undefined) {\n                return that.element.find(selectableItems).parent();\n            }\n\n            element = that.element.find(element);\n\n            if (!element.length) {\n                this._updateSelected(element);\n            } else {\n                element\n                    .each(function () {\n                        var item = $(this),\n                            link = item.children(LINKSELECTOR);\n\n                        if (item.hasClass(DISABLEDCLASS)) {\n                            return that;\n                        }\n\n                        that._updateSelected(link, skipChange);\n                    });\n            }\n\n            return that;\n        },\n\n        clearSelection: function() {\n            this.select($());\n        },\n\n        enable: function (element, state) {\n            this._toggleDisabled(element, state !== false);\n\n            return this;\n        },\n\n        disable: function (element) {\n            this._toggleDisabled(element, false);\n\n            return this;\n        },\n\n        append: function (item, referenceItem) {\n            referenceItem = this.element.find(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.length ? referenceItem.find(GROUPS) : null);\n\n            each(inserted.items, function () {\n                inserted.group.append(this);\n                updateFirstLast(this);\n                updateLevel(this);\n            });\n\n            this.updateArrow(referenceItem);\n            updateFirstLast(inserted.group.find(\".k-first, .k-last\"));\n            inserted.group.height(\"auto\");\n\n            return this;\n        },\n\n        insertBefore: function (item, referenceItem) {\n            referenceItem = this.element.find(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.parent());\n\n            each(inserted.items, function () {\n                referenceItem.before(this);\n                updateFirstLast(this);\n                updateLevel(this);\n            });\n\n            updateFirstLast(referenceItem);\n            inserted.group.height(\"auto\");\n\n            return this;\n        },\n\n        insertAfter: function (item, referenceItem) {\n            referenceItem = this.element.find(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.parent());\n\n            each(inserted.items, function () {\n                referenceItem.after(this);\n                updateFirstLast(this);\n                updateLevel(this);\n            });\n\n            updateFirstLast(referenceItem);\n            inserted.group.height(\"auto\");\n\n            return this;\n        },\n\n        remove: function (element) {\n            element = this.element.find(element);\n\n            var that = this,\n                parent = element.parentsUntil(that.element, ITEM),\n                group = element.parent(\"ul\");\n\n            element.remove();\n\n            if (group && !group.hasClass(\"k-panelbar\") && !group.children(ITEM).length) {\n                group.remove();\n            }\n\n            if (parent.length) {\n                parent = parent.eq(0);\n\n                that.updateArrow(parent);\n                updateFirstLast(parent);\n            }\n\n            return that;\n        },\n\n        reload: function (element) {\n            var that = this;\n            element = that.element.find(element);\n\n            element.each(function () {\n                var item = $(this);\n\n                that._ajaxRequest(item, item.children(\".\" + CONTENT), !item.is(VISIBLE));\n            });\n        },\n\n        _first: function() {\n            return this.element.children(ACTIVEITEMSELECTOR).first();\n        },\n\n        _last: function() {\n            var item = this.element.children(ACTIVEITEMSELECTOR).last(),\n                group = item.children(VISIBLEGROUP);\n\n            if (group[0]) {\n                return group.children(ACTIVEITEMSELECTOR).last();\n            }\n            return item;\n        },\n\n        _current: function(candidate) {\n            var that = this,\n                focused = that._focused,\n                id = that._itemId;\n\n            if (candidate === undefined) {\n                return focused;\n            }\n\n            that.element.removeAttr(\"aria-activedescendant\");\n\n            if (focused && focused.length) {\n                if (focused[0].id === id) {\n                    focused.removeAttr(\"id\");\n                }\n\n                focused\n                    .children(LINKSELECTOR)\n                    .removeClass(FOCUSEDCLASS);\n            }\n\n            if ($(candidate).length) {\n                id = candidate[0].id || id;\n\n                candidate.attr(\"id\", id)\n                         .children(LINKSELECTOR)\n                         .addClass(FOCUSEDCLASS);\n\n                that.element.attr(\"aria-activedescendant\", id);\n            }\n\n            that._focused = candidate;\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                current = that._current();\n\n            if (e.target != e.currentTarget) {\n                return;\n            }\n\n            if (key == keys.DOWN || key == keys.RIGHT) {\n                that._current(that._nextItem(current));\n                e.preventDefault();\n            } else if (key == keys.UP || key == keys.LEFT) {\n                that._current(that._prevItem(current));\n                e.preventDefault();\n            } else if (key == keys.ENTER || key == keys.SPACEBAR) {\n                that._click(e);\n                e.preventDefault();\n            } else if (key == keys.HOME) {\n                that._current(that._first());\n                e.preventDefault();\n            } else if (key == keys.END) {\n                that._current(that._last());\n                e.preventDefault();\n            }\n        },\n\n        _nextItem: function(item) {\n            if (!item) {\n                return this._first();\n            }\n\n            var group = item.children(VISIBLEGROUP),\n                next = item.nextAll(\":visible\").first();\n\n            if (group[0]) {\n                next = group.children(\".\" + FIRST);\n            }\n\n            if (!next[0]) {\n                next = item.parent(VISIBLEGROUP).parent(ITEM).next();\n            }\n\n            if (!next[0]) {\n                next = this._first();\n            }\n\n            if (next.hasClass(DISABLEDCLASS)) {\n                next = this._nextItem(next);\n            }\n\n            return next;\n        },\n\n        _prevItem: function(item) {\n            if (!item) {\n                return this._last();\n            }\n\n            var prev = item.prevAll(\":visible\").first(),\n                result;\n\n            if (!prev[0]) {\n                prev = item.parent(VISIBLEGROUP).parent(ITEM);\n                if (!prev[0]) {\n                    prev = this._last();\n                }\n            } else {\n                result = prev;\n                while (result[0]) {\n                    result = result.children(VISIBLEGROUP).children(\".\" + LAST);\n                    if (result[0]) {\n                        prev = result;\n                    }\n                }\n            }\n\n            if (prev.hasClass(DISABLEDCLASS)) {\n                prev = this._prevItem(prev);\n            }\n\n            return prev;\n        },\n\n        _insert: function (item, referenceItem, parent) {\n            var that = this,\n                items,\n                plain = $.isPlainObject(item),\n                isReferenceItem = referenceItem && referenceItem[0],\n                groupData;\n\n            if (!isReferenceItem) {\n                parent = that.element;\n            }\n\n            groupData = {\n                firstLevel: parent.hasClass(\"k-panelbar\"),\n                expanded: $(referenceItem).hasClass(ACTIVECLASS),\n                length: parent.children().length\n            };\n\n            if (isReferenceItem && !parent.length) {\n                parent = $(that.renderGroup({ group: groupData, options: that.options })).appendTo(referenceItem);\n            }\n\n            if (plain || Array.isArray(item) || item instanceof HierarchicalDataSource) { // is JSON or HierarchicalDataSource\n                if (item instanceof HierarchicalDataSource) {\n                   item = item.data();\n                }\n\n                items = $.map(plain ? [item] : item, function(value, idx) {\n                    if (typeof value === \"string\") {\n                        return $(value);\n                    } else {\n                        return $(that.renderItem({\n                            group: groupData,\n                            item: extend(value, { index: idx })\n                        }));\n                    }\n                });\n                if (isReferenceItem) {\n                    var dataItem = that.dataItem(referenceItem);\n\n                    if (dataItem) {\n                        dataItem.hasChildren = true;\n                        referenceItem\n                            .attr(ARIA_EXPANDED, dataItem.expanded)\n                            .not(\".\" + ACTIVECLASS)\n                            .children(\"ul\")\n                            .attr(ARIA_HIDDEN, !dataItem.expanded);\n                    }else{\n                        referenceItem.attr(ARIA_EXPANDED, false);\n                    }\n                }\n            } else {\n                if (typeof item == \"string\" && item.charAt(0) != \"<\") {\n                    items = that.element.find(item);\n                } else {\n                    items = $(item);\n                }\n                that._updateItemsClasses(items);\n            }\n\n            if (!item.length){\n                item = [item];\n            }\n\n            that._angularCompileElements(items, item);\n            return { items: items, group: parent };\n        },\n\n        _toggleHover: function(e) {\n            var target = $(e.currentTarget);\n\n            if (!target.parents(\"li.\" + DISABLEDCLASS).length) {\n                target.toggleClass(\"k-state-hover\", e.type == MOUSEENTER);\n            }\n        },\n\n        _updateClasses: function() {\n            var that = this,\n                panels, items, expanded, panelsParent, dataItem;\n\n            panels = that.element\n                         .find(\"li > ul\")\n                         .not(function () { return $(this).parentsUntil(\".k-panelbar\", \"div\").length; })\n                         .addClass(\"k-panelbar-group k-group k-panel\")\n                         .attr(\"role\", \"group\");\n\n            panelsParent = panels.parent();\n            dataItem = that.dataItem(panelsParent);\n            expanded = (dataItem && dataItem.expanded) || false;\n\n            panels.parent()\n                  .not(\"[\" + ARIA_EXPANDED + \"]\")\n                  .attr(ARIA_EXPANDED, expanded)\n                  .not(\".\" + ACTIVECLASS)\n                  .children(\"ul\")\n                  .attr(ARIA_HIDDEN, !expanded)\n                  .hide();\n\n            items = that.element.add(panels).children();\n\n            that._updateItemsClasses(items);\n            that.updateArrow(items);\n            updateFirstLast(items);\n        },\n\n        _updateItemsClasses: function(items) {\n            var length = items.length,\n                idx = 0;\n\n            for(; idx < length; idx++) {\n                this._updateItemClasses(items[idx], idx);\n            }\n        },\n\n        _updateItemClasses: function(item, index) {\n            var selected = this._selected,\n                contentUrls = this.options.contentUrls,\n                url = contentUrls && contentUrls[index],\n                root = this.element[0],\n                wrapElement, link;\n\n            item = $(item).addClass(\"k-item\").attr(\"role\", \"treeitem\");\n\n            if (kendo.support.browser.msie) {  // IE10 doesn't apply list-style: none on invisible items otherwise.\n                item.css(\"list-style-position\", \"inside\")\n                    .css(\"list-style-position\", \"\");\n            }\n\n            item\n                .children(IMG)\n                .addClass(IMAGE);\n\n            link = item\n                    .children(\"a\")\n                    .addClass(LINK);\n\n            if (link[0]) {\n                link.attr(\"href\", url); //url can be undefined\n\n                link.children(IMG)\n                    .addClass(IMAGE);\n            }\n\n            item\n                .filter(\"li[disabled]\")\n                .addClass(\"k-state-disabled\")\n                .attr(ARIA_DISABLED, true)\n                .prop(\"disabled\", false);\n\n            item\n                .children(\"div\")\n                .addClass(CONTENT + \" k-panelbar-content\")\n                .attr(ARIA_HIDDEN, true)\n                .hide()\n                .parent()\n                .attr(ARIA_EXPANDED, false);\n\n            link = item.children(SELECTEDSELECTOR);\n            if (link[0]) {\n                if (selected) {\n                    selected.removeAttr(ARIA_SELECTED)\n                            .children(SELECTEDSELECTOR)\n                            .removeClass(SELECTEDCLASS);\n                }\n\n                link.addClass(SELECTEDCLASS);\n                this._selected = item.attr(ARIA_SELECTED, true);\n            }\n\n            if (!item.children(LINKSELECTOR)[0]) {\n                wrapElement = \"<span class='\" + LINK + \"'><span class='k-panelbar-item-text'></span></span>\";\n                if (contentUrls && contentUrls[index] && item[0].parentNode == root) {\n                    wrapElement = '<a class=\"k-link\" href=\"' + contentUrls[index] + '\"></a>';\n                }\n\n                item\n                    .contents()      // exclude groups, real links, templates and empty text nodes\n                    .filter(function() { return (!this.nodeName.match(excludedNodesRegExp) && !(this.nodeType == 3 && !kendo.trim(this.nodeValue.trim))); })\n                    .wrapAll(wrapElement);\n            }\n\n\n            if (item.parent(\".k-panelbar\")[0]) {\n                item.addClass(\"k-panelbar-header\");\n            } else {\n                item.addClass(\"k-panelbar-item\");\n            }\n\n            if (!/k\\-level\\-\\d+/i.test(item.attr(\"class\"))) {\n                item.addClass(\"k-level-\" + item.parentsUntil(this.element, \"ul\").length);\n            }\n        },\n\n        _click: function (e) {\n            var that = this,\n                target = e.type == CLICK ? $(e.target) : that._current().children(LINKSELECTOR),\n                element = that.element,\n                prevent, contents, href, isAnchor;\n\n            if (target.parents(\"li.\" + DISABLEDCLASS).length) {\n                return;\n            }\n\n            if (target.closest(\".k-panelbar\")[0] != element[0]) {\n                return;\n            }\n\n            if (target.is(\":kendoFocusable\") && !target.hasClass(LINK)) {\n                return;\n            }\n\n            var link = target.closest(LINKSELECTOR),\n                item = link.closest(ITEM);\n\n            that._updateSelected(link);\n\n            var wrapper = item.children(\".k-group,.k-content\");\n            var dataItem = this.dataItem(item);\n\n            if (!wrapper.length && ((that.options.loadOnDemand && dataItem && dataItem.hasChildren) ||\n             this._hasChildItems(item) || item.content || item.contentUrl)) {\n                wrapper =  that._addGroupElement(item);\n            }\n\n            contents = item.find(GROUPS).add(item.find(CONTENTS));\n            href = link.attr(HREF);\n            isAnchor = href && (href.charAt(href.length - 1) == \"#\" || href.indexOf(\"#\" + that.element[0].id + \"-\") != -1);\n            prevent = !!(isAnchor || contents.length);\n\n            if (contents.data(\"animating\") && prevent) {\n                e.preventDefault();\n                return;\n            }\n\n            if (that._triggerEvent(SELECT, item)) {\n                prevent = true;\n            }\n\n            if (prevent === false) {\n                return;\n            }\n\n            if (that.options.expandMode == SINGLE) {\n                if (that._collapseAllExpanded(item) && prevent) {\n                    e.preventDefault();\n                    return;\n                }\n            }\n\n            if (contents.length) {\n                var visibility = contents.is(VISIBLE);\n\n                if (!that._triggerEvent(!visibility ? EXPAND : COLLAPSE, item)) {\n                    prevent = that._toggleItem(item, visibility);\n                }\n            }\n\n            if (prevent) {\n                e.preventDefault();\n            }\n        },\n        _hasChildItems: function (item) {\n            return (item.items && item.items.length > 0) || item.hasChildren;\n        },\n\n        _toggleItem: function (element, isVisible, expanded) {\n            var that = this,\n                childGroup = element.find(GROUPS),\n                link = element.find(LINKSELECTOR),\n                url = link.attr(HREF),\n                prevent, content,\n                dataItem = that.dataItem(element),\n                notVisible = !isVisible;\n\n            var loaded = dataItem && dataItem.loaded();\n\n            if (dataItem && !expanded && dataItem.expanded !== notVisible) {\n                dataItem.set(\"expanded\", notVisible);\n                prevent = dataItem.hasChildren || !!dataItem.content || !!dataItem.contentUrl;\n                return prevent;\n            }\n\n            if (dataItem && (!expanded || expanded === \"true\") &&  !loaded && !dataItem.content && !dataItem.contentUrl) {\n                 if (that.options.loadOnDemand) {\n                     this._progress(element, true);\n                 }\n\n                 element.children(\".k-group,.k-content\").remove();\n                 prevent = dataItem.hasChildren;\n\n                 dataItem.load();\n             } else {\n                   if (childGroup.length) {\n                        this._toggleGroup(childGroup, isVisible);\n                        prevent = true;\n                   } else {\n                        content = element.children(\".\"  + CONTENT);\n\n                        if (content.length) {\n                            prevent = true;\n\n                            if (!content.is(EMPTY) || url === undefined) {\n                                that._toggleGroup(content, isVisible);\n                            } else {\n                                that._ajaxRequest(element, content, isVisible);\n                            }\n                        }\n                    }\n             }\n\n            return prevent;\n        },\n\n        _toggleGroup: function (element, visibility) {\n            var that = this,\n                animationSettings = that.options.animation,\n                animation = animationSettings.expand,\n                hasCollapseAnimation = animationSettings.collapse && \"effects\" in animationSettings.collapse,\n                collapse = extend({}, animationSettings.expand, animationSettings.collapse);\n\n            if (!hasCollapseAnimation) {\n                collapse = extend(collapse, {reverse: true});\n            }\n\n            if (element.is(VISIBLE) != visibility) {\n                that._animating = false;\n                return;\n            }\n\n            element.attr(ARIA_HIDDEN, !!visibility);\n\n            element.parent()\n                .attr(ARIA_EXPANDED, !visibility)\n                .toggleClass(ACTIVECLASS, !visibility)\n                .find(\"> .k-link > .k-panelbar-collapse,> .k-link > .k-panelbar-expand\")\n                    .toggleClass(\"k-i-arrow-chevron-up\", !visibility)\n                    .toggleClass(\"k-panelbar-collapse\", !visibility)\n                    .toggleClass(\"k-i-arrow-chevron-down\", visibility)\n                    .toggleClass(\"k-panelbar-expand\", visibility);\n            if (visibility) {\n                animation = extend(collapse, { hide: true });\n\n                animation.complete = function() {\n                    that._animationCallback();\n                };\n            } else {\n                animation = extend( { complete: function (element) {\n                        that._triggerEvent(ACTIVATE, element.closest(ITEM));\n                        that._animationCallback();\n                    } }, animation );\n            }\n\n            element\n                .toggle(0)\n                .kendoStop(true, true)\n                .kendoAnimate( animation );\n        },\n\n        _animationCallback: function() {\n            var that = this;\n            that.trigger(\"complete\");\n            that._animating = false;\n        },\n\n        _addGroupElement: function(element) {\n            var group = $('<ul role=\"group\" aria-hidden=\"true\" class=\"k-panelbar-group k-group k-panel\" style=\"display:none\"></ul>');\n\n            element.append(group);\n            return group;\n        },\n\n        _collapseAllExpanded: function (item) {\n            var that = this, children, stopExpand = false;\n\n            var groups = item.find(GROUPS).add(item.find(CONTENTS));\n\n            if (groups.is(VISIBLE)) {\n                stopExpand = true;\n            }\n\n            if (!(groups.is(VISIBLE) || groups.length === 0)) {\n                children = item.siblings();\n                children.find(GROUPS).add(children.find(CONTENTS))\n                        .filter(function () { return $(this).is(VISIBLE); })\n                        .each(function (index, content) {\n                            content = $(content);\n\n                            stopExpand = that._triggerEvent(COLLAPSE, content.closest(ITEM));\n                            if (!stopExpand) {\n                                that._toggleGroup(content, true);\n                            }\n                        });\n\n                 that.one(\"complete\", function() {\n                    setTimeout(function() {\n                        children.each(function (index, child) {\n                            var dataItem = that.dataItem(child);\n\n                            if(dataItem){\n                                dataItem.set(\"expanded\", false);\n                            }\n                        });\n                    });\n                });\n            }\n\n            return stopExpand;\n        },\n\n        _ajaxRequest: function (element, contentElement, isVisible) {\n\n            var that = this,\n                statusIcon = element.find(\".k-panelbar-collapse, .k-panelbar-expand\"),\n                link = element.find(LINKSELECTOR),\n                loadingIconTimeout = setTimeout(function () {\n                    statusIcon.addClass(\"k-i-loading\");\n                }, 100),\n                data = {},\n                url = link.attr(HREF);\n\n            $.ajax({\n                type: \"GET\",\n                cache: false,\n                url: url,\n                dataType: \"html\",\n                data: data,\n\n                error: function (xhr, status) {\n                    statusIcon.removeClass(\"k-i-loading\");\n                    if (that.trigger(ERROR, { xhr: xhr, status: status })) {\n                        this.complete();\n                    }\n                },\n\n                complete: function () {\n                    clearTimeout(loadingIconTimeout);\n                    statusIcon.removeClass(\"k-i-loading\");\n                },\n\n                success: function (data) {\n                    function getElements(){\n                        return { elements: contentElement.get() };\n                    }\n                    try {\n                        that.angular(\"cleanup\", getElements);\n                        contentElement.html(data);\n                        that.angular(\"compile\", getElements);\n                    } catch (e) {\n                        var console = window.console;\n\n                        if (console && console.error) {\n                            console.error(e.name + \": \" + e.message + \" in \" + url);\n                        }\n                        this.error(this.xhr, \"error\");\n                    }\n\n                    that._toggleGroup(contentElement, isVisible);\n\n                    that.trigger(CONTENTLOAD, { item: element[0], contentElement: contentElement[0] });\n                }\n            });\n        },\n\n        _triggerEvent: function (eventName, element) {\n            var that = this;\n\n            return that.trigger(eventName, { item: element[0] });\n        },\n\n        _updateSelected: function(link, skipChange) {\n            var that = this,\n                element = that.element,\n                item = link.parent(ITEM),\n                selected = that._selected,\n                dataItem = that.dataItem(item);\n\n            if (selected) {\n                selected.removeAttr(ARIA_SELECTED);\n            }\n\n            that._selected = item.attr(ARIA_SELECTED, true);\n\n            element.find(selectableItems).removeClass(SELECTEDCLASS);\n            element.find(\"> .\" + HIGHLIGHTCLASS + \", .k-panel > .\" + HIGHLIGHTCLASS).removeClass(HIGHLIGHTCLASS);\n\n            link.addClass(SELECTEDCLASS);\n            link.parentsUntil(element, ITEM).filter(\":has(.k-link)\").addClass(HIGHLIGHTCLASS);\n            that._current(item[0] ? item : null);\n            if(dataItem){\n                 dataItem.set(\"selected\", true);\n            }\n\n            if(!skipChange){\n                that.trigger(CHANGE);\n            }\n        },\n\n        _animations: function(options) {\n            if (options && (\"animation\" in options) && !options.animation) {\n                options.animation = { expand: { effects: {} }, collapse: { hide: true, effects: {} } };\n            }\n        },\n\n        renderItem: function (options) {\n            var that = this;\n                options = extend({ panelBar: that, group: {} }, options);\n\n            var empty = that.templates.empty,\n                item = options.item;\n\n            return that.templates.item(extend(options, {\n                itemWrapper: that.templates.itemWrapper,\n                renderContent: that.renderContent,\n                arrow: that._hasChildItems(item) || item.content || item.contentUrl ? that.templates.arrow : empty,\n                subGroup: !options.loadOnDemand || item.expanded ? that.renderGroup : empty\n            }, rendering));\n        },\n\n        renderGroup: function(options) {\n            var that = this;\n            var templates = that.templates || options.panelBar.templates;\n\n            return templates.group(extend({\n                renderItems: function(options) {\n                    var html = \"\",\n                        i = 0,\n                        items = options.items,\n                        len = items ? items.length : 0,\n                        group = extend({ length: len }, options.group);\n\n                    for (; i < len; i++) {\n                        html += options.panelBar.renderItem(extend(options, {\n                            group: group,\n                            item: extend({ index: i }, items[i])\n                        }));\n                    }\n\n                    return html;\n                }\n            }, options, rendering));\n        },\n\n        renderContent: function(options) {\n            return options.panelBar.templates.content(extend(options, rendering));\n        }\n    });\n\nkendo.ui.plugin(PanelBar);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.progressbar',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"progressbar\",\n    name: \"ProgressBar\",\n    category: \"web\",\n    description: \"The ProgressBar offers rich functionality for displaying and tracking progress\",\n    depends: [ \"core\" ]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        HORIZONTAL = \"horizontal\",\n        VERTICAL = \"vertical\",\n        DEFAULTMIN = 0,\n        DEFAULTMAX = 100,\n        DEFAULTVALUE = 0,\n        DEFAULTCHUNKCOUNT = 5,\n        KPROGRESSBAR = \"k-progressbar\",\n        KPROGRESSBARREVERSE = \"k-progressbar-reverse\",\n        KPROGRESSBARINDETERMINATE = \"k-progressbar-indeterminate\",\n        KPROGRESSBARCOMPLETE = \"k-complete\",\n        KPROGRESSWRAPPER = \"k-state-selected\",\n        KPROGRESSSTATUS = \"k-progress-status\",\n        LABEL_POSITION_END = \"k-progress-end\",\n        KCOMPLETEDCHUNK = \"k-state-selected\",\n        STATEDISABLED = \"k-state-disabled\",\n        PROGRESSTYPE = {\n            VALUE: \"value\",\n            PERCENT: \"percent\",\n            CHUNK: \"chunk\"\n        },\n        CHANGE = \"change\",\n        COMPLETE = \"complete\",\n        BOOLEAN = \"boolean\",\n        math = Math,\n        extend = $.extend,\n        proxy = $.proxy,\n        HUNDREDPERCENT = 100,\n        DEFAULTANIMATIONDURATION = 400,\n        PRECISION = 3,\n        templates = {\n            progressStatus: \"<span class='k-progress-status-wrap \" + LABEL_POSITION_END + \"'><span class='k-progress-status'></span></span>\",\n            announceElement: '<span aria-live=\"polite\" class=\"k-sr-only k-progress-announce\"></span>'\n        };\n\n    var ProgressBar = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(this, element, options);\n\n            options = that.options;\n\n            that._progressProperty = (options.orientation === HORIZONTAL) ? \"width\" : \"height\";\n\n            that._fields();\n\n            options.value = that._validateValue(options.value);\n\n            that._validateType(options.type);\n\n            that._wrapper();\n\n            if(options.ariaRole) {\n                that._aria();\n            }\n\n            that._progressAnimation();\n\n            if ((options.value !== options.min) && (options.value !== false)) {\n               that._updateProgress();\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this,\n                wrapper = that.wrapper;\n\n            Widget.fn.setOptions.call(that, options);\n\n            if (options.hasOwnProperty(\"reverse\")) {\n                wrapper.toggleClass(\"k-progressbar-reverse\", options.reverse);\n            }\n\n            if (options.hasOwnProperty(\"enable\")) {\n                that.enable(options.enable);\n            }\n\n            if(options.ariaRole) {\n                that._aria();\n            }\n\n            that._progressAnimation();\n\n            that._validateValue();\n\n            that._updateProgress();\n        },\n\n        events: [\n            CHANGE,\n            COMPLETE\n        ],\n\n        options: {\n            name: \"ProgressBar\",\n            orientation: HORIZONTAL,\n            reverse: false,\n            min: DEFAULTMIN,\n            max: DEFAULTMAX,\n            value: DEFAULTVALUE,\n            enable: true,\n            type: PROGRESSTYPE.VALUE,\n            chunkCount: DEFAULTCHUNKCOUNT,\n            showStatus: true,\n            animation: { },\n            label: null,\n            labelId: null,\n            ariaRole: false\n        },\n\n        _aria: function() {\n            var that = this,\n                options = that.options,\n                wrapper = that.wrapper;\n\n            wrapper.attr({\n                \"role\": \"progressbar\",\n                \"aria-valuemin\": options.min,\n                \"aria-valuemax\": options.max\n            });\n\n            if(!!options.labelId) {\n                wrapper.attr(\"aria-labelledby\", options.labelId);\n            } else if(!!options.label) {\n                wrapper.attr(\"aria-label\", options.label);\n            }\n\n            that.announce = $(templates.announceElement);\n            that.announce.appendTo($(\"body\"));\n\n            if(options.value !== false) {\n                wrapper.attr(\"aria-valuenow\", options.value);\n\n                that.announce.text(that._calculatePercentage().toFixed() + \"%\");\n            }\n        },\n\n        _fields: function() {\n            var that = this;\n\n            that._isStarted = false;\n\n            that.progressWrapper = that.progressStatus = $();\n        },\n\n        _validateType: function(currentType) {\n            var isValid = false;\n\n            $.each(PROGRESSTYPE, function(k, type) {\n                if (type === currentType) {\n                    isValid = true;\n                    return false;\n                }\n            });\n\n            if (!isValid) {\n                throw new Error(kendo.format(\"Invalid ProgressBar type '{0}'\", currentType));\n            }\n        },\n\n        _wrapper: function() {\n            var that = this;\n            var container = that.wrapper = that.element;\n            var options = that.options;\n            var orientation = options.orientation;\n            var initialValue = (options.value !== false) ? options.value : options.min;\n\n            container.addClass(\"k-widget \" + KPROGRESSBAR);\n\n            container.addClass(KPROGRESSBAR + \"-\" + ((orientation === HORIZONTAL) ? HORIZONTAL : VERTICAL));\n\n            if(options.enable === false) {\n                container.addClass(STATEDISABLED);\n            }\n\n            if (options.reverse) {\n                container.addClass(KPROGRESSBARREVERSE);\n            }\n\n            if (options.value === false) {\n                container.addClass(KPROGRESSBARINDETERMINATE);\n            }\n\n            if (options.type === PROGRESSTYPE.CHUNK) {\n                that._addChunkProgressWrapper();\n            } else {\n                if (options.showStatus){\n                    that.progressStatus = that.wrapper.prepend(templates.progressStatus)\n                                              .find(\".\" + KPROGRESSSTATUS);\n\n                    if (options.type === PROGRESSTYPE.VALUE) {\n                        that.progressStatus.text(initialValue);\n                    } else {\n                        that.progressStatus.text(that._calculatePercentage(initialValue).toFixed() + \"%\");\n                    }\n                }\n            }\n        },\n\n        value: function(value) {\n            return this._value(value);\n        },\n\n        _value: function(value){\n            var that = this;\n            var options = that.options;\n            var validated;\n\n            if (value === undefined) {\n                return options.value;\n            } else {\n                if (typeof value !== BOOLEAN) {\n                    value = that._roundValue(value);\n\n                    if(!isNaN(value)) {\n                        validated = that._validateValue(value);\n\n                        if (validated !== options.value) {\n                            that.wrapper.removeClass(KPROGRESSBARINDETERMINATE);\n\n                            options.value = validated;\n\n                            that._isStarted = true;\n\n                            that._updateProgress();\n                        }\n                    }\n                } else if (!value) {\n                    that.wrapper.addClass(KPROGRESSBARINDETERMINATE);\n                    that.wrapper.removeAttr(\"aria-valuenow\");\n                    options.value = false;\n\n                    if(that.announce) {\n                        that.announce.text(\"\");\n                    }\n                }\n            }\n        },\n\n        _roundValue: function(value) {\n             value = parseFloat(value);\n\n             var power = math.pow(10, PRECISION);\n\n             return kendo._round(value * power) / power;\n        },\n\n        _validateValue: function(value) {\n            var that = this;\n            var options = that.options;\n\n            if (value !== false) {\n                if (value <= options.min || value === true) {\n                    return options.min;\n                } else if (value >= options.max) {\n                    return options.max;\n                }\n            } else if (value === false) {\n                return false;\n            }\n\n            if(isNaN(that._roundValue(value))) {\n                return options.min;\n            }\n\n            return value;\n        },\n\n        _updateProgress: function() {\n            var that = this;\n            var options = that.options;\n            var percentage = that._calculatePercentage();\n\n            if (options.type === PROGRESSTYPE.CHUNK) {\n                that._updateChunks(percentage);\n                that._onProgressUpdateAlways(options.value);\n            } else {\n                that._updateProgressWrapper(percentage);\n            }\n\n            if(options.ariaRole) {\n                that.wrapper.attr(\"aria-valuenow\", that.options.value);\n\n                if(that.announce) {\n                    that.announce.text(percentage.toFixed() + \"%\");\n                }\n            }\n        },\n\n        _updateChunks: function(percentage) {\n            var that = this;\n            var options = that.options;\n            var chunkCount = options.chunkCount;\n            var percentagesPerChunk =  parseInt((HUNDREDPERCENT / chunkCount) * 100, 10) / 100;\n            var percentageParsed = parseInt(percentage * 100, 10) / 100;\n            var completedChunksCount = math.floor(percentageParsed / percentagesPerChunk);\n            var completedChunks;\n\n            if((options.orientation === HORIZONTAL && !(options.reverse)) ||\n               (options.orientation === VERTICAL && options.reverse)) {\n                completedChunks = that.wrapper.find(\"li.k-item\").slice(0, completedChunksCount);\n            } else if(completedChunksCount === 0) {\n                completedChunks = kendo.jQuery();\n            } else {\n                completedChunks = that.wrapper.find(\"li.k-item\").slice(completedChunksCount * -1);\n            }\n\n            that.wrapper.find(\".\" + KCOMPLETEDCHUNK)\n                        .removeClass(KCOMPLETEDCHUNK);\n\n            completedChunks.addClass(KCOMPLETEDCHUNK);\n        },\n\n        _updateProgressWrapper: function(percentage) {\n            var that = this;\n            var options = that.options;\n            var progressWrapper = that.wrapper.find(\".\" + KPROGRESSWRAPPER);\n            var animationDuration = that._isStarted ? that._animation.duration : 0;\n            var animationCssOptions = { };\n\n            if (progressWrapper.length === 0) {\n                that._addRegularProgressWrapper();\n            }\n\n            animationCssOptions[that._progressProperty] = percentage + \"%\";\n            that.progressWrapper.animate(animationCssOptions, {\n                duration: animationDuration,\n                start: proxy(that._onProgressAnimateStart, that),\n                progress: proxy(that._onProgressAnimate, that),\n                complete: proxy(that._onProgressAnimateComplete, that, options.value),\n                always: proxy(that._onProgressUpdateAlways, that, options.value)\n            });\n        },\n\n        _onProgressAnimateStart: function() {\n            this.progressWrapper.show();\n        },\n\n        _onProgressAnimate: function(e) {\n            var that = this;\n            var options = that.options;\n            var progressInPercent = parseFloat(e.elem.style[that._progressProperty], 10);\n            var progressStatusWrapSize;\n\n            if (options.showStatus) {\n                progressStatusWrapSize = 10000 / parseFloat(that.progressWrapper[0].style[that._progressProperty]);\n\n                that.progressWrapper.find(\".k-progress-status-wrap\").css(that._progressProperty, progressStatusWrapSize + \"%\");\n            }\n\n            if (options.type !== PROGRESSTYPE.CHUNK && progressInPercent <= 98) {\n                that.progressWrapper.removeClass(KPROGRESSBARCOMPLETE);\n            }\n        },\n\n        _onProgressAnimateComplete: function(currentValue) {\n            var that = this;\n            var options = that.options;\n            var progressWrapperSize = parseFloat(that.progressWrapper[0].style[that._progressProperty]);\n            var progressValue;\n\n            if (options.type !== PROGRESSTYPE.CHUNK && progressWrapperSize > 98) {\n                that.progressWrapper.addClass(KPROGRESSBARCOMPLETE);\n            }\n\n            if (options.showStatus) {\n                if (options.type === PROGRESSTYPE.VALUE) {\n                    progressValue = currentValue;\n                } else if (options.type == PROGRESSTYPE.PERCENT) {\n                    progressValue = that._calculatePercentage(currentValue).toFixed() + \"%\";\n                } else {\n                    progressValue = math.floor(that._calculatePercentage(currentValue)) + \"%\";\n                }\n                that.progressStatus.text(progressValue);\n            }\n\n            if (currentValue === options.min) {\n                that.progressWrapper.hide();\n            }\n        },\n\n        _onProgressUpdateAlways: function(currentValue) {\n            var that = this;\n            var options = that.options;\n\n            if (that._isStarted) {\n                that.trigger(CHANGE, { value: currentValue });\n            }\n\n            if (currentValue === options.max && that._isStarted) {\n                that.trigger(COMPLETE, { value: options.max });\n            }\n        },\n\n        enable: function(enable) {\n            var that = this;\n            var options = that.options;\n\n            options.enable = typeof(enable) === \"undefined\" ? true : enable;\n            that.wrapper.toggleClass(STATEDISABLED, !options.enable);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if(that.announce) {\n                that.announce.remove();\n            }\n\n            Widget.fn.destroy.call(that);\n        },\n\n        _addChunkProgressWrapper: function () {\n            var that = this;\n            var options = that.options;\n            var container = that.wrapper;\n            var chunkSize = HUNDREDPERCENT / options.chunkCount;\n            var html = \"\";\n\n            if (options.chunkCount <= 1) {\n                options.chunkCount = 1;\n            }\n\n            html += \"<ul class='k-reset'>\";\n            for (var i = options.chunkCount - 1; i >= 0; i--) {\n                html += \"<li class='k-item'></li>\";\n            }\n            html += \"</ul>\";\n\n            container.append(html).find(\".k-item\").css(that._progressProperty, chunkSize + \"%\")\n                     .first().addClass(\"k-first\")\n                     .end()\n                     .last().addClass(\"k-last\");\n\n            that._normalizeChunkSize();\n        },\n\n        _normalizeChunkSize: function() {\n            var that = this;\n            var options = that.options;\n            var lastChunk = that.wrapper.find(\".k-item\").last();\n            var currentSize = parseFloat(lastChunk[0].style[that._progressProperty]);\n            var difference = HUNDREDPERCENT - (options.chunkCount * currentSize);\n\n            if (difference > 0) {\n                lastChunk.css(that._progressProperty, (currentSize + difference) + \"%\");\n            }\n        },\n\n        _addRegularProgressWrapper: function() {\n            var that = this;\n\n            that.progressWrapper = $(\"<div class='\" + KPROGRESSWRAPPER + \"'></div>\").appendTo(that.wrapper);\n\n            if (that.options.showStatus) {\n                that.progressWrapper.append(templates.progressStatus);\n\n                that.progressStatus = that.wrapper.find(\".\" + KPROGRESSSTATUS);\n            }\n        },\n\n        _calculateChunkSize: function() {\n            var that = this;\n            var chunkCount = that.options.chunkCount;\n            var chunkContainer = that.wrapper.find(\"ul.k-reset\");\n\n            return (parseInt(chunkContainer.css(that._progressProperty), 10) - (chunkCount - 1)) / chunkCount;\n        },\n\n        _calculatePercentage: function(currentValue) {\n            var that = this;\n            var options = that.options;\n            var value = (currentValue !== undefined) ? currentValue : options.value;\n            var min = options.min;\n            var max = options.max;\n            that._onePercent = math.abs((max - min) / 100);\n\n            return math.abs((value - min) / that._onePercent);\n        },\n\n        _progressAnimation: function() {\n            var that = this;\n            var options = that.options;\n            var animation = options.animation;\n\n            if (animation === false) {\n                that._animation = { duration: 0 };\n            } else {\n                that._animation = extend({\n                    duration: DEFAULTANIMATIONDURATION\n                }, options.animation);\n            }\n        }\n    });\n\n    kendo.ui.plugin(ProgressBar);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.responsivepanel',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"responsive-panel\",\n    name: \"Responsive Panel\",\n    category: \"web\",\n    description: \"The Responsive Panel widget allows a panel of content to be hidden on mobile devices, available through a toggle button.\",\n    depends: [ \"core\" ]\n};\n\n(function ($, undefined) {\n    var proxy = $.proxy;\n    var NS = \".kendoResponsivePanel\";\n    var OPEN = \"open\";\n    var CLOSE = \"close\";\n    var ACTIVATE_EVENTS = \"click\" + NS +\" touchstart\" + NS + \" touchend\" + NS;\n    var Widget = kendo.ui.Widget;\n    var ResponsivePanel = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            this._guid = \"_\" + kendo.guid();\n\n            this._toggleHandler = proxy(this._toggleButtonClick, this);\n            this._closeHandler = proxy(this._close, this);\n\n            $(document.documentElement).on(ACTIVATE_EVENTS, this.options.toggleButton, this._toggleHandler);\n\n            this._registerBreakpoint();\n\n            if (this.options.content) {\n                kendo.destroy(this.element.children());\n                this.element.html(this.options.content);\n            }\n\n            this.element\n                .addClass(\"k-rpanel k-rpanel-\" + this.options.orientation + \" \" + this._guid);\n\n            this._resizeHandler = proxy(this.resize, this, true);\n            $(window).on(\"resize\" + NS, this._resizeHandler);\n        },\n        _mediaQuery:\n            \"@media (max-width: #= breakpoint-1 #px) {\" +\n                \".#= guid #.k-rpanel-animate.k-rpanel-left,\" +\n                \".#= guid #.k-rpanel-animate.k-rpanel-right {\" +\n                    \"-webkit-transition: -webkit-transform .2s ease-out;\" +\n                    \"-ms-transition: -ms-transform .2s ease-out;\" +\n                    \"transition: transform .2s ease-out;\" +\n                \"} \" +\n                \".#= guid #.k-rpanel-top {\" +\n                    \"overflow: hidden;\" +\n                \"}\" +\n                \".#= guid #.k-rpanel-animate.k-rpanel-top {\" +\n                    \"-webkit-transition: max-height .2s linear;\" +\n                    \"-ms-transition: max-height .2s linear;\" +\n                    \"transition: max-height .2s linear;\" +\n                \"}\" +\n            \"} \" +\n            \"@media (min-width: #= breakpoint #px) {\" +\n                \"#= toggleButton # { display: none; } \" +\n                \".#= guid #.k-rpanel-left { float: left; } \" +\n                \".#= guid #.k-rpanel-right { float: right; } \" +\n                \".#= guid #.k-rpanel-left, .#= guid #.k-rpanel-right {\" +\n                    \"position: relative;\" +\n                    \"-webkit-transform: translateX(0);\" +\n                    \"-ms-transform: translateX(0);\" +\n                    \"transform: translateX(0);\" +\n                    \"-webkit-transform: translateX(0) translateZ(0);\" +\n                    \"-ms-transform: translateX(0) translateZ(0);\" +\n                    \"transform: translateX(0) translateZ(0);\" +\n                \"} \" +\n                \".k-ie9 .#= guid #.k-rpanel-left { left: 0; } \" +\n                \".#= guid #.k-rpanel-top { max-height: none; }\" +\n            \"}\",\n        _registerBreakpoint: function() {\n            var options = this.options;\n\n            this._registerStyle(kendo.template(this._mediaQuery)({\n                breakpoint: options.breakpoint,\n                toggleButton: options.toggleButton,\n                guid: this._guid\n            }));\n        },\n        _registerStyle: function(cssText) {\n            var head = $(\"head,body\")[0];\n            var style = document.createElement('style');\n\n            head.appendChild(style);\n\n            if (style.styleSheet){\n                style.styleSheet.cssText = cssText;\n            } else {\n                style.appendChild(document.createTextNode(cssText));\n            }\n        },\n        options: {\n            name: \"ResponsivePanel\",\n            content:\"\",\n            orientation: \"left\",\n            toggleButton: \".k-rpanel-toggle\",\n            breakpoint: 640,\n            autoClose: true\n        },\n        events: [\n            OPEN,\n            CLOSE\n        ],\n        _resize: function() {\n            this.element.removeClass(\"k-rpanel-animate k-rpanel-expanded\");\n\n            $(document.documentElement).off(ACTIVATE_EVENTS, this._closeHandler);\n        },\n        _toggleButtonClick: function(e) {\n            e.preventDefault();\n\n            if(e.type == \"touchend\") {\n                return;\n            }\n\n            if (this.element.hasClass(\"k-rpanel-expanded\")) {\n                this.close();\n            } else {\n                this.open();\n            }\n        },\n        open: function() {\n            if (!this.trigger(OPEN)) {\n                this.element.addClass(\"k-rpanel-animate k-rpanel-expanded\");\n\n                if (this.options.autoClose) {\n                    $(document.documentElement).on(ACTIVATE_EVENTS, this._closeHandler);\n                }\n            }\n        },\n        close: function() {\n            if (!this.trigger(CLOSE)) {\n                this.element.addClass(\"k-rpanel-animate\").removeClass(\"k-rpanel-expanded\");\n\n                $(document.documentElement).off(ACTIVATE_EVENTS, this._closeHandler);\n            }\n        },\n        _close: function(e) {\n            var prevented = e.isDefaultPrevented();\n            var container = $(e.target).closest(this.options.toggleButton + \",.k-rpanel\");\n\n            if (!container.length && !prevented) {\n                this.close();\n            }\n        },\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            $(window).off(\"resize\" + NS, this._resizeHandler);\n            $(document.documentElement).off(ACTIVATE_EVENTS, this._closeHandler);\n        }\n    });\n\n    kendo.ui.plugin(ResponsivePanel);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.tabstrip',[ \"./kendo.data\" ], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"tabstrip\",\n    name: \"TabStrip\",\n    category: \"web\",\n    description: \"The TabStrip widget displays a collection of tabs with associated tab content.\",\n    depends: [ \"data\" ],\n    features: [ {\n        id: \"tabstrip-fx\",\n        name: \"Animation\",\n        description: \"Support for animation\",\n        depends: [ \"fx\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        keys = kendo.keys,\n        map = $.map,\n        each = $.each,\n        trim = kendo.trim,\n        extend = $.extend,\n        isFunction = kendo.isFunction,\n        template = kendo.template,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        Widget = ui.Widget,\n        excludedNodesRegExp = /^(a|div)$/i,\n        NS = \".kendoTabStrip\",\n        IMG = \"img\",\n        HREF = \"href\",\n        PREV = \"prev\",\n        NEXT = \"next\",\n        SHOW = \"show\",\n        LINK = \"k-link\",\n        LAST = \"k-last\",\n        CLICK = \"click\",\n        ERROR = \"error\",\n        EMPTY = \":empty\",\n        IMAGE = \"k-image\",\n        FIRST = \"k-first\",\n        SELECT = \"select\",\n        ACTIVATE = \"activate\",\n        CONTENT = \"k-tabstrip-content k-content\",\n        CONTENTURL = \"contentUrl\",\n        MOUSEENTER = \"mouseenter\",\n        MOUSELEAVE = \"mouseleave\",\n        CONTENTLOAD = \"contentLoad\",\n        DISABLEDSTATE = \"k-state-disabled\",\n        ACTIVESTATE = \"k-state-active\",\n        FOCUSEDSTATE = \"k-state-focused\",\n        HOVERSTATE = \"k-state-hover\",\n        TABONTOP = \"k-tab-on-top\",\n        NAVIGATABLEITEMS = \".k-item:not(.\" + DISABLEDSTATE + \")\",\n        KEYBOARDNAVIGATABLEITEMS = \".k-item\",\n        HOVERABLEITEMS = \".k-tabstrip-items > \" + NAVIGATABLEITEMS + \":not(.\" + ACTIVESTATE + \")\",\n        DEFAULTDISTANCE = 200,\n\n        templates = {\n            content: template(\n                \"<div class='k-tabstrip-content k-content' #= contentAttributes(data) # tabindex='0'>#= content(item) #</div>\"\n            ),\n            itemWrapper: template(\n                \"<#= tag(item) # class='k-link' #= contentUrl(item) # #= textAttributes(item) #>\" +\n                    \"#= image(item) ##= sprite(item) ##= text(item) #\" +\n                \"</#= tag(item) #>\"\n            ),\n            item: template(\n                \"<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \\\"aria-selected='true'\\\" : ''#>\" +\n                    \"#= itemWrapper(data) #\" +\n                \"</li>\"\n            ),\n            image: template(\"<img class='k-image' alt='' src='#= imageUrl #' />\"),\n            sprite: template(\"<span class='k-sprite #= spriteCssClass #'></span>\"),\n            empty: template(\"\")\n        },\n\n        rendering = {\n            wrapperCssClass: function(group, item) {\n                var result = [\"k-tabstrip-item\", \"k-item\"],\n                    index = item.index;\n\n                if (item.enabled === false) {\n                    result.push(\"k-state-disabled\");\n                }\n\n                if (index === 0) {\n                    result.push(\"k-first\");\n                }\n\n                if (index == group.length - 1) {\n                    result.push(\"k-last\");\n                }\n\n                return result.join(\" \");\n            },\n            textAttributes: function(item) {\n                return item.url ? \" href='\" + item.url + \"'\" : \"\";\n            },\n            text: function(item) {\n                return item.encoded === false ? item.text : kendo.htmlEncode(item.text);\n            },\n            tag: function(item) {\n                return item.url ? \"a\" : \"span\";\n            },\n            contentAttributes: function(content) {\n                return content.active !== true ? \" style='display:none' aria-hidden='true' aria-expanded='false'\" : \"\";\n            },\n            content: function(item) {\n                return item.content ? item.content : item.contentUrl ? \"\" : \"&nbsp;\";\n            },\n            contentUrl: function(item) {\n                return item.contentUrl ? kendo.attr(\"content-url\") + '=\"' + item.contentUrl + '\"' : \"\";\n            }\n        };\n\n    function updateTabClasses(tabs) {\n        tabs.children(IMG)\n            .addClass(IMAGE);\n\n        tabs.children(\"a\")\n            .addClass(LINK)\n            .children(IMG)\n            .addClass(IMAGE);\n\n        tabs.filter(\"li[disabled]\")\n            .addClass(DISABLEDSTATE)\n            .attr(\"aria-disabled\", \"true\")\n            .prop(\"disabled\", false);\n\n        tabs.filter(\":not([class*=k-state])\")\n            .children(\"a\")\n            .filter(\":focus\")\n            .parent()\n            .addClass(ACTIVESTATE + \" \" + TABONTOP);\n\n        tabs.attr(\"role\", \"tab\");\n        tabs.filter(\".\" + ACTIVESTATE)\n            .attr(\"aria-selected\", true);\n\n\n        tabs.each(function() {\n            var item = $(this);\n\n            if (!item.children(\".\" + LINK).length) {\n                item\n                    .contents() // exclude groups, real links, templates and empty text nodes\n                    .filter(function() { return (!this.nodeName.match(excludedNodesRegExp) && !(this.nodeType == 3 && !trim(this.nodeValue))); })\n                    .wrapAll(\"<span UNSELECTABLE='on' class='\" + LINK + \"'/>\");\n            }\n        });\n\n    }\n\n    function updateFirstLast(tabGroup) {\n        var tabs = tabGroup.children(\".k-item\");\n\n        tabs.filter(\".k-first:not(:first-child)\").removeClass(FIRST);\n        tabs.filter(\".k-last:not(:last-child)\").removeClass(LAST);\n        tabs.filter(\":first-child\").addClass(FIRST);\n        tabs.filter(\":last-child\").addClass(LAST);\n    }\n\n    function scrollButtonHtml(buttonClass, iconClass) {\n        return \"<span class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-tabstrip-\" + buttonClass + \"' unselectable='on'><span class='k-button-icon k-icon \" + iconClass + \"'></span></span>\";\n    }\n\n    var TabStrip = Widget.extend({\n        init: function(element, options) {\n            var that = this, value;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._animations(that.options);\n\n            options = that.options;\n\n            that._contentUrls = options.contentUrls || [];\n\n            that._wrapper();\n\n            that._isRtl = kendo.support.isRtl(that.wrapper);\n\n            that._tabindex();\n            that._updateClasses();\n            that._dataSource();\n\n            that.tabGroup.attr(\"role\", \"none\");\n            that.wrapper.attr(\"role\", \"tablist\");\n\n            if (options.dataSource) {\n                that.dataSource.fetch();\n            }\n\n            that._tabPosition();\n            that._scrollable();\n            that._processContentUrls();\n            that._attachEvents();\n\n            if (that.options.value) {\n                value = that.options.value;\n            }\n\n            that._initialActivate();\n            that.value(value);\n            kendo.notify(that);\n        },\n\n        events: [\n            SELECT,\n            ACTIVATE,\n            SHOW,\n            ERROR,\n            CONTENTLOAD,\n            \"change\",\n            \"dataBinding\",\n            \"dataBound\"\n        ],\n\n        options: {\n            name: \"TabStrip\",\n            dataEncodedField: \"\",\n            dataTextField: \"\",\n            dataContentField: \"\",\n            dataImageUrlField: \"\",\n            dataUrlField: \"\",\n            dataSpriteCssClass: \"\",\n            dataContentUrlField: \"\",\n            tabPosition: \"top\",\n            animation: {\n                open: {\n                    effects: \"expand:vertical fadeIn\",\n                    duration: 200\n                },\n                close: { // if close animation effects are defined, they will be used instead of open.reverse\n                    duration: 200\n                }\n            },\n            collapsible: false,\n            navigatable: true,\n            contentUrls: false,\n            scrollable: {\n                distance: DEFAULTDISTANCE\n            }\n        },\n\n        setDataSource: function(dataSource) {\n            var that = this;\n\n            that.options.dataSource = dataSource;\n            that._dataSource();\n            that.dataSource.fetch();\n        },\n\n        setOptions: function(options) {\n            var that = this,\n                animation = that.options.animation;\n\n            that._animations(options);\n\n            if (options.contentUrls) {\n                that._contentUrls = options.contentUrls;\n            }\n\n            options.animation = extend(true, animation, options.animation);\n\n            if (options.navigatable) {\n                that.wrapper.on(\"keydown\" + NS, that._keyDownProxy);\n            } else {\n                that.wrapper.off(\"keydown\" + NS, that._keyDownProxy);\n            }\n\n            Widget.fn.setOptions.call(that, options);\n        },\n\n        activateTab: function(item) {\n            if (this.tabGroup.children(\"[data-animating]\").length) { return; }\n\n            item = this.tabGroup.find(item);\n\n            var that = this,\n                animationSettings = that.options.animation,\n                animation = animationSettings.open,\n                close = extend({}, animationSettings.close),\n                hasCloseAnimation = close && \"effects\" in close,\n                neighbours = item.parent().children(),\n                oldTab = neighbours.filter(\".\" + ACTIVESTATE),\n                itemIndex = neighbours.index(item),\n                isAnimationEnabled = animation && \"duration\" in animation && \"effects\" in animation;\n\n            close = extend( hasCloseAnimation ? close : extend({ reverse: true }, animation), { hide: true });\n            // deactivate previously active tab\n            if (kendo.size(animation.effects)) {\n                oldTab.kendoRemoveClass(ACTIVESTATE, { duration: close.duration });\n                item.kendoRemoveClass(HOVERSTATE, { duration: close.duration });\n            } else {\n                oldTab.removeClass(ACTIVESTATE);\n                item.removeClass(HOVERSTATE);\n            }\n\n            // handle content elements\n            var contentAnimators = that.contentAnimators;\n\n            if (that.inRequest) {\n                that.xhr.abort();\n                that.inRequest = false;\n            }\n\n            if (contentAnimators.length === 0) {\n                that.tabGroup.find(\".\" + TABONTOP).removeClass(TABONTOP);\n                item.addClass(TABONTOP) // change these directly to bring the tab on top.\n                    .css(\"z-index\");\n\n                item.addClass(ACTIVESTATE);\n                that._current(item);\n\n                that.trigger(\"change\");\n\n                if (that._scrollableModeActive) {\n                    that._scrollTabsToItem(item);\n                }\n\n                return false;\n            }\n\n            var visibleContents = contentAnimators.filter(\".\" + ACTIVESTATE),\n                contentHolder = that.contentHolder(itemIndex),\n                contentElement = contentHolder.closest(\".k-content\");\n\n            that.tabsHeight = outerHeight(that.tabGroup) +\n                              parseInt(that.wrapper.css(\"border-top-width\"), 10) +\n                              parseInt(that.wrapper.css(\"border-bottom-width\"), 10);\n\n            if (contentHolder.length === 0) {\n                visibleContents\n                    .removeClass( ACTIVESTATE )\n                    .attr(\"aria-hidden\", true)\n                    .kendoStop(true, true)\n                    .kendoAnimate( close );\n                return false;\n            }\n\n            item.attr(\"data-animating\", true);\n\n            var isAjaxContent = (item.children(\".\" + LINK).data(CONTENTURL) || that._contentUrls[itemIndex] || false) && contentHolder.is(EMPTY),\n                showContentElement = function() {\n                    oldTab.removeAttr(\"aria-selected\");\n                    item.attr(\"aria-selected\", true);\n\n                    that._current(item);\n\n                    contentElement\n                        .addClass(ACTIVESTATE)\n                        .removeAttr(\"aria-hidden\")\n                        .kendoStop(true, true)\n                        .attr(\"aria-expanded\", true)\n                        .kendoAnimate( extend({ init: function() {\n                            that.trigger(SHOW, { item: item[0], contentElement: contentHolder[0] });\n                            kendo.resize(contentHolder);\n                        } }, animation, {\n                            complete: function() {\n                                item.removeAttr(\"data-animating\");\n\n                                that.trigger(ACTIVATE, { item: item[0], contentElement: contentHolder[0] });\n                                kendo.resize(contentHolder);\n\n                                // Force IE and Edge rendering to fix visual glitches telerik/kendo-ui-core#2777.\n                                if (isAnimationEnabled && (kendo.support.browser.msie || kendo.support.browser.edge)) {\n                                    contentHolder.finish().animate({\n                                        opacity: 0.9\n                                    },\"fast\", \"linear\", function() {\n                                        contentHolder.finish().animate({\n                                            opacity: 1\n                                        },\"fast\", \"linear\");\n                                    });\n                                }\n                            }\n                        } ) );\n                },\n                showContent = function() {\n                    if (!isAjaxContent) {\n                        showContentElement();\n                        that.trigger(\"change\");\n                    } else {\n                        item.removeAttr(\"data-animating\");\n                        that.ajaxRequest(item, contentHolder, function() {\n                            item.attr(\"data-animating\", true);\n                            showContentElement();\n                            that.trigger(\"change\");\n                        });\n                    }\n\n                    if (that._scrollableModeActive) {\n                        that._scrollTabsToItem(item);\n                    }\n\n                };\n\n            // See https://github.com/telerik/kendo-ui-core/issues/6660\n            var oldMinHeight = that.element.css('min-height');\n            that.element.css('min-height', that.element.outerHeight());\n\n            visibleContents\n                    .removeClass(ACTIVESTATE);\n\n            that.tabGroup.find(\".\" + TABONTOP).removeClass(TABONTOP);\n                    item.addClass(TABONTOP) // change these directly to bring the tab on top.\n                        .css(\"z-index\");\n\n            if (kendo.size(animation.effects)) {\n                item.kendoAddClass(ACTIVESTATE, { duration: animation.duration });\n            } else {\n                item.addClass(ACTIVESTATE);\n            }\n\n            visibleContents.attr(\"aria-hidden\", true);\n            visibleContents.attr(\"aria-expanded\", false);\n\n            if (visibleContents.length) {\n                visibleContents\n                    .kendoStop(true, true)\n                    .kendoAnimate(extend( {\n                        complete: showContent\n                   }, close ));\n            } else {\n                showContent();\n            }\n\n            that.element.css('min-height', oldMinHeight);\n\n            return true;\n        },\n\n        ajaxRequest: function(element, content, complete, url) {\n            element = this.tabGroup.find(element);\n\n            var that = this,\n                xhr = $.ajaxSettings.xhr,\n                link = element.find(\".\" + LINK),\n                data = {},\n                halfWidth = element.width() / 2,\n                fakeProgress = false,\n                statusIcon = element.find(\".k-loading\").removeClass(\"k-complete\");\n\n            if (!statusIcon[0]) {\n                statusIcon = $(\"<span class='k-loading'/>\").prependTo(element);\n            }\n\n            var endState = halfWidth * 2 - statusIcon.width();\n\n            var oldProgressAnimation = function() {\n                statusIcon.animate({ marginLeft: (parseInt(statusIcon.css(\"marginLeft\"), 10) || 0) < halfWidth ? endState : 0 }, 500, oldProgressAnimation);\n            };\n\n            if (kendo.support.browser.msie && kendo.support.browser.version < 10) {\n                setTimeout(oldProgressAnimation, 40);\n            }\n\n             url = url || link.data(CONTENTURL) || that._contentUrls[element.index()] || link.attr(HREF);\n            that.inRequest = true;\n\n            var ajaxOptions = {\n                type: \"GET\",\n                cache: false,\n                url: url,\n                dataType: \"html\",\n                data: data,\n                xhr: function() {\n                    var current = this,\n                        request = xhr(),\n                        event = current.progressUpload ? \"progressUpload\" : current.progress ? \"progress\" : false;\n\n                    if (request) {\n                        $.each([ request, request.upload ], function() {\n                            if (this.addEventListener) {\n                                this.addEventListener(\"progress\", function(evt) {\n                                    if (event) {\n                                        current[event](evt);\n                                    }\n                                }, false);\n                            }\n                        });\n                    }\n\n                    current.noProgress = !(window.XMLHttpRequest && ('upload' in new XMLHttpRequest()));\n                    return request;\n                },\n\n                progress: function(evt) {\n                    if (evt.lengthComputable) {\n                        var percent = parseInt((evt.loaded / evt.total * 100), 10) + \"%\";\n                        statusIcon\n                            .stop(true)\n                            .addClass(\"k-progress\")\n                            .css({\n                                \"width\": percent,\n                                \"marginLeft\": 0\n                            });\n                    }\n                },\n\n                error: function(xhr, status) {\n                    if (that.trigger(\"error\", { xhr: xhr, status: status })) {\n                        this.complete();\n                    }\n                },\n\n                stopProgress: function() {\n                    clearInterval(fakeProgress);\n                    statusIcon\n                        .stop(true)\n                        .addClass(\"k-progress\")\n                        [0].style.cssText = \"\";\n                },\n\n                complete: function(xhr) {\n                    that.inRequest = false;\n                    if (this.noProgress) {\n                        setTimeout(this.stopProgress, 500);\n                    } else {\n                        this.stopProgress();\n                    }\n\n                    if (xhr.statusText == \"abort\") {\n                        statusIcon.remove();\n                    }\n                },\n\n                success: function(data) {\n                    statusIcon.addClass(\"k-complete\");\n                    try {\n                        var current = this,\n                            loaded = 10;\n\n                        if (current.noProgress) {\n                            statusIcon.width(loaded + \"%\");\n                            fakeProgress = setInterval(function() {\n                                current.progress({ lengthComputable: true, loaded: Math.min(loaded, 100), total: 100 });\n                                loaded += 10;\n                            }, 40);\n                        }\n\n                        that.angular(\"cleanup\", function() { return { elements: content.get() }; });\n                        kendo.destroy(content);\n                        content.html(data);\n                    } catch (e) {\n                        var console = window.console;\n\n                        if (console && console.error) {\n                            console.error(e.name + \": \" + e.message + \" in \" + url);\n                        }\n                        this.error(this.xhr, \"error\");\n                    }\n\n                    if (complete) {\n                        complete.call(that, content);\n                    }\n\n                    that.angular(\"compile\", function() { return { elements: content.get() }; });\n\n                    that.trigger(CONTENTLOAD, { item: element[0], contentElement: content[0] });\n                }\n            };\n\n            if (typeof url === \"object\") {\n                ajaxOptions = $.extend(true, {}, ajaxOptions, url);\n\n                if (isFunction(ajaxOptions.url)) {\n                    ajaxOptions.url = ajaxOptions.url();\n                }\n            }\n\n            that.xhr = $.ajax(ajaxOptions);\n        },\n\n        append: function(tab) {\n            var that = this,\n                inserted = that._create(tab);\n\n            each(inserted.tabs, function(idx) {\n                var contents = inserted.contents[idx];\n                that.tabGroup.append(this);\n                if (that.options.tabPosition == \"bottom\") {\n                    that.tabWrapper.before(contents);\n                } else {\n                    that.wrapper.append(contents);\n                }\n                that.angular(\"compile\", function() { return { elements: [ contents ] }; });\n            });\n\n            updateFirstLast(that.tabGroup);\n            that._updateContentElements();\n            that.resize(true);\n\n            return that;\n        },\n\n        contentElement: function(itemIndex) {\n            if (isNaN(itemIndex - 0)) {\n                return undefined;\n            }\n\n            var contentElements = this.contentElements && this.contentElements[0] && !kendo.kineticScrollNeeded ? this.contentElements : this.contentAnimators;\n            var id = $(this.tabGroup.children()[itemIndex]).attr(\"aria-controls\");\n\n            if (contentElements) {\n                for (var i = 0, len = contentElements.length; i < len; i++) {\n                    if (contentElements.eq(i).closest(\".k-content\")[0].id == id) {\n                        return contentElements[i];\n                    }\n                }\n            }\n\n            return undefined;\n        },\n\n        contentHolder: function(itemIndex) {\n            var contentElement = $(this.contentElement(itemIndex)),\n                scrollContainer = contentElement.children(\".km-scroll-container\");\n\n            return kendo.support.touch && scrollContainer[0] ? scrollContainer : contentElement;\n        },\n\n        deactivateTab: function(item) {\n            var that = this,\n                animationSettings = that.options.animation,\n                animation = animationSettings.open,\n                close = extend({}, animationSettings.close),\n                hasCloseAnimation = close && \"effects\" in close;\n            item = that.tabGroup.find(item);\n\n            close = extend( hasCloseAnimation ? close : extend({ reverse: true }, animation), { hide: true });\n\n            if (kendo.size(animation.effects)) {\n                item.kendoRemoveClass(ACTIVESTATE, { duration: animation.duration });\n            } else {\n                item.removeClass(ACTIVESTATE);\n            }\n\n            item.removeAttr(\"aria-selected\");\n\n            that.contentAnimators\n                    .filter(\".\" + ACTIVESTATE)\n                    .kendoStop(true, true)\n                    .kendoAnimate( close )\n                    .removeClass(ACTIVESTATE)\n                    .attr(\"aria-hidden\", true);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            if (that._refreshHandler) {\n                that.dataSource.unbind(\"change\", that._refreshHandler);\n            }\n\n            that.wrapper.off(NS);\n            that.tabGroup.off(NS);\n\n            if (that._scrollableModeActive) {\n                that._scrollPrevButton.off().remove();\n                that._scrollNextButton.off().remove();\n            }\n\n            kendo.destroy(that.wrapper);\n        },\n\n        disable: function(element) {\n            this._toggleDisabled(element, false);\n\n            return this;\n        },\n\n        enable: function(element, state) {\n            this._toggleDisabled(element, state !== false);\n\n            return this;\n        },\n\n        insertAfter: function(tab, referenceTab) {\n            if ($(tab).is($(referenceTab))) {\n                referenceTab = this.tabGroup.find(referenceTab).prev();\n            } else {\n                referenceTab = this.tabGroup.find(referenceTab);\n            }\n\n            var that = this,\n                inserted = that._create(tab),\n                referenceContent = that.element.find(\"[id='\" + referenceTab.attr(\"aria-controls\") + \"']\");\n\n            each(inserted.tabs, function(idx) {\n                var contents = inserted.contents[idx];\n                var fromIndex = inserted.newTabsCreated ? that._contentUrls.length - (inserted.tabs.length - idx) : $(contents).index() - 1;\n\n                referenceTab.after(this);\n                referenceContent.after(contents);\n\n                that._moveUrlItem(fromIndex, $(this).index());\n                that.angular(\"compile\", function() { return { elements: [ contents ] }; });\n            });\n\n            updateFirstLast(that.tabGroup);\n            that._updateContentElements(inserted.newTabsCreated);\n            that.resize(true);\n\n            return that;\n        },\n\n        insertBefore: function(tab, referenceTab) {\n            if ($(tab).is($(referenceTab))) {\n                referenceTab = this.tabGroup.find(referenceTab).next();\n            } else {\n                referenceTab = this.tabGroup.find(referenceTab);\n            }\n\n            var that = this,\n                inserted = that._create(tab),\n                referenceContent = that.element.find(\"[id='\" + referenceTab.attr(\"aria-controls\") + \"']\");\n\n            each(inserted.tabs, function(idx) {\n                var contents = inserted.contents[idx];\n                var fromIndex = inserted.newTabsCreated ? that._contentUrls.length - (inserted.tabs.length - idx) : $(contents).index() - 1;\n\n                referenceTab.before(this);\n                referenceContent.before(contents);\n\n                that._moveUrlItem(fromIndex, $(this).index());\n                that.angular(\"compile\", function() { return { elements: [ contents ] }; });\n            });\n\n            updateFirstLast(that.tabGroup);\n            that._updateContentElements(inserted.newTabsCreated);\n            that.resize(true);\n\n            return that;\n        },\n\n        items: function() {\n            return this.tabGroup[0].children;\n        },\n\n        refresh: function(e) {\n            var that = this,\n                options = that.options,\n                encoded = kendo.getter(options.dataEncodedField),\n                text = kendo.getter(options.dataTextField),\n                content = kendo.getter(options.dataContentField),\n                contentUrl = kendo.getter(options.dataContentUrlField),\n                image = kendo.getter(options.dataImageUrlField),\n                url = kendo.getter(options.dataUrlField),\n                sprite = kendo.getter(options.dataSpriteCssClass),\n                idx,\n                tabs = [],\n                tab,\n                action,\n                view = that.dataSource.view(),\n                length;\n\n\n            e = e || {};\n            action = e.action;\n\n            if (action) {\n               view = e.items;\n            }\n\n            for (idx = 0, length = view.length; idx < length; idx ++) {\n                tab = {\n                    text: text(view[idx])\n                };\n\n                if (options.dataEncodedField) {\n                    tab.encoded = encoded(view[idx]);\n                }\n\n                if (options.dataContentField) {\n                    tab.content = content(view[idx]);\n                }\n\n                if (options.dataContentUrlField) {\n                    tab.contentUrl = contentUrl(view[idx]);\n                }\n\n                if (options.dataUrlField) {\n                    tab.url = url(view[idx]);\n                }\n\n                if (options.dataImageUrlField) {\n                    tab.imageUrl = image(view[idx]);\n                }\n\n                if (options.dataSpriteCssClass) {\n                    tab.spriteCssClass = sprite(view[idx]);\n                }\n\n                tabs[idx] = tab;\n            }\n\n            if (e.action == \"add\") {\n                if (e.index < that.tabGroup.children().length) {\n                    that.insertBefore(tabs, that.tabGroup.children().eq(e.index));\n                } else {\n                    that.append(tabs);\n                }\n            } else if (e.action == \"remove\") {\n                for (idx = 0; idx < view.length; idx++) {\n                   that.remove(e.index);\n                }\n            } else if (e.action == \"itemchange\") {\n                idx = that.dataSource.view().indexOf(view[0]);\n                if (e.field === options.dataTextField) {\n                    that.tabGroup.children().eq(idx).find(\".k-link\").text(view[0].get(e.field));\n                }\n\n                if (e.field === options.dataUrlField) {\n                    that._contentUrls[idx] = view[0].get(e.field);\n                }\n            } else {\n                that.trigger(\"dataBinding\");\n                that.remove(\"li\");\n                that._contentUrls = [];\n                that.append(tabs);\n                that.trigger(\"dataBound\");\n            }\n        },\n\n        reload: function(element) {\n            element = this.tabGroup.find(element);\n            var that = this;\n            var contentUrls = that._contentUrls;\n\n            element.each(function() {\n                var item = $(this),\n                    contentUrl = item.find(\".\" + LINK).data(CONTENTURL) || contentUrls[item.index()],\n                    content = that.contentHolder(item.index());\n\n                if (contentUrl) {\n                    that.ajaxRequest(item, content, null, contentUrl);\n                }\n            });\n\n            return that;\n        },\n\n        remove: function(elements) {\n            var that = this;\n            var type = typeof elements;\n            var contents;\n\n            if (type === \"string\") {\n                elements = that.tabGroup.find(elements);\n            } else if (type === \"number\") {\n                elements = that.tabGroup.children().eq(elements);\n            }\n\n            contents = elements.map(function() {\n                var idx = $(this).index();\n                var content = that.contentElement(idx);\n\n                kendo.destroy(content);\n                that._removeUrlItem(idx);\n\n                return content;\n            });\n\n            elements.remove();\n            contents.empty();\n            contents.remove();\n\n            that._updateContentElements();\n            that.resize(true);\n\n            return that;\n        },\n\n        select: function(element) {\n            var that = this;\n\n            if (arguments.length === 0) {\n                return that.tabGroup.children(\"li.\" + ACTIVESTATE);\n            }\n\n            if (!isNaN(element)) {\n                element = that.tabGroup.children().get(element);\n            }\n\n            element = that.tabGroup.find(element);\n            $(element).each(function(index, item) {\n                item = $(item);\n                if (!item.hasClass(ACTIVESTATE) && !that.trigger(SELECT, { item: item[0], contentElement: that.contentHolder(item.index())[0] })) {\n                    that.activateTab(item);\n                }\n            });\n\n            return that;\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value !== undefined) {\n                if (value != that.value()) {\n                   that.tabGroup.children().each(function() {\n                        if (kendo.trim($(this).text()) == value) {\n                            that.select(this);\n                        }\n                   });\n                }\n            } else {\n                return that.select().text();\n            }\n        },\n\n        _active: function() {\n            var item = this.tabGroup.children().filter(\".\" + ACTIVESTATE);\n\n            item = item[0] ? item : this._endItem(\"first\");\n            if (item[0]) {\n                this._current(item);\n            }\n        },\n\n        _animations: function(options) {\n            if (options && (\"animation\" in options) && !options.animation) {\n                options.animation = { open: { effects: {} }, close: { effects: {} } }; // No animation\n            }\n        },\n\n        _appendUrlItem: function(url) {\n            this._contentUrls.push(url);\n        },\n\n        _attachEvents: function() {\n            var that = this,\n                options = that.options;\n\n            that.wrapper\n                .on(MOUSEENTER + NS + \" \" + MOUSELEAVE + NS, HOVERABLEITEMS, that._toggleHover)\n                .on(\"focus\" + NS, $.proxy(that._active, that))\n                .on(\"blur\" + NS, function() { that._current(null); });\n\n            that._keyDownProxy = $.proxy(that._keydown, that);\n\n            if (options.navigatable) {\n                that.wrapper.on(\"keydown\" + NS, that._keyDownProxy);\n            }\n\n            that.tabGroup\n                .on(CLICK + NS, \".k-state-disabled .k-link\", false)\n                .on(CLICK + NS, \" > \" + NAVIGATABLEITEMS, $.proxy(that._itemClick, that));\n        },\n\n        _click: function(item) {\n            var that = this,\n                link = item.find(\".\" + LINK),\n                href = link.attr(HREF),\n                collapse = that.options.collapsible,\n                index = item.index(),\n                contentHolder = that.contentHolder(index),\n                prevent, isAnchor,\n                neighbours = item.parent().children(),\n                oldFocusedTab = neighbours.filter(\".\" + FOCUSEDSTATE);\n\n            if (item.closest(\".k-widget\")[0] != that.wrapper[0]) {\n                return;\n            }\n\n            if (item.is(\".\" + DISABLEDSTATE + (!collapse ? \",.\" + ACTIVESTATE : \"\"))) {\n                oldFocusedTab.removeClass(FOCUSEDSTATE);\n                that._focused = item;\n\n                item.addClass(FOCUSEDSTATE);\n                that._current(item);\n\n                if (that._scrollableModeActive) {\n                    that._scrollTabsToItem(item);\n                }\n                return true;\n            }\n\n            isAnchor = link.data(CONTENTURL) || that._contentUrls[index] || (href && (href.charAt(href.length - 1) == \"#\" || href.indexOf(\"#\" + that.element[0].id + \"-\") != -1));\n            prevent = !href || isAnchor;\n\n            if (that.tabGroup.children(\"[data-animating]\").length) {\n                return prevent;\n            }\n\n            if (that.trigger(SELECT, { item: item[0], contentElement: contentHolder[0] })) {\n                return true;\n            }\n\n            if (prevent === false) {\n                return;\n            }\n\n            if (collapse && item.is(\".\" + ACTIVESTATE)) {\n                that.deactivateTab(item);\n                return true;\n            }\n\n            if (that.activateTab(item)) {\n                prevent = true;\n            }\n\n            return prevent;\n        },\n\n        _create: function(tab) {\n            var that = this,\n            tabs,\n            contents,\n            content,\n            newTabsCreated = false;\n\n            tab = tab instanceof kendo.data.ObservableArray ? tab.toJSON() : tab;\n\n            if ($.isPlainObject(tab) || Array.isArray(tab)) {\n                tab = Array.isArray(tab) ? tab : [tab];\n                newTabsCreated = true;\n\n                tabs = map(tab, function(value, idx) {\n                            that._appendUrlItem(tab[idx].contentUrl || null);\n\n                            return $(TabStrip.renderItem({\n                                group: that.tabGroup,\n                                item: extend(value, { index: idx })\n                            }));\n                        });\n\n                contents = map( tab, function(value, idx) {\n                            if (typeof value.content == \"string\" || value.contentUrl) {\n                                return $(TabStrip.renderContent({\n                                    item: extend(value, { index: idx })\n                                }));\n                            }\n                        });\n            } else {\n                if (typeof tab == \"string\" && tab[0] != \"<\") {\n                    tabs = that.element.find(tab);\n                } else {\n                    tabs = $(tab);\n                }\n                contents = $();\n                tabs.each(function() {\n                    if (/k-tabstrip-items/.test(this.parentNode.className)) {\n                        var element = that.element.find(\"[id='\" + this.getAttribute(\"aria-controls\") + \"']\");\n                        content = element;\n                    } else {\n                        content = $(\"<div class='\" + CONTENT + \"'/>\");\n                    }\n\n                    contents = contents.add(content);\n                });\n\n                updateTabClasses(tabs);\n            }\n\n            return { tabs: tabs, contents: contents, newTabsCreated: newTabsCreated };\n        },\n\n        _current: function(candidate) {\n            var that = this,\n                focused = that._focused;\n\n            if (candidate === undefined) {\n                return focused;\n            }\n\n            if (focused) {\n                focused.removeClass(FOCUSEDSTATE);\n            }\n\n            if (candidate) {\n                if (!candidate.hasClass(ACTIVESTATE)) {\n                    candidate.addClass(FOCUSEDSTATE);\n                }\n\n                if (candidate[0].id) {\n                    that.element.attr(\"aria-activedescendant\", candidate[0].id);\n                }\n            }\n\n            that._focused = candidate;\n        },\n\n        _dataSource: function() {\n            var that = this;\n\n            if (that.dataSource && that._refreshHandler) {\n                that.dataSource.unbind(\"change\", that._refreshHandler);\n            } else {\n                that._refreshHandler = $.proxy(that.refresh, that);\n            }\n\n            that.dataSource = kendo.data.DataSource.create(that.options.dataSource)\n                                .bind(\"change\", that._refreshHandler);\n        },\n\n        _elementId: function(element, idx, tab) {\n            var elementId = element.attr(\"id\"),\n                wrapperId = this.element.attr(\"id\"),\n                guid = kendo.guid();\n\n            if (!elementId || elementId.indexOf(wrapperId + \"-\") > -1) {\n                var tabStripID = (wrapperId || guid) + \"-\";\n\n                if (tab) {\n                    tabStripID += \"tab-\";\n                }\n\n                return tabStripID + (idx + 1);\n            }\n\n            return elementId;\n        },\n\n        _endItem: function(action) {\n            return this.tabGroup.children(NAVIGATABLEITEMS)[action]();\n        },\n\n        _getItem: function(action) {\n            return this.tabGroup.children(KEYBOARDNAVIGATABLEITEMS)[action]();\n        },\n\n        _initialActivate: function() {\n            var that = this,\n                selectedItems = that.tabGroup.children(\"li.\" + ACTIVESTATE),\n                content = that.contentHolder(selectedItems.index());\n\n            if (selectedItems[0] && content.length > 0 && content[0].childNodes.length === 0) {\n                that.activateTab(selectedItems.eq(0));\n            }\n        },\n\n        _item: function(item, action) {\n            var endItem;\n            if (action === PREV) {\n                endItem = \"last\";\n            } else {\n                endItem = \"first\";\n            }\n\n            if (!item) {\n                return this._endItem(endItem);\n            }\n\n            item = item[action]();\n\n            if (!item[0]) {\n                item = this.tabGroup.children(KEYBOARDNAVIGATABLEITEMS)[endItem]();\n            }\n\n            if (item.hasClass(DISABLEDSTATE)) {\n                item.addClass(FOCUSEDSTATE);\n            }\n            if (item.hasClass(DISABLEDSTATE) || item.hasClass(ACTIVESTATE)) {\n                this._focused = item;\n            }\n\n            return item;\n        },\n\n        _itemClick: function(e) {\n            var that = this,\n                wr = that.wrapper[0];\n\n            if (wr !== document.activeElement) {\n                var msie = kendo.support.browser.msie;\n                if (msie) {\n                    try {\n                        // does not scroll to the active element\n                        wr.setActive();\n                    } catch (j) {\n                        wr.focus();\n                    }\n                } else {\n                    wr.focus();\n                }\n            }\n\n            if (that._click($(e.currentTarget))) {\n                e.preventDefault();\n            }\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                current = that._current(),\n                rtl = that._isRtl,\n                isHorizontal = /top|bottom/.test(that.options.tabPosition),\n                action;\n\n            if (e.target != e.currentTarget || !current) {\n                return;\n            }\n\n            if (key === keys.DOWN && !isHorizontal) {\n                action = NEXT;\n            } else if (key === keys.UP && !isHorizontal) {\n                action = PREV;\n            } else if (key === keys.RIGHT && isHorizontal) {\n                action = rtl ? PREV : NEXT;\n            } else if (key === keys.LEFT && isHorizontal) {\n                action = rtl ? NEXT : PREV;\n            } else if (key == keys.ENTER || key == keys.SPACEBAR) {\n                that._click(current);\n                e.preventDefault();\n            } else if (key == keys.HOME) {\n                that._click(that._getItem(\"first\"));\n                e.preventDefault();\n                return;\n            } else if (key == keys.END) {\n                that._click(that._getItem(\"last\"));\n                e.preventDefault();\n                return;\n            }\n\n            if (action) {\n                that._click(that._item(current, action));\n                e.preventDefault();\n            }\n        },\n\n        _moveUrlItem: function(from, to) {\n            this._contentUrls.splice(to, 0, this._contentUrls.splice(from, 1)[0]);\n        },\n\n        _processContentUrls: function() {\n            var that = this;\n\n            if (that._contentUrls.length) {\n                that.tabGroup.children(\".k-item\")\n                    .each(function(index, item) {\n                        var url = that._contentUrls[index];\n\n                        if (typeof url === 'string') {\n                            $(item).find(\">.\" + LINK).data(CONTENTURL, url);\n                        }\n                    });\n            } else {\n                that._contentUrls.length = that.tabGroup.find(\"li.k-item\").length;\n            }\n        },\n\n        _removeUrlItem: function(index) {\n            this._contentUrls.splice(index, 1);\n        },\n\n        _resize: function() {\n            this._scrollable();\n        },\n\n        _scrollable: function() {\n            var that = this,\n                options = that.options,\n                wrapperOffsetWidth,\n                tabGroupScrollWidth,\n                scrollPrevButton,\n                scrollNextButton;\n\n            if (that._scrollableAllowed()) {\n\n                that.wrapper.addClass(\"k-tabstrip-scrollable\");\n\n                wrapperOffsetWidth = that.wrapper[0].offsetWidth;\n                tabGroupScrollWidth = that.tabGroup[0].scrollWidth;\n\n                if (tabGroupScrollWidth > wrapperOffsetWidth && !that._scrollableModeActive) {\n                    that._nowScrollingTabs = false;\n                    that._isRtl = kendo.support.isRtl(that.element);\n                    var mouseDown = kendo.support.touch ? \"touchstart\" : \"mousedown\";\n                    var mouseUp = kendo.support.touch ? \"touchend\" : \"mouseup\";\n                    var browser = kendo.support.browser;\n                    var isRtlScrollDirection = that._isRtl && !browser.msie && !browser.edge;\n\n                    that.tabWrapper.prepend(scrollButtonHtml(\"prev\", \"k-i-arrow-60-left\"));\n                    that.tabWrapper.append(scrollButtonHtml(\"next\", \"k-i-arrow-60-right\"));\n\n                    scrollPrevButton = that._scrollPrevButton = that.tabWrapper.children(\".k-tabstrip-prev\");\n                    scrollNextButton = that._scrollNextButton = that.tabWrapper.children(\".k-tabstrip-next\");\n\n                    scrollPrevButton.on(mouseDown + NS, function() {\n                        that._nowScrollingTabs = true;\n                        that._scrollTabsByDelta(options.scrollable.distance * (isRtlScrollDirection ? 1 : -1));\n                    });\n\n                    scrollNextButton.on(mouseDown + NS, function() {\n                        that._nowScrollingTabs = true;\n                        that._scrollTabsByDelta(options.scrollable.distance * (isRtlScrollDirection ? -1 : 1));\n                    });\n\n                    scrollPrevButton.add(scrollNextButton).on(mouseUp + NS, function() {\n                        that._nowScrollingTabs = false;\n                    });\n\n                    that._scrollableModeActive = true;\n\n                    that._toggleScrollButtons();\n                } else if (that._scrollableModeActive && tabGroupScrollWidth <= wrapperOffsetWidth) {\n                    that._scrollableModeActive = false;\n\n                    that.wrapper.removeClass(\"k-tabstrip-scrollable\");\n\n                    that._scrollPrevButton.off().remove();\n                    that._scrollNextButton.off().remove();\n                } else if (!that._scrollableModeActive) {\n                    that.wrapper.removeClass(\"k-tabstrip-scrollable\");\n                } else {\n                    that._toggleScrollButtons();\n                }\n            }\n        },\n\n        _scrollableAllowed: function() {\n            var options = this.options;\n\n            if (options.scrollable && !options.scrollable.distance) {\n                options.scrollable = { distance: DEFAULTDISTANCE };\n            }\n\n            return options.scrollable && !isNaN(options.scrollable.distance) && (options.tabPosition == \"top\" || options.tabPosition == \"bottom\");\n        },\n\n        _scrollTabsToItem: function(item) {\n            var that = this,\n                tabGroup = that.tabGroup,\n                currentScrollOffset = kendo.scrollLeft(tabGroup),\n                itemWidth = outerWidth(item),\n                itemOffset = that._isRtl ? item.position().left : item.position().left - tabGroup.children().first().position().left,\n                tabGroupWidth = tabGroup[0].offsetWidth,\n                browser = kendo.support.browser,\n                itemPosition;\n\n            if (that._isRtl && (browser.mozilla || (browser.webkit && browser.version >= 85))) {\n                currentScrollOffset = currentScrollOffset * -1;\n            }\n\n            if (that._isRtl) {\n                if (itemOffset < 0) {\n                    itemPosition = currentScrollOffset + itemOffset - (tabGroupWidth - currentScrollOffset);\n                } else if (itemOffset + itemWidth > tabGroupWidth) {\n                    itemPosition = currentScrollOffset + itemOffset - itemWidth;\n                }\n            } else {\n                if (currentScrollOffset + tabGroupWidth < itemOffset + itemWidth) {\n                    itemPosition = itemOffset + itemWidth - tabGroupWidth;\n                } else if (currentScrollOffset > itemOffset) {\n                    itemPosition = itemOffset;\n                }\n            }\n\n            tabGroup.finish().animate({ \"scrollLeft\": itemPosition }, \"fast\", \"linear\", function() {\n                that._toggleScrollButtons();\n            });\n        },\n\n        _scrollTabsByDelta: function(delta) {\n            var that = this;\n            var tabGroup = that.tabGroup;\n            var scrLeft = kendo.scrollLeft(tabGroup);\n            var browser = kendo.support.browser;\n\n            if (that._isRtl && (browser.mozilla || (browser.webkit && browser.version >= 85))) {\n                scrLeft = scrLeft * -1;\n            }\n\n            tabGroup.finish().animate({ \"scrollLeft\": scrLeft + delta }, \"fast\", \"linear\", function() {\n                if (that._nowScrollingTabs && !jQuery.fx.off) {\n                    that._scrollTabsByDelta(delta);\n                } else {\n                    that._toggleScrollButtons();\n                }\n            });\n        },\n\n        _tabPosition: function() {\n            var that = this,\n                tabPosition = that.options.tabPosition;\n\n            that.wrapper.addClass(\"k-floatwrap k-tabstrip-\" + tabPosition);\n\n            if (tabPosition == \"bottom\") {\n                that.tabWrapper.appendTo(that.wrapper);\n            }\n\n            if (tabPosition === \"left\" || tabPosition === \"right\") {\n                that.wrapper.attr(\"aria-orientation\", \"vertical\");\n            }\n\n            that.resize(true);\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVERSTATE, e.type == MOUSEENTER);\n        },\n\n        _toggleDisabled: function(element, enable) {\n            element = this.tabGroup.find(element);\n            element.each(function() {\n                $(this)\n                    .toggleClass(DISABLEDSTATE, !enable)\n                    .attr(\"aria-disabled\", !enable);\n            });\n        },\n\n        _toggleScrollButtons: function() {\n            var that = this,\n                ul = that.tabGroup,\n                scrollLeft = kendo.scrollLeft(ul);\n\n                that._scrollPrevButton.toggleClass('k-disabled', scrollLeft === 0);\n                that._scrollNextButton.toggleClass('k-disabled', scrollLeft === ul[0].scrollWidth - ul[0].offsetWidth);\n        },\n\n        _updateClasses: function() {\n            var that = this,\n                tabs, activeItem, activeTab;\n            var isHorizontal = /top|bottom/.test(that.options.tabPosition);\n\n            that.wrapper.addClass(\"k-widget k-tabstrip\");\n\n            if (!that.tabGroup) {\n                that.tabGroup = that.wrapper.children(\"ul\");\n                that.tabGroup.wrap('<div />');\n                that.tabWrapper = that.tabGroup.parent();\n            }\n\n            if (!that.tabGroup[0]) {\n                that.tabGroup = $(\"<ul />\").prependTo(that.wrapper);\n                that.tabGroup.wrap('<div />');\n                that.tabWrapper = that.tabGroup.parent();\n            }\n\n            that.tabWrapper.addClass('k-tabstrip-items-wrapper');\n            that.tabWrapper.addClass(isHorizontal ? 'k-hstack' : 'k-vstack');\n            that.tabGroup.addClass('k-tabstrip-items k-reset');\n\n            tabs = that.tabGroup.find(\"li\").addClass(\"k-tabstrip-item k-item\");\n\n            if (tabs.length) {\n                activeItem = tabs.filter(\".\" + ACTIVESTATE).index();\n                activeTab = activeItem >= 0 ? activeItem : undefined;\n\n                that.tabGroup // Remove empty text nodes\n                    .contents()\n                    .filter(function() { return (this.nodeType == 3 && !trim(this.nodeValue)); })\n                    .remove();\n            }\n\n            if (activeItem >= 0) {\n                tabs.eq(activeItem).addClass(TABONTOP);\n            }\n\n            that.contentElements = that.wrapper.children(\"div:not(.k-tabstrip-items-wrapper)\");\n\n            that.contentElements\n                .addClass(CONTENT)\n                .eq(activeTab)\n                .addClass(ACTIVESTATE)\n                .css({ display: \"block\" });\n\n            if (tabs.length) {\n                updateTabClasses(tabs);\n\n                updateFirstLast(that.tabGroup);\n                that._updateContentElements(true);\n            }\n        },\n\n        _updateContentElements: function(isInitialUpdate) {\n            var that = this,\n                contentUrls = that._contentUrls,\n                items = that.tabGroup.children(\".k-item\"),\n                contentElements = that.wrapper.children(\"div:not(.k-tabstrip-items-wrapper)\"),\n                _elementId = that._elementId.bind(that);\n\n            if (contentElements.length && (items.length > contentElements.length)) {\n                contentElements.each(function(idx) {\n                    // Generate an ID for each content element\n                    var contentId = _elementId($(this), idx),\n                        item = items.filter(\"[aria-controls=\" + (contentId || 0) + \"]\")[0],\n                        tabId;\n\n                    if (!item && isInitialUpdate) {\n                        // On initialization of the widget get the tab by its index\n                        item = items[idx];\n                    }\n\n                    if (item) {\n                        // set the tab aria-controls attribute to the content ID\n                        item.setAttribute(\"aria-controls\", contentId);\n                        tabId = item.id = _elementId($(item), idx, true);\n                        this.setAttribute(\"aria-labelledby\", tabId);\n                    }\n\n                    // set the get (possibly existing) ID on the content element\n                    this.setAttribute(\"id\", contentId);\n                });\n            } else {\n                items.each(function(idx) {\n                    var currentContent = contentElements.eq(idx),\n                        contentId = _elementId(currentContent, idx),\n                        tabId;\n\n                    // set the tab aria-controls attribute to the content ID\n                    this.setAttribute(\"aria-controls\", contentId);\n\n                    tabId = this.id = _elementId($(this), idx, true);\n\n                    if (!currentContent.length && contentUrls[idx]) {\n                        // Append content element in case contentUrl is used\n                        $(\"<div class='\" + CONTENT + \"'/>\").appendTo(that.wrapper).attr(\"id\", contentId);\n                    } else {\n                        // set the ID on the content element\n                        currentContent.attr(\"id\", contentId);\n\n                        if (!$(this).children(\".k-loading\")[0] && !contentUrls[idx]) {\n                            $(\"<span class='k-loading k-complete'/>\").prependTo(this);\n                        }\n                    }\n\n                    currentContent.attr(\"role\", \"tabpanel\");\n                    currentContent.attr(\"tabindex\", \"0\");\n                    currentContent.attr(\"aria-labelledby\", tabId);\n                    currentContent.filter(\":not(.\" + ACTIVESTATE + \")\").attr(\"aria-hidden\", true).attr(\"aria-expanded\", false);\n                    currentContent.filter(\".\" + ACTIVESTATE).attr(\"aria-expanded\", true);\n                });\n            }\n\n            that.contentElements = that.contentAnimators = that.wrapper.children(\"div:not(.k-tabstrip-items-wrapper)\"); // refresh the contents\n\n            that.tabsHeight = outerHeight(that.tabGroup) +\n                              parseInt(that.wrapper.css(\"border-top-width\"), 10) +\n                              parseInt(that.wrapper.css(\"border-bottom-width\"), 10);\n\n            if (kendo.kineticScrollNeeded && kendo.mobile.ui.Scroller) {\n                kendo.touchScroller(that.contentElements);\n                that.contentElements = that.contentElements.children(\".km-scroll-container\");\n            }\n        },\n\n        _wrapper: function() {\n            var that = this;\n\n            if (that.element.is(\"ul\")) {\n                that.wrapper = that.element.wrapAll(\"<div />\").parent();\n            } else {\n                that.wrapper = that.element;\n            }\n        }\n    });\n\n    // client-side rendering\n    extend(TabStrip, {\n        renderItem: function(options) {\n            options = extend({ tabStrip: {}, group: {} }, options);\n\n            var empty = templates.empty,\n                item = options.item;\n\n            return templates.item(extend(options, {\n                image: item.imageUrl ? templates.image : empty,\n                sprite: item.spriteCssClass ? templates.sprite : empty,\n                itemWrapper: templates.itemWrapper\n            }, rendering));\n        },\n\n        renderContent: function(options) {\n            return templates.content(extend(options, rendering));\n        }\n    });\n\n    kendo.ui.plugin(TabStrip);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.timepicker',[ \"./kendo.popup\", \"./kendo.dateinput\", \"./kendo.html.button\"], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"timepicker\",\n    name: \"TimePicker\",\n    category: \"web\",\n    description: \"The TimePicker widget allows the end user to select a value from a list of predefined values or to type a new value.\",\n    depends: [ \"popup\", \"html.button\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        keys = kendo.keys,\n        html = kendo.html,\n        parse = kendo.parseDate,\n        activeElement = kendo._activeElement,\n        extractFormat = kendo._extractFormat,\n        support = kendo.support,\n        browser = support.browser,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        CHANGE = \"change\",\n        ns = \".kendoTimePicker\",\n        CLICK = \"click\" + ns,\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        LI = \"li\",\n        SPAN = \"<span></span>\",\n        FOCUSED = \"k-focus\",\n        HOVER = \"k-hover\",\n        HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n        MOUSEDOWN = \"mousedown\" + ns,\n        MS_PER_MINUTE = 60000,\n        MS_PER_DAY = 86400000,\n        SELECTED = \"k-selected\",\n        STATEDISABLED = \"k-disabled\",\n        ARIA_SELECTED = \"aria-selected\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        ID = \"id\",\n        isArray = Array.isArray,\n        extend = $.extend,\n        proxy = $.proxy,\n        DATE = Date,\n        dateFormatRegExp = /d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|\"[^\"]*\"|'[^']*'/g,\n        LITERAL = \"literal\",\n        MONTH = \"month\",\n        HOUR = \"hour\",\n        ZONE = \"zone\",\n        WEEKDAY = \"weekday\",\n        QUARTER = \"quarter\",\n        DATE_FIELD_MAP = {\n            \"G\": \"era\",\n            \"y\": \"year\",\n            \"q\": QUARTER,\n            \"Q\": QUARTER,\n            \"M\": MONTH,\n            \"L\": MONTH,\n            \"d\": \"day\",\n            \"E\": WEEKDAY,\n            \"c\": WEEKDAY,\n            \"e\": WEEKDAY,\n            \"h\": HOUR,\n            \"H\": HOUR,\n            \"k\": HOUR,\n            \"K\": HOUR,\n            \"m\": \"minute\",\n            \"s\": \"second\",\n            \"a\": \"dayperiod\",\n            \"x\": ZONE,\n            \"X\": ZONE,\n            \"z\": ZONE,\n            \"Z\": ZONE\n        },\n        NAME_TYPES = {\n            month: {\n                type: \"months\",\n                minLength: 3,\n                standAlone: \"L\"\n            },\n\n            quarter: {\n                type: \"quarters\",\n                minLength: 3,\n                standAlone: \"q\"\n            },\n\n            weekday: {\n                type: \"days\",\n                minLength: {\n                    E: 0,\n                    c: 3,\n                    e: 3\n                },\n                standAlone: \"c\"\n            },\n\n            dayperiod: {\n                type: \"dayPeriods\",\n                minLength: 0\n            },\n\n            era: {\n                type: \"eras\",\n                minLength: 0\n            }\n        },\n        TODAY = new DATE(),\n        MODERN_RENDERING_TEMPLATE = '<div tabindex=\"0\" class=\"k-timeselector #=mainSize#\">' +\n            '<div class=\"k-time-header\">' +\n                '<span class=\"k-title\"></span>' +\n                '<button class=\"k-button #=buttonSize# k-rounded-md k-button-flat k-button-flat-base k-time-now\" title=\"Select now\" aria-label=\"Select now\"><span class=\"k-button-text\">#=messages.now#</span></button>' +\n            '</div>' +\n            '<div class=\"k-time-list-container\">' +\n                '<span class=\"k-time-highlight\"></span>' +\n            '</div>' +\n        '</div>',\n        NEW_RENDERING_FOOTER = '<div class=\"k-time-footer k-action-buttons\">' +\n            '<button class=\"k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-base k-time-cancel\" title=\"Cancel changes\" aria-label=\"Cancel changes\"><span class=\"k-button-text\">#=messages.cancel#</span></button>' +\n            '<button class=\"k-time-accept k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-primary\" title=\"Set time\" aria-label=\"Set time\"><span class=\"k-button-text\">#=messages.set#</span></button>' +\n            '</div>',\n        HIGHLIGHTCONTAINER = '<span class=\"k-time-highlight\"></span>';\n\n        TODAY = new Date(TODAY.getFullYear(), TODAY.getMonth(), TODAY.getDate(), 0, 0, 0);\n\n    var TimeView = function(options) {\n        var that = this,\n        id = options.id;\n\n        that.options = options;\n        that._dates = [];\n\n        that._createList(options.timeView && options.timeView.list === \"scroll\");\n\n        if (id) {\n            that._timeViewID = id + \"_timeview\";\n            that._optionID = id + \"_option_selected\";\n\n            that.ul.attr(ID, that._timeViewID);\n        }\n\n        that._heightHandler = proxy(that._height, that);\n        that._ariaLabel();\n        that._popup();\n    };\n\n    TimeView.prototype = {\n        _createList: function (scroll) {\n            if (scroll) {\n                this._createScrollList();\n            } else {\n                this._createClassicRenderingList();\n            }\n        },\n        _createScrollList: function () {\n            var templateOptions = $.extend({}, this.options, {\n                mainSize: kendo.getValidCssClass(\"k-timeselector-\", \"size\", this.options.size || \"medium\"),\n                buttonSize: kendo.getValidCssClass(\"k-button-\", \"size\", this.options.size || \"medium\")\n            });\n            this.list = $(kendo.template(MODERN_RENDERING_TEMPLATE)(templateOptions))\n                .on(MOUSEDOWN, preventDefault);\n\n            if (!this.options.omitPopup) {\n                this.list.append(kendo.template(NEW_RENDERING_FOOTER)(templateOptions));\n            }\n\n            this.ul = this.list.find(\".k-time-list-container\");\n            this.list.on(\"click\"+ns, \".k-time-header button.k-time-now\", proxy(this._nowClickHandler, this));\n            this.list.on(\"click\"+ns, \".k-time-footer button.k-time-cancel\", proxy(this._cancelClickHandler, this));\n            this.list.on(\"click\"+ns, \".k-time-footer button.k-time-accept\", proxy(this._setClickHandler, this));\n            this.list.on(\"mouseover\"+ns, \".k-time-list-wrapper\", proxy(this._mouseOverHandler, this));\n            this.list.on(\"keydown\"+ns, proxy(this._scrollerKeyDownHandler, this));\n        },\n\n        _ariaLabel: function(){\n            var that = this;\n            var inputElm = $(\"#\"+that.options.id);\n            var ul = that.ul;\n            var id = inputElm.attr(\"id\");\n            var labelElm = $(\"label[for=\\'\" + id  + \"\\']\");\n            var ariaLabel = inputElm.attr(\"aria-label\");\n            var ariaLabelledBy = inputElm.attr(\"aria-labelledby\");\n            var labelId;\n\n            if (ariaLabel) {\n                ul.attr(\"aria-label\", ariaLabel);\n            } else if (ariaLabelledBy){\n                ul.attr(\"aria-labelledby\", ariaLabelledBy);\n            } else if (labelElm.length){\n                labelId = labelElm.attr(\"id\");\n                if (labelId) {\n                    ul.attr(\"aria-labelledby\", labelId);\n                } else {\n                    labelId = kendo.guid();\n                    labelElm.attr(\"id\", labelId);\n                    ul.attr(\"aria-labelledby\", labelId);\n                }\n            }\n        },\n\n        _scrollerKeyDownHandler: function (e) {\n            var that = this,\n                key = e.keyCode,\n                list = $(e.currentTarget).find(\".k-time-list-wrapper.k-focus\"),\n                lists = that.list.find(\".k-time-list-wrapper\"),\n                length = lists.length,\n                index = lists.index(list),\n                isRtl = kendo.support.isRtl(that.wrapper),\n                itemHeight = getItemHeight(list.find(\".k-item:visible\").eq(0)),\n                container = list.find(\".k-time-container.k-content.k-scrollable\");\n\n            if (!list.length) {\n                return;\n            }\n\n            if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                if (index + 1 < length) {\n                    that._focusList(lists.eq(index + 1));\n                }\n\n            } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                if (index - 1 >= 0) {\n                    that._focusList(lists.eq(index - 1));\n                }\n            } else if (key == keys.UP) {\n                container.scrollTop(container.scrollTop() - itemHeight);\n                e.preventDefault();\n            } else if (key == keys.DOWN) {\n                container.scrollTop(container.scrollTop() + itemHeight);\n                e.preventDefault();\n            } else if (key === keys.ENTER) {\n                that._setClickHandler();\n            } else if (key === keys.ESC) {\n                that._cancelClickHandler();\n            }\n        },\n\n        _mouseOverHandler: function (e) {\n            this._focusList($(e.currentTarget));\n        },\n\n        _focusList: function(list){\n            this.list.find(\".k-time-list-wrapper\").removeClass(FOCUSED);\n            list.addClass(FOCUSED);\n            this.list.trigger(\"focus\");\n            this._scrollTop = list.find('.k-scrollable').scrollTop();\n        },\n        _createClassicRenderingList: function () {\n            var that = this;\n            var listParent = $('<div class=\"k-list ' + kendo.getValidCssClass(\"k-list-\", \"size\", that.options.size) + '\"><ul tabindex=\"-1\" role=\"listbox\" aria-hidden=\"true\" unselectable=\"on\" class=\"k-list-ul\"/></div>');\n\n            that.ul = listParent.find(\"ul\")\n                .css({\n                    overflow: support.kineticScrollNeeded ? \"\" : \"auto\"\n                })\n                .on(CLICK, LI, proxy(that._click, that))\n                .on(\"mouseenter\" + ns, LI, function () {\n                    $(this).addClass(HOVER);\n                })\n                .on(\"mouseleave\" + ns, LI, function () {\n                    $(this).removeClass(HOVER);\n                });\n\n            that.list = $(\"<div class='k-list-container k-list-scroller' unselectable='on'/>\")\n                .append(listParent)\n                .on(MOUSEDOWN, preventDefault);\n\n            that.template = kendo.template('<li tabindex=\"-1\" role=\"option\" class=\"k-list-item\" unselectable=\"on\"><span class=\"k-list-item-text\">#=data#</span></li>', {\n                useWithBlock: false\n            });\n\n        },\n        current: function(candidate) {\n            var that = this,\n                active = that.options.active;\n\n            if (candidate !== undefined) {\n                if (that._current) {\n                    that._current\n                        .removeClass(SELECTED);\n                        if(that._current && that._current.length) {\n                            that._current[0].removeAttribute(ID);\n                            that._current[0].removeAttribute(ARIA_SELECTED);\n                        }\n                }\n\n                if (candidate) {\n                    candidate = $(candidate).addClass(SELECTED)\n                                            .attr(ID, that._optionID)\n                                            .attr(ARIA_SELECTED, true);\n\n                    that.scroll(candidate[0]);\n                }\n\n                that._current = candidate;\n\n                if (active) {\n                    active(candidate);\n                }\n            } else {\n                return that._current;\n            }\n        },\n\n        _updateTitle: function () {\n            this.list.find(\".k-time-header > .k-title\").html(kendo.toString(this._value, this.options.format, this.options.culture));\n        },\n\n        applyValue: function (value) {\n            if (!value) {\n                return;\n            }\n\n            var is12hourFormat = includes(this.options.format.toLowerCase(), \"t\");\n            var hours = value.getHours();\n            var minutes = value.getMinutes();\n            var seconds = value.getSeconds();\n            var designator;\n            var indexAttr = kendo.attr('index');\n            var hoursList = this.ul.find('[' + indexAttr + '=\"1\"]');\n            var minutessList = this.ul.find('[' + indexAttr + '=\"2\"]');\n            var secondsList = this.ul.find('[' + indexAttr + '=\"3\"]');\n            var designatorList = this.ul.find('[' + indexAttr + '=\"4\"]');\n\n            if (is12hourFormat) {\n                if (hours >= 12) {\n                    designator = \"PM\";\n                    if (hours > 12) {\n                        hours -= 12;\n                    }\n                } else {\n                    designator = \"AM\";\n                    if (hours === 0) {\n                        hours = 12;\n                    }\n                }\n            }\n\n            this._internalScroll = true;\n            if (hoursList.length) {\n                this._scrollListToPosition(hoursList, hours);\n            }\n\n            if (minutessList.length) {\n                this._scrollListToPosition(minutessList, minutes);\n            }\n\n            if (secondsList.length) {\n                this._scrollListToPosition(secondsList, seconds);\n            }\n\n            if (designatorList.length) {\n                this._scrollListToPosition(designatorList, designator);\n            }\n            this._internalScroll = false;\n        },\n\n        _scrollListToPosition: function(list, value) {\n            var item = list.find('.k-item[data-value=\"' + pad(value) + '\"]');\n            var itemHeight = getItemHeight(item);\n\n            list.scrollTop(list.find(\".k-item:visible\").index(item) * itemHeight);\n        },\n\n        close: function() {\n            this.popup.close();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.ul.off(ns);\n            that.list.off(ns);\n            if (this.popup) {\n                that.popup.destroy();\n            }\n        },\n\n        open: function() {\n            var that = this;\n            var popupHovered;\n\n            if (!that.ul[0].firstChild || (that.ul.find(\"li\").length < 1)) {\n                that.bind();\n            }\n\n            // In some cases when the popup is opened resize is triggered which will cause it to close\n            // Setting the below flag will prevent this from happening\n            // Reference: https://github.com/telerik/kendo/pull/7553\n            popupHovered = that.popup._hovered;\n            that.popup._hovered = true;\n\n            that.popup.open();\n\n            setTimeout(function() {\n                that.popup._hovered = popupHovered;\n            }, 1);\n\n            if (that._current) {\n                that.scroll(that._current[0]);\n            }\n        },\n\n        dataBind: function(dates) {\n            var that = this,\n                options = that.options,\n                format = options.format,\n                toString = kendo.toString,\n                template = that.template,\n                length = dates.length,\n                idx = 0,\n                date,\n                html = \"\";\n\n            for (; idx < length; idx++) {\n                date = dates[idx];\n\n                if (isInRange(date, options.min, options.max)) {\n                    html += template(toString(date, format, options.culture));\n                }\n            }\n\n            that._html(html);\n        },\n\n        refresh: function() {\n            var that = this,\n                options = that.options,\n                format = options.format,\n                offset = dst(),\n                ignoreDST = offset < 0,\n                value = kendo.parseDate(that._value),\n                parsedValue = value ? mergeDateAndTime(value, options.min) : mergeDateAndTime(new Date(), options.min),\n                min = options.min,\n                max = options.max,\n                msMin = getMilliseconds(min),\n                msMax = getMilliseconds(max),\n                msLastTime = getMilliseconds(lastTimeOption(options.interval)),\n                msInterval = options.interval * MS_PER_MINUTE,\n                toString = kendo.toString,\n                template = that.template,\n                start = options.useValueToRender ? parsedValue : new Date(+options.min),\n                startDate = new DATE(start),\n                msStart,\n                length,\n                html = \"\";\n\n            if (ignoreDST) {\n                length = (MS_PER_DAY + (offset * MS_PER_MINUTE)) / msInterval;\n            } else {\n                length = MS_PER_DAY / msInterval;\n            }\n\n            if (msMin != msMax || msLastTime === msMax) {\n                if (msMin > msMax) {\n                    msMax += MS_PER_DAY;\n                }\n\n                length = ((msMax - msMin) / msInterval) + 1;\n            }\n\n            if (options.timeView && options.timeView.list === \"scroll\") {\n                html = that._createListContent(splitDateFormat(format));\n            } else {\n                that.getDatesInRange(msStart, msMax, startDate, max, msInterval, start).forEach(function (date) {\n                    html += template(toString(date, format, options.culture));\n                });\n            }\n\n            that._html(html);\n        },\n\n        _showAllHiddenItems: function() {\n            var items = this.list.find('.k-time-container');\n            var length = items.length;\n            var item;\n\n            for (var i = 0; i < length; i++) {\n                item = $(items[i]);\n                item.find('.k-item:hidden').show();\n                this._updateListBottomOffset(item);\n            }\n        },\n\n        _updateListBottomOffset: function (list) {\n            var itemHeight = getItemHeight(list.find(\".k-item:visible\").eq(0));\n            var listHeight = list.outerHeight();\n            var bottomOffset = listHeight - itemHeight;\n            list.find(\".k-scrollable-placeholder\").css({\n                height: list.find(\"ul\").height() + bottomOffset\n            });\n        },\n\n        _updateHoursRange: function () {\n            var that = this;\n            var indexAttr = kendo.attr('index');\n            var hoursList = this.ul.find('[' + indexAttr + '=\"1\"]');\n            var minHours = this._minHours;\n            var maxHours = this._maxHours;\n            var is12hourFormat = includes(this.options.format.toLowerCase(), \"t\");\n            var useMax;\n            var useMin;\n            var selectedDesignator = this._findSelectedValue(this.ul.find('[' + indexAttr + '=\"4\"]'));\n\n            if (!hoursList.length) {\n                return;\n            }\n\n            if (is12hourFormat && selectedDesignator) {\n\n                if (selectedDesignator === \"AM\") {\n                    if (minHours < 12) {\n                        useMin = true;\n                    }\n\n                    if (maxHours < 12) {\n                        useMax = true;\n                    }\n                } else if (selectedDesignator === \"PM\") {\n\n                    if (minHours > 12) {\n                        useMin = true;\n                        minHours -= 12;\n                    }\n\n                    if (maxHours > 12) {\n                        useMax = true;\n                        maxHours -= 12;\n                    }\n                }\n\n                hoursList.find(\".k-item\").each(function (_, item) {\n                    item = $(item);\n                    var value = +item.attr(\"data-value\");\n                    if ((that._validateMin && useMin && value < minHours) || (that._validateMax && useMax && value > maxHours)) {\n                        item.hide();\n                    } else {\n                        item.show();\n                    }\n                });\n            } else {\n                hoursList.find(\".k-item\").each(function (_, item) {\n                    item = $(item);\n                    var value = +item.attr(\"data-value\");\n                    if ((that._validateMin && value < minHours) ||\n                        (that._validateMax && value > maxHours)) {\n                        item.hide();\n                    } else {\n                        item.show();\n                    }\n                });\n            }\n\n            this._updateListBottomOffset(hoursList);\n        },\n\n        _updateMinutesRange: function () {\n            var that = this;\n            var indexAttr = kendo.attr('index');\n            var minutesList = this.ul.find('[' + indexAttr + '=\"2\"]');\n            var minHours = this._minHours;\n            var maxHours = this._maxHours;\n            var minMinutes = this._minMinutes;\n            var maxMinutes = this._maxMinutes;\n            var selectedHour = +this._findSelectedValue(this.ul.find('[' + indexAttr + '=\"1\"]'));\n            var is12hourFormat = includes(this.options.format.toLowerCase(), \"t\");\n            var selectedDesignator = this._findSelectedValue(this.ul.find('[' + indexAttr + '=\"4\"]'));\n\n            if (is12hourFormat && selectedDesignator === \"PM\") {\n                selectedHour += 12;\n            }\n\n            if (!minutesList.length) {\n                return;\n            }\n\n            minutesList.find(\".k-item\").each(function (_, item) {\n                item = $(item);\n                var value = +item.attr(\"data-value\");\n                if ((that._validateMin && value < minMinutes && minHours && selectedHour === minHours) ||\n                    (that._validateMax && value > maxMinutes && maxHours && selectedHour === maxHours)) {\n                    item.hide();\n                } else {\n                    item.show();\n                }\n            });\n\n            this._updateListBottomOffset(minutesList);\n        },\n\n        _updateSecondsRange: function () {\n            var that = this;\n            var indexAttr = kendo.attr('index');\n            var secondsList = this.ul.find('[' + indexAttr + '=\"3\"]');\n            var minSeconds = this._minSeconds;\n            var maxSeconds = this._minSeconds;\n            var minMinutes = this._minMinutes;\n            var maxMinutes = this._maxMinutes;\n            var selectedMinutes = +this._findSelectedValue(this.ul.find('[' + indexAttr + '=\"2\"]'));\n\n            if (!secondsList.length) {\n                return;\n            }\n\n            secondsList.find(\".k-item\").each(function (_, item) {\n                item = $(item);\n                var value = +item.attr(\"data-value\");\n                if ((that._validateMin && value < minSeconds && minMinutes && selectedMinutes === minMinutes) ||\n                    (that._validateMax && value > maxSeconds && maxMinutes && selectedMinutes === maxMinutes)) {\n                    item.hide();\n                } else {\n                    item.show();\n                }\n            });\n\n            this._updateListBottomOffset(secondsList);\n        },\n\n        _updateDesignatorRange: function () {\n            var minHours = this._minHours;\n            var maxHours = this._maxHours;\n            var indexAttr = kendo.attr('index');\n            var designatorList = this.ul.find('[' + indexAttr + '=\"4\"]');\n\n            if (!designatorList.length) {\n               return;\n            }\n\n            if (this._validateMin && minHours >= 12) {\n                designatorList.find('.k-item[data-value=\"AM\"]').hide();\n            } else {\n                designatorList.find('.k-item[data-value=\"AM\"]').show();\n            }\n\n            if (this._validateMax && maxHours < 12) {\n                designatorList.find('.k-item[data-value=\"PM\"]').hide();\n            } else {\n                designatorList.find('.k-item[data-value=\"PM\"]').show();\n            }\n        },\n\n\n        _updateRanges: function () {\n            if (!this.options.specifiedRange) {\n                return;\n            }\n            if (!this._currentlySelected) {\n                this._currentlySelected = new Date();\n            }\n\n            var max = this.options.max;\n            var min = this.options.min;\n\n            if (this.options.validateDate) {\n                if (max.getFullYear() === this._currentlySelected.getFullYear() &&\n                    max.getMonth() === this._currentlySelected.getMonth() &&\n                    max.getDate() === this._currentlySelected.getDate()) {\n                    this._validateMax = true;\n                } else {\n                    this._validateMax = false;\n                }\n\n                if (min.getFullYear() === this._currentlySelected.getFullYear() &&\n                    min.getMonth() === this._currentlySelected.getMonth() &&\n                    min.getDate() === this._currentlySelected.getDate()) {\n                    this._validateMin = true;\n                } else {\n                    this._validateMin = false;\n                }\n\n                if (!this._validateMax && !this._validateMin) {\n                    this._showAllHiddenItems();\n                    return;\n                }\n            } else {\n                this._validateMax = true;\n                this._validateMin = true;\n            }\n\n            this._minMinutes = min.getMinutes();\n            this._maxMinutes = max.getMinutes();\n            this._minHours = min.getHours();\n            this._maxHours = max.getHours();\n            this._minSeconds = min.getSeconds();\n            this._maxSeconds = max.getSeconds();\n\n            this._updateDesignatorRange();\n            this._updateHoursRange();\n            this._updateMinutesRange();\n            this._updateSecondsRange();\n        },\n\n        addTranslate: function () {\n            var lists = this.ul.find(\".k-time-container.k-content.k-scrollable\");\n            var length = lists.length;\n            var list;\n            var itemHeight;\n            var listHeight;\n            var topOffset;\n            var translate;\n            var bottomOffset;\n\n            for (var i = 0; i < length; i++) {\n                list = lists.eq(i);\n                itemHeight = getItemHeight(list.find(\".k-item:visible\").eq(0));\n                listHeight = list.outerHeight();\n                topOffset = (listHeight - itemHeight) / 2;\n                translate = \"translateY(\" + topOffset + \"px)\";\n                bottomOffset = listHeight - itemHeight;\n                list.find(\"ul\").css({\n                    transform: translate,\n                    \"-ms-transform\": translate\n                });\n                list.find(\".k-scrollable-placeholder\").css({\n                    height: list.find(\"ul\").height() + bottomOffset\n                });\n                list.off(ns)\n                    .on(\"click\" + ns, \".k-item\", proxy(this._itemClickHandler, this))\n                    .on(\"scroll\" + ns, proxy(this._listScrollHandler, this));\n            }\n        },\n\n        _nowClickHandler: function (e) {\n            e.preventDefault();\n\n            var now = new Date();\n            this.value(now);\n            this.options.change(kendo.toString(now, this.options.format, this.options.culture), true);\n        },\n\n        _cancelClickHandler: function (e) {\n            e.preventDefault();\n            this.value(this._value);\n            this.popup.close();\n        },\n\n        _setClickHandler: function (e) {\n            e.preventDefault();\n            this._value = new Date(this._currentlySelected);\n\n            this.options.change(kendo.toString(this._currentlySelected, this.options.format, this.options.culture), true);\n            this.popup.close();\n        },\n\n        _listScrollHandler: function (e) {\n            var that = this;\n            var itemHeight = getItemHeight($(e.currentTarget).find(\".k-item:visible\").eq(0));\n\n            if (that._internalScroll) {\n                return;\n            }\n\n            if (that._scrollingTimeout) {\n                clearTimeout(that._scrollingTimeout);\n            }\n\n            that._scrollingTimeout = setTimeout(function () {\n                if (e.currentTarget.scrollTop % itemHeight > 1) {\n                    e.currentTarget.scrollTop += itemHeight - e.currentTarget.scrollTop % itemHeight;\n                }\n                that._scrollTop = e.currentTarget.scrollTop;\n                that._updateCurrentlySelected();\n                that._updateRanges();\n            }, 100);\n        },\n\n        _updateCurrentlySelected: function () {\n            var is12hourFormat = includes(this.options.format.toLowerCase(), \"t\");\n            var indexAttr = kendo.attr('index');\n            var hoursList = this.ul.find('[' + indexAttr + '=\"1\"]');\n            var minutesList = this.ul.find('[' + indexAttr + '=\"2\"]');\n            var secondsList = this.ul.find('[' + indexAttr + '=\"3\"]');\n            var designatorList = this.ul.find('[' + indexAttr + '=\"4\"]');\n            var selectedHour;\n            var selectedMinutes;\n            var selectedSeconds;\n            var selectedDesignator;\n\n            if (!this.ul.is(\":visible\")) {\n                return;\n            }\n\n            if (!this._currentlySelected) {\n                this._currentlySelected = this._value ? new Date(this._value) : new Date();\n            }\n\n            if (hoursList.length) {\n                selectedHour = +this._findSelectedValue(hoursList);\n            }\n\n            if (minutesList.length) {\n                selectedMinutes = +this._findSelectedValue(minutesList);\n            }\n\n            if (secondsList.length) {\n                selectedSeconds = +this._findSelectedValue(secondsList);\n            }\n\n            if (designatorList.length) {\n                selectedDesignator = this._findSelectedValue(designatorList);\n            }\n\n            if (is12hourFormat) {\n                if (selectedDesignator == \"PM\") {\n                    selectedHour += 12;\n                    if (selectedHour == 24) {\n                        selectedHour = 12;\n                    }\n                }\n\n                if (selectedDesignator === \"AM\" && selectedHour === 12) {\n                    selectedHour = 0;\n                }\n            }\n\n            if (selectedHour !== undefined) {\n                this._currentlySelected.setHours(selectedHour);\n            }\n\n            if (selectedMinutes !== undefined) {\n                this._currentlySelected.setMinutes(selectedMinutes);\n            }\n\n            if (selectedSeconds !== undefined) {\n                this._currentlySelected.setSeconds(selectedSeconds);\n            }\n        },\n\n        _findSelectedValue: function(list) {\n           var firstOccurence = firstItemIndex(list.scrollTop(), getItemHeight(list.find(\".k-item:visible\").eq(0)));\n           return list.find(\".k-item:visible\").eq(firstOccurence).attr(\"data-value\");\n        },\n\n        _itemClickHandler: function (e) {\n            var list = $(e.originalEvent.currentTarget);\n            var index = list.find(\".k-item:visible\").index($(e.currentTarget));\n            var itemHeight = getItemHeight(list.find(\".k-item:visible\").eq(0));\n\n            list.scrollTop(index * itemHeight);\n        },\n\n        getDatesInRange: function (msStart, msMax, startDate, max, msInterval, start) {\n            var result = [];\n\n            while (true) {\n                if (msMax && (getMilliseconds(start) >= msMax || startDate.getDate() != start.getDate())) {\n                    msStart = getMilliseconds(start);\n                    if (startDate < start) {\n                        msStart += MS_PER_DAY;\n                    }\n                    if (msStart > msMax) {\n                        start = new DATE(+max);\n                    }\n                    if (getMilliseconds(start) > 0) {\n                        result.push(new Date(start));\n                    }\n                    break;\n                }\n                if (startDate.getDate() != start.getDate()) {\n                    break;\n                }\n                result.push(new Date(start));\n                start.setTime(start.getTime() + msInterval);\n                if (!msMax && this.options.maxSet){\n                    break;\n                }\n            }\n\n            return result;\n        },\n\n        _createListContent: function (parts) {\n            var length = parts.length;\n            var result = \"\";\n            var part;\n            var values;\n\n            for (var i = 0; i < length; i++) {\n                part = parts[i];\n\n                if (part.type === \"literal\") {\n                    result += this._literalTemplate(part);\n                } else {\n                    values = this._getValues(part, true);\n                    result += this._itemTemplate(values.values, part, this.options.messages[part.type], values.index);\n                }\n            }\n\n            return result;\n        },\n\n        _itemTemplate: function (values, part, title, index) {\n            var result =\"\";\n            var length = values.length;\n            var indexAttr = kendo.attr('index');\n\n            result += '<div class=\"k-time-list-wrapper\" role=\"presentation\">' +\n                        '<span class=\"k-title\">' + (title || part.type) + '</span>' +\n                        '<div class=\"k-time-list\">' +\n                            '<div class=\"k-time-container k-content k-scrollable\" role=\"presentation\" ' + indexAttr + '=\"' + index + '\">' +\n                                '<ul class=\"k-reset\">';\n\n            for( var i = 0;i < length; i++){\n                result += '<li class=\"k-item\" data-value=\"' + values[i] + '\">' +\n                                '<span>' + values[i] + '</span>' +\n                           '</li>';\n            }\n\n            result += '</ul>' +\n                      '<div class=\"k-scrollable-placeholder\"></div>' +\n                    '</div>' +\n                '</div>' +\n            '</div>';\n\n            return result;\n        },\n\n        _getValues: function (part, shouldPad) {\n            var result = [];\n            var index;\n            var start = 0;\n            var end;\n\n            if (part.type === \"hour\") {\n                start = part.hour12 ? 1 : 0;\n                index = 1;\n                end = part.hour12 ? 12 : 23;\n            } else if (part.type === \"minute\") {\n                index = 2;\n                end = 59;\n            } else if (part.type === \"second\") {\n                index = 3;\n                end = 59;\n            }\n\n            for (; start <= end; start++) {\n                result.push(shouldPad ? pad(start) : start);\n            }\n\n            return {\n                values: result,\n                index: index\n            };\n        },\n\n        _literalTemplate: function (part) {\n            var result = '<div class=\"k-time-separator\">' +\n                (part.pattern === \" tt\" ? ':' : part.pattern) +\n                '</div>';\n\n            if (part.pattern === \" tt\") {\n                result += this._itemTemplate([\"AM\", \"PM\"], part, \"AM/PM\", 4);\n            }\n\n            return result;\n        },\n\n        bind: function() {\n            var that = this,\n                dates = that.options.dates;\n\n            if (dates && dates[0]) {\n                that.dataBind(dates);\n            } else {\n                that.refresh();\n            }\n        },\n\n        _html: function(html) {\n            var that = this;\n\n            if (that.options.timeView && that.options.timeView.list === \"scroll\") {\n                html = HIGHLIGHTCONTAINER + html;\n                that.ul.html(html);\n            } else {\n                that.ul[0].innerHTML = html;\n                that.popup.unbind(OPEN, that._heightHandler);\n                that.popup.one(OPEN, that._heightHandler);\n\n                that.current(null);\n                that.select(that._value);\n            }\n        },\n\n        scroll: function(item) {\n            if (!item) {\n                return;\n            }\n\n            if (item.scrollIntoViewIfNeeded) {\n                item.scrollIntoViewIfNeeded();\n            } else {\n                scrollIntoViewIfNeeded(item);\n            }\n        },\n\n        select: function(li) {\n            var that = this,\n                options = that.options,\n                current = that._current,\n                selection;\n\n            if (li instanceof Date) {\n                li = kendo.toString(li, options.format, options.culture);\n            }\n\n            if (typeof li === \"string\") {\n                if (!current || current.text() !== li) {\n                    li = $.grep(that.ul[0].childNodes, function(node) {\n                        return (node.textContent || node.innerText) == li;\n                    });\n\n                    li = li[0] ? li : null;\n                } else {\n                    li = current;\n                }\n            }\n            selection = that._distinctSelection(li);\n            that.current(selection);\n        },\n\n        _distinctSelection: function(selection) {\n            var that = this,\n                currentValue,\n                selectionIndex;\n\n            if (selection && selection.length > 1) {\n                currentValue = getMilliseconds(that._value);\n                selectionIndex = $.inArray(currentValue, that._dates);\n                selection = that.ul.children()[selectionIndex];\n            }\n\n            return selection;\n        },\n\n        setOptions: function(options) {\n            var old = this.options;\n\n            options.min = parse(options.min);\n            options.max = parse(options.max);\n\n            this.options = extend(old, options, {\n                active: old.active,\n                change: old.change,\n                close: old.close,\n                open: old.open\n            });\n\n            this.bind();\n        },\n\n        toggle: function() {\n            var that = this;\n\n            if (that.popup.visible()) {\n                that.close();\n            } else {\n                that.open();\n            }\n        },\n\n        value: function(value) {\n            var that = this;\n\n            that._value = value;\n            if (that.ul[0].firstChild) {\n                if (that.options.timeView && that.options.timeView.list === \"scroll\") {\n                    that.applyValue(value);\n                } else {\n                    that.select(value);\n                }\n            }\n        },\n\n        _click: function(e) {\n            var that = this,\n                li = $(e.currentTarget),\n                date = li.text(),\n                dates = that.options.dates;\n\n            if (dates && dates.length > 0) {\n                date = dates[li.index()];\n            }\n\n            if (!e.isDefaultPrevented()) {\n                that.select(li);\n                that.options.change(date, true);\n                that.close();\n            }\n        },\n\n        _height: function() {\n            var that = this;\n            var list = that.list;\n            var parent = list.parent(\".k-animation-container\");\n            var height = that.options.height;\n\n            if (that.ul[0].children.length) {\n                list.add(parent)\n                    .show()\n                    .height(that.ul[0].scrollHeight > height ? height : \"auto\")\n                    .hide();\n            }\n        },\n\n        _parse: function(value) {\n            var that = this,\n                options = that.options,\n                min = getMilliseconds(options.min) != getMilliseconds(TODAY) ? options.min : null,\n                max = getMilliseconds(options.max) != getMilliseconds(TODAY) ? options.max : null,\n                current = that._value || min || max || TODAY;\n\n            if (value instanceof DATE) {\n                return value;\n            }\n\n            value = parse(value, options.parseFormats, options.culture);\n\n            if (value) {\n                value = new DATE(current.getFullYear(),\n                                 current.getMonth(),\n                                 current.getDate(),\n                                 value.getHours(),\n                                 value.getMinutes(),\n                                 value.getSeconds(),\n                                 value.getMilliseconds());\n            }\n\n            return value;\n        },\n\n        _adjustListWidth: function() {\n            var list = this.list,\n                width = list[0].style.width,\n                wrapper = this.options.anchor,\n                computedStyle, computedWidth,\n                outerWidth = kendo._outerWidth;\n\n            if (!list.data(\"width\") && width) {\n                return;\n            }\n\n            computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\n            computedWidth = computedStyle ? parseFloat(computedStyle.width) : outerWidth(wrapper);\n\n            if (computedStyle && (browser.mozilla || browser.msie)) { // getComputedStyle returns different box in FF and IE.\n                computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\n            }\n\n            width = computedWidth - (outerWidth(list) - list.width());\n\n            list.css({\n                fontFamily: wrapper.css(\"font-family\"),\n                width: width\n            })\n            .data(\"width\", width);\n        },\n\n        _popup: function() {\n            var that = this,\n                list = that.list,\n                options = that.options,\n                anchor = options.anchor;\n\n            if(!this.options.omitPopup){\n\n                that.popup = new ui.Popup(list, extend(options.popup, {\n                    anchor: anchor,\n                    open: options.open,\n                    close: options.close,\n                    animation: options.animation,\n                    isRtl: support.isRtl(options.anchor),\n                    activate: function () {\n                        if (that.options.timeView && that.options.timeView.list === \"scroll\") {\n                            that.addTranslate();\n                            if (that._value) {\n                                that.applyValue(that._value);\n                            } else {\n                                that._updateCurrentlySelected();\n                            }\n                            that._updateRanges();\n                            that._focusList(that.list.find(\".k-time-list-wrapper\").eq(0));\n                        }\n                    }\n                }));\n            } else {\n                list.appendTo(options.timeDiv);\n            }\n        },\n\n        move: function(e) {\n            var that = this,\n                key = e.keyCode,\n                ul = that.ul[0],\n                current = that._current,\n                down = key === keys.DOWN;\n\n            if (key === keys.UP || down) {\n                if (e.altKey) {\n                    that.toggle(down);\n                    return;\n                } else if (down) {\n                    current = current ? current[0].nextSibling : ul.firstChild;\n                } else {\n                    current = current ? current[0].previousSibling : ul.lastChild;\n                }\n\n                if (current) {\n                    that.select(current);\n                }\n\n                that.options.change(that._current.text());\n                e.preventDefault();\n\n            } else if (key === keys.ENTER || key === keys.TAB || key === keys.ESC) {\n                e.preventDefault();\n                if (current) {\n                    that.options.change(current.text(), true);\n                }\n                that.close();\n            }\n        }\n    };\n\n    function dst() {\n        var today = new DATE(),\n            midnight = new DATE(today.getFullYear(), today.getMonth(), today.getDate(), 0, 0, 0),\n            noon = new DATE(today.getFullYear(), today.getMonth(), today.getDate(), 12, 0, 0);\n\n        return -1 * (midnight.getTimezoneOffset() - noon.getTimezoneOffset());\n    }\n\n    function getMilliseconds(date) {\n        return date.getHours() * 60 * MS_PER_MINUTE + date.getMinutes() * MS_PER_MINUTE + date.getSeconds() * 1000 + date.getMilliseconds();\n    }\n\n    function lastTimeOption(interval) {\n        var date = new Date(2100, 0, 1);\n        date.setMinutes(-interval);\n        return date;\n    }\n\n    function isInRange(value, min, max) {\n        var msMin = getMilliseconds(min),\n            msMax = getMilliseconds(max),\n            msValue;\n\n        if (!value || msMin == msMax) {\n            return true;\n        }\n\n        msValue = getMilliseconds(value);\n\n        if (msMin > msValue) {\n            msValue += MS_PER_DAY;\n        }\n\n        if (msMax < msMin) {\n            msMax += MS_PER_DAY;\n        }\n\n        return msValue >= msMin && msValue <= msMax;\n    }\n\n    TimeView.getMilliseconds = getMilliseconds;\n\n    kendo.TimeView = TimeView;\n\n    var TimePicker = Widget.extend({\n        init: function(element, options) {\n            var that = this, ul, timeView, disabled;\n\n            options = options || {};\n            options.componentType = options.componentType || \"classic\";\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            options.min = parse(element.attr(\"min\")) || parse(options.min);\n            options.max = parse(element.attr(\"max\")) || parse(options.max);\n\n            if (+options.max != +TODAY || +options.min != +TODAY) {\n                this._specifiedRange = true;\n            }\n\n            normalize(options);\n\n            that._initialOptions = extend({}, options);\n\n            that._wrapper();\n\n            if (that.options.timeView && that.options.timeView.list === \"scroll\") {\n                that.options.height = null;\n            }\n\n            that.timeView = timeView = new TimeView(extend({}, options, {\n                id: element.attr(ID),\n                anchor: that.wrapper,\n                format: options.format,\n                change: function(value, trigger) {\n                    if (trigger) {\n                        that._change(value);\n                    } else {\n                        element.val(value);\n                    }\n                },\n                open: function(e) {\n                    if (that.options.timeView && that.options.timeView.list !== \"scroll\") {\n                        that.timeView._adjustListWidth();\n                    } else {\n                        that.timeView._updateTitle();\n                    }\n\n                    if (that.trigger(OPEN)) {\n                        e.preventDefault();\n                    } else {\n                        element.attr(ARIA_EXPANDED, true);\n                        ul.attr(ARIA_HIDDEN, false);\n                    }\n                },\n                close: function(e) {\n                    if (that.trigger(CLOSE)) {\n                        e.preventDefault();\n                    } else {\n                        element.attr(ARIA_EXPANDED, false);\n                        ul.attr(ARIA_HIDDEN, true);\n                    }\n                },\n                active: function(current) {\n                    if(element && element.length) {\n                        element[0].removeAttribute(ARIA_ACTIVEDESCENDANT);\n                    }\n                    if (current) {\n                        element.attr(ARIA_ACTIVEDESCENDANT, timeView._optionID);\n                    }\n                },\n                specifiedRange: that._specifiedRange,\n                maxSet: +options.max != +TODAY\n            }));\n            ul = timeView.ul;\n\n            that._icon();\n            that._reset();\n\n            try {\n                element[0].setAttribute(\"type\", \"text\");\n            } catch(e) {\n                element[0].type = \"text\";\n            }\n\n            element.addClass(\"k-input-inner\")\n                   .attr({\n                        \"role\": \"combobox\",\n                        \"aria-expanded\": false,\n                        \"aria-owns\": timeView._timeViewID,\n                        \"autocomplete\": \"off\"\n                   });\n\n            disabled = element.is(\"[disabled]\") || $(that.element).parents(\"fieldset\").is(':disabled');\n            if (disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(element.is(\"[readonly]\"));\n            }\n            if (options.dateInput) {\n                var min = options.min;\n                var max = options.max;\n                var today = new DATE();\n                if (getMilliseconds(min) == getMilliseconds(max)) {\n                    min = new DATE(today.getFullYear(), today.getMonth(), today.getDate(), 0, 0, 0);\n                    max = new DATE(today.getFullYear(), today.getMonth(), today.getDate(), 24, 0, 0);\n                }\n\n                that._dateInput = new ui.DateInput(element, {\n                    culture: options.culture,\n                    format: options.format,\n                    min: min,\n                    max: max,\n                    value: options.value,\n                    interval: options.interval,\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    rounded: options.rounded\n                });\n            }\n            that._old = that._update(options.value || that.element.val());\n            that._oldText = element.val();\n            that._applyCssClasses();\n\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"TimePicker\",\n            min: TODAY,\n            max: TODAY,\n            format: \"\",\n            dates: [],\n            parseFormats: [],\n            value: null,\n            interval: 30,\n            height: 200,\n            animation: {},\n            dateInput: false,\n            messages: {\n                set: \"Set\",\n                cancel: \"Cancel\",\n                hour: \"hour\",\n                minute: \"minute\",\n                second: \"second\",\n                millisecond: \"millisecond\",\n                now: \"Now\"\n            },\n            componentType: \"classic\",\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n         OPEN,\n         CLOSE,\n         CHANGE\n        ],\n\n        componentTypes: {\n            \"classic\": {\n                timeView: {\n                    list: \"list\"\n                }\n            },\n            \"modern\": {\n                timeView: {\n                    list: \"scroll\"\n                }\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this;\n            var value = that._value;\n\n            Widget.fn.setOptions.call(that, options);\n            options = that.options;\n\n            if (+options.max != +TODAY || +options.min != +TODAY) {\n                this._specifiedRange = true;\n            }\n\n            that._arrow.off(ns);\n            that._arrow.remove();\n\n            normalize(options);\n\n            that.timeView.setOptions(options);\n\n            that._icon();\n            that._editable(options);\n\n            if (value) {\n                that.element.val(kendo.toString(value, options.format, options.culture));\n            }\n        },\n\n        dataBind: function(dates) {\n            if (isArray(dates)) {\n                this.timeView.dataBind(dates);\n            }\n        },\n\n        _editable: function(options) {\n            var that = this,\n                disable = options.disable,\n                readonly = options.readonly,\n                arrow = that._arrow.off(ns),\n                element = that.element.off(ns),\n                wrapper = that.wrapper.off(ns);\n\n            if (that._dateInput) {\n                that._dateInput._unbindInput();\n            }\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                if(element && element.length) {\n                    element[0].removeAttribute(DISABLED);\n                    element[0].removeAttribute(READONLY);\n                }\n                element.attr(ARIA_DISABLED, false)\n                       .attr(ARIA_READONLY, false)\n                       .on(\"keydown\" + ns, proxy(that._keydown, that))\n                       .on(\"focusout\" + ns, proxy(that._blur, that))\n                       .on(\"focus\" + ns, function() {\n                           that.wrapper.addClass(FOCUSED);\n                       });\n\n                if (that._dateInput) {\n                    that._dateInput._bindInput();\n                }\n               arrow.on(CLICK, proxy(that._click, that))\n                   .on(MOUSEDOWN, preventDefault);\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable)\n                       .attr(ARIA_READONLY, readonly);\n            }\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that.timeView.destroy();\n\n            that.element.off(ns);\n            that._arrow.off(ns);\n            that.wrapper.off(ns);\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n        },\n\n        close: function() {\n            this.timeView.close();\n        },\n\n        open: function() {\n            this.timeView.open();\n        },\n\n        min: function (value) {\n            if (value) {\n                this._specifiedRange = true;\n            }\n\n            return this._option(\"min\", value);\n        },\n\n        max: function (value) {\n            if (value && this.timeView) {\n                this._specifiedRange = true;\n                this.timeView.options.maxSet = true;\n            } else if (this.timeView) {\n                this.timeView.options.maxSet = false;\n            }\n            return this._option(\"max\", value);\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            that._old = that._update(value);\n\n            if (that._old === null) {\n                that.element.val(\"\");\n            }\n\n            that._oldText = that.element.val();\n        },\n\n        _blur: function() {\n            var that = this,\n                value = that.element.val();\n\n           if (!(that.options.timeView && that.options.timeView.list === \"scroll\")) {\n               that.close();\n           }\n\n            if (value !== that._oldText) {\n                that._change(value);\n            }\n            that.wrapper.removeClass(FOCUSED);\n        },\n\n        _click: function() {\n            var that = this,\n                element = that.element;\n\n            that.timeView.toggle();\n\n            if (!support.touch && element[0] !== activeElement()) {\n                element.trigger(\"focus\");\n            }\n        },\n\n        _change: function(value) {\n            var that = this,\n            oldValue = that.element.val(),\n            dateChanged;\n\n            value = that._update(value);\n            dateChanged = !kendo.calendar.isEqualDate(that._old, value);\n\n            var valueUpdated = dateChanged && !that._typing;\n            var textFormatted = oldValue !== that.element.val();\n\n            if (valueUpdated || textFormatted) {\n                that.element.trigger(CHANGE);\n            }\n\n            if (dateChanged) {\n                that._old = value;\n                that._oldText = that.element.val();\n\n                that.trigger(CHANGE);\n            }\n\n            that._typing = false;\n        },\n\n        _icon: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                arrow;\n\n            arrow = element.next(\"button.k-input-button\");\n\n            if (!arrow[0]) {\n                arrow = $(html.renderButton('<button unselectable=\"on\" tabindex=\"-1\" class=\"k-input-button\" aria-label=\"select\"></button>', {\n                    icon: \"clock\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: null,\n                    rounded: null\n                })).insertAfter(element);\n            }\n\n            that._arrow = arrow.attr({\n                \"role\": \"button\",\n                \"aria-controls\": that.timeView._timeViewID\n            });\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                timeView = that.timeView,\n                value = that.element.val();\n\n            if (timeView.popup.visible() || e.altKey) {\n                timeView.move(e);\n                if (that._dateInput && e.stopImmediatePropagation) {\n                    e.stopImmediatePropagation();\n                }\n            } else if (key === keys.ENTER && value !== that._oldText) {\n                that._change(value);\n            } else {\n                that._typing = true;\n            }\n        },\n\n        _option: function(option, value) {\n            var that = this,\n                options = that.options;\n\n            if (value === undefined) {\n                return options[option];\n            }\n\n            value = that.timeView._parse(value);\n\n            if (!value) {\n                return;\n            }\n\n            value = new DATE(+value);\n\n            options[option] = value;\n            that.timeView.options[option] = value;\n            that.timeView.bind();\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === \"mouseenter\");\n        },\n\n        _update: function(value) {\n            var that = this,\n                options = that.options,\n                timeView = that.timeView,\n                date = timeView._parse(value);\n\n            if (!isInRange(date, options.min, options.max)) {\n                date = null;\n            }\n\n            that._value = date;\n            that._currentlySelected = date;\n            if (that._dateInput && date) {\n                that._dateInput.value(date || value);\n            } else {\n                that.element.val(kendo.toString(date || value, options.format, options.culture));\n            }\n            timeView.value(date);\n\n            return date;\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper;\n\n            wrapper = element.parents(\".k-timepicker\");\n\n            if (!wrapper[0]) {\n                wrapper = element.wrap(SPAN).parent();\n            }\n\n            wrapper[0].style.cssText = element[0].style.cssText;\n            that.wrapper = wrapper.addClass(\"k-timepicker k-input\")\n                .addClass(element[0].className);\n\n            element.css({\n                height: element[0].style.height\n            });\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    that.value(element[0].defaultValue);\n                    that.max(that._initialOptions.max);\n                    that.min(that._initialOptions.min);\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        }\n    });\n\n    function normalize(options) {\n        var parseFormats = options.parseFormats;\n\n        options.format = extractFormat(options.format || kendo.getCulture(options.culture).calendars.standard.patterns.t);\n\n        parseFormats = isArray(parseFormats) ? parseFormats : [parseFormats];\n        parseFormats.splice(0, 0, options.format);\n        options.parseFormats = parseFormats;\n    }\n\n    function preventDefault(e) {\n        e.preventDefault();\n    }\n\n    function mergeDateAndTime(date, time) {\n        return new Date(date.getFullYear(),\n            date.getMonth(),\n            date.getDate(),\n            time.getHours(),\n            time.getMinutes(),\n            time.getSeconds(),\n            time.getMilliseconds());\n    }\n\n    function datePattern(format, info) {\n        var calendar = info.calendar;\n        var result;\n        if (typeof format === \"string\") {\n            if (calendar.patterns[format]) {\n                result = calendar.patterns[format];\n            } else {\n                result = format;\n            }\n        }\n\n        if (!result) {\n            result = calendar.patterns.d;\n        }\n\n        return result;\n    }\n\n    function addLiteral(parts, value) {\n        var lastPart = parts[parts.length - 1];\n        if (lastPart && lastPart.type === \"LITERAL\") {\n            lastPart.pattern += value;\n        } else {\n            parts.push({\n                type: LITERAL,\n                pattern: value\n            });\n        }\n    }\n\n    function isHour12(pattern) {\n        return pattern === \"h\" || pattern === \"K\";\n    }\n\n    function dateNameType(formatLength) {\n        var nameType;\n        if (formatLength <= 3) {\n            nameType = \"abbreviated\";\n        } else if (formatLength === 4) {\n            nameType = \"wide\";\n        } else if (formatLength === 5) {\n            nameType = \"narrow\";\n        } else if (formatLength === 6) {\n            nameType = \"short\";\n        }\n\n        return nameType;\n    }\n\n    function startsWith(text, searchString, position) {\n        position = position || 0;\n        return text.indexOf(searchString, position) === position;\n    }\n\n    function includes(text, subStr) {\n        var returnValue = false;\n\n        if (text.indexOf(subStr) !== -1) {\n            returnValue = true;\n        }\n\n        return returnValue;\n    }\n\n    function splitDateFormat(format) {\n        var info = kendo.culture();\n        var pattern = datePattern(format, info);\n        var parts = [];\n        var lastIndex = dateFormatRegExp.lastIndex = 0;\n        var match = dateFormatRegExp.exec(pattern);\n        var specifier;\n        var type;\n        var part;\n        var names;\n        var minLength;\n        var patternLength;\n\n        while (match) {\n            var value = match[0];\n\n            if (lastIndex < match.index) {\n                addLiteral(parts, pattern.substring(lastIndex, match.index));\n            }\n\n            if (startsWith(value, '\"') || startsWith(value, \"'\")) {\n                addLiteral(parts, value);\n            } else {\n                specifier = value[0];\n                type = DATE_FIELD_MAP[specifier];\n                part = {\n                    type: type,\n                    pattern: value\n                };\n\n                if (type === \"hour\") {\n                    part.hour12 = isHour12(value);\n                }\n\n                names = NAME_TYPES[type];\n\n                if (names) {\n                    minLength = typeof names.minLength === \"number\" ? names.minLength : names.minLength[specifier];\n                    patternLength = value.length;\n\n                    if (patternLength >= minLength) {\n                        part.names = {\n                            type: names.type,\n                            nameType: dateNameType(patternLength),\n                            standAlone: names.standAlone === specifier\n                        };\n                    }\n                }\n\n                parts.push(part);\n            }\n\n            lastIndex = dateFormatRegExp.lastIndex;\n            match = dateFormatRegExp.exec(pattern);\n        }\n\n        if (lastIndex < pattern.length) {\n            addLiteral(parts, pattern.substring(lastIndex));\n        }\n\n        return parts;\n    }\n\n    function pad(value, size) {\n        var s = String(value);\n        while (s.length < (size || 2)) {\n            s = \"0\" + s;\n        }\n        return s;\n    }\n\n    function firstItemIndex(scrollTop, itemHeight) {\n        return Math.max(Math.round(scrollTop / itemHeight), 0);\n    }\n\n    function getItemHeight (item){\n        return item.length && item[0].getBoundingClientRect().height;\n    }\n\n    function scrollIntoViewIfNeeded(element, centerIfNeeded) {\n\n        function makeRange(start, length) {\n            return {start: start, length: length, end: start + length};\n        }\n\n        function coverRange(inner, outer) {\n            if (false === centerIfNeeded ||\n                (outer.start < inner.end && inner.start < outer.end))\n            {\n                return Math.min(\n                    inner.start, Math.max(outer.start, inner.end - outer.length)\n                );\n            }\n            return (inner.start + inner.end - outer.length) / 2;\n        }\n\n        function makePoint(x, y) {\n            return {\n                x: x, y: y,\n                translate: function translate(dX, dY) {\n                    return makePoint(x + dX, y + dY);\n                }\n            };\n        }\n\n        function absolute(elem, pt) {\n            while (elem) {\n                pt = pt.translate(elem.offsetLeft, elem.offsetTop);\n                elem = elem.offsetParent;\n            }\n            return pt;\n        }\n\n        var target = absolute(element, makePoint(0, 0)),\n            extent = makePoint(element.offsetWidth, element.offsetHeight),\n            elem = element.parentNode,\n            origin;\n\n        while (elem instanceof HTMLElement) {\n            origin = absolute(elem, makePoint(elem.clientLeft, elem.clientTop));\n            elem.scrollLeft = coverRange(\n                makeRange(target.x - origin.x, extent.x),\n                makeRange(elem.scrollLeft, elem.clientWidth)\n            );\n            elem.scrollTop = coverRange(\n                makeRange(target.y - origin.y, extent.y),\n                makeRange(elem.scrollTop, elem.clientHeight)\n            );\n\n            target = target.translate(-elem.scrollLeft, -elem.scrollTop);\n            elem = elem.parentNode;\n        }\n    }\n\n\n    kendo.cssProperties.registerPrefix(\"TimePicker\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"TimePicker\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(TimePicker);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.datetimepicker',[ \"./kendo.datepicker\", \"./kendo.timepicker\", \"./kendo.html.button\"], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"datetimepicker\",\n    name: \"DateTimePicker\",\n    category: \"web\",\n    description: \"The DateTimePicker allows the end user to select a value from a calendar or a time drop-down list.\",\n    depends: [ \"datepicker\", \"timepicker\" ]\n};\n\n(function($, undefined) {\n\n    var kendo = window.kendo,\n        TimeView = kendo.TimeView,\n        html = kendo.html,\n        parse = kendo.parseDate,\n        support = kendo.support,\n        activeElement = kendo._activeElement,\n        extractFormat = kendo._extractFormat,\n        calendar = kendo.calendar,\n        isInRange = calendar.isInRange,\n        restrictValue = calendar.restrictValue,\n        isEqualDatePart = calendar.isEqualDatePart,\n        getMilliseconds = TimeView.getMilliseconds,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        CHANGE = \"change\",\n        ns = \".kendoDateTimePicker\",\n        CLICK = \"click\" + ns,\n        UP = support.mouseAndTouchPresent ? kendo.applyEventMap(\"up\", ns.slice(1)) : CLICK,\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        FOCUSED = \"k-focus\",\n        HOVER = \"k-hover\",\n        STATEDISABLED = \"k-disabled\",\n        HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n        MOUSEDOWN = \"mousedown\" + ns,\n        MONTH = \"month\",\n        SPAN = \"<span/>\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        ARIA_OWNS = \"aria-owns\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        DATE = Date,\n        MIN = new DATE(1800, 0, 1),\n        MAX = new DATE(2099, 11, 31),\n        dateViewParams = { view: \"date\" },\n        timeViewParams = { view: \"time\" },\n        extend = $.extend,\n        SINGLE_POPUP_TEMPLATE = '<div class=\"k-date-tab k-datetime-wrap\">' +\n                                    '<div class=\"k-datetime-buttongroup\">'+\n                                        '<div class=\"k-button-group k-button-group-stretched\">'+\n                                            '<button class=\"k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-base k-selected k-group-start\">' +\n                                                '<span class=\"k-button-text\">#=messages.date#</span>' +\n                                            '</button>'+\n                                            '<button class=\"k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-base k-group-end\">' +\n                                                '<span class=\"k-button-text\">#=messages.time#</span>' +\n                                            '</button>'+\n                                        '</div>'+\n                                    '</div>'+\n                                    '<div class=\"k-datetime-selector\">'+\n                                        '<div class=\"k-datetime-calendar-wrap\">'+\n                                        '</div>'+\n                                        '<div class=\"k-datetime-time-wrap\">'+\n                                        '</div>'+\n                                    '</div>'+\n                                    '<div class=\"k-datetime-footer k-action-buttons\">'+\n                                        '<button class=\"k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-base k-time-cancel\" title=\"Cancel\" aria-label=\"Cancel\">' +\n                                            '<span class=\"k-button-text\">#=messages.cancel#</span>' +\n                                        '</button>'+\n                                        '<button class=\"k-time-accept k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-primary\" title=\"Set\" aria-label=\"Set\">' +\n                                            '<span class=\"k-button-text\">#=messages.set#</span>' +\n                                        '</button>'+\n                                    '</div>'+\n                                '</div>',\n        STATE_SELECTED = \"k-selected\";\n\n    var DateTimePicker = Widget.extend({\n        init: function(element, options) {\n            var that = this, disabled, initialValue;\n\n            options = options || {};\n            options.componentType = options.componentType || \"classic\";\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            options.disableDates = kendo.calendar.disabled(options.disableDates);\n            options.min = parse(element.attr(\"min\")) || parse(options.min);\n            options.max = parse(element.attr(\"max\")) || parse(options.max);\n\n            if (+options.max != +MAX || +options.min != +MIN) {\n                this._specifiedRange = true;\n            }\n\n            normalize(options);\n\n            that._initialOptions = extend({}, options);\n\n            that._wrapper();\n\n            if(options.singlePopup){\n                that._popup();\n            }\n\n            that._views();\n\n            that._icons();\n\n            that._reset();\n            that._template();\n\n            try {\n                element[0].setAttribute(\"type\", \"text\");\n            } catch(e) {\n                element[0].type = \"text\";\n            }\n\n            element.addClass(\"k-input-inner\")\n                   .attr({\n                       \"role\": \"combobox\",\n                       \"aria-expanded\": false,\n                       \"autocomplete\": \"off\"\n                   });\n\n\n            that._midnight = that._calculateMidnight(options.min, options.max);\n\n            disabled = element.is(\"[disabled]\") || $(that.element).parents(\"fieldset\").is(':disabled');\n            if (disabled) {\n                that.enable(false);\n            } else {\n                that.readonly(element.is(\"[readonly]\"));\n            }\n\n            initialValue = parse(options.value || that.element.val(), options.parseFormats, options.culture);\n\n            that._createDateInput(options);\n\n            that._old = that._update(initialValue || that.element.val());\n            that._oldText = element.val();\n            that._applyCssClasses();\n\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"DateTimePicker\",\n            value: null,\n            format: \"\",\n            timeFormat: \"\",\n            culture: \"\",\n            parseFormats: [],\n            dates: [],\n            disableDates: null,\n            min: new DATE(MIN),\n            max: new DATE(MAX),\n            interval: 30,\n            height: 200,\n            footer: \"\",\n            start: MONTH,\n            depth: MONTH,\n            animation: {},\n            month : {},\n            ARIATemplate: 'Current focused #=data.valueType# is #=data.text#',\n            dateButtonText: \"Open the date view\",\n            timeButtonText: \"Open the time view\",\n            dateInput: false,\n            weekNumber: false,\n            messages: {\n                set: \"Set\",\n                cancel: \"Cancel\",\n                hour: \"hour\",\n                minute: \"minute\",\n                second: \"second\",\n                millisecond: \"millisecond\",\n                now: \"Now\",\n                date: \"Date\",\n                time: \"Time\",\n                today: \"Today\",\n                weekColumnHeader: \"\"\n            },\n            componentType: \"classic\",\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\"\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            CHANGE\n        ],\n\n        componentTypes: {\n            \"classic\": {\n                singlePopup: false,\n                timeView: {\n                    list: \"list\"\n                }\n            },\n            \"modern\": {\n                singlePopup: true,\n                timeView: {\n                    list: \"scroll\"\n                }\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this,\n                value = that._value,\n                min, max, currentValue;\n\n            Widget.fn.setOptions.call(that, options);\n\n            options = that.options;\n\n            options.min = min = parse(options.min);\n            options.max = max = parse(options.max);\n\n            normalize(options);\n\n            that._midnight = that._calculateMidnight(options.min, options.max);\n\n            currentValue = options.value || that._value || that.dateView._current;\n\n            if (min && !isEqualDatePart(min, currentValue)) {\n                min = new DATE(MIN);\n            }\n\n            if (max && !isEqualDatePart(max, currentValue)) {\n                max = new DATE(MAX);\n            }\n\n            that._dateIcon.off(ns);\n            that._dateIcon.remove();\n            that._timeIcon.off(ns);\n            that._timeIcon.remove();\n\n            that.dateView.setOptions(options);\n\n            that.timeView.setOptions(extend({}, options, {\n                format: options.timeFormat,\n                min: min,\n                max: max\n            }));\n\n            that._icons();\n            that._editable(options);\n            that._createDateInput(options);\n\n            if (!that._dateInput) {\n                that.element.val(kendo.toString(value, options.format, options.culture));\n            }\n\n            if (value) {\n                that._updateARIA(value);\n            }\n        },\n\n        _editable: function(options) {\n            var that = this,\n                element = that.element.off(ns),\n                dateIcon = that._dateIcon.off(ns),\n                timeIcon = that._timeIcon.off(ns),\n                wrapper = that.wrapper.off(ns),\n                readonly = options.readonly,\n                disable = options.disable;\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n                if(element && element.length) {\n                    element[0].removeAttribute(DISABLED);\n                    element[0].removeAttribute(READONLY, false);\n                    element[0].removeAttribute(ARIA_DISABLED, false);\n                    element[0].removeAttribute(ARIA_READONLY, false);\n                }\n                element.on(\"keydown\" + ns, $.proxy(that._keydown, that))\n                       .on(\"focus\" + ns, function() {\n                           that.wrapper.addClass(FOCUSED);\n                       })\n                       .on(\"focusout\" + ns, function() {\n                           that.wrapper.removeClass(FOCUSED);\n                           if (element.val() !== that._oldText) {\n                               that._change(element.val());\n                               if (!element.val()) {\n                                   that.dateView.current(kendo.calendar.getToday());\n                               }\n                           }\n                           if (that.options.singlePopup) {\n                               return;\n                           }\n                           that.close(\"date\");\n                           that.close(\"time\");\n                       });\n\n               dateIcon.on(MOUSEDOWN, preventDefault)\n                        .on(UP, function(e) {\n                            that.toggle(\"date\");\n                            that._focusElement(e.type);\n                        });\n\n               timeIcon.on(MOUSEDOWN, preventDefault)\n                        .on(UP, function(e) {\n                            that.toggle(\"time\");\n                            that._focusElement(e.type);\n                        });\n\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable)\n                       .attr(ARIA_READONLY, readonly);\n            }\n        },\n\n        _focusElement: function(eventType) {\n            var element = this.element;\n\n            if ((!support.touch || (support.mouseAndTouchPresent && !(eventType || \"\").match(/touch/i))) && element[0] !== activeElement()) {\n                element.trigger(\"focus\");\n            }\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n            that.dateView.destroy();\n            that.timeView.destroy();\n\n            if (that.options.singlePopup) {\n                that.popup.element.off(ns);\n                that.popup.destroy();\n            }\n\n            that.element.off(ns);\n            that._dateIcon.off(ns);\n            that._timeIcon.off(ns);\n            that.wrapper.off(ns);\n\n            if (that._form) {\n                that._form.off(\"reset\", that._resetHandler);\n            }\n        },\n\n        close: function(view) {\n            if (this.options.singlePopup) {\n                this.popup.close();\n            } else {\n                if (view !== \"time\") {\n                    view = \"date\";\n                }\n\n                this[view + \"View\"].close();\n            }\n        },\n\n        open: function(view) {\n            var that = this;\n            var popupHovered;\n\n            if (that.options.singlePopup) {\n\n                that.dateView._calendar();\n\n                if (that.timeView.ul.find(\"li\").length < 1) {\n                    that.timeView.bind();\n                }\n\n                // In some cases when the popup is opened resize is triggered which will cause it to close\n                // Setting the below flag will prevent this from happening\n                // Reference: https://github.com/telerik/kendo/pull/7553\n                popupHovered = that.popup._hovered;\n                that.popup._hovered = true;\n\n                that.popup.open();\n\n                if (view === \"time\") {\n                    that._switchToTimeView();\n                } else {\n                    that._switchToDateView();\n                }\n\n                this._dateIcon.toggle(view !== \"time\");\n                this._timeIcon.toggle(view === \"time\");\n\n                setTimeout(function() {\n                    that.popup._hovered = popupHovered;\n                }, 1);\n\n            } else {\n                if (view !== \"time\") {\n                    view = \"date\";\n                }\n\n                this[view + \"View\"].open();\n            }\n        },\n\n        min: function(value) {\n            return this._option(\"min\", value);\n        },\n\n        max: function(value) {\n            return this._option(\"max\", value);\n        },\n\n        toggle: function(view) {\n            if (this.options.singlePopup) {\n                if (this.popup.visible()) {\n                    this.close();\n                } else {\n                    this.open(view);\n                }\n            } else {\n                var secondView = \"timeView\";\n\n                if (view !== \"time\") {\n                    view = \"date\";\n                } else {\n                    secondView = \"dateView\";\n                }\n\n                this[view + \"View\"].toggle();\n                this[secondView].close();\n            }\n\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            that._old = that._update(value);\n            if (that._old === null) {\n                if (that._dateInput) {\n                    that._dateInput.value(that._old);\n                } else {\n                    that.element.val(\"\");\n                }\n            }\n\n            that._oldText = that.element.val();\n        },\n\n        _change: function(value) {\n            var that = this,\n            oldValue = that.element.val(),\n            dateChanged;\n\n            value = that._update(value);\n            dateChanged = +that._old != +value;\n\n            var valueUpdated = dateChanged && !that._typing;\n            var textFormatted = oldValue !== that.element.val();\n\n            if (valueUpdated || textFormatted) {\n                that.element.trigger(CHANGE);\n            }\n\n            if (dateChanged) {\n                that._old = value;\n                that._oldText = that.element.val();\n\n                that.trigger(CHANGE);\n            }\n\n            that._typing = false;\n        },\n\n        _option: function(option, value) {\n            var that = this;\n            var options = that.options;\n            var timeView = that.timeView;\n            var timeViewOptions = timeView.options;\n            var current = that._value || that._old;\n            var minDateEqual;\n            var maxDateEqual;\n\n            if (value === undefined) {\n                return options[option];\n            }\n\n            value = parse(value, options.parseFormats, options.culture);\n            timeViewOptions.maxSet = false;\n\n            if (!value) {\n                return;\n            }\n\n            if (options.min.getTime() === options.max.getTime()) {\n                timeViewOptions.dates = [];\n            }\n\n            options[option] = new DATE(value.getTime());\n            that.dateView[option](value);\n\n            that._midnight = that._calculateMidnight(options.min, options.max);\n\n            if (current) {\n                minDateEqual = isEqualDatePart(options.min, current);\n                maxDateEqual = isEqualDatePart(options.max, current);\n            }\n\n            if (minDateEqual || maxDateEqual) {\n                timeViewOptions[option] = value;\n\n                if (minDateEqual && !maxDateEqual) {\n                    timeViewOptions.max = lastTimeOption(options.interval);\n                }\n\n                if (maxDateEqual) {\n                    if (that._midnight) {\n                        timeView.dataBind([MAX]);\n                        return;\n                    } else if (!minDateEqual) {\n                        timeViewOptions.min = MIN;\n                        timeViewOptions.maxSet = true;\n                    }\n                }\n            } else {\n                timeViewOptions.max = MAX;\n                timeViewOptions.min = MIN;\n            }\n\n            timeView.bind();\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === \"mouseenter\");\n        },\n\n        _update: function(value) {\n            var that = this,\n                options = that.options,\n                min = options.min,\n                max = options.max,\n                dates = options.dates,\n                timeView = that.timeView,\n                current = that._value,\n                date = parse(value, options.parseFormats, options.culture),\n                isSameType = (date === null && current === null) || (date instanceof Date && current instanceof Date),\n                rebind, timeViewOptions, old, skip, formattedValue;\n\n            if (options.disableDates && options.disableDates(date)) {\n                date = null;\n                if (!that._old && !that.element.val()) {\n                    value = null;\n                }\n            }\n\n            if (+date === +current && isSameType) {\n                formattedValue = kendo.toString(date, options.format, options.culture);\n\n                if (formattedValue !== value ) {\n                    that.element.val(date === null ? value : formattedValue);\n                    if (value instanceof String) {\n                        that.element.trigger(CHANGE);\n                    }\n                }\n\n                return date;\n            }\n\n            if (date !== null && isEqualDatePart(date, min)) {\n                date = restrictValue(date, min, max);\n            } else if (!isInRange(date, min, max)) {\n                date = null;\n            }\n\n            that._value = date;\n            timeView.value(date);\n            that.dateView.value(date);\n\n            if (date) {\n                old = that._old;\n                timeViewOptions = timeView.options;\n                timeViewOptions.maxSet = false;\n\n                if (dates[0]) {\n                    dates = $.grep(dates, function(d) { return isEqualDatePart(date, d); });\n\n                    if (dates[0]) {\n                        timeView.dataBind(dates);\n                        skip = true;\n                    }\n                }\n\n                if (!skip) {\n                    if (isEqualDatePart(date, min)) {\n                        timeViewOptions.min = min;\n                        timeViewOptions.max = lastTimeOption(options.interval);\n                        rebind = true;\n                    }\n\n                    if (isEqualDatePart(date, max)) {\n                        if (that._midnight) {\n                            timeView.dataBind([MAX]);\n                            skip = true;\n                        } else {\n                            timeViewOptions.max = max;\n                            timeViewOptions.maxSet = true;\n                            if (!rebind) {\n                                timeViewOptions.min = MIN;\n                            }\n                            rebind = true;\n                        }\n                    }\n                }\n\n                if (!skip && ((!old && rebind) || (old && !isEqualDatePart(old, date)))) {\n                    if (!rebind) {\n                        timeViewOptions.max = MAX;\n                        timeViewOptions.min = MIN;\n                    }\n\n                    timeView.bind();\n                }\n            }\n            if (that._dateInput) {\n                if (date) {\n                    that._dateInput.value(date);\n                }\n            } else {\n                that.element.val(kendo.toString(date || value, options.format, options.culture));\n            }\n            that._updateARIA(date);\n\n            return date;\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                dateView = that.dateView,\n                timeView = that.timeView,\n                value = that.element.val(),\n                isDateViewVisible = that.options.singlePopup ? that.popup.visible() : dateView.popup.visible();\n            var stopPropagation = that._dateInput && e.stopImmediatePropagation;\n            if (e.altKey && e.keyCode === kendo.keys.DOWN) {\n                that.toggle(isDateViewVisible ? \"time\" : \"date\");\n            } else if (isDateViewVisible) {\n                dateView.move(e);\n                that._updateARIA(dateView._current);\n            } else if (!that.options.singlePopup && timeView.popup.visible()) {\n                timeView.move(e);\n            } else if (e.keyCode === kendo.keys.ENTER && value !== that._oldText) {\n                that._change(value);\n            } else {\n                that._typing = true;\n                stopPropagation = false;\n            }\n            if (stopPropagation) {\n                e.stopImmediatePropagation();\n            }\n        },\n\n        _views: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                id = element.attr(\"id\"),\n                dateView, timeView,\n                div, ul, msMin,\n                date,\n                timeDiv,\n                omitPopup,\n                timeViewOptions;\n\n            if (options.singlePopup) {\n                options.dateDiv = that.popup.element.find(\".k-datetime-calendar-wrap\");\n                timeDiv = that.popup.element.find(\".k-datetime-time-wrap\");\n                options.omitPopup = omitPopup = true;\n                timeViewOptions = options.timeView;\n            }\n\n            that.dateView = dateView = new kendo.DateView(extend({}, options, {\n                id: id,\n                anchor: that.wrapper,\n                change: function() {\n                    var value = that._applyDateValue();\n\n                    if(options.singlePopup){\n                        if (!that.timeView._currentlySelected) {\n                            that.timeView._currentlySelected = new Date();\n                        }\n                        that.timeView._currentlySelected.setFullYear(value.getFullYear());\n                        that.timeView._currentlySelected.setMonth(value.getMonth());\n                        that.timeView._currentlySelected.setDate(value.getDate());\n                        that._switchToTimeView();\n                        that._toggleIcons();\n                    } else {\n                        that._change(value);\n                        that.close(\"date\");\n                    }\n                },\n                close: function(e) {\n                    if (that.trigger(CLOSE, dateViewParams)) {\n                        e.preventDefault();\n                    } else {\n                        element.attr(ARIA_EXPANDED, false);\n                        div.attr(ARIA_HIDDEN, true);\n\n                        if (!that.options.singlePopup && !timeView.popup.visible()) {\n                            if(element && element.length) {\n                                element[0].removeAttribute(ARIA_OWNS);\n                            }\n                        }\n                    }\n                },\n                open:  function(e) {\n                    if (that.trigger(OPEN, dateViewParams)) {\n                        e.preventDefault();\n                    } else {\n\n                        if (element.val() !== that._oldText) {\n                            date = parse(element.val(), options.parseFormats, options.culture);\n\n                            that.dateView[date ? \"current\" : \"value\"](date);\n                        }\n\n                        div.attr(ARIA_HIDDEN, false);\n                        element.attr(ARIA_EXPANDED, true)\n                               .attr(ARIA_OWNS, dateView._dateViewID);\n\n                        that._updateARIA(date);\n                    }\n                }\n            }));\n            div = dateView.div;\n\n            msMin = options.min.getTime();\n            that.timeView = timeView = new TimeView({\n                id: id,\n                value: options.value,\n                size: options.size,\n                anchor: that.wrapper,\n                animation: options.animation,\n                format: options.timeFormat,\n                culture: options.culture,\n                height: options.componentType === \"modern\" ? null : options.height,\n                interval: options.interval,\n                min: options.componentType === \"modern\" ? options.min : new DATE(MIN),\n                max: options.componentType === \"modern\" ? options.max : new DATE(MAX),\n                dates: msMin === options.max.getTime() ? [new Date(msMin)] : [],\n                parseFormats: options.parseFormats,\n                validateDate: true,\n                change: function(value, trigger) {\n                    value = that._applyTimeValue(value);\n\n                    if (trigger) {\n                        that._timeSelected = true;\n                        that._change(value);\n                    } else {\n                        element.val(kendo.toString(value, options.format, options.culture));\n                        dateView.value(value);\n                        that._updateARIA(value);\n                    }\n                },\n                close: function(e) {\n                    if (that.trigger(CLOSE, timeViewParams)) {\n                        e.preventDefault();\n                    } else {\n                        ul.attr(ARIA_HIDDEN, true);\n                        element.attr(ARIA_EXPANDED, false);\n\n                        if (!dateView.popup.visible()) {\n                            if(element && element.length) {\n                                element[0].removeAttribute(ARIA_OWNS);\n                            }\n                        }\n                    }\n                },\n                open:  function(e) {\n                    if (that.options.componentType !==\"modern\") {\n                        timeView._adjustListWidth();\n                    } else {\n                        that.timeView._updateTitle();\n                    }\n\n                    if (that.trigger(OPEN, timeViewParams)) {\n                        e.preventDefault();\n                    } else {\n                        if (element.val() !== that._oldText) {\n                            date = parse(element.val(), options.parseFormats, options.culture);\n\n                            that.timeView.value(date);\n                        }\n\n                        ul.attr(ARIA_HIDDEN, false);\n                        element.attr(ARIA_EXPANDED, true)\n                               .attr(ARIA_OWNS, timeView._timeViewID);\n\n                        timeView.options.active(timeView.current());\n                    }\n                },\n                active: function(current) {\n                    if(element && element.length) {\n                        element[0].removeAttribute(ARIA_ACTIVEDESCENDANT);\n                    }\n                    if (current) {\n                        element.attr(ARIA_ACTIVEDESCENDANT, timeView._optionID);\n                    }\n                },\n                popup: options.popup,\n                useValueToRender: true,\n                specifiedRange: that._specifiedRange,\n                omitPopup: omitPopup,\n                timeDiv: timeDiv,\n                timeView: timeViewOptions,\n                messages: that.options.messages\n            });\n            ul = timeView.ul;\n        },\n\n        _applyDateValue: function () {\n            var that = this;\n            var options = that.options;\n            var dateView = that.dateView;\n            var value = dateView.calendar.value();\n            var msValue = +value;\n            var msMin = +options.min;\n            var msMax = +options.max;\n            var current, adjustedDate;\n\n            if (msValue === msMin || msValue === msMax) {\n                current = msValue === msMin ? msMin : msMax;\n                current = new DATE(that._value || current);\n                current.setFullYear(value.getFullYear(), value.getMonth(), value.getDate());\n\n                if (isInRange(current, msMin, msMax)) {\n                    value = current;\n                }\n            }\n\n            if (that._value) {\n\n                adjustedDate = kendo.date.setHours(new Date(value), that._value);\n\n                if (isInRange(adjustedDate, msMin, msMax)) {\n                    value = adjustedDate;\n                }\n            }\n\n            return value;\n        },\n\n        _applyTimeValue: function(value){\n            var timeView = this.timeView;\n            var options = this.options;\n\n            value = timeView._parse(value);\n\n            if (value < options.min) {\n                value = new DATE(+options.min);\n                timeView.options.min = value;\n            } else if (value > options.max) {\n                value = new DATE(+options.max);\n                timeView.options.max = value;\n            }\n\n            return value;\n        },\n\n        _icons: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var icons;\n\n            icons = that.wrapper.find(\"button.k-input-button\");\n\n            if (!icons[0]) {\n                that._dateIcon = $(html.renderButton('<button unselectable=\"on\" tabindex=\"-1\" class=\"k-select k-input-button\" aria-label=\"' + options.dateButtonText + '\"></button>', {\n                    icon: \"calendar\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: null,\n                    rounded: null\n                })).insertAfter(element);\n                that._timeIcon = $(html.renderButton('<button unselectable=\"on\" tabindex=\"-1\" class=\"k-select k-input-button\" aria-label=\"' + options.timeButtonText + '\"></button>', {\n                    icon: \"clock\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: null,\n                    rounded: null\n                })).insertAfter(element);\n            }\n\n            that._dateIcon.attr(\"aria-controls\", that.dateView._dateViewID);\n            that._timeIcon.attr(\"aria-controls\", that.timeView._timeViewID);\n\n            if (options.singlePopup) {\n                that._timeIcon.hide();\n            }\n        },\n\n        _wrapper: function() {\n            var that = this,\n            element = that.element,\n            wrapper;\n\n            wrapper = element.parents(\".k-datetimepicker\");\n\n            if (!wrapper[0]) {\n                wrapper = element.wrap(SPAN).parent();\n            }\n\n            wrapper[0].style.cssText = element[0].style.cssText;\n            element.css({\n                width: \"100%\",\n                height: element[0].style.height\n            });\n\n            that.wrapper = wrapper.addClass(\"k-datetimepicker k-input\")\n                .addClass(element[0].className).removeClass('input-validation-error');\n        },\n\n        _reset: function() {\n            var that = this,\n                element = that.element,\n                formId = element.attr(\"form\"),\n                form = formId ? $(\"#\" + formId) : element.closest(\"form\"),\n                options = that.options,\n                disabledDate = options.disableDates,\n                parseFormats = options.parseFormats.length ? options.parseFormats : null,\n                optionsValue = that._initialOptions.value,\n                initialValue = element[0].defaultValue;\n\n            if (optionsValue && (disabledDate && disabledDate(optionsValue))) {\n                optionsValue = null;\n            }\n\n            if ((!initialValue || !kendo.parseDate(initialValue, parseFormats, options.culture)) && optionsValue) {\n                element.attr(\"value\", kendo.toString(optionsValue, options.format, options.culture));\n            }\n\n            if (form[0]) {\n                that._resetHandler = function() {\n                    that.value(optionsValue || element[0].defaultValue);\n                    that.max(that._initialOptions.max);\n                    that.min(that._initialOptions.min);\n                };\n\n                that._form = form.on(\"reset\", that._resetHandler);\n            }\n        },\n\n        _template: function() {\n            this._ariaTemplate = $.proxy(kendo.template(this.options.ARIATemplate), this);\n        },\n\n        _createDateInput: function(options) {\n            if (this._dateInput) {\n                this._dateInput.destroy();\n                this._dateInput = null;\n            }\n\n            if (options.dateInput ) {\n                this._dateInput = new ui.DateInput(this.element, {\n                    culture: options.culture,\n                    format: options.format,\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    rounded: options.rounded,\n                    min: options.min,\n                    max: options.max,\n                    interval: options.interval\n                });\n            }\n        },\n\n        _calculateMidnight: function(min, max) {\n            return getMilliseconds(min) + getMilliseconds(max) === 0;\n        },\n\n        _updateARIA: function(date) {\n            var that = this;\n            var calendar = that.dateView.calendar;\n\n            if (that.element && that.element.length) {\n                that.element[0].removeAttribute(ARIA_ACTIVEDESCENDANT);\n            }\n\n            if (calendar) {\n                that.element.attr(ARIA_ACTIVEDESCENDANT, calendar._updateAria(that._ariaTemplate, date));\n            }\n        },\n        _popup: function(){\n            var that = this;\n            var options = that.options;\n            var div = $(\"<div></div>\").attr(ARIA_HIDDEN, \"true\")\n                .addClass(\"k-datetime-container k-group k-reset\")\n                .appendTo(document.body);\n\n            div.append(kendo.template(SINGLE_POPUP_TEMPLATE)(extend({}, that.options, {\n                buttonSize: kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size)\n            })));\n            that.popup = new ui.Popup(div, extend(options.popup, options, {\n                name: \"Popup\",\n                isRtl: kendo.support.isRtl(that.wrapper),\n                anchor: that.wrapper,\n                activate: function () {\n                    if (that.options.timeView && that.options.timeView.list === \"scroll\") {\n                        that.timeView.addTranslate();\n                        that.timeView.applyValue(that._value);\n                        that.timeView._updateRanges();\n                    }\n                },\n                open: function(e){\n                    if (that.trigger(OPEN, {view: this.element.find('.k-date-tab').length ? 'date' : 'time', sender: that})) {\n                        e.preventDefault();\n                    }\n                    that.timeView._updateTitle();\n                }\n            }));\n\n            div.on(CLICK + ns, \".k-datetime-buttongroup .k-button\", $.proxy(that._groupChangeClick, that));\n            div.on(CLICK + ns, \".k-datetime-footer button.k-time-cancel\", $.proxy(that._cancelClickHandler, that));\n            div.on(CLICK + ns, \".k-datetime-footer button.k-time-accept\", $.proxy(that._setClickHandler, that));\n        },\n\n        _groupChangeClick: function(e) {\n            preventDefault(e);\n            var button =  $(e.currentTarget);\n            var index = button.index();\n\n            if (index) {\n                this._switchToTimeView();\n            } else {\n                this._switchToDateView();\n            }\n            this._toggleIcons();\n        },\n\n        _switchToDateView: function() {\n            this.popup.element.find(\".k-group-start, .k-group-end\").removeClass(STATE_SELECTED).eq(0).addClass(STATE_SELECTED);\n            this.popup.element.find(\".k-datetime-wrap\").removeClass(\"k-time-tab\").addClass(\"k-date-tab\");\n        },\n\n        _switchToTimeView: function() {\n            this.timeView.addTranslate();\n            this.timeView.applyValue(this._value);\n            this.timeView._updateRanges();\n            this.popup.element.find(\".k-group-start, .k-group-end\").removeClass(STATE_SELECTED).eq(1).addClass(STATE_SELECTED);\n            this.popup.element.find(\".k-datetime-wrap\").removeClass(\"k-date-tab\").addClass(\"k-time-tab\");\n        },\n\n        _toggleIcons: function() {\n            this._dateIcon.toggle();\n            this._timeIcon.toggle();\n        },\n\n        _cancelClickHandler: function (e) {\n            preventDefault(e);\n            if (this._value) {\n                this.value(this._value);\n                this.dateView.value(this._value);\n            }\n            this.popup.close();\n        },\n\n        _setClickHandler: function(e) {\n            preventDefault(e);\n            var value = this._applyDateValue();\n            var time;\n\n            value = value || new Date();\n            time = this.timeView._currentlySelected || value;\n            this.timeView._updateCurrentlySelected();\n            value.setHours(time.getHours());\n            value.setMinutes(time.getMinutes());\n            value.setSeconds(time.getSeconds());\n            value = this._applyTimeValue(value);\n\n            this._change(value);\n            this.popup.close();\n        }\n    });\n\n    function lastTimeOption(interval) {\n        var date = new Date(2100, 0, 1);\n        date.setMinutes(-interval);\n        return date;\n    }\n\n    function preventDefault(e) {\n        e.preventDefault();\n    }\n\n    function normalize(options) {\n        var patterns = kendo.getCulture(options.culture).calendars.standard.patterns,\n            parseFormats = !options.parseFormats.length,\n            timeFormat;\n\n        options.format = extractFormat(options.format || patterns.g);\n        options.timeFormat = timeFormat = extractFormat(options.timeFormat || patterns.t);\n        kendo.DateView.normalize(options);\n\n        if (parseFormats) {\n           options.parseFormats.unshift(\"yyyy-MM-ddTHH:mm:ss\");\n        }\n\n        if ($.inArray(timeFormat, options.parseFormats) === -1) {\n            options.parseFormats.push(timeFormat);\n        }\n    }\n\n    kendo.cssProperties.registerPrefix(\"DateTimePicker\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"DateTimePicker\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(DateTimePicker);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.splitter',[ \"./kendo.resizable\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"splitter\",\n    name: \"Splitter\",\n    category: \"web\",\n    description: \"The Splitter widget provides an easy way to create a dynamic layout of resizable and collapsible panes.\",\n    depends: [ \"resizable\" ]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        keys = kendo.keys,\n        extend = $.extend,\n        proxy = $.proxy,\n        Widget = ui.Widget,\n        pxUnitsRegex = /^\\d+(\\.\\d+)?px$/i,\n        percentageUnitsRegex = /^\\d+(\\.\\d+)?%$/i,\n        NS = \".kendoSplitter\",\n        EXPAND = \"expand\",\n        COLLAPSE = \"collapse\",\n        CONTENTLOAD = \"contentLoad\",\n        ERROR = \"error\",\n        RESIZE = \"resize\",\n        LAYOUTCHANGE = \"layoutChange\",\n        HORIZONTAL = \"horizontal\",\n        VERTICAL = \"vertical\",\n        MOUSEENTER = \"mouseenter\",\n        CLICK = \"click\",\n        PANE = \"pane\",\n        MOUSELEAVE = \"mouseleave\",\n        FOCUSED = \"k-state-focused\",\n        KPANE = \"k-\" + PANE,\n        PANECLASS = \".\" + KPANE,\n        TABINDEX = \"tabindex\",\n        ARIA_VALUEMIN = \"aria-valuemin\",\n        ARIA_VALUEMAX = \"aria-valuemax\",\n        ARIA_VALUENOW = \"aria-valuenow\",\n        ARIA_CONTROLS = \"aria-controls\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_LABELLEDBY = \"aria-labelledby\",\n        ARIA_ORIENTATION = \"aria-orientation\";\n\n    function isPercentageSize(size) {\n        return percentageUnitsRegex.test(size);\n    }\n\n    function isPixelSize(size) {\n        return pxUnitsRegex.test(size) || /^\\d+$/.test(size);\n    }\n\n    function isFluid(size) {\n        return !isPercentageSize(size) && !isPixelSize(size);\n    }\n\n    function calculateSize(size, total) {\n        var output = parseInt(size, 10);\n\n        if (isPercentageSize(size)) {\n            output = Math.floor(output * total / 100);\n        }\n\n        return output;\n    }\n\n    function panePropertyAccessor(propertyName, triggersResize) {\n        return function(pane, value) {\n            var paneConfig = this.element.find(pane).data(PANE);\n\n            if (arguments.length == 1) {\n                return paneConfig[propertyName];\n            }\n\n            paneConfig[propertyName] = value;\n\n            if (triggersResize) {\n                var splitter = this.element.data(\"kendo\" + this.options.name);\n                splitter.resize(true);\n            }\n        };\n    }\n\n    var Splitter = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                isHorizontal;\n\n            Widget.fn.init.call(that, element, options);\n\n            that.wrapper = that.element;\n\n            if(that.options.orientation){\n                isHorizontal = that.options.orientation.toLowerCase() != VERTICAL;\n            }\n\n            that.orientation = isHorizontal ? HORIZONTAL : VERTICAL;\n            that._dimension = isHorizontal ? \"width\" : \"height\";\n            that._keys = {\n                decrease: isHorizontal ? keys.LEFT : keys.UP,\n                increase: isHorizontal ? keys.RIGHT : keys.DOWN\n            };\n\n            that._resizeStep = 10;\n\n            that._marker = kendo.guid().substring(0, 8);\n\n            that._initPanes();\n\n            that.resizing = new PaneResizing(that);\n\n            that.element.triggerHandler(\"init\" + NS);\n        },\n        events: [\n            EXPAND,\n            COLLAPSE,\n            CONTENTLOAD,\n            ERROR,\n            RESIZE,\n            LAYOUTCHANGE\n        ],\n\n        _addOverlays: function() {\n            this._panes().append(\"<div class='k-splitter-overlay k-overlay' />\");\n        },\n\n        _removeOverlays: function() {\n            this._panes().children(\".k-splitter-overlay\").remove();\n        },\n\n        _attachEvents: function() {\n            var that = this,\n                orientation = that.options.orientation;\n\n            // do not use delegated events to increase performance of nested elements\n            that.element\n                .children(\".k-splitbar-draggable-\" + orientation)\n                    .on(\"keydown\" + NS, proxy(that._keydown, that))\n                    .on(\"mousedown\" + NS, function(e) { e.currentTarget.focus(); })\n                    .on(\"focus\" + NS, function(e) { $(e.currentTarget).addClass(FOCUSED);  })\n                    .on(\"blur\" + NS, function(e) { $(e.currentTarget).removeClass(FOCUSED);\n                        if (that.resizing) {\n                            that.resizing.end();\n                        }\n                    })\n                    .on(MOUSEENTER + NS, function() { $(this).addClass(\"k-splitbar-\" + that.orientation + \"-hover\"); })\n                    .on(MOUSELEAVE + NS, function() { $(this).removeClass(\"k-splitbar-\" + that.orientation + \"-hover\"); })\n                    .on(\"mousedown\" + NS, proxy(that._addOverlays, that))\n                .end()\n                .children(\".k-splitbar\")\n                    .on(\"dblclick\" + NS, proxy(that._togglePane, that))\n                    .children(\".k-collapse-next, .k-collapse-prev\").on(CLICK + NS, that._arrowClick(COLLAPSE)).end()\n                    .children(\".k-expand-next, .k-expand-prev\").on(CLICK + NS, that._arrowClick(EXPAND)).end()\n                .end();\n\n            $(window).on(\"resize\" + NS + that._marker, proxy(that.resize, that, false));\n            $(document).on(\"mouseup\" + NS + that._marker, proxy(that._removeOverlays, that));\n        },\n\n        _detachEvents: function() {\n            var that = this;\n\n            that.element\n                .children(\".k-splitbar-draggable-\" + that.orientation).off(NS).end()\n                .children(\".k-splitbar\").off(\"dblclick\" + NS)\n                    .children(\".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev\").off(NS);\n\n            $(window).off(NS + that._marker);\n            $(document).off(NS + that._marker);\n        },\n\n        options: {\n            name: \"Splitter\",\n            orientation: HORIZONTAL,\n            panes: []\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            this._detachEvents();\n\n            if (this.resizing) {\n                this.resizing.destroy();\n            }\n\n            kendo.destroy(this.element);\n\n            this.wrapper = this.element = null;\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                resizing = that.resizing,\n                target = $(e.currentTarget),\n                navigationKeys = that._keys,\n                increase = key === navigationKeys.increase,\n                decrease = key === navigationKeys.decrease,\n                pane;\n\n            if (increase || decrease) {\n                if (e.ctrlKey) {\n                    pane = target[decrease ? \"next\" : \"prev\"]();\n\n                    if (resizing && resizing.isResizing()) {\n                        resizing.end();\n                    }\n\n                    if (!pane[that._dimension]()) {\n                        that._triggerAction(EXPAND, pane);\n                    } else {\n                        that._triggerAction(COLLAPSE, target[decrease ? \"prev\" : \"next\"]());\n                    }\n                } else if (resizing) {\n                    resizing.move((decrease ? -1 : 1) * that._resizeStep, target);\n                }\n                e.preventDefault();\n            } else if (key === keys.HOME) {\n                pane = target.prev();\n                that.collapse(pane);\n                e.preventDefault();\n            } else if (key === keys.END) {\n                pane = target.prev();\n                that.expand(pane);\n                e.preventDefault();\n            } else if (key === keys.ENTER && resizing) {\n                resizing.end();\n                e.preventDefault();\n            }\n        },\n\n        _initPanes: function() {\n            var panesConfig = this.options.panes || [];\n            var that = this;\n\n            this.element\n                .addClass(\"k-widget\").addClass(\"k-splitter\")\n                .children()\n                    .each(function(i, pane) {\n                        if (pane.nodeName.toLowerCase() != \"script\") {\n                            that._initPane(pane, panesConfig[i]);\n                        }\n                    });\n\n            this.resize();\n        },\n\n        _initPane: function(pane, config) {\n            pane = $(pane)\n                .attr(\"role\", \"group\")\n                .addClass(KPANE);\n\n            pane.data(PANE, config ? config : {})\n                .toggleClass(\"k-scrollable\", config ? config.scrollable !== false : true);\n\n            this.ajaxRequest(pane);\n        },\n\n        ajaxRequest: function(pane, url, data) {\n            var that = this,\n                paneConfig;\n\n            pane = that.element.find(pane);\n            paneConfig = pane.data(PANE);\n\n            url = url || paneConfig.contentUrl;\n\n            if (url) {\n                pane.append(\"<span class='k-icon k-i-loading k-pane-loading' />\");\n\n                if (kendo.isLocalUrl(url)) {\n                    jQuery.ajax({\n                        url: url,\n                        data: data || {},\n                        type: \"GET\",\n                        dataType: \"html\",\n                        success: function (data) {\n                            that.angular(\"cleanup\", function(){ return { elements: pane.get() }; });\n                            pane.html(data);\n                            that.angular(\"compile\", function(){ return { elements: pane.get() }; });\n\n                            that.trigger(CONTENTLOAD, { pane: pane[0] });\n                        },\n                        error: function (xhr, status) {\n                            that.trigger(ERROR, {\n                                pane: pane[0],\n                                status: status,\n                                xhr: xhr\n                            });\n                        }\n                    });\n                } else {\n                    pane.removeClass(\"k-scrollable\")\n                        .html(\"<iframe src='\" + url + \"' frameborder='0' class='k-content-frame'>\" +\n                                \"This page requires frames in order to show content\" +\n                              \"</iframe>\");\n                }\n            }\n        },\n\n        _triggerAction: function(type, pane) {\n            if (!this.trigger(type, { pane: pane[0] })) {\n                this[type](pane[0]);\n            }\n        },\n\n        _togglePane: function(e) {\n            var that = this,\n                target = $(e.target),\n                arrow;\n\n            if (target.closest(\".k-splitter\")[0] != that.element[0]) {\n                return;\n            }\n\n            arrow = target.children(\".k-icon:not(.k-resize-handle)\");\n\n            if (arrow.length !== 1) {\n                return;\n            }\n\n            if (arrow.is(\".k-collapse-prev\")) {\n                that._triggerAction(COLLAPSE, target.prev());\n            } else if (arrow.is(\".k-collapse-next\")) {\n                that._triggerAction(COLLAPSE, target.next());\n            } else if (arrow.is(\".k-expand-prev\")) {\n                that._triggerAction(EXPAND, target.prev());\n            } else if (arrow.is(\".k-expand-next\")) {\n                that._triggerAction(EXPAND, target.next());\n            }\n        },\n        _arrowClick: function (arrowType) {\n            var that = this;\n\n            return function(e) {\n                var target = $(e.target),\n                    pane;\n\n                if (target.closest(\".k-splitter\")[0] != that.element[0]) {\n                    return;\n                }\n\n                if (target.is(\".k-\" + arrowType + \"-prev\")) {\n                    pane = target.parent().prev();\n                } else {\n                    pane = target.parent().next();\n                }\n                that._triggerAction(arrowType, pane);\n            };\n        },\n        _updateSplitBar: function(splitbar, previousPane, nextPane, previousPaneEl) {\n            var catIconIf = function(iconType, condition) {\n                   return condition ? \"<div class='k-icon \" + iconType + \"'></div>\" : \"\";\n                },\n                orientation = this.orientation,\n                draggable = (previousPane.resizable !== false) && (nextPane.resizable !== false),\n                prevCollapsible = previousPane.collapsible,\n                prevCollapsed = previousPane.collapsed,\n                nextCollapsible = nextPane.collapsible,\n                nextCollapsed = nextPane.collapsed,\n                previousPaneId = previousPaneEl.attr(\"id\");\n\n            if(!previousPaneId) {\n                previousPaneId = kendo.guid();\n                previousPaneEl.attr(\"id\", previousPaneId);\n            }\n\n            splitbar.addClass(\"k-splitbar k-splitbar-\" + orientation)\n                    .attr(\"role\", \"separator\")\n                    .attr(ARIA_VALUEMIN, \"0\")\n                    .attr(ARIA_VALUEMAX, \"100\")\n                    .attr(ARIA_CONTROLS, previousPaneId)\n                    .removeClass(\"k-splitbar-\" + orientation + \"-hover\")\n                    .toggleClass(\"k-splitbar-draggable-\" + orientation,\n                        draggable && !prevCollapsed && !nextCollapsed)\n                    .toggleClass(\"k-splitbar-static-\" + orientation,\n                        !draggable && !prevCollapsible && !nextCollapsible)\n                    .html(\n                        catIconIf(\"k-collapse-prev k-i-arrow-60-up\", prevCollapsible && !prevCollapsed && !nextCollapsed && orientation == VERTICAL) +\n                        catIconIf(\"k-collapse-prev k-i-arrow-60-left\", prevCollapsible && !prevCollapsed && !nextCollapsed && orientation == HORIZONTAL) +\n                        catIconIf(\"k-expand-prev k-i-arrow-60-down\", prevCollapsible && prevCollapsed && !nextCollapsed && orientation == VERTICAL) +\n                        catIconIf(\"k-expand-prev k-i-arrow-60-right\", prevCollapsible && prevCollapsed && !nextCollapsed && orientation == HORIZONTAL) +\n                        catIconIf(\"k-resize-handle k-i-hbar\", draggable && orientation == VERTICAL) +\n                        catIconIf(\"k-resize-handle k-i-vbar\", draggable && orientation == HORIZONTAL) +\n                        catIconIf(\"k-collapse-next k-i-arrow-60-down\", nextCollapsible && !nextCollapsed && !prevCollapsed && orientation == VERTICAL) +\n                        catIconIf(\"k-collapse-next k-i-arrow-60-right\", nextCollapsible && !nextCollapsed && !prevCollapsed && orientation == HORIZONTAL) +\n                        catIconIf(\"k-expand-next k-i-arrow-60-up\", nextCollapsible && nextCollapsed && !prevCollapsed && orientation == VERTICAL) +\n                        catIconIf(\"k-expand-next k-i-arrow-60-left\", nextCollapsible && nextCollapsed && !prevCollapsed && orientation == HORIZONTAL)\n                    );\n\n            if(previousPane.labelId) {\n                splitbar.attr(ARIA_LABELLEDBY, previousPane.labelId);\n            } else if(previousPane.label) {\n                splitbar.attr(ARIA_LABEL, previousPane.label);\n            }\n\n            if(orientation == HORIZONTAL) {\n                splitbar.attr(ARIA_ORIENTATION, VERTICAL);\n            }\n\n            if (!draggable && !prevCollapsible && !nextCollapsible) {\n                splitbar.removeAttr(TABINDEX);\n            }\n        },\n        _updateSplitBars: function() {\n            var that = this;\n\n            this.element.children(\".k-splitbar\").each(function() {\n                var splitbar = $(this),\n                    previousPaneEl = splitbar.prevAll(PANECLASS).first(),\n                    previousPane = previousPaneEl.data(PANE),\n                    nextPane = splitbar.nextAll(PANECLASS).first().data(PANE);\n\n                if (!nextPane) {\n                    return;\n                }\n\n                that._updateSplitBar(splitbar, previousPane, nextPane, previousPaneEl);\n            });\n        },\n        _removeSplitBars: function() {\n            this.element.children(\".k-splitbar\").remove();\n        },\n        _panes: function() {\n            if (!this.element) {\n                return $();\n            }\n            return this.element.children(PANECLASS);\n        },\n\n        _resetAriaValueNow: function(splitBars, panesSizes) {\n            var i, splitbar, valueNow, joinDimension;\n\n            for(i = 0; i < splitBars.length; i++) {\n                joinDimension = (panesSizes[i] + panesSizes[i + 1]) || 1;\n                valueNow = Math.round(panesSizes[i] / joinDimension * 100);\n                splitbar = splitBars[i];\n                splitbar.setAttribute(ARIA_VALUENOW, valueNow);\n            }\n        },\n\n        _resize: function() {\n            var that = this,\n                element = that.element,\n                panes = element.children(PANECLASS),\n                isHorizontal = that.orientation == HORIZONTAL,\n                splitBars = element.children(\".k-splitbar\"),\n                splitBarsCount = splitBars.length,\n                sizingProperty = isHorizontal ? \"width\" : \"height\",\n                totalSize = element[sizingProperty](),\n                panesSizes = [];\n\n            that.wrapper.addClass(\"k-splitter-resizing\");\n\n            if (splitBarsCount === 0) {\n                splitBarsCount = panes.length - 1;\n                panes.slice(0, splitBarsCount)\n                     .after(\"<div tabindex='0' class='k-splitbar' data-marker='\" + that._marker + \"' />\");\n\n                that._updateSplitBars();\n                splitBars = element.children(\".k-splitbar\");\n            } else {\n                that._updateSplitBars();\n            }\n\n            // discard splitbar sizes from total size\n            splitBars.each(function() {\n                totalSize -= this[isHorizontal ? \"offsetWidth\" : \"offsetHeight\"];\n            });\n\n            var sizedPanesWidth = 0,\n                sizedPanesCount = 0,\n                freeSizedPanes = $();\n\n            panes.css({ position: \"absolute\", top: 0 })\n                [sizingProperty](function() {\n                    var element = $(this),\n                        config = element.data(PANE) || {}, size;\n\n                    element.removeClass(\"k-state-collapsed\");\n                    if (config.collapsed) {\n                        size = config.collapsedSize ? calculateSize(config.collapsedSize, totalSize) : 0;\n                        element.css(\"overflow\", \"hidden\").addClass(\"k-state-collapsed\");\n                    } else if (isFluid(config.size)) {\n                        freeSizedPanes = freeSizedPanes.add(this);\n                        panesSizes.push(false);\n                        return;\n                    } else { // sized in px/%, not collapsed\n                        size = calculateSize(config.size, totalSize);\n                    }\n\n                    sizedPanesCount++;\n                    sizedPanesWidth += size;\n                    panesSizes.push(size);\n\n                    return size;\n                });\n\n            totalSize -= sizedPanesWidth;\n\n            var freeSizePanesCount = freeSizedPanes.length,\n                freeSizePaneWidth = Math.floor(totalSize / freeSizePanesCount);\n\n            freeSizedPanes\n                .slice(0, freeSizePanesCount - 1)\n                    .css(sizingProperty, freeSizePaneWidth)\n                .end()\n                .eq(freeSizePanesCount - 1)\n                    .css(sizingProperty, totalSize - (freeSizePanesCount - 1) * freeSizePaneWidth);\n\n            panesSizes.forEach(function(size, i) {\n                if(size === false) {\n                    panesSizes[i] = freeSizePaneWidth;\n                }\n            });\n\n            that._resetAriaValueNow(splitBars, panesSizes);\n\n            // arrange panes\n            var sum = 0,\n                alternateSizingProperty = isHorizontal ? \"height\" : \"width\",\n                positioningProperty = isHorizontal ? \"left\" : \"top\",\n                sizingDomProperty = isHorizontal ? \"offsetWidth\" : \"offsetHeight\";\n\n            if (freeSizePanesCount === 0) {\n                var lastNonCollapsedPane = panes.filter(function() {\n                    return !(($(this).data(PANE) || {}).collapsed);\n                }).last();\n\n                lastNonCollapsedPane[sizingProperty](totalSize + lastNonCollapsedPane[0][sizingDomProperty]);\n            }\n\n            element.children()\n                .css(alternateSizingProperty, element[alternateSizingProperty]())\n                .each(function (i, child) {\n                    if (child.tagName.toLowerCase() != \"script\") {\n                        child.style[positioningProperty] = Math.floor(sum) + \"px\";\n                        sum += child[sizingDomProperty];\n                    }\n                });\n\n            that._detachEvents();\n            that._attachEvents();\n\n            that.wrapper.removeClass(\"k-splitter-resizing\");\n\n            kendo.resize(panes);\n            that.trigger(LAYOUTCHANGE);\n        },\n\n        toggle: function(pane, expand) {\n            var that = this,\n                paneConfig;\n\n            pane = that.element.find(pane);\n            paneConfig = pane.data(PANE);\n\n            if (!expand && !paneConfig.collapsible) {\n                return;\n            }\n\n            if (arguments.length == 1) {\n                expand = paneConfig.collapsed === undefined ? false : paneConfig.collapsed;\n            }\n\n            paneConfig.collapsed = !expand;\n\n            if (paneConfig.collapsed) {\n                pane.css(\"overflow\", \"hidden\");\n            } else {\n                pane.css(\"overflow\", \"\");\n            }\n\n            that.resize(true);\n        },\n\n        collapse: function(pane) {\n            this.toggle(pane, false);\n        },\n\n        expand: function(pane) {\n            this.toggle(pane, true);\n        },\n\n        _addPane: function(config, idx, paneElement) {\n            var that = this;\n\n            if (paneElement.length) {\n                that.options.panes.splice(idx, 0, config);\n                that._initPane(paneElement, config);\n\n                that._removeSplitBars();\n\n                that.resize(true);\n            }\n\n            return paneElement;\n        },\n\n        append: function(config) {\n            config = config || {};\n\n            var that = this,\n                paneElement = $(\"<div />\").appendTo(that.element);\n\n            return that._addPane(config, that.options.panes.length, paneElement);\n        },\n\n        insertBefore: function(config, referencePane) {\n            referencePane = $(referencePane);\n            config = config || {};\n\n            var that = this,\n                idx = that.wrapper.children(\".k-pane\").index(referencePane),\n                paneElement = $(\"<div />\").insertBefore($(referencePane));\n\n            return that._addPane(config, idx, paneElement);\n        },\n\n        insertAfter: function(config, referencePane) {\n            referencePane = $(referencePane);\n            config = config || {};\n\n            var that = this,\n                idx = that.wrapper.children(\".k-pane\").index(referencePane),\n                paneElement = $(\"<div />\").insertAfter($(referencePane));\n\n            return that._addPane(config, idx + 1, paneElement);\n        },\n\n        remove: function(pane) {\n            var that = this;\n            pane = that.wrapper.find(pane);\n\n            if (pane.length) {\n                kendo.destroy(pane);\n                pane.each(function(idx, element){\n                    that.options.panes.splice(that.wrapper.children(\".k-pane\").index(element), 1);\n                    $(element).remove();\n                });\n\n                that._removeSplitBars();\n\n                if (that.options.panes.length) {\n                    that.resize(true);\n                }\n            }\n\n            return that;\n        },\n\n        size: panePropertyAccessor(\"size\", true),\n\n        min: panePropertyAccessor(\"min\"),\n\n        max: panePropertyAccessor(\"max\")\n    });\n\n    ui.plugin(Splitter);\n\n    var verticalDefaults = {\n            sizingProperty: \"height\",\n            sizingDomProperty: \"offsetHeight\",\n            alternateSizingProperty: \"width\",\n            positioningProperty: \"top\",\n            mousePositioningProperty: \"pageY\"\n        };\n\n    var horizontalDefaults = {\n            sizingProperty: \"width\",\n            sizingDomProperty: \"offsetWidth\",\n            alternateSizingProperty: \"height\",\n            positioningProperty: \"left\",\n            mousePositioningProperty: \"pageX\"\n        };\n\n    function PaneResizing(splitter) {\n        var that = this,\n            orientation = splitter.orientation;\n\n        that.owner = splitter;\n        that._element = splitter.element;\n        that.orientation = orientation;\n\n        extend(that, orientation === HORIZONTAL ? horizontalDefaults : verticalDefaults);\n\n        that._resizable = new kendo.ui.Resizable(splitter.element, {\n            orientation: orientation,\n            handle: \".k-splitbar-draggable-\" + orientation + \"[data-marker=\" + splitter._marker + \"]\",\n            hint: proxy(that._createHint, that),\n            start: proxy(that._start, that),\n            max: proxy(that._max, that),\n            min: proxy(that._min, that),\n            invalidClass:\"k-restricted-size-\" + orientation,\n            resizeend: proxy(that._stop, that)\n        });\n    }\n\n    PaneResizing.prototype = {\n        press: function(target) {\n            this._resizable.press(target);\n        },\n\n        move: function(delta, target) {\n            if (!this.pressed) {\n                this.press(target);\n                this.pressed = true;\n            }\n\n            if (!this._resizable.target) {\n                this._resizable.press(target);\n            }\n\n            this._resizable.move(delta);\n        },\n\n        end: function() {\n            this._resizable.end();\n            this.pressed = false;\n        },\n\n        destroy: function() {\n            this._resizable.destroy();\n            this._resizable = this._element = this.owner = null;\n        },\n\n        isResizing: function() {\n            return this._resizable.resizing;\n        },\n\n        _createHint: function(handle) {\n            var that = this;\n            return $(\"<div class='k-ghost-splitbar k-ghost-splitbar-\" + that.orientation + \"' />\")\n                        .css(that.alternateSizingProperty, handle[that.alternateSizingProperty]());\n        },\n\n        _start: function(e) {\n            var that = this,\n                splitbar = $(e.currentTarget),\n                previousPane = splitbar.prev(),\n                nextPane = splitbar.next(),\n                previousPaneConfig = previousPane.data(PANE),\n                nextPaneConfig = nextPane.data(PANE),\n                prevBoundary = parseInt(previousPane[0].style[that.positioningProperty], 10),\n                nextBoundary = parseInt(nextPane[0].style[that.positioningProperty], 10) + nextPane[0][that.sizingDomProperty] - splitbar[0][that.sizingDomProperty],\n                totalSize = parseInt(that._element.css(that.sizingProperty), 10),\n                toPx = function (value) {\n                    var val = parseInt(value, 10);\n                    return (isPixelSize(value) ? val : (totalSize * val) / 100) || 0;\n                },\n                prevMinSize = toPx(previousPaneConfig.min),\n                prevMaxSize = toPx(previousPaneConfig.max) || nextBoundary - prevBoundary,\n                nextMinSize = toPx(nextPaneConfig.min),\n                nextMaxSize = toPx(nextPaneConfig.max) || nextBoundary - prevBoundary;\n\n            that.previousPane = previousPane;\n            that.nextPane = nextPane;\n            that._maxPosition = Math.min(nextBoundary - nextMinSize, prevBoundary + prevMaxSize);\n            that._minPosition = Math.max(prevBoundary + prevMinSize, nextBoundary - nextMaxSize);\n        },\n        _max: function() {\n            return this._maxPosition;\n        },\n        _min: function() {\n            return this._minPosition;\n        },\n        _stop: function(e) {\n            var that = this,\n                splitbar = $(e.currentTarget),\n                owner = that.owner;\n\n            owner._panes().children(\".k-splitter-overlay\").remove();\n\n            if (e.keyCode !== kendo.keys.ESC) {\n                var ghostPosition = e.position,\n                    previousPane = splitbar.prev(),\n                    nextPane = splitbar.next(),\n                    previousPaneConfig = previousPane.data(PANE),\n                    nextPaneConfig = nextPane.data(PANE),\n                    previousPaneNewSize = ghostPosition - parseInt(previousPane[0].style[that.positioningProperty], 10),\n                    nextPaneNewSize = parseInt(nextPane[0].style[that.positioningProperty], 10) + nextPane[0][that.sizingDomProperty] - ghostPosition - splitbar[0][that.sizingDomProperty],\n                    fluidPanesCount = that._element.children(PANECLASS).filter(function() { return isFluid($(this).data(PANE).size); }).length;\n\n                if (!isFluid(previousPaneConfig.size) || fluidPanesCount > 1) {\n                    if (isFluid(previousPaneConfig.size)) {\n                        fluidPanesCount--;\n                    }\n\n                    previousPaneConfig.size = previousPaneNewSize + \"px\";\n                }\n\n                if (!isFluid(nextPaneConfig.size) || fluidPanesCount > 1) {\n                    nextPaneConfig.size = nextPaneNewSize + \"px\";\n                }\n\n                owner.resize(true);\n            }\n\n            return false;\n        }\n    };\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.dialog',[\"./kendo.core\", \"./kendo.popup\", \"./kendo.textbox\"], f);\n})(function() {\n\n    var __meta__ = { // jshint ignore:line\n        id: \"dialog\",\n        name: \"Dialog\",\n        category: \"web\", // suite\n        description: \"The dialog widget is a modal popup that brings information to the user.\",\n        depends: [\"core\", \"popup\", \"textbox\"] // dependencies\n    };\n\n    (function($, undefined) {\n        var kendo = window.kendo,\n            Widget = kendo.ui.Widget,\n            TabKeyTrap = kendo.ui.Popup.TabKeyTrap,\n            proxy = $.proxy,\n            template = kendo.template,\n            keys = kendo.keys,\n            isFunction = kendo.isFunction,\n            NS = \"kendoWindow\",\n            KDIALOG = \".k-dialog\",\n            KWINDOW = \".k-window\",\n            KICONCLOSE = \".k-dialog-close\",\n            KCONTENTCLASS = \"k-window-content k-dialog-content\",\n            KCONTENTSELECTOR = \".k-window-content\",\n            KSCROLL = \"k-scroll\",\n            KTITLELESS = \"k-dialog-titleless\",\n            KDIALOGTITLE = \".k-dialog-title\",\n            KDIALOGTITLEBAR =\".k-dialog-titlebar\",\n            KBUTTONGROUP = \".k-dialog-buttongroup\",\n            // KACTIONS = \".k-actions\",\n            KBUTTON = \".k-button\",\n            KALERT = \"k-alert\",\n            KCONFIRM = \"k-confirm\",\n            KPROMPT = \"k-prompt\",\n            KTEXTBOX = \".k-input-inner\",\n            KOVERLAY = \".k-overlay\",\n            VISIBLE = \":visible\",\n            ZINDEX = \"zIndex\",\n            BODY = \"body\",\n            INITOPEN = \"initOpen\",\n            TOUCHSTART = \"touchstart\",\n            TOUCHMOVE = \"touchmove\",\n            OPEN = \"open\",\n            CLOSE = \"close\",\n            SHOW = \"show\",\n            HIDE = \"hide\",\n            SIZE = {\n                small: \"k-window-sm\",\n                medium: \"k-window-md\",\n                large: \"k-window-lg\"\n            },\n            HIDDEN = \"hidden\",\n            OVERFLOW = \"overflow\",\n            DATADOCOVERFLOWRULE = \"original-overflow-rule\",\n            DATAHTMLTAPYRULE = \"tap-y\",\n            messages = {\n                okText  : \"OK\",\n                cancel : \"Cancel\",\n                promptInput: \"Input\"\n            },\n            ceil = Math.ceil,\n            templates,\n            overlaySelector = \":not(link,meta,script,style)\";\n\n        function defined(x) {\n            return (typeof x != \"undefined\");\n        }\n\n        function constrain(value, low, high) {\n            return Math.max(Math.min(parseInt(value, 10), high === Infinity ? high : parseInt(high, 10)), parseInt(low, 10));\n        }\n\n        function buttonKeyTrigger(e) {\n            return e.keyCode == keys.ENTER || e.keyCode == keys.SPACEBAR;\n        }\n\n        var DialogBase = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                that._init(that.element, that.options);\n                kendo.notify(that);\n            },\n\n            _init: function(element, options) {\n                var that = this,\n                    wrapper;\n\n                that._centerCallback = proxy(that._center, that);\n\n                that.appendTo = $(BODY);\n                if (!defined(options.visible) || options.visible === null) {\n                    options.visible = element.is(VISIBLE);\n                }\n\n                if (that.wrapperTemplate === undefined) {\n                    that.wrapperTemplate = templates.wrapper;\n                }\n\n                that._createDialog();\n                wrapper = that.wrapper = element.closest(KDIALOG);\n\n                if (options._defaultFocus === undefined) {\n                    that._defaultFocus = element[0];\n                }\n\n                that._tabindex(element);\n                that._dimensions();\n\n                this._tabKeyTrap = new TabKeyTrap(wrapper);\n\n                if (!that.options.visible) {\n                    that.wrapper.hide();\n                } else {\n                    that._triggerOpen();\n                }\n            },\n\n            setOptions: function(options) {\n                var that = this;\n                var sizeClass = that.options.size;\n\n                options = $.extend(that.options, options);\n\n                Widget.fn.setOptions.call(that, options);\n\n                if (options.title !== undefined) {\n                    that.title(options.title);\n                }\n\n                if (options.content) {\n                    kendo.destroy(that.element.children());\n                    that.element.html(options.content);\n                }\n\n                if (options.actions) {\n                    that.wrapper.children(KBUTTONGROUP).remove();\n                    that._createActionbar(that.wrapper);\n                }\n\n                that.wrapper.show();\n                that._closable(that.wrapper);\n\n                that.wrapper.removeClass(SIZE[sizeClass]);\n                that._dimensions();\n\n                if (!options.visible) {\n                    that.wrapper.hide();\n                } else {\n                    that._triggerOpen();\n                }\n\n                if (typeof options.modal !== \"undefined\") {\n                    var visible = that.options.visible !== false;\n                    that._enableDocumentScrolling();\n                    that._overlay(options.modal && visible);\n                }\n            },\n\n            _dimensions: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    width = options.width,\n                    height = options.height,\n                    sizeClass = options.size,\n                    dimensions = [\"minWidth\", \"minHeight\", \"maxWidth\", \"maxHeight\"];\n\n                for (var i = 0; i < dimensions.length; i++) {\n                    var value = options[dimensions[i]];\n                    if (value && value != Infinity) {\n                        wrapper.css(dimensions[i], value);\n                    }\n                }\n\n                this._setElementMaxHeight();\n\n                if (width) {\n                    if (width.toString().indexOf(\"%\") > 0) {\n                        wrapper.width(width);\n                    } else {\n                        wrapper.outerWidth(constrain(width, options.minWidth, options.maxWidth));\n                    }\n                }\n\n                if (height) {\n                    if (height.toString().indexOf(\"%\") > 0) {\n                        wrapper.height(height);\n                    } else {\n                        wrapper.outerHeight(constrain(height, options.minHeight, options.maxHeight));\n                    }\n\n                    this._setElementHeight();\n                }\n\n                if (sizeClass && SIZE[sizeClass]) {\n                    wrapper.addClass(SIZE[sizeClass]);\n                }\n            },\n\n            _setElementMaxHeight: function() {\n                var that = this,\n                    element = that.element,\n                    maxHeight = that.options.maxHeight,\n                    elementMaxHeight;\n\n                if (maxHeight != Infinity) {\n                    elementMaxHeight = parseFloat(maxHeight, 10) - that._uiHeight();\n                    if (elementMaxHeight > 0) {\n                        element.css({\n                            maxHeight: ceil(elementMaxHeight) + \"px\"\n                        });\n                    }\n                }\n\n            },\n\n            _setElementHeight: function() {\n                var that = this,\n                    element = that.element,\n                    height = that.wrapper.outerHeight(true),\n                    elementHeight = parseFloat(height, 10) - that._uiHeight();\n\n                if (elementHeight < 0) {\n                    elementHeight = 0;\n                }\n\n                element.css({\n                    height: ceil(elementHeight) + \"px\"\n                });\n\n                this._applyScrollClassName(element);\n\n            },\n\n            _applyScrollClassName: function(element) {\n                    var hasScroll = element.get(0).scrollHeight > element.outerHeight();\n\n                    if (hasScroll){\n                        element.addClass(KSCROLL);\n                    } else {\n                        element.removeClass(KSCROLL);\n                    }\n            },\n\n            _uiHeight: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    actionbar = wrapper.children(KBUTTONGROUP),\n                    actionbarHeight = actionbar[0] && actionbar[0].offsetHeight || 0,\n                    titlebar = wrapper.children(KDIALOGTITLEBAR),\n                    titlebarHeight = titlebar[0] && titlebar[0].offsetHeight || 0;\n\n                return actionbarHeight + titlebarHeight;\n            },\n\n            _overlay: function(visible) {\n                var overlay = this.appendTo.children(KOVERLAY),\n                    wrapper = this.wrapper;\n\n\n                if (!overlay.length) {\n                    overlay = $(templates.overlay);\n                }\n\n                overlay\n                    .insertBefore(wrapper[0])\n                    .toggle(visible)\n                    .css(ZINDEX, parseInt(wrapper.css(ZINDEX), 10) - 1);\n\n                if (visible) {\n                    this._waiAriaOverlay();\n                }\n                else {\n                    this._removeWaiAriaOverlay();\n                }\n\n                if (this.options.modal.preventScroll) {\n                    this._stopDocumentScrolling();\n                }\n\n                return overlay;\n            },\n\n            _waiAriaOverlay: function() {\n                var node = this.wrapper;\n\n                this._overlayedNodes = node.prevAll(overlaySelector).add(node.nextAll(overlaySelector))\n                    .each(function() {\n                        var jthis = $(this);\n                        jthis.data(\"ariaHidden\", jthis.attr(\"aria-hidden\"));\n                        jthis.attr(\"aria-hidden\", \"true\");\n                    });\n            },\n\n            _removeWaiAriaOverlay: function() {\n                return this._overlayedNodes && this._overlayedNodes.each(function() {\n                    var node = $(this);\n                    var hiddenValue = node.data(\"ariaHidden\");\n                    if (hiddenValue) {\n                        node.attr(\"aria-hidden\", hiddenValue);\n                    }\n                    else {\n                        node.removeAttr(\"aria-hidden\");\n                    }\n                });\n            },\n\n            _closeClick: function(e) {\n                e.preventDefault();\n                this.close(false);\n            },\n\n            _closeKeyHandler: function(e) {\n                if (buttonKeyTrigger(e) || e.keyCode == keys.ESC) {\n                    this.close(false);\n                }\n            },\n\n            _keydown: function(e) {\n                var that = this,\n                    options = that.options,\n                    keyCode = e.keyCode;\n\n                if (keyCode == keys.ESC && !that._closing && options.closable) {\n                    that.close(false);\n                }\n            },\n\n            _createDialog: function() {\n                var that = this,\n                    content = that.element,\n                    options = that.options,\n                    isRtl = kendo.support.isRtl(content),\n                    titlebar = $(templates.titlebar(options)),\n                    titleId = (content.id || kendo.guid()) + \"_title\",\n                    wrapper = $(that.wrapperTemplate(options));\n\n                wrapper.toggleClass(\"k-rtl\", isRtl);\n\n                content.addClass(KCONTENTCLASS);\n                that.appendTo.append(wrapper);\n\n                if (options.title !== false) {\n                    wrapper.append(titlebar);\n                    titlebar.attr(\"id\", titleId);\n                    wrapper.attr(\"aria-labelledby\", titleId);\n                } else {\n                    wrapper.addClass(KTITLELESS);\n                }\n\n                that._closable(wrapper);\n\n                wrapper.append(content);\n\n                if (options.content) {\n                    kendo.destroy(content.children());\n                    content.html(options.content);\n                }\n\n                if (options.actions.length) {\n                    that._createActionbar(wrapper);\n                }\n            },\n\n            _closable: function (wrapper) {\n                var that = this;\n                var options = that.options;\n                var titlebar = wrapper.children(KDIALOGTITLEBAR);\n                var titlebarActions = titlebar.find(\".k-window-actions\");\n                var closeAction = titlebarActions.length ? titlebarActions.find(\".k-dialog-close\") : wrapper.find(\".k-dialog-close\");\n\n                closeAction.remove();\n\n                if (options.closable !== false) {\n                    if (options.title !== false && titlebarActions.length) {\n                        titlebarActions.append(templates.close(options));\n                    }\n                    else {\n                        wrapper.prepend(templates.close(options));\n                    }\n\n                    wrapper.autoApplyNS(NS);\n                    that.element.autoApplyNS(NS);\n\n                    wrapper.find(KICONCLOSE)\n                        .on(\"click\", proxy(that._closeClick, that))\n                        .on(\"keydown\", proxy(that._closeKeyHandler, that));\n\n                    that.element.on(\"keydown\", proxy(that._keydown, that));\n                }\n            },\n\n            _createActionbar: function(wrapper) {\n                var isStretchedLayout = (this.options.buttonLayout === \"stretched\");\n                var buttonLayout = isStretchedLayout ? \"stretch\" : \"end\";\n                var actionbar = $(templates.actionbar({ buttonLayout: buttonLayout }));\n\n                this._addButtons(actionbar);\n                wrapper.append(actionbar);\n            },\n\n            _addButtons: function(actionbar) {\n                var that = this,\n                    actionClick = proxy(that._actionClick, that),\n                    actionKeyHandler = proxy(that._actionKeyHandler, that),\n                    actions = that.options.actions,\n                    length = actions.length,\n                    action,\n                    text;\n\n                for (var i = 0; i < length; i++) {\n                    action = actions[i];\n                    text = that._mergeTextWithOptions(action);\n\n                    $(templates.action(action))\n                        .autoApplyNS(NS)\n                        .html(text)\n                        .appendTo(actionbar)\n                        .addClass(action.cssClass)\n                        .data(\"action\", action.action)\n                        .on(\"click\", actionClick)\n                        .on(\"keydown\", actionKeyHandler);\n                }\n            },\n\n            _mergeTextWithOptions : function(action) {\n                var text = action.text;\n                return text ? template(text)(this.options) : \"\";\n            },\n\n            _tabindex: function(target) {\n                var that = this;\n                var wrapper = that.wrapper;\n                var closeBtn = wrapper.find(KICONCLOSE);\n                var actionButtons = wrapper.find(KBUTTONGROUP + \" \" + KBUTTON);\n\n                Widget.fn._tabindex.call(this, target);\n\n                var tabIndex = target.attr(\"tabindex\");\n\n                closeBtn.attr(\"tabIndex\", tabIndex);\n                actionButtons.attr(\"tabIndex\", tabIndex);\n            },\n\n            _actionClick: function(e) {\n                if (this.wrapper.is(VISIBLE)) {\n                    this._runActionBtn(e.currentTarget);\n                }\n            },\n\n            _actionKeyHandler: function(e) {\n                if (buttonKeyTrigger(e)) {\n                    e.preventDefault();\n                    this._runActionBtn(e.currentTarget);\n                } else if (e.keyCode == keys.ESC) {\n                    this.close(false);\n                }\n            },\n\n            _runActionBtn: function(target) {\n                var that = this;\n                if (that._closing) {\n                    return;\n                }\n\n                var action = $(target).data(\"action\"),\n                    preventClose = (isFunction(action) && action({ sender: that }) === false);\n\n                if (!preventClose) {\n                    that.close(false);\n                }\n            },\n\n            _triggerOpen: function() {\n                var that = this;\n                var options = that.options;\n                var wrapper = that.wrapper;\n\n                that.toFront();\n                that._triggerInitOpen();\n                that.trigger(OPEN);\n                if (options.modal) {\n                    that._overlay(wrapper.is(VISIBLE)).css({ opacity: 0.5 });\n                    that._focusDialog();\n                }\n            },\n\n            open: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    showOptions = this._animationOptions(OPEN),\n                    options = that.options,\n                    overlay, otherModalsVisible;\n\n                this._triggerInitOpen();\n\n                if (!that.trigger(OPEN)) {\n                    if (that._closing) {\n                        wrapper.kendoStop(true, true);\n                    }\n\n                    that._closing = false;\n\n                    that.toFront();\n                    options.visible = true;\n                    if (options.modal) {\n                        otherModalsVisible = !!that._modals().length;\n                        overlay = that._overlay(otherModalsVisible);\n\n                        overlay.kendoStop(true, true);\n\n                        if (showOptions.duration && kendo.effects.Fade && !otherModalsVisible) {\n                            var overlayFx = kendo.fx(overlay).fadeIn();\n                            overlayFx.duration(showOptions.duration || 0);\n                            overlayFx.endValue(0.5);\n                            overlayFx.play();\n                        } else {\n                            overlay.css(\"opacity\", 0.5);\n                        }\n\n                        overlay.show();\n                    }\n\n                    wrapper.show().kendoStop().kendoAnimate({\n                        effects: showOptions.effects,\n                        duration: showOptions.duration,\n                        complete: proxy(that._openAnimationEnd, that)\n                    });\n                    wrapper.show();\n\n                }\n\n                return that;\n            },\n\n            _animationOptions: function(id) {\n                var animation = this.options.animation;\n                var basicAnimation = {\n                    open: { effects: {} },\n                    close: { hide: true, effects: {} }\n                };\n\n                return animation && animation[id] || basicAnimation[id];\n            },\n\n            _openAnimationEnd: function() {\n                if (this.options.modal) {\n                    this._focusDialog();\n                }\n                this.trigger(SHOW);\n            },\n\n            _triggerInitOpen: function() {\n                if (!defined(this._initOpenTriggered)) {\n                    this._initOpenTriggered = true;\n                    this.trigger(INITOPEN);\n                }\n            },\n\n            toFront: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    zIndex = +wrapper.css(ZINDEX),\n                    originalZIndex = zIndex;\n\n                that.center();\n\n                $(KWINDOW).each(function(i, element) {\n                    var windowObject = $(element),\n                        zIndexNew = windowObject.css(ZINDEX);\n\n                    if (!isNaN(zIndexNew)) {\n                        zIndex = Math.max(+zIndexNew, zIndex);\n                    }\n                });\n\n                if (!wrapper[0].style.zIndex || originalZIndex < zIndex) {\n                    wrapper.css(ZINDEX, zIndex + 2);\n                }\n\n                that.element.find(\"> .k-overlay\").remove();\n                wrapper = null;\n\n                return that;\n            },\n\n            close: function(systemTriggered) {\n                if(!arguments.length) {\n                    systemTriggered = true;\n                }\n\n                this._close(systemTriggered);\n                this._stopCenterOnResize();\n                return this;\n            },\n\n            _close: function(systemTriggered) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    showOptions = this._animationOptions(\"open\"),\n                    hideOptions = this._animationOptions(\"close\");\n\n                if (wrapper.is(VISIBLE) && !that.trigger(CLOSE, { userTriggered: !systemTriggered })) {\n                    if (that._closing) {\n                        return;\n                    }\n                    that._closing = true;\n\n                    options.visible = false;\n                    this._removeOverlay();\n\n                    wrapper.kendoStop().kendoAnimate({\n                        effects: hideOptions.effects || showOptions.effects,\n                        reverse: hideOptions.reverse === true,\n                        duration: hideOptions.duration,\n                        complete: proxy(this._closeAnimationEnd, this)\n                    });\n                }\n\n                return that;\n            },\n\n            center: function() {\n                this._center();\n                this._centerOnResize();\n            },\n\n            _center: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    documentWindow = $(window),\n                    scrollTop = 0,\n                    scrollLeft = 0,\n                    newLeft = scrollLeft + Math.max(0, (documentWindow.width() - wrapper.width()) / 2),\n                    newTop = scrollTop + Math.max(0, (documentWindow.height() - wrapper.height() - parseInt(wrapper.css(\"paddingTop\"), 10)) / 2);\n\n                wrapper.css({\n                    left: newLeft,\n                    top: newTop\n                });\n\n                return that;\n            },\n\n            _centerOnResize: function() {\n                if (this._trackResize) {\n                    return;\n                }\n\n                kendo.onResize(this._centerCallback);\n                this._trackResize = true;\n            },\n\n            _stopCenterOnResize: function() {\n                kendo.unbindResize(this._centerCallback);\n                this._trackResize = false;\n            },\n\n            _removeOverlay: function() {\n                var modals = this._modals();\n                var options = this.options;\n                var hideOverlay = options.modal && !modals.length;\n\n                if (hideOverlay) {\n                    this._overlay(false).remove();\n\n                    if (options.modal.preventScroll) {\n                        this._enableDocumentScrolling();\n                    }\n                } else if (modals.length) {\n                    this._object(modals.last())._overlay(true);\n\n                    if (options.modal.preventScroll) {\n                        this._stopDocumentScrolling();\n                    }\n                }\n            },\n\n            _stopDocumentScrolling: function(){\n                var that = this;\n\n                var $body = $(\"body\");\n                that._storeOverflowRule($body);\n                $body.css(OVERFLOW, HIDDEN);\n\n                var $html = $(\"html\");\n                var html = $html[0];\n                that._storeOverflowRule($html);\n                $html.css(OVERFLOW, HIDDEN);\n\n                // prevent touch due to bug in ios\n                if (kendo.support.mobileOS.ios) {\n                    html.addEventListener(TOUCHSTART, that._touchStart, { passive: false });\n                    html.addEventListener(TOUCHMOVE, that._touchMove, { passive: false });\n                }\n            },\n\n            _touchStart: function (e) {\n                $(this).data(DATAHTMLTAPYRULE, e.changedTouches[0].pageY);\n            },\n\n            _touchMove: function (e) {\n                var target = e.target;\n                var $target = $(e.target);\n                var upScroll = e.changedTouches[0].pageY - $(this).data(DATAHTMLTAPYRULE) > 0;\n                var preventYScroll = $target.is(KCONTENTSELECTOR) &&\n                    (upScroll && $target.scrollTop() === 0) ||\n                    (!upScroll && $target.scrollTop() === target.scrollHeight - target.clientHeight);\n                if (!$target.is(KCONTENTSELECTOR) || preventYScroll) {\n                    e.preventDefault();\n                }\n            },\n\n            _enableDocumentScrolling: function(){\n                var that = this;\n                var $body = $(document.body);\n                var $html = $(\"html\");\n                var html = $html[0];\n\n                that._restoreOverflowRule($body);\n                that._restoreOverflowRule($html);\n\n                if (kendo.support.mobileOS.ios) {\n                    $html.removeData(DATAHTMLTAPYRULE);\n                    html.removeEventListener(TOUCHSTART, that._touchStart, { passive: false });\n                    html.removeEventListener(TOUCHMOVE, that._touchMove, { passive: false });\n                }\n            },\n\n            _storeOverflowRule: function($element){\n                if(this._isOverflowStored($element)){\n                    return;\n                }\n\n                var overflowRule = $element.get(0).style.overflow;\n\n                if(typeof overflowRule === \"string\"){\n                    $element.data(DATADOCOVERFLOWRULE, overflowRule);\n                }\n            },\n\n            _isOverflowStored: function ($element){\n                return typeof $element.data(DATADOCOVERFLOWRULE) === \"string\";\n            },\n\n            _restoreOverflowRule: function($element){\n                var overflowRule = $element.data(DATADOCOVERFLOWRULE);\n\n                if(overflowRule !== null && overflowRule !== undefined){\n                    $element.css(OVERFLOW, overflowRule);\n                    $element.removeData(DATADOCOVERFLOWRULE);\n                } else {\n                    $element.css(OVERFLOW, \"\");\n                }\n            },\n\n            _closeAnimationEnd: function() {\n                var that = this;\n\n                that._closing = false;\n                that.wrapper.hide().css(\"opacity\", \"\");\n                that.trigger(HIDE);\n\n                if (that.options.modal) {\n                    var lastModal = that._object(that._modals().last());\n                    if (lastModal) {\n                        lastModal.toFront();\n                    }\n                }\n            },\n\n            _modals: function() {\n                var that = this;\n\n                var zStack = $(KWINDOW).filter(function() {\n                    var modal = that._object($(this));\n\n                    return modal &&\n                        modal.options &&\n                        modal.options.modal &&\n                        modal.options.visible &&\n                        modal.options.appendTo === that.options.appendTo &&\n                        !modal.containment &&\n                        $(modal.element).is(VISIBLE);\n                }).sort(function(a, b) {\n                    return +$(a).css(\"zIndex\") - +$(b).css(\"zIndex\");\n                });\n\n                that = null;\n\n                return zStack;\n            },\n\n            _object: function(element) {\n                var content = element.children(KCONTENTSELECTOR);\n                var widget = kendo.widgetInstance(content);\n\n                if (widget) {\n                    return widget;\n                }\n\n                return undefined;\n            },\n\n            destroy: function() {\n                var that = this;\n                that._destroy();\n\n                Widget.fn.destroy.call(that);\n\n                kendo.destroy(that.wrapper);\n\n                that.wrapper.remove();\n                that.wrapper = that.element = $();\n            },\n\n            _destroy: function() {\n                var that = this;\n                var ns = \".\" + NS;\n\n                that.wrapper.off(ns);\n                that.element.off(ns);\n                that.wrapper.find(KICONCLOSE + \",\" + KBUTTONGROUP + \" > \" + KBUTTON).off(ns);\n                that._stopCenterOnResize();\n            },\n\n            title: function(html) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    titlebar = wrapper.children(KDIALOGTITLEBAR),\n                    title = titlebar.children(KDIALOGTITLE),\n                    encodedHtml = kendo.htmlEncode(html);\n\n                if (!arguments.length) {\n                    return title.html();\n                }\n\n                if (html === false) {\n                    titlebar.remove();\n                    wrapper.addClass(KTITLELESS);\n                } else {\n                    if (!titlebar.length) {\n                        titlebar = $(templates.titlebar(options)).prependTo(wrapper);\n                        title = titlebar.children(KDIALOGTITLE);\n                        wrapper.removeClass(KTITLELESS);\n                    }\n                    title.html(encodedHtml);\n                }\n\n                that.options.title = encodedHtml;\n\n                return that;\n            },\n\n            content: function(html, data) {\n                var that = this,\n                    content = that.wrapper.children(KCONTENTSELECTOR);\n\n                if (!defined(html)) {\n                    return content.html();\n                }\n\n                this.angular(\"cleanup\", function(){\n                    return { elements: content.children() };\n                });\n\n                kendo.destroy(content.children());\n                content.html(html);\n\n                this.angular(\"compile\", function(){\n                    var a = [];\n                    for (var i = content.length; --i >= 0;) {\n                        a.push({ dataItem: data });\n                    }\n                    return {\n                        elements: content.children(),\n                        data: a\n                    };\n                });\n\n                that.options.content = html;\n\n                return that;\n            },\n\n            _focusDialog: function() {\n                if (this._defaultFocus) {\n                    this._focus(this._defaultFocus);\n                }\n                this._tabKeyTrap.trap();\n            },\n\n            _focus: function(node) {\n                if (node) {\n                    node.focus();\n                }\n            },\n\n            events: [\n                INITOPEN,\n                OPEN,\n                CLOSE,\n                SHOW,\n                HIDE\n            ],\n\n            options: {\n                title: \"\",\n                buttonLayout: \"stretched\",\n                actions: [],\n                modal: true,\n                size: \"auto\",\n                width: null,\n                height: null,\n                minWidth: 0,\n                minHeight: 0,\n                maxWidth: Infinity,\n                maxHeight: Infinity,\n                content: null,\n                visible: null,\n                appendTo: BODY,\n                closable: true\n            }\n        });\n\n        var Dialog = DialogBase.extend({\n            options: {\n                name: \"Dialog\",\n                messages: {\n                    close: \"Close\"\n                }\n            }\n        });\n\n        kendo.ui.plugin(Dialog);\n\n        var PopupBox = DialogBase.extend({\n            _init: function(element, options) {\n                var that = this;\n\n                that.wrapperTemplate = templates.alertWrapper;\n                options._defaultFocus = null;\n                that._ensureContentId(element);\n\n                DialogBase.fn._init.call(that, element, options);\n\n                that.bind(HIDE, proxy(that.destroy, that));\n\n                that._ariaDescribedBy();\n                that._initFocus();\n            },\n\n            _ensureContentId: function(element) {\n                var node = $(element);\n                if(!node.attr(\"id\")) {\n                    node.attr(\"id\", kendo.guid() + \"_k-popup\");\n                }\n            },\n\n            _ariaDescribedBy: function() {\n                this.wrapper.attr(\"aria-describedby\", this.element.attr(\"id\"));\n            },\n\n            _initFocus: function() {\n                var o = this.options;\n\n                this._defaultFocus = this._chooseEntryFocus();\n                if (this._defaultFocus && o.visible && o.modal) {\n                    this._focusDialog();\n                }\n            },\n\n            _chooseEntryFocus: function() {\n                return this.wrapper.find(KBUTTONGROUP + \" > \" + KBUTTON)[0];\n            },\n\n            options: {\n                title: window.location.host,\n                closable: false,\n                messages: messages\n            }\n        });\n\n        var Alert = PopupBox.extend({\n            _init: function(element, options) {\n                var that = this;\n                PopupBox.fn._init.call(that, element, options);\n                that.wrapper.addClass(KALERT);\n            },\n\n            options: {\n                name: \"Alert\",\n                modal: true,\n                actions: [{\n                    text: \"#: messages.okText #\"\n                }]\n            }\n        });\n\n        kendo.ui.plugin(Alert);\n\n        var kendoAlert = function(text) {\n            return $(templates.alert).kendoAlert({ content: text }).data(\"kendoAlert\").open();\n        };\n\n        var Confirm = PopupBox.extend({\n            _init: function(element, options) {\n                var that = this;\n                PopupBox.fn._init.call(that, element, options);\n                that.wrapper.addClass(KCONFIRM);\n                that.result = $.Deferred();\n            },\n\n            options: {\n                name: \"Confirm\",\n                modal: true,\n                actions: [{\n                    text: \"#: messages.okText #\",\n                    primary: true,\n                    action: function(e) {\n                        e.sender.result.resolve();\n                    }\n                }, {\n                    text: \"#: messages.cancel #\",\n                    action: function(e) {\n                        e.sender.result.reject();\n                    }\n                }]\n            }\n        });\n\n        kendo.ui.plugin(Confirm);\n\n        var kendoConfirm = function(text) {\n            var confirmDialog = $(templates.confirm).kendoConfirm({ content: text }).data(\"kendoConfirm\").open();\n            return confirmDialog.result;\n        };\n\n        var Prompt = PopupBox.extend({\n            _init: function(element, options) {\n                var that = this;\n                PopupBox.fn._init.call(that, element, options);\n                that.wrapper.addClass(KPROMPT);\n                that._createPrompt();\n                that.result = $.Deferred();\n            },\n\n            _createPrompt: function() {\n                var value = this.options.value,\n                    promptContainer = $(templates.promptInputContainer(this.options)).insertAfter(this.element);\n\n                this.input = new kendo.ui.TextBox(promptContainer.find(\"input\"));\n\n                if (value) {\n                    this.input.value(value);\n                }\n\n                this._defaultFocus = this._chooseEntryFocus();\n                this._focusDialog();\n            },\n\n            _chooseEntryFocus: function() {\n                return this.wrapper.find(KTEXTBOX)[0];\n            },\n\n            options: {\n                name: \"Prompt\",\n                modal: true,\n                value: \"\",\n                actions: [{\n                    text: \"#: messages.okText #\",\n                    primary: true,\n                    action: function(e) {\n                        var sender = e.sender,\n                            value = sender.input.value();\n\n                        sender.result.resolve(value);\n                    }\n                }, {\n                    text: \"#: messages.cancel #\",\n                    action: function(e) {\n                        var sender = e.sender,\n                            value = sender.input.value();\n\n                        e.sender.result.reject(value);\n                    }\n                }]\n            }\n        });\n\n        kendo.ui.plugin(Prompt);\n\n        var kendoPrompt = function(text, value) {\n            var promptDialog = $(templates.prompt).kendoPrompt({\n                content: text,\n                value: value\n            }).data(\"kendoPrompt\").open();\n\n            return promptDialog.result;\n        };\n\n        templates = {\n            wrapper: template(\"<div class='k-widget k-window k-dialog' role='dialog'></div>\"),\n            action: template(\"<button type='button' class='k-button k-button-md k-rounded-md k-button-solid # if (data.primary) { # k-button-solid-primary # } else { # k-button-solid-base # } #' role='button'></button>\"),\n            titlebar: template(\n                \"<div class='k-window-titlebar k-dialog-titlebar k-hstack'>\" +\n                    \"<span class='k-window-title k-dialog-title'>#: title #</span>\" +\n                    \"<div class='k-window-actions k-dialog-actions k-hstack'></div>\" +\n                \"</div>\"\n            ),\n            close: template(\"<a role='button' href='\\\\#' class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-window-action k-dialog-action k-dialog-close' title='#: messages.close #' aria-label='#: messages.close #' tabindex='-1'>\" +\n                \"<span class='k-button-icon k-icon k-i-close'></span></a>\"),\n            actionbar: template(\"<div class='k-dialog-buttongroup k-actions k-hstack k-justify-content-#: buttonLayout #' role='toolbar'></div>\"),\n            overlay: \"<div class='k-overlay'></div>\",\n            alertWrapper: template(\"<div class='k-widget k-window k-dialog' role='alertdialog'></div>\"),\n            alert: \"<div></div>\",\n            confirm: \"<div></div>\",\n            prompt: \"<div></div>\",\n            promptInputContainer: template(\"<div class='k-prompt-container'><input type='text' title='#: messages.promptInput #' aria-label='#: messages.promptInput #' /></div>\")\n        };\n\n        kendo.alert = kendoAlert;\n        kendo.confirm = kendoConfirm;\n        kendo.prompt = kendoPrompt;\n\n    })(window.kendo.jQuery);\n\n    return window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.window',[ \"./kendo.draganddrop\", \"./kendo.popup\"], f);\n})(function(){\n\n    var __meta__ = { // jshint ignore:line\n        id: \"window\",\n        name: \"Window\",\n        category: \"web\",\n        description: \"The Window widget displays content in a modal or non-modal HTML window.\",\n        depends: [ \"draganddrop\", \"popup\" ],\n        features: [ {\n            id: \"window-fx\",\n            name: \"Animation\",\n            description: \"Support for animation\",\n            depends: [ \"fx\" ]\n        } ]\n    };\n\n    (function($, undefined) {\n        var kendo = window.kendo,\n            Widget = kendo.ui.Widget,\n            TabKeyTrap = kendo.ui.Popup.TabKeyTrap,\n            Draggable = kendo.ui.Draggable,\n            isPlainObject = $.isPlainObject,\n            activeElement = kendo._activeElement,\n            outerWidth = kendo._outerWidth,\n            outerHeight = kendo._outerHeight,\n            proxy = $.proxy,\n            extend = $.extend,\n            each = $.each,\n            template = kendo.template,\n            BODY = \"body\",\n            templates,\n            NS = \".kendoWindow\",\n            MODAL_NS = \".kendoWindowModal\",\n            // classNames\n            KWINDOW = \".k-window\",\n            KWINDOWTITLE = \".k-window-title\",\n            KWINDOWTITLEBAR = KWINDOWTITLE + \"bar\",\n            KWINDOWCONTENT = \".k-window-content\",\n            KDIALOGCONTENT = \".k-dialog-content\",\n            KWINDOWRESIZEHANDLES = \".k-resize-handle\",\n            KOVERLAY = \".k-overlay\",\n            KCONTENTFRAME = \"k-content-frame\",\n            LOADING = \"k-i-loading\",\n            KHOVERSTATE = \"k-hover\",\n            KFOCUSEDSTATE = \"k-state-focused\",\n            MAXIMIZEDSTATE = \"k-window-maximized\",\n            INLINE_FLEX = \"k-display-inline-flex\",\n            // constants\n            VISIBLE = \":visible\",\n            HIDDEN = \"hidden\",\n            CURSOR = \"cursor\",\n            // events\n            OPEN = \"open\",\n            ACTIVATE = \"activate\",\n            DEACTIVATE = \"deactivate\",\n            CLOSE = \"close\",\n            REFRESH = \"refresh\",\n            MINIMIZE = \"minimize\",\n            MAXIMIZE = \"maximize\",\n            RESIZESTART = \"resizeStart\",\n            RESIZE = \"resize\",\n            RESIZEEND = \"resizeEnd\",\n            DRAGSTART = \"dragstart\",\n            DRAGEND = \"dragend\",\n            RESTORE = \"restore\",\n            KENDOKEYDOWN = \"kendoKeydown\",\n            ERROR = \"error\",\n            OVERFLOW = \"overflow\",\n            DATADOCOVERFLOWRULE = \"original-overflow-rule\",\n            ZINDEX = \"zIndex\",\n            MINIMIZE_MAXIMIZE = \".k-window-actions .k-i-window-minimize,.k-window-actions .k-i-window-maximize\",\n            KPIN = \".k-i-pin\",\n            KUNPIN = \".k-i-unpin\",\n            PIN_UNPIN = KPIN + \",\" + KUNPIN,\n            TITLEBAR_BUTTONS = \".k-window-titlebar .k-window-action\",\n            REFRESHICON = \".k-window-titlebar .k-i-refresh\",\n            WINDOWEVENTSHANDLED = \"WindowEventsHandled\",\n            zero = /^0[a-z]*$/i,\n            isLocalUrl = kendo.isLocalUrl,\n            SIZE = {\n                small: \"k-window-sm\",\n                medium: \"k-window-md\",\n                large: \"k-window-lg\"\n            };\n\n        function defined(x) {\n            return (typeof x != \"undefined\");\n        }\n\n        function toInt(element, property) {\n            return parseInt(element.css(property), 10) || 0;\n        }\n\n        function constrain(value, low, high) {\n            var normalizedValue;\n\n            if (value && isNaN(value) && value.toString().indexOf(\"px\") < 0) {\n                normalizedValue = value;\n            } else {\n                normalizedValue = Math.max(\n                    Math.min(parseInt(value, 10), high === Infinity ? high : parseInt(high, 10)),\n                    low === -Infinity ? low : parseInt(low, 10)\n                );\n            }\n\n            return normalizedValue;\n        }\n\n        function executableScript() {\n            return !this.type || this.type.toLowerCase().indexOf(\"script\") >= 0;\n        }\n\n\n        function getPosition(elem) {\n            var result = { top: elem.offsetTop, left: elem.offsetLeft },\n                parent = elem.offsetParent;\n\n            while (parent) {\n                result.top += parent.offsetTop;\n                result.left += parent.offsetLeft;\n\n                var parentOverflowX = $(parent).css(\"overflowX\");\n                var parentOverflowY = $(parent).css(\"overflowY\");\n\n                if (parentOverflowY === \"auto\" || parentOverflowY === \"scroll\") {\n                    result.top -= parent.scrollTop;\n                }\n\n                if (parentOverflowX === \"auto\" || parentOverflowX === \"scroll\") {\n                    result.left -= parent.scrollLeft;\n                }\n\n                parent = parent.offsetParent;\n            }\n\n            return result;\n        }\n\n        var Window = Widget.extend({\n            init: function(element, options) {\n                var that = this,\n                    wrapper,\n                    offset = {},\n                    visibility, display, position,\n                    isVisible = false,\n                    content,\n                    windowContent,\n                    windowFrame,\n                    globalWindow,\n                    suppressActions = options && options.actions && !options.actions.length,\n                    id;\n\n                Widget.fn.init.call(that, element, options);\n                options = that.options;\n                position = options.position;\n                element = that.element;\n                content = options.content;\n                globalWindow = $(window);\n\n                if (suppressActions) {\n                    options.actions = [];\n                }\n\n                that.appendTo = $(options.appendTo);\n\n                that.containment = options.draggable.containment ? $(options.draggable.containment).first() : null;\n\n                if (content && !isPlainObject(content)) {\n                    content = options.content = { url: content };\n                }\n\n                // remove script blocks to prevent double-execution\n                element.find(\"script\").filter(executableScript).remove();\n\n                if (!element.parent().is(that.appendTo) && !that.containment && (position.top === undefined || position.left === undefined)) {\n                    if (element.is(VISIBLE)) {\n                        offset = element.offset();\n                        isVisible = true;\n                    } else {\n                        visibility = element.css(\"visibility\");\n                        display = element.css(\"display\");\n\n                        element.css({ visibility: HIDDEN, display: \"\" });\n\n                        if (document.body.contains(element[0])) {\n                            offset = element.offset();\n                        } else {\n                            offset = { top: 0, left: 0 };\n                        }\n\n                        element.css({ visibility: visibility, display: display });\n                    }\n\n                    if (position.top === undefined) {\n                        position.top = offset.top;\n                    }\n                    if (position.left === undefined) {\n                        position.left = offset.left;\n                    }\n                }\n\n                if (!defined(options.visible) || options.visible === null) {\n                    options.visible = element.is(VISIBLE);\n                }\n\n                wrapper = that.wrapper = element.closest(KWINDOW);\n\n                if (!element.is(\".k-window-content\") || !wrapper[0]) {\n                    element.addClass(\"k-window-content\");\n                    that._createWindow(element, options);\n                    wrapper = that.wrapper = element.closest(KWINDOW);\n\n                    that.title(that.options.title);\n                    that._dimensions();\n                }\n\n                that.minTop = that.minLeft = -Infinity;\n                that.maxTop = that.maxLeft = Infinity;\n                that._position();\n\n                if (content) {\n                    that.refresh(content);\n                }\n\n                if (options.visible) {\n                    that.toFront(null, !options.modal);\n                }\n\n                windowContent = wrapper.children(KWINDOWCONTENT);\n\n                if (options.visible && options.modal) {\n                    that._overlay(wrapper.is(VISIBLE)).css({ opacity: 0.5 });\n                }\n\n                wrapper\n                    .on(\"mouseenter\" + NS, TITLEBAR_BUTTONS, proxy(that._buttonEnter, that))\n                    .on(\"mouseleave\" + NS, TITLEBAR_BUTTONS, proxy(that._buttonLeave, that))\n                    .on(\"click\" + NS, \"> \" + TITLEBAR_BUTTONS, proxy(that._windowActionHandler, that))\n                    .on(\"keydown\" + NS, that, proxy(that._keydown, that))\n                    .on(\"focus\" + NS, proxy(that._focus, that))\n                    .on(\"blur\" + NS, proxy(that._blur, that));\n\n                windowContent\n                    .on(\"keydown\" + NS, that, proxy(that._keydownContent, that));\n\n                windowFrame = windowContent.find(\".\" + KCONTENTFRAME)[0];\n\n                if(windowFrame && !globalWindow.data(WINDOWEVENTSHANDLED)){\n\n                    globalWindow.on(\"blur\" + NS, function(){\n                        var element = $(document.activeElement).parent(KWINDOWCONTENT);\n                        if (element.length) {\n                            var windowInstance = kendo.widgetInstance(element);\n                            windowInstance._focus();\n                        }\n                    });\n\n                    globalWindow.on(\"focus\" + NS, function(){\n                        $(KWINDOWCONTENT).not(KDIALOGCONTENT).each(function(i, element){\n                            kendo.widgetInstance($(element))._blur();\n                        });\n                    });\n\n                    globalWindow.data(WINDOWEVENTSHANDLED, true);\n                }\n\n                this._resizable();\n\n                this._draggable();\n\n                if (options.pinned && this.wrapper.is(\":visible\")) {\n                    that.pin();\n                }\n\n                id = element.attr(\"id\");\n                if (id) {\n                    id = id + \"_wnd_title\";\n                    wrapper.attr({\n                            \"role\": \"dialog\",\n                            \"aria-labelledby\": id\n                        }).children(KWINDOWTITLEBAR)\n                        .children(KWINDOWTITLE)\n                        .attr(\"id\", id);\n                }\n\n                wrapper.add(wrapper.children(\".k-resize-handle,\" + KWINDOWTITLEBAR))\n                    .on(kendo.support.mousedown + NS, proxy(that.toFront, that));\n\n                that.touchScroller = kendo.touchScroller(element);\n\n                that._resizeHandler = proxy(that._onDocumentResize, that);\n\n                that._marker = kendo.guid().substring(0, 8);\n\n                $(window).on(\"resize\" + NS + that._marker, that._resizeHandler);\n\n                if (options.visible) {\n                    that.trigger(OPEN);\n                    that.trigger(ACTIVATE);\n                }\n\n                kendo.notify(that);\n\n                if(this.options.modal) {\n                    this._tabKeyTrap = new TabKeyTrap(wrapper);\n                    this._tabKeyTrap.trap();\n                    this._tabKeyTrap.shouldTrap = function () {\n                        return wrapper.data(\"isFront\");\n                    };\n                }\n            },\n\n            _buttonEnter: function(e) {\n                $(e.currentTarget).addClass(KHOVERSTATE);\n            },\n\n            _buttonLeave: function(e) {\n                $(e.currentTarget).removeClass(KHOVERSTATE);\n            },\n\n            _focus: function() {\n                this.wrapper.addClass(KFOCUSEDSTATE);\n            },\n\n            _blur: function() {\n                this.wrapper.removeClass(KFOCUSEDSTATE);\n            },\n\n            _dimensions: function() {\n                var wrapper = this.wrapper;\n                var options = this.options;\n                var width = options.width;\n                var height = options.height;\n                var maxHeight = options.maxHeight;\n                var sizeClass = options.size;\n                var dimensions = [\"minWidth\",\"minHeight\",\"maxWidth\",\"maxHeight\"];\n                var contentBoxSizing = wrapper.css(\"box-sizing\") == \"content-box\";\n\n                var lrBorderWidth = contentBoxSizing ? toInt(wrapper, \"border-left-width\") + toInt(wrapper, \"border-right-width\") : 0;\n                var tbBorderWidth = contentBoxSizing ? toInt(wrapper, \"border-top-width\") + toInt(wrapper, \"border-bottom-width\") : 0;\n                var paddingTop = contentBoxSizing ? toInt(wrapper, \"padding-top\") : 0;\n\n                if (this.containment && !this._isPinned) {\n                    this._updateBoundaries();\n                    options.maxHeight = Math.min(this.containment.height - (tbBorderWidth + paddingTop), maxHeight);\n                    options.maxWidth = Math.min(this.containment.width - lrBorderWidth, options.maxWidth);\n                }\n\n                for (var i = 0; i < dimensions.length; i++) {\n                    var value = options[dimensions[i]] || \"\";\n                    if (value != Infinity) {\n                        wrapper.css(dimensions[i], value);\n                    }\n                }\n\n                if (maxHeight != Infinity) {\n                    this.element.css(\"maxHeight\", maxHeight);\n                }\n\n                if (width) {\n                    wrapper.outerWidth(constrain(width, options.minWidth, options.maxWidth));\n                }\n                else {\n                    wrapper.outerWidth(\"\");\n                }\n\n                if (height) {\n                    wrapper.outerHeight(constrain(height, options.minHeight, options.maxHeight));\n                }\n                else {\n                    wrapper.outerHeight(\"\");\n                }\n\n                if (!options.visible) {\n                    wrapper.removeClass(INLINE_FLEX).hide();\n                }\n\n                if (sizeClass && SIZE[sizeClass]) {\n                    wrapper.addClass(SIZE[sizeClass]);\n                }\n            },\n\n            _position: function() {\n                var wrapper = this.wrapper,\n                    position = this.options.position,\n                    containmentTop, containmentLeft;\n\n                this._updateBoundaries();\n\n                if (this.containment) {\n                    position.top = position.top || 0;\n                    position.left = position.left || 0;\n\n                    containmentTop = position.top.toString().indexOf(\"%\") > 0 ?\n                        parseInt(this.containment.height * (parseFloat(position.top) / 100), 10) :\n                        position.top;\n\n                    containmentLeft = position.left.toString().indexOf(\"%\") > 0 ?\n                        parseInt(this.containment.width * (parseFloat(position.left) / 100), 10) :\n                        position.left;\n\n                    position.top = constrain(containmentTop, this.minTop, this.maxTop);\n                    position.left = constrain(containmentLeft, this.minLeft, this.maxLeft);\n                }\n\n                if (position.top && position.top.toString().indexOf(\"px\") > 0) {\n                    position.top = Number(position.top.replace(\"px\", \"\"));\n                }\n\n                if (position.left && position.left.toString().indexOf(\"px\") > 0) {\n                    position.left = Number(position.left.replace(\"px\", \"\"));\n                }\n\n                if (position.top === 0) {\n                    position.top = position.top.toString();\n                }\n\n                if (position.left === 0) {\n                    position.left = position.left.toString();\n                }\n\n                wrapper.css({\n                    top: position.top || \"\",\n                    left: position.left || \"\"\n                });\n            },\n\n            _updateBoundaries: function() {\n                var containment = this.containment;\n\n                if (!containment) {\n                    return null;\n                }\n\n                containment.width = containment.innerWidth();\n                containment.height = containment.innerHeight();\n\n                if (parseInt(containment.width, 10) > containment[0].clientWidth) {\n                    containment.width -= kendo.support.scrollbar();\n                }\n\n                if (parseInt(containment.height, 10) > containment[0].clientHeight) {\n                    containment.height -= kendo.support.scrollbar();\n                }\n\n                containment.position = getPosition(containment[0]);\n\n                if (this._isPinned) {\n                    this.minTop = this.minLeft = -Infinity;\n                    this.maxTop = this.maxLeft = Infinity;\n                } else {\n                    this.minTop = containment.scrollTop();\n                    this.minLeft = containment.scrollLeft();\n                    this.maxLeft = this.minLeft + containment.width - outerWidth(this.wrapper, true);\n                    this.maxTop = this.minTop + containment.height - outerHeight(this.wrapper, true);\n                }\n            },\n\n            _animationOptions: function(id) {\n                var animation = this.options.animation;\n                var basicAnimation = {\n                    open: { effects: {} },\n                    close: { hide: true, effects: {} }\n                };\n\n                return animation && animation[id] || basicAnimation[id];\n            },\n\n            _resize: function() {\n                kendo.resize(this.element.children());\n            },\n\n            _resizable: function() {\n                var resizable = this.options.resizable;\n                var wrapper = this.wrapper;\n\n                if (this.resizing) {\n                    wrapper\n                        .off(\"dblclick\" + NS)\n                        .children(KWINDOWRESIZEHANDLES).remove();\n\n                    this.resizing.destroy();\n                    this.resizing = null;\n                }\n\n                if (resizable) {\n                    wrapper.on(\"dblclick\" + NS, KWINDOWTITLEBAR, proxy(function(e) {\n                        if (!$(e.target).closest(\".k-window-action\").length) {\n                            this.toggleMaximization();\n                        }\n                    }, this));\n\n                    each(\"n e s w se sw ne nw\".split(\" \"), function(index, handler) {\n                        wrapper.append(templates.resizeHandle(handler));\n                    });\n\n                    this.resizing = new WindowResizing(this);\n                }\n\n                wrapper = null;\n            },\n\n            _draggable: function() {\n                var draggable = this.options.draggable;\n\n                if (this.dragging) {\n                    this.dragging.destroy();\n                    this.dragging = null;\n                }\n                if (draggable) {\n                    this.dragging = new WindowDragging(this, draggable.dragHandle || KWINDOWTITLEBAR);\n                }\n            },\n\n            _actions: function() {\n                var options = this.options;\n                var actions = options.actions;\n                var pinned = options.pinned;\n                var titlebar = this.wrapper.children(KWINDOWTITLEBAR);\n                var container = titlebar.find(\".k-window-actions\");\n                var windowSpecificCommands = [ \"maximize\", \"minimize\" ];\n\n                actions = $.map(actions, function(action) {\n                    action = pinned && action.toLowerCase() === \"pin\" ? \"unpin\" : action;\n                    return { name: (windowSpecificCommands.indexOf(action.toLowerCase()) > - 1) ? \"window-\" + action : action };\n                });\n\n                container.html(kendo.render(templates.action, actions));\n            },\n\n            setOptions: function(options) {\n                var that = this;\n                var sizeClass = that.options.size;\n                var doc = this.containment && !that._isPinned ? this.containment : $(document);\n                // make a deep extend over options.position telerik/kendo-ui-core#844\n                var cachedOptions = JSON.parse(JSON.stringify(options));\n                extend(options.position, that.options.position);\n                extend(options.position, cachedOptions.position);\n\n                that._containerScrollTop = doc.scrollTop();\n                that._containerScrollLeft = doc.scrollLeft();\n\n                Widget.fn.setOptions.call(that, options);\n                var scrollable = that.options.scrollable !== false;\n\n                that.restore();\n\n                if (typeof options.title !== \"undefined\") {\n                    that.title(options.title);\n                }\n\n                that.wrapper.removeClass(SIZE[sizeClass]);\n                that._dimensions();\n\n                that._position();\n                that._resizable();\n                that._draggable();\n                that._actions();\n                if (typeof options.modal !== \"undefined\") {\n                    var visible = that.options.visible !== false;\n                    that._enableDocumentScrolling();\n                    that._overlay(options.modal && visible);\n                }\n\n                that.element.css(OVERFLOW, scrollable ? \"\" : \"hidden\");\n            },\n\n            events:[\n                OPEN,\n                ACTIVATE,\n                DEACTIVATE,\n                CLOSE,\n                MINIMIZE,\n                MAXIMIZE,\n                REFRESH,\n                RESTORE,\n                RESIZESTART,\n                RESIZE,\n                RESIZEEND,\n                DRAGSTART,\n                DRAGEND,\n                KENDOKEYDOWN,\n                ERROR\n            ],\n\n            options: {\n                name: \"Window\",\n                animation: {\n                    open: {\n                        effects: { zoom: { direction: \"in\" }, fade: { direction: \"in\" } },\n                        duration: 350\n                    },\n                    close: {\n                        effects: { zoom: { direction: \"out\", properties: { scale: 0.7 } }, fade: { direction: \"out\" } },\n                        duration: 350,\n                        hide: true\n                    }\n                },\n                title: \"\",\n                actions: [\"Close\"],\n                autoFocus: true,\n                modal: false,\n                size: \"auto\",\n                resizable: true,\n                draggable: true,\n                minWidth: 90,\n                minHeight: 50,\n                maxWidth: Infinity,\n                maxHeight: Infinity,\n                pinned: false,\n                scrollable: true,\n                position: {},\n                content: null,\n                visible: null,\n                height: null,\n                width: null,\n                appendTo: \"body\",\n                isMaximized: false,\n                isMinimized: false\n            },\n\n            _closable: function() {\n                return $.inArray(\"close\", $.map(this.options.actions, function(x) { return x.toLowerCase(); })) > -1;\n            },\n\n            _keydownContent: function(e) {\n                var that = this,\n                    keys = kendo.keys,\n                    keyCode = e.keyCode;\n\n                if (keyCode == keys.ESC && that._closable()) {\n                    e.stopPropagation();\n                    that._close(false);\n                }\n            },\n\n            _keydown: function(e) {\n                var that = this,\n                    options = that.options,\n                    keys = kendo.keys,\n                    keyCode = e.keyCode,\n                    wrapper = that.wrapper,\n                    offset, handled,\n                    distance = 10,\n                    isMaximized = options.isMaximized,\n                    isMinimized = options.isMinimized,\n                    newWidth, newHeight, w, h;\n\n                if (keyCode == keys.ESC && that._closable()) {\n                    e.stopPropagation();\n                    that._close(false);\n                }\n\n                if (e.target != e.currentTarget || that._closing) {\n                    return;\n                }\n\n                 // Refresh\n                if (e.altKey && keyCode == 82) {// Alt + R\n                    that.refresh();\n                }\n\n                // Pin/Unpin\n                if (e.altKey && keyCode == 80) {// Alt + P\n                    if(that.options.pinned){\n                        that.unpin();\n                    } else {\n                        that.pin();\n                    }\n                }\n\n                // Maximize/Restore/Miminimize\n                if(e.altKey && keyCode == keys.UP){\n                    if (isMinimized) {\n                        that.restore();\n                        that.wrapper.trigger(\"focus\");\n                    } else if (!isMaximized) {\n                        that.maximize();\n                        that.wrapper.trigger(\"focus\");\n                    }\n\n                } else if (e.altKey && keyCode == keys.DOWN){\n                    if (!isMinimized && !isMaximized) {\n                        that.minimize();\n                        that.wrapper.trigger(\"focus\");\n                    } else if (isMaximized) {\n                        that.restore();\n                    }\n\n                }\n\n                offset = kendo.getOffset(wrapper);\n\n                if (that.containment && !that._isPinned) {\n                    offset = that.options.position;\n                }\n\n                if (options.draggable && !e.ctrlKey && !e.altKey && !isMaximized) {\n                    that._updateBoundaries();\n                    if (keyCode == keys.UP) {\n                        offset.top = constrain(offset.top - distance, that.minTop, that.maxTop);\n                        handled = wrapper.css(\"top\", offset.top);\n                    } else if (keyCode == keys.DOWN) {\n                        offset.top = constrain(offset.top + distance, that.minTop, that.maxTop);\n                        handled = wrapper.css(\"top\", offset.top);\n                    } else if (keyCode == keys.LEFT) {\n                        offset.left = constrain(offset.left - distance, that.minLeft, that.maxLeft);\n                        handled = wrapper.css(\"left\", offset.left);\n                    } else if (keyCode == keys.RIGHT) {\n                        offset.left = constrain(offset.left + distance, that.minLeft, that.maxLeft);\n                        handled = wrapper.css(\"left\", offset.left);\n                    }\n                }\n\n                if (options.resizable && e.ctrlKey && !isMaximized && !isMinimized) {\n                    if (keyCode == keys.UP) {\n                        handled = true;\n                        newHeight = wrapper.outerHeight() - distance;\n                    } else if (keyCode == keys.DOWN) {\n                        handled = true;\n                        if (that.containment && !that._isPinned) {\n                            newHeight = Math.min(wrapper.outerHeight() + distance,\n                                that.containment.height - offset.top - toInt(wrapper, \"padding-top\") -\n                                toInt(wrapper, \"borderBottomWidth\") - toInt(wrapper, \"borderTopWidth\"));\n                        } else {\n                            newHeight = wrapper.outerHeight() + distance;\n                        }\n                    } if (keyCode == keys.LEFT) {\n                        handled = true;\n                        newWidth = wrapper.outerWidth() - distance;\n                    } else if (keyCode == keys.RIGHT) {\n                        handled = true;\n                        if (that.containment && !that._isPinned) {\n                            newWidth = Math.min(wrapper.outerWidth() + distance,\n                                                that.containment.width - offset.left -\n                                                toInt(wrapper, \"borderLeftWidth\") - toInt(wrapper, \"borderRightWidth\"));\n                        } else {\n                            newWidth = wrapper.outerWidth() + distance;\n                        }\n                    }\n\n                    if (handled) {\n                        w = constrain(newWidth, options.minWidth, options.maxWidth);\n                        h = constrain(newHeight, options.minHeight, options.maxHeight);\n\n                        if (!isNaN(w)) {\n                            wrapper.outerWidth(w);\n                            that.options.width = w + \"px\";\n                        }\n                        if (!isNaN(h)) {\n                            wrapper.outerHeight(h);\n                            that.options.height = h + \"px\";\n                        }\n\n                        that.resize();\n                    }\n                }\n\n                if (handled) {\n                    e.preventDefault();\n                }\n            },\n\n            _overlay: function (visible) {\n                var overlay = this.containment ? this.containment.children(KOVERLAY) : this.appendTo.children(KOVERLAY),\n                    wrapper = this.wrapper,\n                    display = visible ? \"block\" : \"none\",\n                    zIndex = parseInt(wrapper.css(ZINDEX), 10) - 1;\n\n                if (!overlay.length) {\n                    overlay = $(\"<div class='k-overlay' />\");\n                }\n\n                overlay\n                    .insertBefore(wrapper[0])\n                    .css({\n                        zIndex: zIndex,\n                        display: display\n                    });\n\n                if (this.options.modal.preventScroll && !this.containment) {\n                    this._stopDocumentScrolling();\n                }\n\n                return overlay;\n            },\n\n            _actionForIcon: function(icon) {\n                var iconClass = /\\bk-i(-\\w+)+\\b/.exec(icon[0].className)[0];\n                return {\n                    \"k-i-close\": \"_close\",\n                    \"k-i-window-maximize\": \"maximize\",\n                    \"k-i-window-minimize\": \"minimize\",\n                    \"k-i-window-restore\": \"restore\",\n                    \"k-i-refresh\": \"refresh\",\n                    \"k-i-pin\": \"pin\",\n                    \"k-i-unpin\": \"unpin\"\n                }[iconClass];\n            },\n\n            _windowActionHandler: function (e) {\n                if (this._closing) {\n                    return;\n                }\n                var icon = $(e.target).closest(\".k-window-action\").find(\".k-icon\");\n                var action = this._actionForIcon(icon);\n\n                if (action) {\n                    e.preventDefault();\n                    this[action]();\n                    return false;\n                }\n            },\n\n            _modals: function() {\n                var that = this,\n                    windowElements = $(KWINDOW + VISIBLE),\n                    windowInstance,\n                    modals = [];\n\n                for (var i = 0; i < windowElements.length; i += 1) {\n                    windowInstance = that._object($(windowElements[i]));\n\n                    if (windowInstance &&\n                        windowInstance.options &&\n                        windowInstance.options.modal &&\n                        windowInstance.options.visible &&\n                        windowInstance.options.appendTo === that.options.appendTo &&\n                        (!windowInstance.containment || (that.containment && windowInstance.containment[0] === that.containment[0]))) {\n                            modals.push(windowInstance.wrapper[0]);\n                    }\n                }\n\n                modals.sort(function(a, b) {\n                    return a.style.zIndex - b.style.zIndex;\n                });\n\n                that = null;\n\n                return $(modals);\n            },\n\n            _object: function(element) {\n                var content = element.children(KWINDOWCONTENT);\n                var widget = kendo.widgetInstance(content);\n\n                if (widget) {\n                    return widget;\n                }\n\n                return undefined;\n            },\n\n            center: function () {\n                var that = this,\n                    position = that.options.position,\n                    wrapper = that.wrapper,\n                    documentWindow = $(window),\n                    scrollTop = 0,\n                    scrollLeft = 0,\n                    newTop, newLeft;\n\n                if (that.options.isMaximized) {\n                    return that;\n                }\n\n                if(that.options.pinned && !that._isPinned) {\n                    that.pin();\n                }\n\n                if (!that.options.pinned) {\n                    scrollTop = documentWindow.scrollTop();\n                    scrollLeft = documentWindow.scrollLeft();\n                }\n\n                if (this.containment && !that.options.pinned) {\n                    newTop = this.minTop + (this.maxTop - this.minTop) / 2;\n                    newLeft = this.minLeft + (this.maxLeft - this.minLeft) / 2;\n                } else {\n                    that._scrollIsAppended = true;\n                    newLeft = scrollLeft + Math.max(0, (documentWindow.width() - wrapper.outerWidth()) / 2);\n                    newTop = scrollTop + Math.max(0, (documentWindow.height() - wrapper.outerHeight() - toInt(wrapper, \"paddingTop\")) / 2);\n                }\n\n                wrapper.css({\n                    left: newLeft,\n                    top: newTop\n                });\n\n                position.top = newTop;\n                position.left = newLeft;\n\n                return that;\n            },\n\n            title: function (title) {\n                var that = this,\n                    value,\n                    encoded = true,\n                    wrapper = that.wrapper,\n                    titleBar = wrapper.children(KWINDOWTITLEBAR),\n                    titleElement = titleBar.children(KWINDOWTITLE);\n\n                if (!arguments.length) {\n                    return titleElement.html();\n                }\n\n                if ($.isPlainObject(title)) {\n                    value = typeof title.text !== \"undefined\" ? title.text :  \"\";\n                    encoded = title.encoded !== false;\n                } else {\n                    value = title;\n                }\n\n                if (value === false) {\n                    wrapper.addClass(\"k-window-titleless\");\n                    wrapper.css(\"padding-top\", 0);\n                    titleBar.remove();\n                } else {\n                    if (!titleBar.length) {\n                        wrapper.prepend(templates.titlebar({\n                            title: encoded ? kendo.htmlEncode(value) : value\n                        }));\n                        that._actions();\n                        titleBar = wrapper.children(KWINDOWTITLEBAR);\n                    } else {\n                        titleElement.html(encoded ? kendo.htmlEncode(value) : value);\n                    }\n                }\n\n                that.options.title = value;\n\n                return that;\n            },\n\n            content: function (html, data) {\n                var content = this.wrapper.children(KWINDOWCONTENT),\n                    scrollContainer = content.children(\".km-scroll-container\");\n\n                content = scrollContainer[0] ? scrollContainer : content;\n\n                if (!defined(html)) {\n                    return content.html();\n                }\n\n                this.angular(\"cleanup\", function(){\n                    return { elements: content.children() };\n                });\n\n                kendo.destroy(this.element.children());\n\n                content.empty().html(html);\n\n                this.angular(\"compile\", function(){\n                    var a = [];\n                    for (var i = content.length; --i >= 0;) {\n                        a.push({ dataItem: data });\n                    }\n                    return {\n                        elements: content.children(),\n                        data: a\n                    };\n                });\n\n                return this;\n            },\n\n            open: function () {\n                var that = this,\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    showOptions = this._animationOptions(\"open\"),\n                    contentElement = wrapper.children(KWINDOWCONTENT),\n                    overlay, otherModalsVisible,\n                    containmentContext = this.containment && !that._isPinned,\n                    doc = containmentContext ? this.containment : $(document);\n\n                if (!that.trigger(OPEN)) {\n                    if (that._closing) {\n                        wrapper.kendoStop(true, true);\n                    }\n\n                    that._closing = false;\n\n                    that.toFront();\n\n                    if (options.autoFocus) {\n                        that.wrapper.trigger(\"focus\");\n                    }\n\n                    options.visible = true;\n\n                    if (options.modal) {\n                        otherModalsVisible = !!that._modals().length;\n                        overlay = that._overlay(otherModalsVisible);\n\n                        overlay.kendoStop(true, true);\n\n                        if (showOptions.duration && kendo.effects.Fade && !otherModalsVisible) {\n                            var overlayFx = kendo.fx(overlay).fadeIn();\n                            overlayFx.duration(showOptions.duration || 0);\n                            overlayFx.endValue(0.5);\n                            overlayFx.play();\n                        } else {\n                            overlay.css(\"opacity\", 0.5);\n                        }\n\n                        overlay.show();\n\n                        $(window).on(\"focus\" + MODAL_NS, function() {\n                            if (wrapper.data(\"isFront\") && !$(document.activeElement).closest(wrapper).length) {\n                               that.wrapper.trigger(\"focus\");\n                            }\n                        });\n                    }\n\n                    if (!wrapper.is(VISIBLE)) {\n                        contentElement.css(OVERFLOW, HIDDEN);\n\n                        that.wrapper.find(TITLEBAR_BUTTONS).addClass(\"k-button-flat\");\n\n                        wrapper.addClass(INLINE_FLEX).kendoStop().kendoAnimate({\n                            effects: showOptions.effects,\n                            duration: showOptions.duration,\n                            complete: proxy(this._activate, this)\n                        });\n                    }\n                }\n\n                if (options.isMaximized) {\n                    that._containerScrollTop = doc.scrollTop();\n                    that._containerScrollLeft = doc.scrollLeft();\n                    that._stopDocumentScrolling();\n                }\n\n                if(this.options.pinned && !this._isPinned){\n                    this.pin();\n                }\n\n                return that;\n            },\n\n            _activate: function() {\n                var scrollable = this.options.scrollable !== false;\n\n                if (this.options.autoFocus) {\n                    this.wrapper.trigger(\"focus\");\n                }\n\n                this.element.css(OVERFLOW, scrollable ? \"\" : \"hidden\");\n                kendo.resize(this.element.children());\n\n                this.trigger(ACTIVATE);\n            },\n\n            _removeOverlay: function(suppressAnimation) {\n                var modals = this._modals();\n                var options = this.options;\n                var hideOverlay = options.modal && !modals.length;\n                var hideOptions  = this._animationOptions(\"close\");\n\n                if (hideOverlay) {\n                    if (!suppressAnimation && hideOptions.duration && kendo.effects.Fade) {\n                        var overlayFx = kendo.fx(options.modal ? this._overlay(true) : $(undefined)).fadeOut();\n                        overlayFx.duration(hideOptions.duration || 0);\n                        overlayFx.startValue(0.5);\n                        overlayFx.play();\n                    } else {\n                        this._overlay(false).remove();\n                    }\n                    if (options.modal.preventScroll) {\n                        this._enableDocumentScrolling();\n                    }\n                } else if (modals.length) {\n                    this._object(modals.last())._overlay(true);\n\n                    if (options.modal.preventScroll) {\n                        this._stopDocumentScrolling();\n                    }\n                }\n            },\n\n            _close: function(systemTriggered) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    showOptions = this._animationOptions(\"open\"),\n                    hideOptions  = this._animationOptions(\"close\"),\n                    containmentContext = this.containment && !that._isPinned,\n                    doc = containmentContext ? this.containment : $(document),\n                    defaultPrevented;\n\n                if (that._closing) {\n                    return;\n                }\n\n                defaultPrevented = that.trigger(CLOSE, { userTriggered: !systemTriggered });\n                that._closing = !defaultPrevented;\n\n                if (wrapper.is(VISIBLE) && !defaultPrevented) {\n                    options.visible = false;\n\n                    $(KWINDOW).each(function(i, element) {\n                        var contentElement = $(element).children(KWINDOWCONTENT);\n\n                        // Remove overlay set by toFront\n                        if (element != wrapper && contentElement.find(\"> .\" + KCONTENTFRAME).length > 0) {\n                            contentElement.children(KOVERLAY).remove();\n                        }\n                    });\n\n                    this._removeOverlay();\n\n                    // Prevent close animation from stopping\n                    that.wrapper.find(TITLEBAR_BUTTONS).removeClass(\"k-button-flat\");\n\n                    wrapper.kendoStop().kendoAnimate({\n                        effects: hideOptions.effects || showOptions.effects,\n                        reverse: hideOptions.reverse === true,\n                        duration: hideOptions.duration,\n                        complete: proxy(this._deactivate, this)\n                    });\n                    $(window).off(MODAL_NS);\n                }\n\n                if (that.options.isMaximized) {\n                    that._enableDocumentScrolling();\n                    if (that._containerScrollTop && that._containerScrollTop > 0) {\n                        doc.scrollTop(that._containerScrollTop);\n                    }\n                    if (that._containerScrollLeft && that._containerScrollLeft > 0) {\n                        doc.scrollLeft(that._containerScrollLeft);\n                    }\n                }\n\n                if (that.options.iframe) {\n                    that.wrapper.trigger(\"blur\");\n                }\n            },\n\n            _deactivate: function () {\n                var that = this;\n\n                that.wrapper\n                    .removeClass(INLINE_FLEX)\n                    .hide()\n                    .css(\"opacity\", \"\");\n\n                that.trigger(DEACTIVATE);\n\n                if (that.options.modal) {\n                    var lastModal = that._object(that._modals().last());\n                    if (lastModal) {\n                        lastModal.toFront();\n                    }\n                }\n            },\n\n            close: function () {\n                this._close(true);\n                return this;\n            },\n\n            _actionable: function(element) {\n                return $(element).is(TITLEBAR_BUTTONS + \",\" + TITLEBAR_BUTTONS + \" .k-icon, :input, a, .k-input, .k-icon, [role='gridcell']\");\n            },\n\n            _shouldFocus: function(target) {\n                var active = activeElement(),\n                    element = this.wrapper;\n\n                return this.options.autoFocus &&\n                    !$(active).is(element) &&\n                    !this._actionable(target) &&\n                    (!element.find(active).length || !element.find(target).length);\n            },\n\n            toFront: function (e, avoidFocus) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    currentWindow = wrapper[0],\n                    containmentContext = that.containment && !that._isPinned,\n                    openAnimation = this._animationOptions(\"open\"),\n                    zIndex = +wrapper.css(ZINDEX),\n                    originalZIndex = zIndex,\n                    target = (e && e.target) || null;\n\n                $(KWINDOW).each(function(i, element) {\n                    var windowObject = $(element),\n                        zIndexNew = windowObject.css(ZINDEX),\n                        contentElement = windowObject.children(KWINDOWCONTENT);\n\n                    if (!isNaN(zIndexNew)) {\n                        zIndex = Math.max(+zIndexNew, zIndex);\n                    }\n\n                    wrapper.data(\"isFront\", element == currentWindow);\n                    // Add overlay to windows with iframes and lower z-index to prevent\n                    // trapping of events when resizing / dragging\n\n                    if (element != currentWindow &&\n                        contentElement.find(\".\" + KCONTENTFRAME).length &&\n                        !contentElement.find(KOVERLAY).length) {\n                        contentElement.append(templates.overlay);\n                    }\n                });\n\n                if (!wrapper[0].style.zIndex || originalZIndex < zIndex) {\n                    wrapper.css(ZINDEX, zIndex + 2);\n                }\n                that.element.find(\"> .k-overlay\").remove();\n\n                if (that._shouldFocus(target)) {\n                    if(!avoidFocus) {\n                        setTimeout(function() {\n                            that.wrapper.focus();\n                        }, openAnimation ? openAnimation.duration : 0);\n                    }\n\n                    var scrollTop = containmentContext ? that.containment.scrollTop() : $(window).scrollTop(),\n                        windowTop = parseInt(wrapper.position().top, 10);\n\n                    if (!that.options.pinned && windowTop > 0 && windowTop < scrollTop) {\n                        if (scrollTop > 0) {\n                            $(window).scrollTop(windowTop);\n                        } else {\n                            wrapper.css(\"top\", scrollTop);\n                        }\n                    }\n                }\n\n                wrapper = null;\n\n                return that;\n            },\n\n            toggleMaximization: function () {\n                if (this._closing) {\n                    return this;\n                }\n\n                return this[this.options.isMaximized ? \"restore\" : \"maximize\"]();\n            },\n\n            restore: function () {\n                var that = this;\n                var options = that.options;\n                var minHeight = options.minHeight;\n                var restoreOptions = that.restoreOptions;\n                var shouldRestrictTop;\n                var container = that.containment && !that._isPinned ? that.containment : $(document);\n\n                if (!options.isMaximized && !options.isMinimized) {\n                    return that;\n                }\n\n                if (minHeight && minHeight != Infinity) {\n                    that.wrapper.css(\"min-height\", minHeight);\n                }\n\n                if (restoreOptions && !options.isMaximized) {\n                    restoreOptions.height = constrain(restoreOptions.height, that.options.minHeight, that.options.maxHeight);\n\n                    shouldRestrictTop = options.position.top + parseInt(restoreOptions.height, 10) > that.maxTop;\n\n                    if (shouldRestrictTop) {\n                        options.position.top = constrain(options.position.top, that.minTop, that.maxTop - parseInt(restoreOptions.height, 10));\n\n                        extend(restoreOptions, {\n                            left: options.position.left,\n                            top: options.position.top\n                        });\n                    }\n                }\n\n                that.wrapper\n                    .css({\n                        position: options.pinned ? \"fixed\" : \"absolute\",\n                        left: restoreOptions.left,\n                        top: restoreOptions.top,\n                        width: restoreOptions.width,\n                        height: restoreOptions.height\n                    })\n                    .removeClass(MAXIMIZEDSTATE)\n                    .find(\".k-window-content,.k-resize-handle\").show().end()\n                    .find(\".k-window-titlebar .k-i-window-restore\").parent().remove().end().end()\n                    .find(MINIMIZE_MAXIMIZE).parent().show().end().end()\n                    .find(PIN_UNPIN).parent().show();\n\n                if (options.isMaximized) {\n                    that.wrapper.find(\".k-i-window-maximize\").parent().trigger(\"focus\");\n                } else if (options.isMinimized) {\n                    that.wrapper.find(\".k-i-window-minimize\").parent().trigger(\"focus\");\n                }\n\n                that.options.width = restoreOptions.width;\n                that.options.height = restoreOptions.height;\n\n                if (!that.options.modal.preventScroll) {\n                    that._enableDocumentScrolling();\n                }\n\n                if (that._containerScrollTop && that._containerScrollTop > 0) {\n                    container.scrollTop(that._containerScrollTop);\n                }\n                if (that._containerScrollLeft && that._containerScrollLeft > 0) {\n                    container.scrollLeft(that._containerScrollLeft);\n                }\n\n                options.isMaximized = options.isMinimized = false;\n\n                that.wrapper.removeAttr(\"aria-labelled-by\");\n\n                that.resize();\n\n                that.trigger(RESTORE);\n\n                return that;\n            },\n\n            _sizingAction: function(actionId, callback) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    style = wrapper[0].style,\n                    options = that.options;\n\n                if (options.isMaximized || options.isMinimized) {\n                    return that;\n                }\n\n                that.restoreOptions = {\n                    width: style.width,\n                    height: style.height\n                };\n\n                wrapper\n                    .children(KWINDOWRESIZEHANDLES).hide().end()\n                    .children(KWINDOWTITLEBAR).find(MINIMIZE_MAXIMIZE).parent().hide()\n                    .eq(0).before(templates.action({ name: \"window-restore\" }));\n\n                callback.call(that);\n\n                that.wrapper.children(KWINDOWTITLEBAR).find(PIN_UNPIN).parent().toggle(actionId !== \"maximize\");\n\n                that.trigger(actionId);\n\n                wrapper.find(\".k-i-window-restore\").parent().trigger(\"focus\");\n\n                return that;\n            },\n\n            maximize: function() {\n                this._sizingAction(\"maximize\", function() {\n                    var that = this,\n                        wrapper = that.wrapper,\n                        containmentContext = this.containment && !that._isPinned,\n                        position = wrapper.position(),\n                        doc = $(document);\n\n                    extend(that.restoreOptions, {\n                        left: position.left + (containmentContext ? this.containment.scrollLeft() : 0),\n                        top: position.top + (containmentContext ? this.containment.scrollTop() : 0)\n                    });\n\n                    this._containerScrollTop = containmentContext ? this.containment.scrollTop() : doc.scrollTop();\n                    this._containerScrollLeft = containmentContext ? this.containment.scrollLeft() : doc.scrollLeft();\n\n                    that._stopDocumentScrolling();\n\n                    wrapper\n                        .css({\n                            top: containmentContext ? this.containment.scrollTop() : 0,\n                            left: containmentContext ? this.containment.scrollLeft() : 0,\n                            position: containmentContext ? \"absolute\" : \"fixed\"\n                        })\n                        .addClass(MAXIMIZEDSTATE);\n\n                    that.options.isMaximized = true;\n\n                    that._onDocumentResize();\n                });\n\n                return this;\n            },\n\n            _stopDocumentScrolling: function(){\n                var that = this;\n                var containment = that.containment;\n\n                if (containment && !that._isPinned) {\n                    that._storeOverflowRule(containment);\n                    containment.css(OVERFLOW, HIDDEN);\n                    that.wrapper.css({\n                        maxWidth: containment.innerWidth(),\n                        maxHeight: containment.innerHeight()\n                    });\n                    return;\n                }\n\n                var $body = $(\"body\");\n                that._storeOverflowRule($body);\n                $body.css(OVERFLOW, HIDDEN);\n\n                var $html = $(\"html\");\n                that._storeOverflowRule($html);\n                $html.css(OVERFLOW, HIDDEN);\n            },\n\n            _enableDocumentScrolling: function(){\n                var that = this;\n                var containment = that.containment;\n\n                if (containment && !that._isPinned) {\n                    that._restoreOverflowRule(containment);\n                    that.wrapper.css({\n                        maxWidth: containment.width,\n                        maxHeight: containment.height\n                    });\n                    return;\n                }\n\n                that._restoreOverflowRule($(document.body));\n                that._restoreOverflowRule($(\"html\"));\n            },\n\n            _storeOverflowRule: function($element){\n                if(this._isOverflowStored($element)){\n                    return;\n                }\n\n                var overflowRule = $element.get(0).style.overflow;\n\n                if(typeof overflowRule === \"string\"){\n                    $element.data(DATADOCOVERFLOWRULE, overflowRule);\n                }\n            },\n\n            _isOverflowStored: function ($element){\n                return typeof $element.data(DATADOCOVERFLOWRULE) === \"string\";\n            },\n\n            _restoreOverflowRule: function($element){\n                var overflowRule = $element.data(DATADOCOVERFLOWRULE);\n\n                if(overflowRule !== null && overflowRule !== undefined){\n                    $element.css(OVERFLOW, overflowRule);\n                    $element.removeData(DATADOCOVERFLOWRULE);\n                } else {\n                    $element.css(OVERFLOW, \"\");\n                }\n            },\n\n            isMaximized: function() {\n                return this.options.isMaximized;\n            },\n\n            minimize: function() {\n                this._sizingAction(\"minimize\", function() {\n                    var that = this;\n\n                    that.wrapper.css({\n                        height: \"\",\n                        minHeight: \"\"\n                    });\n\n                    that.element.hide();\n\n                    that.options.isMinimized = true;\n                });\n\n                this.wrapper.attr(\"aria-labelled-by\", this.element.attr(\"aria-labelled-by\"));\n\n                this._updateBoundaries();\n\n                return this;\n            },\n\n            isMinimized: function() {\n                return this.options.isMinimized;\n            },\n\n            pin: function() {\n                var that = this,\n                    win = $(window),\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    position = options.position,\n                    top = this.containment ? getPosition(wrapper[0]).top + toInt(this.containment, \"borderTopWidth\") : toInt(wrapper, \"top\"),\n                    left = this.containment ? getPosition(wrapper[0]).left + toInt(this.containment, \"borderLeftWidth\") : toInt(wrapper, \"left\");\n\n                if (!that.options.isMaximized) {\n                    position.top = top;\n                    position.left = left;\n\n                    if (that._scrollIsAppended && (!this.containment || this.containment.css(\"position\") !== \"fixed\")) {\n\n                        position.top -= win.scrollTop();\n                        position.left -= win.scrollLeft();\n                        that._scrollIsAppended = false;\n                    }\n\n                    wrapper.css(extend(position, {position: \"fixed\"}));\n                    wrapper.children(KWINDOWTITLEBAR).find(KPIN).addClass(\"k-i-unpin\").removeClass(\"k-i-pin\");\n\n                    that._isPinned = true;\n                    that.options.pinned = true;\n\n                    if (this.containment) {\n                        options.maxWidth = options.maxHeight = Infinity;\n                        wrapper.css({\n                            maxWidth: \"\",\n                            maxHeight: \"\"\n                        });\n                    }\n                }\n            },\n\n            unpin: function() {\n                var that = this,\n                    win = $(window),\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    position = that.options.position,\n                    containment = that.containment,\n                    top = parseInt(wrapper.css(\"top\"), 10) + win.scrollTop(),\n                    left = parseInt(wrapper.css(\"left\"), 10) + win.scrollLeft();\n\n                if (!that.options.isMaximized) {\n                    that._isPinned = false;\n                    that._scrollIsAppended = true;\n                    that.options.pinned = false;\n\n                    if (containment) {\n                        that._updateBoundaries();\n\n                        options.maxWidth = Math.min(containment.width, options.maxWidth);\n                        options.maxHeight = Math.min(containment.height - toInt(wrapper, \"padding-top\"), options.maxHeight);\n\n                        wrapper.css({\n                            maxWidth: options.maxWidth,\n                            maxHeight: options.maxHeight\n                        });\n\n                        if (top < containment.position.top) {\n                            top = that.minTop;\n                        } else if (top > containment.position.top + containment.height) {\n                            top = that.maxTop;\n                        } else {\n                            top = top + containment.scrollTop() - (containment.position.top + toInt(containment, \"border-top-width\"));\n                        }\n\n                        if (left < containment.position.left) {\n                            left = that.minLeft;\n                        } else if (left > containment.position.left + containment.width) {\n                            left = that.maxLeft;\n                        } else {\n                            left = left + containment.scrollLeft() - (containment.position.left + toInt(containment, \"border-left-width\"));\n                        }\n\n                    }\n\n                    position.top = constrain(top, that.minTop, that.maxTop);\n                    position.left = constrain(left, that.minLeft, that.maxLeft);\n\n                    wrapper.css(extend(position, {position: \"\"}));\n                    wrapper.children(KWINDOWTITLEBAR).find(KUNPIN).addClass(\"k-i-pin\").removeClass(\"k-i-unpin\");\n                }\n            },\n\n            _onDocumentResize: function () {\n                var that = this,\n                    wrapper = that.wrapper,\n                    wnd = $(window),\n                    zoomLevel = kendo.support.zoomLevel(),\n                    contentBoxSizing = wrapper.css(\"box-sizing\") == \"content-box\",\n                    w, h;\n\n                if (!that.options.isMaximized) {\n                    return;\n                }\n\n                var lrBorderWidth = contentBoxSizing ? toInt(wrapper, \"border-left-width\") + toInt(wrapper, \"border-right-width\") : 0;\n                var tbBorderWidth = contentBoxSizing ? toInt(wrapper, \"border-top-width\") + toInt(wrapper, \"border-bottom-width\") : 0;\n                var paddingTop = contentBoxSizing ? toInt(wrapper, \"padding-top\") : 0;\n\n                if (that.containment && !that._isPinned) {\n                    w = that.containment.innerWidth() - lrBorderWidth;\n                    h = that.containment.innerHeight() - (tbBorderWidth + paddingTop);\n                } else {\n                    w = wnd.width() / zoomLevel - lrBorderWidth;\n                    h = wnd.height() / zoomLevel - (tbBorderWidth + paddingTop);\n                }\n\n                wrapper.css({\n                    width: w,\n                    height: h\n                });\n                that.options.width = w;\n                that.options.height = h;\n\n                that.resize();\n            },\n\n            refresh: function (options) {\n                var that = this,\n                    initOptions = that.options,\n                    element = $(that.element),\n                    iframe,\n                    showIframe,\n                    url;\n\n                if (!isPlainObject(options)) {\n                    options = { url: options };\n                }\n\n                options = extend(initOptions.content, options);\n\n                showIframe = defined(initOptions.iframe) ? initOptions.iframe : options.iframe;\n\n                url = options.url;\n\n                if (url) {\n                    if (!defined(showIframe)) {\n                        showIframe = !isLocalUrl(url);\n                    }\n\n                    if (!showIframe) {\n                        // perform AJAX request\n                        that._ajaxRequest(options);\n                    } else {\n                        iframe = element.find(\".\" + KCONTENTFRAME)[0];\n\n                        if (iframe) {\n                            // refresh existing iframe\n                            iframe.src = url || iframe.src;\n                        } else {\n                            // render new iframe\n                            element.html(templates.contentFrame(extend({}, initOptions, { content: options })));\n                        }\n\n                        element.find(\".\" + KCONTENTFRAME)\n                            .off(\"load\" + NS)\n                            .on(\"load\" + NS, proxy(this._triggerRefresh, this));\n                    }\n                } else {\n                    if (options.template) {\n                        // refresh template\n                        that.content(template(options.template)({}));\n                    }\n\n                    that.trigger(REFRESH);\n                }\n\n                element.toggleClass(\"k-window-iframecontent\", !!showIframe);\n\n                return that;\n            },\n\n            _triggerRefresh: function() {\n                this.trigger(REFRESH);\n            },\n\n            _ajaxComplete: function() {\n                clearTimeout(this._loadingIconTimeout);\n                this.wrapper.find(REFRESHICON).removeClass(LOADING);\n            },\n\n            _ajaxError: function (xhr, status) {\n                this.trigger(ERROR, { status: status, xhr: xhr });\n            },\n\n            _ajaxSuccess: function (contentTemplate) {\n                return function (data) {\n                    var html = data;\n                    if (contentTemplate) {\n                        html = template(contentTemplate)(data || {});\n                    }\n\n                    this.content(html, data);\n                    this.element.prop(\"scrollTop\", 0);\n\n                    this.trigger(REFRESH);\n                };\n            },\n\n            _showLoading: function() {\n                this.wrapper.find(REFRESHICON).addClass(LOADING);\n            },\n\n            _ajaxRequest: function (options) {\n                this._loadingIconTimeout = setTimeout(proxy(this._showLoading, this), 100);\n\n                $.ajax(extend({\n                    type: \"GET\",\n                    dataType: \"html\",\n                    cache: false,\n                    error: proxy(this._ajaxError, this),\n                    complete: proxy(this._ajaxComplete, this),\n                    success: proxy(this._ajaxSuccess(options.template), this)\n                }, options));\n            },\n\n            _destroy: function() {\n                if (this.resizing) {\n                    this.resizing.destroy();\n                }\n\n                if (this.dragging) {\n                    this.dragging.destroy();\n                }\n\n                this.wrapper.off(NS)\n                    .children(KWINDOWCONTENT).off(NS).end()\n                    .find(\".k-resize-handle,.k-window-titlebar\").off(NS);\n\n                $(window).off(\"resize\" + NS + this._marker);\n                $(window).off(MODAL_NS);\n                $(window).off(NS);\n\n                clearTimeout(this._loadingIconTimeout);\n\n                Widget.fn.destroy.call(this);\n\n                this.unbind(undefined);\n\n                kendo.destroy(this.wrapper);\n            },\n\n            destroy: function() {\n                this._destroy();\n\n                if (this.options.modal) {\n                    this._removeOverlay(true);\n                }\n\n                this.wrapper.empty().remove();\n\n                this.wrapper = this.appendTo = this.element = $();\n            },\n\n            _createWindow: function() {\n                var contentHtml = this.element,\n                    options = this.options,\n                    iframeSrcAttributes,\n                    wrapper,\n                    isRtl = kendo.support.isRtl(contentHtml);\n\n                if (options.scrollable === false) {\n                    contentHtml.css(\"overflow\", \"hidden\");\n                }\n\n                wrapper = $(templates.wrapper(options));\n\n                // Collect the src attributes of all iframes and then set them to empty string.\n                // This seems to fix this IE9 \"feature\": http://msdn.microsoft.com/en-us/library/gg622929%28v=VS.85%29.aspx?ppud=4\n                iframeSrcAttributes = contentHtml.find(\"iframe:not(.k-content-frame)\").map(function() {\n                    var src = this.getAttribute(\"src\");\n                    this.src = \"\";\n                    return src;\n                });\n\n                // Make sure the wrapper is appended to the body only once. IE9+ will throw exceptions if you move iframes in DOM\n                wrapper\n                    .toggleClass(\"k-rtl\", isRtl)\n                    .attr(\"tabindex\", 0)\n                    .append(contentHtml)\n                    .find(\"iframe:not(.k-content-frame)\").each(function(index) {\n                    // Restore the src attribute of the iframes when they are part of the live DOM tree\n                    this.src = iframeSrcAttributes[index];\n                });\n\n                if (this.containment) {\n                    this.containment.prepend(wrapper);\n                } else if (this.appendTo) {\n                    wrapper.appendTo(this.appendTo);\n                }\n\n                wrapper.find(\".k-window-title\")\n                    .css(isRtl ? \"left\" : \"right\", outerWidth(wrapper.find(\".k-window-actions\")) + 10);\n\n                contentHtml.css(\"visibility\", \"\").show();\n\n                contentHtml.find(\"[data-role=editor]\").each(function() {\n                    var editor = $(this).data(\"kendoEditor\");\n\n                    if (editor) {\n                        editor.refresh();\n                    }\n                });\n\n                wrapper = contentHtml = null;\n            }\n        });\n\n        templates = {\n            wrapper: template(\"<div class='k-widget k-window'></div>\"),\n            action: template(\n                \"<a role='button' href='\\\\#' class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-window-action' aria-label='#= name #'>\" +\n                    \"<span class='k-button-icon k-icon k-i-#= name.toLowerCase() #'></span>\" +\n                \"</a>\"\n            ),\n            titlebar: template(\n                \"<div class='k-window-titlebar k-hstack'>\" +\n                    \"<span class='k-window-title'>#= title #</span>\" +\n                    \"<div class='k-window-actions k-hstack'></div>\" +\n                \"</div>\"\n            ),\n            overlay: \"<div class='k-overlay'></div>\",\n            contentFrame: template(\n                \"<iframe frameborder='0' title='#= title #' class='\" + KCONTENTFRAME + \"' \" +\n                \"src='#= content.url #'>\" +\n                \"This page requires frames in order to show content\" +\n                \"</iframe>\"\n            ),\n            resizeHandle: template(\"<div class='k-resize-handle k-resize-#= data #'></div>\")\n        };\n\n\n        function WindowResizing(wnd) {\n            var that = this;\n            that.owner = wnd;\n            that._preventDragging = false;\n            that._draggable = new Draggable(wnd.wrapper, {\n                filter: \">\" + KWINDOWRESIZEHANDLES,\n                group: wnd.wrapper.id + \"-resizing\",\n                dragstart: proxy(that.dragstart, that),\n                drag: proxy(that.drag, that),\n                dragend: proxy(that.dragend, that)\n            });\n\n            that._draggable.userEvents.bind(\"press\", proxy(that.addOverlay, that));\n            that._draggable.userEvents.bind(\"release\", proxy(that.removeOverlay, that));\n        }\n\n        WindowResizing.prototype = {\n            addOverlay: function () {\n                this.owner.wrapper.append(templates.overlay);\n            },\n            removeOverlay: function () {\n                this.owner.wrapper.find(KOVERLAY).remove();\n            },\n            dragstart: function (e) {\n                var that = this;\n                var wnd = that.owner;\n                var wrapper = wnd.wrapper;\n\n                that._preventDragging = wnd.trigger(RESIZESTART);\n                if (that._preventDragging) {\n                    return;\n                }\n\n                that.elementPadding = parseInt(wrapper.css(\"padding-top\"), 10);\n                that.initialPosition = kendo.getOffset(wrapper, \"position\");\n\n                that.resizeDirection = e.currentTarget.prop(\"className\").replace(\"k-resize-handle k-resize-\", \"\");\n\n                that.initialSize = {\n                    width: wrapper.outerWidth(),\n                    height: wrapper.outerHeight()\n                };\n\n                wnd._updateBoundaries();\n\n                that.containerOffset = wnd.containment ? wnd.containment.position : kendo.getOffset(wnd.appendTo);\n\n                var offsetParent = wrapper.offsetParent();\n\n                if (offsetParent.is(\"html\")) {\n                    that.containerOffset.top = that.containerOffset.left = 0;\n                } else {\n                    var marginTop = offsetParent.css(\"margin-top\");\n                    var marginLeft = offsetParent.css(\"margin-left\");\n                    var hasMargin = !zero.test(marginTop) || !zero.test(marginLeft);\n                    if (hasMargin) {\n                        var wrapperPosition = getPosition(wrapper[0]);\n                        var relativeElMarginLeft = wrapperPosition.left - that.containerOffset.left - that.initialPosition.left;\n                        var relativeElMarginTop = wrapperPosition.top - that.containerOffset.top - that.initialPosition.top;\n\n                        that._relativeElMarginLeft = relativeElMarginLeft > 1 ? relativeElMarginLeft : 0;\n                        that._relativeElMarginTop = relativeElMarginTop > 1 ? relativeElMarginTop : 0;\n\n                        that.initialPosition.left += that._relativeElMarginLeft;\n                        that.initialPosition.top += that._relativeElMarginTop;\n                    }\n                }\n\n                wrapper\n                    .children(KWINDOWRESIZEHANDLES).not(e.currentTarget).hide();\n\n                $(BODY).css(CURSOR, e.currentTarget.css(CURSOR));\n            },\n            drag: function (e) {\n                if (this._preventDragging) {\n                    return;\n                }\n                var that = this,\n                    wnd = that.owner,\n                    wrapper = wnd.wrapper,\n                    options = wnd.options,\n                    position = options.position,\n                    direction = that.resizeDirection,\n                    containerOffset = that.containerOffset,\n                    initialPosition = that.initialPosition,\n                    initialSize = that.initialSize,\n                    containmentContext = wnd.containment && !wnd._isPinned,\n                    rtl = kendo.support.isRtl(wnd.containment),\n                    leftRtlOffset = containmentContext && rtl && wnd.containment.innerWidth() > wnd.containment.width ? kendo.support.scrollbar() : 0,\n                    scrollOffset = containmentContext ? { top: wnd.containment.scrollTop(), left: wnd.containment.scrollLeft()} : { top: 0, left: 0},\n                    newWidth, newHeight,\n                    windowBottom, windowRight,\n                    x = Math.max(e.x.location, 0),\n                    y = Math.max(e.y.location, 0);\n\n                    if (direction.indexOf(\"e\") >= 0) {\n\n                        if (wnd.containment && x - initialSize.width >= wnd.maxLeft - scrollOffset.left + containerOffset.left + leftRtlOffset) {\n                            newWidth = wnd.maxLeft + leftRtlOffset - initialPosition.left + initialSize.width - scrollOffset.left;\n                        } else {\n                            newWidth = x - initialPosition.left - containerOffset.left;\n                        }\n\n                        wrapper.outerWidth(constrain(newWidth, options.minWidth, options.maxWidth));\n                    } else if (direction.indexOf(\"w\") >= 0) {\n                        windowRight = initialPosition.left + initialSize.width + containerOffset.left;\n                        newWidth = constrain(windowRight - x, options.minWidth, options.maxWidth);\n                        position.left = windowRight - newWidth - containerOffset.left - leftRtlOffset - (that._relativeElMarginLeft || 0) + scrollOffset.left;\n\n                        if (wnd.containment && position.left <= wnd.minLeft) {\n                            position.left = wnd.minLeft;\n                            newWidth = constrain(windowRight - leftRtlOffset - position.left - containerOffset.left + scrollOffset.left, options.minWidth, options.maxWidth);\n                        }\n\n                        wrapper.css({\n                            left: position.left,\n                            width: newWidth\n                        });\n                    }\n\n                    var newWindowTop = y;\n                    if (wnd.options.pinned) {\n                        newWindowTop -= $(window).scrollTop();\n                    }\n                    if (direction.indexOf(\"s\") >= 0) {\n                        newHeight = newWindowTop - initialPosition.top - that.elementPadding - containerOffset.top;\n\n                        if (newWindowTop - initialSize.height - that.elementPadding >= wnd.maxTop + containerOffset.top - scrollOffset.top) {\n                            newHeight = wnd.maxTop - initialPosition.top + initialSize.height - scrollOffset.top;\n                        }\n\n                        wrapper.outerHeight(constrain(newHeight, options.minHeight, options.maxHeight));\n                    } else if (direction.indexOf(\"n\") >= 0) {\n                        windowBottom = initialPosition.top + initialSize.height + containerOffset.top;\n                        newHeight = constrain(windowBottom - newWindowTop, options.minHeight, options.maxHeight);\n                        position.top = windowBottom - newHeight - containerOffset.top - (that._relativeElMarginTop || 0) + scrollOffset.top;\n\n                        if (position.top <= wnd.minTop && wnd.containment) {\n                            position.top = wnd.minTop;\n                            newHeight = constrain(windowBottom - position.top - containerOffset.top + scrollOffset.top, options.minHeight, options.maxHeight);\n                        }\n\n                        wrapper.css({\n                            top: position.top,\n                            height: newHeight\n                        });\n                    }\n\n                    if (newWidth) {\n                        wnd.options.width = newWidth + \"px\";\n                    }\n                    if (newHeight) {\n                        wnd.options.height = newHeight + \"px\";\n                    }\n\n                    wnd.resize();\n            },\n            dragend: function (e) {\n                if (this._preventDragging) {\n                    return;\n                }\n\n                var that = this,\n                    wnd = that.owner,\n                    wrapper = wnd.wrapper;\n\n                wrapper\n                    .children(KWINDOWRESIZEHANDLES).not(e.currentTarget).show();\n\n                $(BODY).css(CURSOR, \"\");\n\n                if (wnd.touchScroller) {\n                    wnd.touchScroller.reset();\n                }\n\n                if (e.keyCode == 27) {\n                    wrapper.css(that.initialPosition)\n                        .css(that.initialSize);\n                }\n\n                wnd.trigger(RESIZEEND);\n\n                return false;\n            },\n            destroy: function() {\n                if (this._draggable) {\n                    this._draggable.destroy();\n                }\n\n                this._draggable = this.owner = null;\n            }\n        };\n\n        function WindowDragging(wnd, dragHandle) {\n            var that = this;\n            that.owner = wnd;\n            that._preventDragging = false;\n            that._draggable = new Draggable(wnd.wrapper, {\n                filter: dragHandle,\n                group: wnd.wrapper.id + \"-moving\",\n                dragstart: proxy(that.dragstart, that),\n                drag: proxy(that.drag, that),\n                dragend: proxy(that.dragend, that),\n                dragcancel: proxy(that.dragcancel, that)\n            });\n\n            that._draggable.userEvents.stopPropagation = false;\n        }\n\n        WindowDragging.prototype = {\n            dragstart: function (e) {\n                var wnd = this.owner,\n                    draggable = wnd.options.draggable,\n                    element = wnd.element,\n                    actions = element.find(\".k-window-actions\"),\n                    containerOffset = kendo.getOffset(wnd.appendTo);\n\n                this._preventDragging = wnd.trigger(DRAGSTART) || !draggable;\n                if (this._preventDragging || wnd.isMaximized()) {\n                    return;\n                }\n\n                wnd.initialWindowPosition = kendo.getOffset(wnd.wrapper, \"position\");\n\n                wnd.initialPointerPosition = {\n                    left: wnd.options.position.left,\n                    top: wnd.options.position.top\n                };\n\n                wnd.startPosition = {\n                    left: e.x.client - wnd.initialWindowPosition.left,\n                    top: e.y.client - wnd.initialWindowPosition.top\n                };\n\n                wnd._updateBoundaries();\n                if (!wnd.containment) {\n                    if (actions.length > 0) {\n                        wnd.minLeft = outerWidth(actions) + parseInt(actions.css(\"right\"), 10) - outerWidth(element);\n                    } else {\n                        wnd.minLeft =  20 - outerWidth(element); // at least 20px remain visible\n                    }\n\n                    wnd.minLeft -= containerOffset.left;\n                    wnd.minTop = -containerOffset.top;\n                }\n\n                $(templates.overlay).appendTo(wnd.wrapper).css({ opacity: 0 });\n\n                wnd.wrapper.children(KWINDOWRESIZEHANDLES).hide();\n\n                $(BODY).css(CURSOR, e.currentTarget.css(CURSOR));\n            },\n\n            drag: function (e) {\n                var wnd = this.owner;\n                var position = wnd.options.position;\n                var axis = wnd.options.draggable.axis;\n                var left;\n                var top;\n\n                if (this._preventDragging || wnd.isMaximized()) {\n                    return;\n                }\n\n                if (!axis || axis.toLowerCase() === \"x\") {\n                    left = e.x.client - wnd.startPosition.left;\n\n                    if (wnd.containment && !wnd._isPinned) {\n                        left += wnd.containment.scrollLeft();\n                    }\n\n                    position.left = constrain(left, wnd.minLeft, wnd.maxLeft);\n                }\n\n                if (!axis || axis.toLowerCase() === \"y\") {\n                    top = e.y.client - wnd.startPosition.top;\n\n                    if (wnd.containment && !wnd._isPinned) {\n                        top += wnd.containment.scrollTop();\n                    }\n\n                    position.top = constrain(top, wnd.minTop, wnd.maxTop);\n                }\n\n                if (kendo.support.transforms) {\n                    $(wnd.wrapper).css(\n                        \"transform\", \"translate(\" +\n                        (position.left - wnd.initialPointerPosition.left) + \"px, \" +\n                        (position.top - wnd.initialPointerPosition.top) + \"px)\"\n                    );\n                } else {\n                    $(wnd.wrapper).css(position);\n                }\n\n            },\n\n            _finishDrag: function() {\n                var wnd = this.owner;\n\n                wnd.wrapper\n                    .children(KWINDOWRESIZEHANDLES).toggle(!wnd.options.isMinimized).end()\n                    .find(KOVERLAY).remove();\n\n                $(BODY).css(CURSOR, \"\");\n            },\n\n            dragcancel: function (e) {\n                if (this._preventDragging) {\n                    return;\n                }\n                this._finishDrag();\n\n                e.currentTarget.closest(KWINDOW).css(this.owner.initialWindowPosition);\n            },\n\n            dragend: function () {\n                var wnd = this.owner;\n\n                if (this._preventDragging || wnd.isMaximized()) {\n                    return;\n                }\n\n                $(wnd.wrapper)\n                    .css(wnd.options.position)\n                    .css(\"transform\", \"\");\n\n                this._finishDrag();\n\n                wnd.trigger(DRAGEND);\n\n                return false;\n            },\n            destroy: function() {\n                if (this._draggable) {\n                    this._draggable.destroy();\n                }\n\n                this._draggable = this.owner = null;\n            }\n        };\n\n        kendo.ui.plugin(Window);\n\n    })(window.kendo.jQuery);\n\n    return window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.view',[ \"./kendo.core\", \"./kendo.fx\", \"./kendo.mobile.scroller\", \"./kendo.view\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.view\",\n    name: \"View\",\n    category: \"mobile\",\n    description: \"Mobile View\",\n    depends: [ \"core\", \"fx\", \"mobile.scroller\", \"view\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        attr = kendo.attr,\n        Widget = ui.Widget,\n        ViewClone = kendo.ViewClone,\n        INIT = \"init\",\n        UI_OVERLAY = '<div style=\"height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none\"></div>',\n        BEFORE_SHOW = \"beforeShow\",\n        SHOW = \"show\",\n        AFTER_SHOW = \"afterShow\",\n        BEFORE_HIDE = \"beforeHide\",\n        TRANSITION_END = \"transitionEnd\",\n        TRANSITION_START = \"transitionStart\",\n        HIDE = \"hide\",\n        DESTROY = \"destroy\",\n        attrValue = kendo.attrValue,\n        roleSelector = kendo.roleSelector,\n        directiveSelector = kendo.directiveSelector,\n        compileMobileDirective = kendo.compileMobileDirective;\n\n    function initPopOvers(element) {\n        var popovers = element.find(roleSelector(\"popover\")),\n            idx, length,\n            roles = ui.roles;\n\n        for (idx = 0, length = popovers.length; idx < length; idx ++) {\n            kendo.initWidget(popovers[idx], {}, roles);\n        }\n    }\n\n    function preventScrollIfNotInput(e) {\n        if (!kendo.triggeredByInput(e)) {\n            e.preventDefault();\n        }\n    }\n\n    var View = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n            this.params = {};\n\n            $.extend(this, options);\n\n            this.transition = this.transition || this.defaultTransition;\n\n            this._id();\n\n            if (!this.options.$angular) {\n                this._layout();\n                this._overlay();\n                this._scroller();\n                this._model();\n            } else {\n                this._overlay();\n            }\n        },\n\n        events: [\n            INIT,\n            BEFORE_SHOW,\n            SHOW,\n            AFTER_SHOW,\n            BEFORE_HIDE,\n            HIDE,\n            DESTROY,\n            TRANSITION_START,\n            TRANSITION_END\n        ],\n\n        options: {\n            name: \"View\",\n            title: \"\",\n            layout: null,\n            getLayout: $.noop,\n            reload: false,\n            transition: \"\",\n            defaultTransition: \"\",\n            useNativeScrolling: false,\n            stretch: false,\n            zoom: false,\n            model: null,\n            modelScope: window,\n            scroller: {},\n            initWidgets: true\n        },\n\n        enable: function(enable) {\n            if(typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            if(enable) {\n                this.overlay.hide();\n            } else {\n                this.overlay.show();\n            }\n        },\n\n        destroy: function() {\n            if (this.layout) {\n                this.layout.detach(this);\n            }\n\n            this.trigger(DESTROY);\n\n\n            Widget.fn.destroy.call(this);\n\n            if (this.scroller) {\n                this.scroller.destroy();\n            }\n\n            if (this.options.$angular) {\n                this.element.scope().$destroy();\n            }\n\n            kendo.destroy(this.element);\n        },\n\n        purge: function() {\n            this.destroy();\n            this.element.remove();\n        },\n\n        triggerBeforeShow: function() {\n            if (this.trigger(BEFORE_SHOW, { view: this })) {\n                return false;\n            }\n            return true;\n        },\n\n        triggerBeforeHide: function() {\n            if (this.trigger(BEFORE_HIDE, { view: this })) {\n                return false;\n            }\n            return true;\n        },\n\n        showStart: function() {\n            var element = this.element;\n\n            element.css(\"display\", \"\");\n\n            if (!this.inited) {\n                this.inited = true;\n                this.trigger(INIT, {view: this});\n            } else { // skip the initial controller update\n                this._invokeNgController();\n            }\n\n            if (this.layout) {\n                this.layout.attach(this);\n            }\n\n            this._padIfNativeScrolling();\n            this.trigger(SHOW, {view: this});\n            kendo.resize(element);\n        },\n\n        showEnd: function() {\n            this.trigger(AFTER_SHOW, {view: this});\n            this._padIfNativeScrolling();\n        },\n\n        hideEnd: function() {\n            var that = this;\n            that.element.hide();\n            that.trigger(HIDE, {view: that});\n\n            if (that.layout) {\n                that.layout.trigger(HIDE, { view : that, layout: that.layout });\n            }\n        },\n\n        beforeTransition: function(type){\n            this.trigger(TRANSITION_START, { type: type });\n        },\n\n        afterTransition: function(type){\n            this.trigger(TRANSITION_END, { type: type });\n        },\n\n        _padIfNativeScrolling: function() {\n            if (mobile.appLevelNativeScrolling()) {\n                var isAndroid = kendo.support.mobileOS && kendo.support.mobileOS.android,\n                    skin = mobile.application.skin() || \"\",\n                    isAndroidForced = mobile.application.os.android || (skin.indexOf(\"android\") > -1),\n                    hasPlatformIndependentSkin = skin === \"flat\" || (skin.indexOf(\"material\") > -1),\n                    topContainer = (isAndroid || isAndroidForced) && (!hasPlatformIndependentSkin) ? \"footer\" : \"header\",\n                    bottomContainer = (isAndroid || isAndroidForced) && (!hasPlatformIndependentSkin) ? \"header\" : \"footer\";\n\n                this.content.css({\n                    paddingTop: this[topContainer].height(),\n                    paddingBottom: this[bottomContainer].height()\n                });\n            }\n        },\n\n        contentElement: function() {\n            var that = this;\n\n            return that.options.stretch ? that.content : that.scrollerContent;\n        },\n\n        clone: function() {\n            return new ViewClone(this);\n        },\n\n        _scroller: function() {\n            var that = this;\n\n            if (mobile.appLevelNativeScrolling()) {\n                return;\n            }\n            if (that.options.stretch) {\n                that.content.addClass(\"km-stretched-view\");\n            } else {\n                that.content.kendoMobileScroller($.extend(that.options.scroller, { zoom: that.options.zoom, useNative: that.options.useNativeScrolling }));\n\n                that.scroller = that.content.data(\"kendoMobileScroller\");\n                that.scrollerContent = that.scroller.scrollElement;\n            }\n\n            // prevent accidental address bar display when pulling the header\n            if (kendo.support.kineticScrollNeeded) {\n                $(that.element).on(\"touchmove\", \".km-header\", preventScrollIfNotInput);\n                if (!that.options.useNativeScrolling && !that.options.stretch) {\n                    $(that.element).on(\"touchmove\", \".km-content\", preventScrollIfNotInput);\n                }\n            }\n        },\n\n        _model: function() {\n            var that = this,\n                element = that.element,\n                model = that.options.model;\n\n            if (typeof model === \"string\") {\n                model = kendo.getter(model)(that.options.modelScope);\n            }\n\n            that.model = model;\n\n            initPopOvers(element);\n\n            that.element.css(\"display\", \"\");\n            if (that.options.initWidgets) {\n                if (model) {\n                    kendo.bind(element, model, ui, kendo.ui, kendo.dataviz.ui);\n                } else {\n                    mobile.init(element.children());\n                }\n            }\n            that.element.css(\"display\", \"none\");\n        },\n\n        _id: function() {\n            var element = this.element,\n                idAttrValue = element.attr(\"id\") || \"\";\n\n            this.id = attrValue(element, \"url\") || \"#\" + idAttrValue;\n\n            if (this.id == \"#\") {\n                this.id = kendo.guid();\n                element.attr(\"id\", this.id);\n            }\n        },\n\n        _layout: function() {\n            var contentSelector = roleSelector(\"content\"),\n                element = this.element;\n\n            element.addClass(\"km-view\");\n\n            this.header = element.children(roleSelector(\"header\")).addClass(\"km-header\");\n            this.footer = element.children(roleSelector(\"footer\")).addClass(\"km-footer\");\n\n            if (!element.children(contentSelector)[0]) {\n              element.wrapInner(\"<div \" + attr(\"role\") + '=\"content\"></div>');\n            }\n\n            this.content = element.children(roleSelector(\"content\"))\n                                .addClass(\"km-content\");\n\n            this.element.prepend(this.header).append(this.footer);\n\n\n            this.layout = this.options.getLayout(this.layout);\n\n            if (this.layout) {\n                this.layout.setup(this);\n            }\n        },\n\n        _overlay: function() {\n            this.overlay = $(UI_OVERLAY).appendTo(this.element);\n        },\n\n        _invokeNgController: function() {\n            var controller,\n                scope;\n\n            if (this.options.$angular) {\n                controller = this.element.controller();\n                scope = this.options.$angular[0];\n\n                if (controller) {\n                    var callback = $.proxy(this, '_callController', controller, scope);\n\n                    if (/^\\$(digest|apply)$/.test(scope.$$phase)) {\n                        callback();\n                    } else {\n                        scope.$apply(callback);\n                    }\n                }\n            }\n        },\n\n        _callController: function(controller, scope) {\n            this.element.injector().invoke(controller.constructor, controller, { $scope: scope });\n        }\n    });\n\n    function initWidgets(collection) {\n        collection.each(function() {\n            kendo.initWidget($(this), {}, ui.roles);\n        });\n    }\n\n    var Layout = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            element = this.element;\n\n            this.header = element.children(this._locate(\"header\")).addClass(\"km-header\");\n            this.footer = element.children(this._locate(\"footer\")).addClass(\"km-footer\");\n            this.elements = this.header.add(this.footer);\n\n            initPopOvers(element);\n\n            if (!this.options.$angular) {\n                kendo.mobile.init(this.element.children());\n            }\n            this.element.detach();\n            this.trigger(INIT, {layout: this});\n        },\n\n        _locate: function(selectors) {\n            return this.options.$angular ? directiveSelector(selectors) : roleSelector(selectors);\n        },\n\n        options: {\n            name: \"Layout\",\n            id: null,\n            platform: null\n        },\n\n        events: [\n            INIT,\n            SHOW,\n            HIDE\n        ],\n\n        setup: function(view) {\n            if (!view.header[0]) { view.header = this.header; }\n            if (!view.footer[0]) { view.footer = this.footer; }\n        },\n\n        detach: function(view) {\n            var that = this;\n            if (view.header === that.header && that.header[0]) {\n                view.element.prepend(that.header.detach()[0].cloneNode(true));\n            }\n\n            if (view.footer === that.footer && that.footer.length) {\n                view.element.append(that.footer.detach()[0].cloneNode(true));\n            }\n        },\n\n        attach: function(view) {\n            var that = this,\n                previousView = that.currentView;\n\n            if (previousView) {\n                that.detach(previousView);\n            }\n\n            if (view.header === that.header) {\n                that.header.detach();\n                view.element.children(roleSelector(\"header\")).remove();\n                view.element.prepend(that.header);\n            }\n\n            if (view.footer === that.footer) {\n                that.footer.detach();\n                view.element.children(roleSelector(\"footer\")).remove();\n                view.element.append(that.footer);\n            }\n\n            that.trigger(SHOW, {layout: that, view: view});\n            that.currentView = view;\n        }\n    });\n\n    var Observable = kendo.Observable,\n        bodyRegExp = /<body[^>]*>(([\\u000a\\u000d\\u2028\\u2029]|.)*)<\\/body>/i,\n        LOAD_START = \"loadStart\",\n        LOAD_COMPLETE = \"loadComplete\",\n        SHOW_START = \"showStart\",\n        SAME_VIEW_REQUESTED = \"sameViewRequested\",\n        VIEW_SHOW = \"viewShow\",\n        VIEW_TYPE_DETERMINED = \"viewTypeDetermined\",\n        AFTER = \"after\";\n\n    var ViewEngine = Observable.extend({\n        init: function(options) {\n            var that = this,\n                views,\n                errorMessage,\n                container,\n                collection;\n\n            Observable.fn.init.call(that);\n\n            $.extend(that, options);\n            that.sandbox = $(\"<div />\");\n            container = that.container;\n\n            views = that._hideViews(container);\n            that.rootView = views.first();\n\n            if (!that.rootView[0] && options.rootNeeded) {\n                if (container[0] == kendo.mobile.application.element[0]) {\n                    errorMessage = 'Your kendo mobile application element does not contain any direct child elements with data-role=\"view\" attribute set. Make sure that you instantiate the mobile application using the correct container.';\n                } else {\n                    errorMessage = 'Your pane element does not contain any direct child elements with data-role=\"view\" attribute set.';\n                }\n                throw new Error(errorMessage);\n            }\n\n            that.layouts = {};\n\n            that.viewContainer = new kendo.ViewContainer(that.container);\n\n            that.viewContainer.bind(\"accepted\", function(e) {\n                e.view.params = that.params;\n            });\n\n            that.viewContainer.bind(\"complete\", function(e) {\n                that.trigger(VIEW_SHOW, { view: e.view });\n            });\n\n            that.viewContainer.bind(AFTER, function() {\n                that.trigger(AFTER);\n            });\n\n            this.getLayoutProxy = $.proxy(this, \"_getLayout\");\n            that._setupLayouts(container);\n\n            collection = container.children(that._locate(\"modalview drawer\"));\n            if (that.$angular) {\n\n                that.$angular[0].viewOptions = {\n                    defaultTransition: that.transition,\n                    loader: that.loader,\n                    container: that.container,\n                    getLayout: that.getLayoutProxy\n                };\n\n                collection.each(function(idx, element) {\n                    compileMobileDirective($(element), options.$angular[0]);\n                });\n            } else {\n                initWidgets(collection);\n            }\n\n            this.bind(this.events, options);\n        },\n\n        events: [\n            SHOW_START,\n            AFTER,\n            VIEW_SHOW,\n            LOAD_START,\n            LOAD_COMPLETE,\n            SAME_VIEW_REQUESTED,\n            VIEW_TYPE_DETERMINED\n        ],\n\n        destroy: function() {\n            kendo.destroy(this.container);\n\n            for (var id in this.layouts) {\n                this.layouts[id].destroy();\n            }\n        },\n\n        view: function() {\n            return this.viewContainer.view;\n        },\n\n        showView: function(url, transition, params) {\n            url = url.replace(new RegExp(\"^\" + this.remoteViewURLPrefix), \"\");\n            if (url === \"\" && this.remoteViewURLPrefix) {\n                url = \"/\";\n            }\n\n            if (url.replace(/^#/, \"\") === this.url) {\n                this.trigger(SAME_VIEW_REQUESTED);\n                return false;\n            }\n\n            this.trigger(SHOW_START);\n\n            var that = this,\n                showClosure = function(view) {\n                    return that.viewContainer.show(view, transition, url);\n                },\n                element = that._findViewElement(url),\n                view = kendo.widgetInstance(element);\n\n            that.url = url.replace(/^#/, \"\");\n\n            that.params = params;\n\n            if (view && view.reload) {\n                view.purge();\n                element = [];\n            }\n\n            this.trigger(VIEW_TYPE_DETERMINED, { remote: element.length === 0, url: url });\n\n            if (element[0]) {\n                if (!view) {\n                    view = that._createView(element);\n                }\n\n                return showClosure(view);\n            } else {\n                if (this.serverNavigation) {\n                    location.href = url;\n                } else {\n                    that._loadView(url, showClosure);\n                }\n                return true;\n            }\n        },\n\n        append: function(html, url) {\n            var sandbox = this.sandbox,\n                urlPath = (url || \"\").split(\"?\")[0],\n                container = this.container,\n                views,\n                modalViews,\n                view;\n\n            if (bodyRegExp.test(html)) {\n                html = RegExp.$1;\n            }\n\n            sandbox[0].innerHTML = html;\n\n            container.append(sandbox.children(\"script, style\"));\n\n            views = this._hideViews(sandbox);\n            view = views.first();\n\n            // Generic HTML content found as remote view - no remote view markers\n            if (!view.length) {\n                views = view = sandbox.wrapInner(\"<div data-role=view />\").children(); // one element\n            }\n\n            if (urlPath) {\n                view.hide().attr(attr(\"url\"), urlPath);\n            }\n\n            this._setupLayouts(sandbox);\n\n            modalViews = sandbox.children(this._locate(\"modalview drawer\"));\n\n            container.append(sandbox.children(this._locate(\"layout modalview drawer\")).add(views));\n\n            // Initialize the modalviews after they have been appended to the final container\n            initWidgets(modalViews);\n\n            return this._createView(view);\n        },\n\n        _locate: function(selectors) {\n            return this.$angular ? directiveSelector(selectors) : roleSelector(selectors);\n        },\n\n        _findViewElement: function(url) {\n            var element,\n                urlPath = url.split(\"?\")[0];\n\n            if (!urlPath) {\n                return this.rootView;\n            }\n\n            element = this.container.children(\"[\" + attr(\"url\") + \"='\" + urlPath + \"']\");\n\n            // do not try to search for \"#/foo/bar\" id, jQuery throws error\n            if (!element[0] && urlPath.indexOf(\"/\") === -1) {\n                element = this.container.children(urlPath.charAt(0) === \"#\" ? urlPath : \"#\" + urlPath);\n            }\n\n            return element;\n        },\n\n        _createView: function(element) {\n            if (this.$angular) {\n                return compileMobileDirective(element, this.$angular[0]);\n            } else {\n                return kendo.initWidget(element, {\n                    defaultTransition: this.transition,\n                    loader: this.loader,\n                    container: this.container,\n                    getLayout: this.getLayoutProxy,\n                    modelScope: this.modelScope,\n                    reload: attrValue(element, \"reload\")\n                }, ui.roles);\n            }\n        },\n\n        _getLayout: function(name) {\n            if (name === \"\") {\n                return null;\n            }\n\n            return name ? this.layouts[name] : this.layouts[this.layout];\n        },\n\n        _loadView: function(url, callback) {\n            if (this._xhr) {\n                this._xhr.abort();\n            }\n\n            this.trigger(LOAD_START);\n\n            this._xhr = $.get(kendo.absoluteURL(url, this.remoteViewURLPrefix), \"html\")\n                .always($.proxy(this, \"_xhrComplete\", callback, url));\n        },\n\n        _xhrComplete: function(callback, url, response) {\n            var success = true;\n\n            if (typeof response === \"object\") {\n                if (response.status === 0) {\n                    if (response.responseText && response.responseText.length > 0) {\n                        success = true;\n                        response = response.responseText;\n                    } else { // request has been aborted for real\n                        return;\n                    }\n                }\n            }\n\n            this.trigger(LOAD_COMPLETE);\n\n            if (success) {\n                callback(this.append(response, url));\n            }\n        },\n\n        _hideViews: function(container) {\n            return container.children(this._locate(\"view splitview\")).hide();\n        },\n\n        _setupLayouts: function(element) {\n            var that = this,\n                layout;\n\n            element.children(that._locate(\"layout\")).each(function() {\n                if (that.$angular) {\n                    layout = compileMobileDirective($(this), that.$angular[0]);\n                } else {\n                    layout = kendo.initWidget($(this), {}, ui.roles);\n                }\n\n                var platform = layout.options.platform;\n\n                if (!platform || platform === mobile.application.os.name) {\n                    that.layouts[layout.options.id] = layout;\n                } else {\n                    layout.destroy();\n                }\n            });\n\n        }\n    });\n\n    kendo.mobile.ViewEngine = ViewEngine;\n\n    ui.plugin(View);\n    ui.plugin(Layout);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\r\n    define('kendo.mobile.loader',[ \"./kendo.core\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"mobile.loader\",\r\n    name: \"Loader\",\r\n    category: \"mobile\",\r\n    description: \"Mobile Loader\",\r\n    depends: [ \"core\" ],\r\n    hidden: true\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        ui = kendo.mobile.ui,\r\n        Widget = ui.Widget,\r\n        CAPTURE_EVENTS = $.map(kendo.eventMap, function(value) { return value; }).join(\" \").split(\" \");\r\n\r\n    var Loader = Widget.extend({\r\n        init: function(container, options) {\r\n            var that = this,\r\n                element = $('<div class=\"km-loader\"><span class=\"km-loading km-spin\"></span><span class=\"km-loading-left\"></span><span class=\"km-loading-right\"></span></div>');\r\n\r\n            Widget.fn.init.call(that, element, options);\r\n\r\n            that.container = container;\r\n            that.captureEvents = false;\r\n\r\n            that._attachCapture();\r\n\r\n            element.append(that.options.loading).hide().appendTo(container);\r\n        },\r\n\r\n        options: {\r\n            name: \"Loader\",\r\n            loading: \"<h1>Loading...</h1>\",\r\n            timeout: 100\r\n        },\r\n\r\n        show: function() {\r\n            var that = this;\r\n\r\n            clearTimeout(that._loading);\r\n\r\n            if (that.options.loading === false) {\r\n                return;\r\n            }\r\n\r\n            that.captureEvents = true;\r\n            that._loading = setTimeout(function() {\r\n                that.element.show();\r\n            }, that.options.timeout);\r\n        },\r\n\r\n        hide: function() {\r\n            this.captureEvents = false;\r\n            clearTimeout(this._loading);\r\n            this.element.hide();\r\n        },\r\n\r\n        changeMessage: function(message) {\r\n            this.options.loading = message;\r\n            this.element.find(\">h1\").html(message);\r\n        },\r\n\r\n        transition: function() {\r\n            this.captureEvents = true;\r\n            this.container.css(\"pointer-events\", \"none\");\r\n        },\r\n\r\n        transitionDone: function() {\r\n            this.captureEvents = false;\r\n            this.container.css(\"pointer-events\", \"\");\r\n        },\r\n\r\n        _attachCapture: function() {\r\n            var that = this;\r\n            that.captureEvents = false;\r\n\r\n            function capture(e) {\r\n                if (that.captureEvents) {\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n\r\n            for (var i = 0; i < CAPTURE_EVENTS.length; i ++) {\r\n                that.container[0].addEventListener(CAPTURE_EVENTS[i], capture, true);\r\n            }\r\n        }\r\n    });\r\n\r\n    ui.plugin(Loader);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\r\n    define('kendo.mobile.pane',[ \"./kendo.mobile.view\", \"./kendo.mobile.loader\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"mobile.pane\",\r\n    name: \"Pane\",\r\n    category: \"mobile\",\r\n    description: \"Mobile Pane\",\r\n    depends: [ \"mobile.view\", \"mobile.loader\" ],\r\n    hidden: true\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        mobile = kendo.mobile,\r\n        roleSelector = kendo.roleSelector,\r\n        ui = mobile.ui,\r\n        Widget = ui.Widget,\r\n        ViewEngine = mobile.ViewEngine,\r\n        View = ui.View,\r\n        Loader = mobile.ui.Loader,\r\n\r\n        EXTERNAL = \"external\",\r\n        HREF = \"href\",\r\n        DUMMY_HREF = \"#!\",\r\n\r\n        NAVIGATE = \"navigate\",\r\n        VIEW_SHOW = \"viewShow\",\r\n        SAME_VIEW_REQUESTED = \"sameViewRequested\",\r\n        OS = kendo.support.mobileOS,\r\n        SKIP_TRANSITION_ON_BACK_BUTTON = OS.ios && !OS.appMode && OS.flatVersion >= 700,\r\n        WIDGET_RELS = /popover|actionsheet|modalview|drawer/,\r\n        BACK = \"#:back\",\r\n\r\n        attrValue = kendo.attrValue;\r\n\r\n    var Pane = Widget.extend({\r\n        init: function(element, options) {\r\n            var that = this;\r\n\r\n            Widget.fn.init.call(that, element, options);\r\n\r\n            options = that.options;\r\n            element = that.element;\r\n\r\n            element.addClass(\"km-pane\");\r\n\r\n            if (that.options.collapsible) {\r\n                element.addClass(\"km-collapsible-pane\");\r\n            }\r\n\r\n            this.history = [];\r\n\r\n            this.historyCallback = function(url, params, backButtonPressed) {\r\n                var transition = that.transition;\r\n                that.transition = null;\r\n\r\n                // swiping back in iOS leaves the app in a very broken state if we perform a transition\r\n                if (SKIP_TRANSITION_ON_BACK_BUTTON && backButtonPressed) {\r\n                    transition = \"none\";\r\n                }\r\n\r\n                return that.viewEngine.showView(url, transition, params);\r\n            };\r\n\r\n            this._historyNavigate = function(url) {\r\n                if (url === BACK) {\r\n                    if (that.history.length === 1) {\r\n                        return;\r\n                    }\r\n\r\n                    that.history.pop();\r\n                    url = that.history[that.history.length - 1];\r\n                } else {\r\n                    that.history.push(url);\r\n                }\r\n\r\n                that.historyCallback(url, kendo.parseQueryStringParams(url));\r\n            };\r\n\r\n            this._historyReplace = function(url) {\r\n                var params = kendo.parseQueryStringParams(url);\r\n                that.history[that.history.length - 1] = url;\r\n                that.historyCallback(url, params);\r\n            };\r\n\r\n            that.loader = new Loader(element, {\r\n                loading: that.options.loading\r\n            });\r\n\r\n            that.viewEngine = new ViewEngine({\r\n                container: element,\r\n                transition: options.transition,\r\n                modelScope: options.modelScope,\r\n                rootNeeded: !options.initial,\r\n                serverNavigation: options.serverNavigation,\r\n                remoteViewURLPrefix: options.root || \"\",\r\n                layout: options.layout,\r\n                $angular: options.$angular,\r\n                loader: that.loader,\r\n\r\n                showStart: function() {\r\n                    that.loader.transition();\r\n                    that.closeActiveDialogs();\r\n                },\r\n\r\n                after: function() {\r\n                    that.loader.transitionDone();\r\n                },\r\n\r\n                viewShow: function(e) {\r\n                    that.trigger(VIEW_SHOW, e);\r\n                },\r\n\r\n                loadStart: function() {\r\n                    that.loader.show();\r\n                },\r\n\r\n                loadComplete: function() {\r\n                    that.loader.hide();\r\n                },\r\n\r\n                sameViewRequested: function() {\r\n                    that.trigger(SAME_VIEW_REQUESTED);\r\n                },\r\n\r\n                viewTypeDetermined: function(e) {\r\n                    if (!e.remote || !that.options.serverNavigation)  {\r\n                        that.trigger(NAVIGATE, { url: e.url });\r\n                    }\r\n                }\r\n            });\r\n\r\n\r\n            this._setPortraitWidth();\r\n\r\n            kendo.onResize(function() {\r\n                that._setPortraitWidth();\r\n            });\r\n\r\n            that._setupAppLinks();\r\n        },\r\n\r\n        closeActiveDialogs: function() {\r\n            var dialogs = this.element.find(roleSelector(\"actionsheet popover modalview\")).filter(\":visible\");\r\n            dialogs.each(function() {\r\n                kendo.widgetInstance($(this), ui).close();\r\n            });\r\n        },\r\n\r\n        navigateToInitial: function() {\r\n            var initial = this.options.initial;\r\n\r\n            if (initial) {\r\n                this.navigate(initial);\r\n            }\r\n\r\n            return initial;\r\n        },\r\n\r\n        options: {\r\n            name: \"Pane\",\r\n            portraitWidth: \"\",\r\n            transition: \"\",\r\n            layout: \"\",\r\n            collapsible: false,\r\n            initial: null,\r\n            modelScope: window,\r\n            loading: \"<h1>Loading...</h1>\"\r\n        },\r\n\r\n        events: [\r\n            NAVIGATE,\r\n            VIEW_SHOW,\r\n            SAME_VIEW_REQUESTED\r\n        ],\r\n\r\n        append: function(html) {\r\n            return this.viewEngine.append(html);\r\n        },\r\n\r\n        destroy: function() {\r\n            Widget.fn.destroy.call(this);\r\n            this.viewEngine.destroy();\r\n            this.userEvents.destroy();\r\n        },\r\n\r\n        navigate: function(url, transition) {\r\n            if (url instanceof View) {\r\n                url = url.id;\r\n            }\r\n\r\n            this.transition = transition;\r\n\r\n            this._historyNavigate(url);\r\n        },\r\n\r\n        replace: function(url, transition) {\r\n            if (url instanceof View) {\r\n                url = url.id;\r\n            }\r\n\r\n            this.transition = transition;\r\n\r\n            this._historyReplace(url);\r\n        },\r\n\r\n        bindToRouter: function(router) {\r\n            var that = this,\r\n                history = this.history,\r\n                viewEngine = this.viewEngine;\r\n\r\n            router.bind(\"init\", function(e) {\r\n                var url = e.url,\r\n                    attrUrl = router.pushState ? url : \"/\";\r\n\r\n                viewEngine.rootView.attr(kendo.attr(\"url\"), attrUrl);\r\n\r\n                // if current is set, then this means that the pane has navigated to a given view - we need to update the router accordingly.\r\n                var length = history.length;\r\n\r\n                if (url === \"/\" && length) {\r\n                    router.navigate(history[length - 1], true);\r\n                    e.preventDefault(); // prevents from executing routeMissing, by default\r\n                }\r\n            });\r\n\r\n            router.bind(\"routeMissing\", function(e) {\r\n                if (!that.historyCallback(e.url, e.params, e.backButtonPressed)) {\r\n                    e.preventDefault();\r\n                }\r\n            });\r\n\r\n            router.bind(\"same\", function() {\r\n                that.trigger(SAME_VIEW_REQUESTED);\r\n            });\r\n\r\n            that._historyNavigate = function(url) {\r\n                router.navigate(url);\r\n            };\r\n\r\n            that._historyReplace = function(url) {\r\n                router.replace(url);\r\n            };\r\n        },\r\n\r\n        hideLoading: function() {\r\n            this.loader.hide();\r\n        },\r\n\r\n        showLoading: function() {\r\n            this.loader.show();\r\n        },\r\n\r\n        changeLoadingMessage: function(message) {\r\n            this.loader.changeMessage(message);\r\n        },\r\n\r\n        view: function() {\r\n            return this.viewEngine.view();\r\n        },\r\n\r\n        _setPortraitWidth: function() {\r\n            var width,\r\n                portraitWidth = this.options.portraitWidth;\r\n\r\n            if (portraitWidth) {\r\n                width = kendo.mobile.application.element.is(\".km-vertical\") ? portraitWidth : \"auto\";\r\n                this.element.css(\"width\", width);\r\n            }\r\n        },\r\n\r\n        _setupAppLinks: function() {\r\n            var that = this,\r\n                linkRoles = \"tab\",\r\n                pressedButtonSelector = \"[data-\" + kendo.ns + \"navigate-on-press]\",\r\n\r\n                buttonSelectors = $.map([\"button\", \"backbutton\", \"detailbutton\", \"listview-link\"] , function(role) {\r\n                    return roleSelector(role) + \":not(\" + pressedButtonSelector + \")\";\r\n                }).join(\",\");\r\n\r\n            this.element.handler(this)\r\n                .on(\"down\", roleSelector(linkRoles) + \",\" + pressedButtonSelector, \"_mouseup\")\r\n                .on(\"click\", roleSelector(linkRoles) + \",\" + buttonSelectors + \",\" + pressedButtonSelector, \"_appLinkClick\");\r\n\r\n            this.userEvents = new kendo.UserEvents(this.element, {\r\n                fastTap: true,\r\n                filter: buttonSelectors,\r\n                tap: function(e) {\r\n                    e.event.currentTarget = e.touch.currentTarget;\r\n                    that._mouseup(e.event);\r\n                }\r\n            });\r\n\r\n            // remove the ms-touch-action added by the user events, breaks native scrolling in WP8\r\n            this.element.css('-ms-touch-action', '');\r\n        },\r\n\r\n        _appLinkClick: function (e) {\r\n            var href = $(e.currentTarget).attr(\"href\");\r\n            var remote = href && href[0] !== \"#\" && this.options.serverNavigation;\r\n\r\n            if(!remote && attrValue($(e.currentTarget), \"rel\") != EXTERNAL) {\r\n                e.preventDefault();\r\n            }\r\n        },\r\n\r\n        _mouseup: function(e) {\r\n            if (e.which > 1 || e.isDefaultPrevented()) {\r\n                return;\r\n            }\r\n\r\n            var pane = this,\r\n                link = $(e.currentTarget),\r\n                transition = attrValue(link, \"transition\"),\r\n                rel = attrValue(link, \"rel\") || \"\",\r\n                target = attrValue(link, \"target\"),\r\n                href = link.attr(HREF),\r\n                delayedTouchEnd = SKIP_TRANSITION_ON_BACK_BUTTON && link[0].offsetHeight === 0,\r\n                remote = href && href[0] !== \"#\" && this.options.serverNavigation;\r\n\r\n            if (delayedTouchEnd || remote || rel === EXTERNAL || (typeof href === \"undefined\") || href === DUMMY_HREF) {\r\n                return;\r\n            }\r\n\r\n            // Prevent iOS address bar progress display for in app navigation\r\n            link.attr(HREF, DUMMY_HREF);\r\n            setTimeout(function() { link.attr(HREF, href); });\r\n\r\n            if (rel.match(WIDGET_RELS)) {\r\n                kendo.widgetInstance($(href), ui).openFor(link);\r\n                // if propagation is not stopped and actionsheet is opened from tabstrip,\r\n                // the actionsheet is closed immediately.\r\n                if (rel === \"actionsheet\" || rel === \"drawer\") {\r\n                    e.stopPropagation();\r\n                }\r\n            } else {\r\n                if (target === \"_top\") {\r\n                    pane = mobile.application.pane;\r\n                }\r\n                else if (target) {\r\n                    pane = $(\"#\" + target).data(\"kendoMobilePane\");\r\n                }\r\n\r\n                pane.navigate(href, transition);\r\n            }\r\n\r\n            e.preventDefault();\r\n        }\r\n    });\r\n\r\n    Pane.wrap = function(element) {\r\n        if (!element.is(roleSelector(\"view\"))) {\r\n            element = element.wrap('<div data-' + kendo.ns + 'role=\"view\" data-stretch=\"true\"></div>').parent();\r\n        }\r\n\r\n        var paneContainer = element.wrap('<div class=\"km-pane-wrapper\"><div></div></div>').parent(),\r\n            pane = new Pane(paneContainer);\r\n\r\n        pane.navigate(\"\");\r\n\r\n        return pane;\r\n    };\r\n    ui.plugin(Pane);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\n    define('kendo.mobile.popover',[ \"./kendo.popup\", \"./kendo.mobile.pane\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.popover\",\n    name: \"PopOver\",\n    category: \"mobile\",\n    description: \"The mobile PopOver widget represents a transient view which is displayed when the user taps on a navigational widget or area on the screen. \",\n    depends: [ \"popup\", \"mobile.pane\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        HIDE = \"hide\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        WRAPPER = '<div class=\"km-popup-wrapper\"></div>',\n        ARROW = '<div class=\"km-popup-arrow\"></div>',\n        OVERLAY = '<div class=\"km-popup-overlay\"></div>',\n        DIRECTION_CLASSES = \"km-up km-down km-left km-right\",\n        Widget = ui.Widget,\n        DIRECTIONS = {\n            \"down\": {\n                origin: \"bottom center\",\n                position: \"top center\"\n            },\n            \"up\": {\n                origin: \"top center\",\n                position: \"bottom center\"\n            },\n            \"left\": {\n                origin: \"center left\",\n                position: \"center right\",\n                collision: \"fit flip\"\n            },\n            \"right\": {\n                origin: \"center right\",\n                position: \"center left\",\n                collision: \"fit flip\"\n            }\n        },\n\n        ANIMATION = {\n            animation: {\n                open: {\n                    effects: \"fade:in\",\n                    duration: 0\n                },\n                close: {\n                    effects: \"fade:out\",\n                    duration: 400\n                }\n            }\n        },\n        DIMENSIONS = {\n            \"horizontal\": { offset: \"top\", size: \"height\" },\n            \"vertical\": { offset: \"left\", size: \"width\" }\n        },\n\n        REVERSE = {\n            \"up\": \"down\",\n            \"down\": \"up\",\n            \"left\": \"right\",\n            \"right\": \"left\"\n        };\n\n    var Popup = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                containerPopup = element.closest(\".km-modalview-wrapper\"),\n                viewport = element.closest(\".km-root\").children('.km-pane').first(),\n                container = containerPopup[0] ? containerPopup : viewport,\n                popupOptions,\n                axis;\n\n            if (options.viewport) {\n                viewport = options.viewport;\n            } else if (!viewport[0]) {\n                viewport = window;\n            }\n\n            if (options.container) {\n                container = options.container;\n            } else if (!container[0]) {\n                container = document.body;\n            }\n\n            popupOptions = {\n                viewport: viewport,\n                copyAnchorStyles: false,\n                autosize: true,\n                open: function() {\n                    that.overlay.show();\n                },\n\n                activate: $.proxy(that._activate, that),\n\n                deactivate: function() {\n                    that.overlay.hide();\n                    if (!that._apiCall) {\n                        that.trigger(HIDE);\n                    }\n\n                    that._apiCall = false;\n                }\n            };\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            element.wrap(WRAPPER).addClass(\"km-popup\").show();\n\n            axis = that.options.direction.match(/left|right/) ? \"horizontal\" : \"vertical\";\n\n            that.dimensions = DIMENSIONS[axis];\n\n            that.wrapper = element.parent().css({\n                width: options.width,\n                height: options.height\n            }).addClass(\"km-popup-wrapper km-\" + options.direction).hide();\n\n            that.arrow = $(ARROW).prependTo(that.wrapper).hide();\n\n            that.overlay = $(OVERLAY).appendTo(container).hide();\n            popupOptions.appendTo = that.overlay;\n\n            if (options.className) {\n                that.overlay.addClass(options.className);\n            }\n\n            that.popup = new kendo.ui.Popup(that.wrapper, $.extend(true, popupOptions, ANIMATION, DIRECTIONS[options.direction]));\n        },\n\n        options: {\n            name: \"Popup\",\n            width: 240,\n            height: \"\",\n            direction: \"down\",\n            container: null,\n            viewport: null\n        },\n\n        events: [\n            HIDE\n        ],\n\n        show: function(target) {\n            this.popup.options.anchor = $(target);\n            this.popup.open();\n        },\n\n        hide: function() {\n            this._apiCall = true;\n            this.popup.close();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.popup.destroy();\n            this.overlay.remove();\n        },\n\n        target: function() {\n            return this.popup.options.anchor;\n        },\n\n        _activate: function() {\n            var that = this,\n                direction = that.options.direction,\n                dimensions = that.dimensions,\n                offset = dimensions.offset,\n                popup = that.popup,\n                anchor = popup.options.anchor,\n                anchorOffset = $(anchor).offset(),\n                elementOffset = $(popup.element).offset(),\n                cssClass = popup.flipped ? REVERSE[direction] : direction,\n                min = that.arrow[dimensions.size]() * 2,\n                max = that.element[dimensions.size]() - that.arrow[dimensions.size](),\n                size = $(anchor)[dimensions.size](),\n                offsetAmount = anchorOffset[offset] - elementOffset[offset] + (size / 2);\n\n            if (offsetAmount < min) {\n                offsetAmount = min;\n            }\n\n            if (offsetAmount > max) {\n                offsetAmount = max;\n            }\n\n            that.wrapper.removeClass(DIRECTION_CLASSES).addClass(\"km-\" + cssClass);\n            that.arrow.css(offset, offsetAmount).show();\n        }\n    });\n\n    var PopOver = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                popupOptions;\n\n            that.initialOpen = false;\n\n            Widget.fn.init.call(that, element, options);\n\n            popupOptions = $.extend({\n                className: \"km-popover-root\",\n                hide: function() { that.trigger(CLOSE); }\n            }, this.options.popup);\n\n            that.popup = new Popup(that.element, popupOptions);\n            that.popup.overlay.on(\"move\", function(e) {\n                if (e.target == that.popup.overlay[0]) {\n                    e.preventDefault();\n                }\n            });\n\n            that.pane = new ui.Pane(that.element, $.extend(this.options.pane, { $angular: this.options.$angular }));\n\n            kendo.notify(that, ui);\n        },\n\n        options: {\n            name: \"PopOver\",\n            popup: { },\n            pane: { }\n        },\n\n        events: [\n            OPEN,\n            CLOSE\n        ],\n\n        open: function(target) {\n            this.popup.show(target);\n\n            if (!this.initialOpen) {\n                if (!this.pane.navigateToInitial()) {\n                    this.pane.navigate(\"\");\n                }\n\n                this.popup.popup._position();\n                this.initialOpen = true;\n            } else {\n                this.pane.view()._invokeNgController();\n            }\n        },\n\n        openFor: function(target) {\n            this.open(target);\n            this.trigger(OPEN, { target: this.popup.target() });\n        },\n\n        close: function() {\n            this.popup.hide();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.pane.destroy();\n            this.popup.destroy();\n\n            kendo.destroy(this.element);\n        }\n    });\n\n    ui.plugin(Popup);\n    ui.plugin(PopOver);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.shim',[ \"./kendo.popup\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.shim\",\n    name: \"Shim\",\n    category: \"mobile\",\n    description: \"Mobile Shim\",\n    depends: [ \"popup\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Popup = kendo.ui.Popup,\n        SHIM = '<div class=\"km-shim\"></div>',\n        HIDE = \"hide\",\n        Widget = ui.Widget;\n\n    var Shim = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                app = kendo.mobile.application,\n                os = kendo.support.mobileOS,\n                osname = app ? app.os.name : (os ? os.name : \"ios\"),\n                ioswp = osname === \"ios\" || osname === \"wp\" || (app ? app.os.skin : false),\n                bb = osname === \"blackberry\",\n                align = options.align || (ioswp ?  \"bottom center\" : bb ? \"center right\" : \"center center\"),\n                position = options.position || (ioswp ? \"bottom center\" : bb ? \"center right\" : \"center center\"),\n                effect = options.effect || (ioswp ? \"slideIn:up\" : bb ? \"slideIn:left\" : \"fade:in\"),\n                shim = $(SHIM).handler(that).hide();\n\n            Widget.fn.init.call(that, element, options);\n\n            that.shim = shim;\n            element = that.element;\n            options = that.options;\n\n            if (options.className) {\n                that.shim.addClass(options.className);\n            }\n\n            if (!options.modal) {\n                that.shim.on(\"down\", \"_hide\");\n            }\n\n            (app ? app.element : $(document.body)).append(shim);\n\n            that.popup = new Popup(that.element, {\n                anchor: shim,\n                modal: true,\n                appendTo: shim,\n                origin: align,\n                position: position,\n                animation: {\n                    open: {\n                        effects: effect,\n                        duration: options.duration\n                    },\n                    close: {\n                        duration: options.duration\n                    }\n                },\n\n                close: function(e) {\n                    var prevented = false;\n\n                    if (!that._apiCall) {\n                        prevented = that.trigger(HIDE);\n                    }\n\n                    if (prevented) {\n                        e.preventDefault();\n                    }\n\n                    that._apiCall = false;\n                },\n\n                deactivate: function() { // Deactivate event can't be prevented.\n                    shim.hide();\n                },\n\n                open: function() {\n                    shim.show();\n                }\n            });\n\n            kendo.notify(that);\n        },\n\n        events: [ HIDE ],\n\n        options: {\n            name: \"Shim\",\n            modal: false,\n            align: undefined,\n            position: undefined,\n            effect: undefined,\n            duration: 200\n        },\n\n        show: function() {\n            this.popup.open();\n        },\n\n        hide: function() {\n            this._apiCall = true;\n            this.popup.close();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.shim.kendoDestroy();\n            this.popup.destroy();\n            this.shim.remove();\n        },\n\n        _hide: function(e) {\n            if (!e || !$.contains(this.shim.children().children(\".k-popup\")[0], e.target)) {\n                this.popup.close();\n            }\n        }\n    });\n\n    ui.plugin(Shim);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.modalview',[ \"./kendo.mobile.shim\", \"./kendo.mobile.view\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.modalview\",\n    name: \"ModalView\",\n    category: \"mobile\",\n    description: \"The Kendo ModalView is used to present self-contained functionality in the context of the current task.\",\n    depends: [ \"mobile.shim\", \"mobile.view\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Shim = ui.Shim,\n        Widget = ui.Widget,\n        BEFORE_OPEN = \"beforeOpen\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        INIT = \"init\",\n        WRAP = '<div class=\"km-modalview-wrapper\"></div>';\n\n    var ModalView = ui.View.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._id();\n            that._wrap();\n            that._shim();\n\n            if (!this.options.$angular) {\n                that._layout();\n                that._scroller();\n                that._model();\n            }\n\n            that.element.css(\"display\", \"\");\n\n            that.trigger(INIT);\n        },\n\n        events: [\n            INIT,\n            BEFORE_OPEN,\n            OPEN,\n            CLOSE\n        ],\n\n        options: {\n            name: \"ModalView\",\n            modal: true,\n            width: null,\n            height: null\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.shim.destroy();\n        },\n\n        open: function(target) {\n            var that = this;\n            that.target = $(target);\n            that.shim.show();\n\n            that._invokeNgController();\n\n            // necessary for the mobile view interface\n            that.trigger(\"show\", { view: that });\n        },\n\n        // Interface implementation, called from the pane click handlers\n        openFor: function(target) {\n            if (!this.trigger(BEFORE_OPEN, { target: target })) {\n                this.open(target);\n                this.trigger(OPEN, { target: target });\n            }\n        },\n\n        close: function() {\n            if (this.element.is(\":visible\") && !this.trigger(CLOSE)) {\n                this.shim.hide();\n            }\n        },\n\n        _wrap: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                width, height;\n\n            width = element[0].style.width || \"auto\";\n            height = element[0].style.height || \"auto\";\n\n            element.addClass(\"km-modalview\").wrap(WRAP);\n\n            that.wrapper = element.parent().css({\n                width: options.width || width || 300,\n                height: options.height || height || 300\n            }).addClass(height == \"auto\" ? \" km-auto-height\" : \"\");\n\n            element.css({ width: \"\", height: \"\" });\n        },\n\n        _shim: function() {\n            var that = this;\n\n            that.shim = new Shim(that.wrapper, {\n                modal: that.options.modal,\n                position: \"center center\",\n                align: \"center center\",\n                effect: \"fade:in\",\n                className: \"km-modalview-root\",\n                hide: function(e) {\n                    if (that.trigger(CLOSE)) {\n                        e.preventDefault();\n                    }\n                }\n            });\n        }\n    });\n\n    ui.plugin(ModalView);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\r\n    define('kendo.mobile.drawer',[ \"./kendo.mobile.view\", \"./kendo.userevents\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"mobile.drawer\",\r\n    name: \"Drawer\",\r\n    category: \"mobile\",\r\n    description: \"The Kendo Mobile Drawer widget provides slide to reveal global application toolbox\",\r\n    depends: [ \"mobile.view\", \"userevents\" ]\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        mobile = kendo.mobile,\r\n        os = kendo.support.mobileOS,\r\n        Transition = kendo.effects.Transition,\r\n        roleSelector = kendo.roleSelector,\r\n        AXIS = \"x\",\r\n        ui = mobile.ui,\r\n        SWIPE_TO_OPEN = !(os.ios && os.majorVersion == 7 && !os.appMode),\r\n        BEFORE_SHOW = \"beforeShow\",\r\n        INIT = \"init\",\r\n        SHOW = \"show\",\r\n        HIDE = \"hide\",\r\n        AFTER_HIDE = \"afterHide\",\r\n        NULL_VIEW = { enable: $.noop };\r\n\r\n    var Drawer = ui.View.extend({\r\n        init: function(element, options) {\r\n            // move the drawer to the top, in order to hide it\r\n            $(element).parent().prepend(element);\r\n\r\n            mobile.ui.Widget.fn.init.call(this, element, options);\r\n\r\n            if (!this.options.$angular) {\r\n                this._layout();\r\n                this._scroller();\r\n            }\r\n\r\n            this._model();\r\n\r\n            var pane = this.element.closest(roleSelector(\"pane\")).data(\"kendoMobilePane\"),\r\n                userEvents;\r\n\r\n            if (pane) {\r\n                this.pane = pane;\r\n                this.pane.bind(\"viewShow\", function(e) {\r\n                    drawer._viewShow(e);\r\n                });\r\n\r\n                this.pane.bind(\"sameViewRequested\", function() {\r\n                    drawer.hide();\r\n                });\r\n\r\n                userEvents = this.userEvents = new kendo.UserEvents(pane.element, {\r\n                    fastTap: true,\r\n                    filter: roleSelector(\"view splitview\"),\r\n                    allowSelection: true\r\n                });\r\n\r\n            } else {\r\n                this.currentView = NULL_VIEW;\r\n                var container = $(this.options.container);\r\n\r\n                if (!container) {\r\n                    throw new Error(\"The drawer needs a container configuration option set.\");\r\n                }\r\n\r\n                userEvents = this.userEvents = new kendo.UserEvents(container, { fastTap: true, allowSelection: true });\r\n                this._attachTransition(container);\r\n            }\r\n\r\n            var drawer = this;\r\n\r\n            var hide = function(e) {\r\n                if (drawer.visible) {\r\n                    drawer.hide();\r\n                    e.preventDefault();\r\n                }\r\n            };\r\n\r\n            if (this.options.swipeToOpen && SWIPE_TO_OPEN) {\r\n                userEvents.bind(\"press\", function() { drawer.transition.cancel(); });\r\n                userEvents.bind(\"start\", function(e) { drawer._start(e); });\r\n                userEvents.bind(\"move\", function(e) { drawer._update(e); });\r\n                userEvents.bind(\"end\", function(e) { drawer._end(e); });\r\n                userEvents.bind(\"tap\", hide);\r\n            } else {\r\n                userEvents.bind(\"press\", hide);\r\n            }\r\n\r\n            this.leftPositioned = this.options.position === \"left\";\r\n\r\n            this.visible = false;\r\n\r\n            this.element.hide().addClass(\"km-drawer\").addClass(this.leftPositioned ? \"km-left-drawer\" : \"km-right-drawer\");\r\n            this.trigger(INIT);\r\n        },\r\n\r\n        options: {\r\n            name: \"Drawer\",\r\n            position: \"left\",\r\n            views: [],\r\n            swipeToOpenViews: [],\r\n            swipeToOpen: true,\r\n            title: \"\",\r\n            container: null\r\n        },\r\n\r\n        events: [\r\n            BEFORE_SHOW,\r\n            HIDE,\r\n            AFTER_HIDE,\r\n            INIT,\r\n            SHOW\r\n        ],\r\n\r\n        show: function() {\r\n            if (this._activate()) {\r\n                this._show();\r\n            }\r\n        },\r\n\r\n        hide: function() {\r\n            if (!this.currentView) {\r\n                return;\r\n            }\r\n\r\n            this.currentView.enable();\r\n\r\n            Drawer.current = null;\r\n            this._moveViewTo(0);\r\n            this.trigger(HIDE, { view: this });\r\n        },\r\n\r\n        // Alias in order to support popover/modalview etc. interface\r\n        openFor: function() {\r\n            if (this.visible) {\r\n                this.hide();\r\n            } else {\r\n                this.show();\r\n            }\r\n        },\r\n\r\n        destroy: function() {\r\n            ui.View.fn.destroy.call(this);\r\n            this.userEvents.destroy();\r\n        },\r\n\r\n        _activate: function() {\r\n            if (this.visible) {\r\n                return true;\r\n            }\r\n\r\n            var visibleOnCurrentView = this._currentViewIncludedIn(this.options.views);\r\n\r\n            if (!visibleOnCurrentView || this.trigger(BEFORE_SHOW, { view: this })) {\r\n                return false;\r\n            }\r\n\r\n            this._setAsCurrent();\r\n            this.element.show();\r\n\r\n            this.trigger(SHOW, { view: this });\r\n            this._invokeNgController();\r\n            return true;\r\n        },\r\n\r\n        _currentViewIncludedIn: function(views) {\r\n            if (!this.pane || !views.length) {\r\n                return true;\r\n            }\r\n\r\n            var view = this.pane.view();\r\n            return $.inArray(view.id.replace('#', ''), views) > -1 || $.inArray(view.element.attr(\"id\"), views) > -1;\r\n        },\r\n\r\n        _show: function() {\r\n            this.currentView.enable(false);\r\n\r\n            this.visible = true;\r\n            var offset = this.element.width();\r\n\r\n            if (!this.leftPositioned) {\r\n                offset = -offset;\r\n            }\r\n\r\n            this._moveViewTo(offset);\r\n        },\r\n\r\n        _setAsCurrent: function() {\r\n            if (Drawer.last !== this) {\r\n                if (Drawer.last) {\r\n                    Drawer.last.element.hide();\r\n                }\r\n                this.element.show();\r\n            }\r\n\r\n            Drawer.last = this;\r\n            Drawer.current = this;\r\n        },\r\n\r\n        _moveViewTo: function(offset) {\r\n            this.userEvents.cancel();\r\n            this.transition.moveTo({ location: offset, duration: 400, ease: Transition.easeOutExpo });\r\n        },\r\n\r\n        _viewShow: function(e) {\r\n            if (this.currentView) {\r\n                this.currentView.enable();\r\n            }\r\n\r\n            if (this.currentView === e.view) {\r\n                this.hide();\r\n                return;\r\n            }\r\n\r\n            this.currentView = e.view;\r\n            this._attachTransition(e.view.element);\r\n        },\r\n\r\n        _attachTransition: function(element) {\r\n            var that = this,\r\n                movable = this.movable,\r\n                currentOffset = movable && movable.x;\r\n\r\n\r\n            if (this.transition) {\r\n                this.transition.cancel();\r\n                this.movable.moveAxis(\"x\", 0);\r\n            }\r\n\r\n            movable = this.movable = new kendo.ui.Movable(element);\r\n\r\n            this.transition = new Transition({\r\n                axis: AXIS,\r\n                movable: this.movable,\r\n                onEnd: function() {\r\n                    if (movable[AXIS] === 0) {\r\n                        element[0].style.cssText = \"\";\r\n                        that.element.hide();\r\n                        that.trigger(AFTER_HIDE);\r\n                        that.visible = false;\r\n                    }\r\n                }\r\n            });\r\n\r\n            if (currentOffset) {\r\n                element.addClass(\"k-fx-hidden\");\r\n                kendo.animationFrame(function() {\r\n                    element.removeClass(\"k-fx-hidden\");\r\n                    that.movable.moveAxis(AXIS, currentOffset);\r\n                    that.hide();\r\n                });\r\n            }\r\n        },\r\n\r\n        _start: function(e) {\r\n            var userEvents = e.sender;\r\n\r\n            // ignore non-horizontal swipes\r\n            if (Math.abs(e.x.velocity) < Math.abs(e.y.velocity) || kendo.triggeredByInput(e.event) || !this._currentViewIncludedIn(this.options.swipeToOpenViews)) {\r\n                userEvents.cancel();\r\n                return;\r\n            }\r\n\r\n            var leftPositioned = this.leftPositioned,\r\n                visible = this.visible,\r\n                canMoveLeft = leftPositioned && visible || !leftPositioned && !Drawer.current,\r\n                canMoveRight = !leftPositioned && visible || leftPositioned && !Drawer.current,\r\n                leftSwipe = e.x.velocity < 0;\r\n\r\n            if ((canMoveLeft && leftSwipe) || (canMoveRight && !leftSwipe)) {\r\n                if (this._activate()) {\r\n                    userEvents.capture();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            userEvents.cancel();\r\n        },\r\n\r\n        _update: function(e) {\r\n            var movable = this.movable,\r\n                newPosition = movable.x + e.x.delta,\r\n                limitedPosition;\r\n\r\n            if (this.leftPositioned) {\r\n                limitedPosition = Math.min(Math.max(0, newPosition), this.element.width());\r\n            } else {\r\n                limitedPosition = Math.max(Math.min(0, newPosition), -this.element.width());\r\n            }\r\n\r\n            this.movable.moveAxis(AXIS, limitedPosition);\r\n            e.event.preventDefault();\r\n            e.event.stopPropagation();\r\n        },\r\n\r\n        _end: function(e) {\r\n            var velocity = e.x.velocity,\r\n                pastHalf = Math.abs(this.movable.x) > this.element.width() / 2,\r\n                velocityThreshold = 0.8,\r\n                shouldShow;\r\n\r\n            if (this.leftPositioned) {\r\n                shouldShow = velocity > -velocityThreshold && (velocity > velocityThreshold || pastHalf);\r\n            } else {\r\n                shouldShow = velocity < velocityThreshold && (velocity < -velocityThreshold || pastHalf);\r\n            }\r\n\r\n            if(shouldShow) {\r\n                this._show();\r\n            } else {\r\n                this.hide();\r\n            }\r\n        }\r\n    });\r\n\r\n    ui.plugin(Drawer);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\n    define('kendo.mobile.splitview',[ \"./kendo.mobile.pane\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.splitview\",\n    name: \"SplitView\",\n    category: \"mobile\",\n    description: \"The mobile SplitView is a tablet-specific view that consists of two or more mobile Pane widgets.\",\n    depends: [ \"mobile.pane\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Widget = ui.Widget,\n        EXPANED_PANE_SHIM = \"<div class='km-expanded-pane-shim'></div>\",\n        View = ui.View;\n\n    var SplitView = View.extend({\n        init: function(element, options) {\n            var that = this,\n            pane, modalViews;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n\n            $.extend(that, options);\n\n            that._id();\n\n            if (!that.options.$angular) {\n                that._layout();\n                that._overlay();\n            } else {\n                that._overlay();\n            }\n\n            that._style();\n\n            modalViews = element.children(that._locate(\"modalview\"));\n\n            if (!that.options.$angular) {\n                kendo.mobile.init(modalViews);\n            } else {\n                modalViews.each(function(idx, element) {\n                    kendo.compileMobileDirective($(element), options.$angular[0]);\n                });\n            }\n\n            that.panes = [];\n            that._paramsHistory = [];\n\n            if (!that.options.$angular) {\n                that.content.children(kendo.roleSelector(\"pane\")).each(function() {\n                    pane = kendo.initWidget(this, {}, ui.roles);\n                    that.panes.push(pane);\n                });\n            } else {\n                that.element.children(kendo.directiveSelector(\"pane\")).each(function() {\n                    pane = kendo.compileMobileDirective($(this), options.$angular[0]);\n                    that.panes.push(pane);\n                });\n\n                that.element.children(kendo.directiveSelector(\"header footer\")).each(function() {\n                    kendo.compileMobileDirective($(this), options.$angular[0]);\n                });\n            }\n\n            that.expandedPaneShim = $(EXPANED_PANE_SHIM).appendTo(that.element);\n\n            that._shimUserEvents = new kendo.UserEvents(that.expandedPaneShim, {\n                fastTap: true,\n                tap: function() {\n                    that.collapsePanes();\n                }\n            });\n        },\n\n        _locate: function(selectors) {\n            return this.options.$angular ? kendo.directiveSelector(selectors) : kendo.roleSelector(selectors);\n        },\n\n        options: {\n            name: \"SplitView\",\n            style: \"horizontal\"\n        },\n\n        expandPanes: function() {\n            this.element.addClass(\"km-expanded-splitview\");\n        },\n\n        collapsePanes: function() {\n            this.element.removeClass(\"km-expanded-splitview\");\n        },\n\n        // Implement view interface\n        _layout: function() {\n            var that = this,\n                element = that.element;\n\n            that.transition = kendo.attrValue(element, \"transition\");\n            kendo.mobile.ui.View.prototype._layout.call(this);\n            kendo.mobile.init(this.header.add(this.footer));\n            that.element.addClass(\"km-splitview\");\n            that.content.addClass(\"km-split-content\");\n        },\n\n        _style: function () {\n            var style = this.options.style,\n                element = this.element,\n                styles;\n\n            if (style) {\n                styles = style.split(\" \");\n                $.each(styles, function () {\n                    element.addClass(\"km-split-\" + this);\n                });\n            }\n        },\n\n        showStart: function() {\n            var that = this;\n            that.element.css(\"display\", \"\");\n\n            if (!that.inited) {\n                that.inited = true;\n                $.each(that.panes, function() {\n                    if (this.options.initial) {\n                        this.navigateToInitial();\n                    } else {\n                        this.navigate(\"\");\n                    }\n                });\n                that.trigger(\"init\", {view: that});\n            } else {\n                this._invokeNgController();\n            }\n\n            that.trigger(\"show\", {view: that});\n        }\n    });\n\n    ui.plugin(SplitView);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.application',[ \"./kendo.mobile.pane\", \"./kendo.router\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.application\",\n    name: \"Application\",\n    category: \"mobile\",\n    description: \"The Mobile application provides a framework to build native looking web applications on mobile devices.\",\n    depends: [ \"mobile.pane\", \"router\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        support = kendo.support,\n        Widget = mobile.ui.Widget,\n        Pane = mobile.ui.Pane,\n\n        DEFAULT_OS = \"ios7\",\n        OS = support.mobileOS,\n        BERRYPHONEGAP = OS.device == \"blackberry\" && OS.flatVersion >= 600 && OS.flatVersion < 1000 && OS.appMode,\n        FONT_SIZE_COEF = 0.93,\n        VERTICAL = \"km-vertical\",\n        CHROME =  OS.browser === \"chrome\",\n        BROKEN_WEBVIEW_RESIZE = OS.ios && OS.flatVersion >= 700 && OS.flatVersion < 800 && (OS.appMode || CHROME),\n        INITIALLY_HORIZONTAL = (Math.abs(window.orientation) / 90 == 1),\n        HORIZONTAL = \"km-horizontal\",\n\n        MOBILE_PLATFORMS = {\n            ios7: { ios: true, browser: \"default\", device: \"iphone\", flatVersion: \"700\", majorVersion: \"7\", minorVersion: \"0.0\", name: \"ios\", tablet: false },\n            ios: { ios: true, browser: \"default\", device: \"iphone\", flatVersion: \"612\", majorVersion: \"6\", minorVersion: \"1.2\", name: \"ios\", tablet: false },\n            android: { android: true, browser: \"default\", device: \"android\", flatVersion: \"442\", majorVersion: \"4\", minorVersion: \"4.2\", name: \"android\", tablet: false },\n            blackberry: { blackberry: true, browser: \"default\", device: \"blackberry\", flatVersion: \"710\", majorVersion: \"7\", minorVersion: \"1.0\", name: \"blackberry\", tablet: false },\n            meego: { meego: true, browser: \"default\", device: \"meego\", flatVersion: \"850\", majorVersion: \"8\", minorVersion: \"5.0\", name: \"meego\", tablet: false },\n            wp: { wp: true, browser: \"default\", device: \"wp\", flatVersion: \"800\", majorVersion: \"8\", minorVersion: \"0.0\", name: \"wp\", tablet: false }\n        },\n\n        viewportTemplate = kendo.template('<meta content=\"initial-scale=#: data.scale #, maximum-scale=#: data.scale #, user-scalable=no#=data.height#\" name=\"viewport\" />', {usedWithBlock: false}),\n        systemMeta = kendo.template('<meta name=\"apple-mobile-web-app-capable\" content=\"#= data.webAppCapable === false ? \\'no\\' : \\'yes\\' #\" /> ' +\n                     '<meta name=\"apple-mobile-web-app-status-bar-style\" content=\"#=data.statusBarStyle#\" /> ' +\n                     '<meta name=\"msapplication-tap-highlight\" content=\"no\" /> ', {usedWithBlock: false}),\n        clipTemplate = kendo.template('<style>.km-view { clip: rect(0 #= data.width #px #= data.height #px 0); }</style>', {usedWithBlock: false}),\n        ENABLE_CLIP = OS.android && OS.browser != \"chrome\" || OS.blackberry,\n\n        iconMeta = kendo.template('<link rel=\"apple-touch-icon' + (OS.android ? '-precomposed' : '') + '\" # if(data.size) { # sizes=\"#=data.size#\" #}# href=\"#=data.icon#\" />', {usedWithBlock: false}),\n\n        HIDEBAR = (OS.device == \"iphone\" || OS.device == \"ipod\") && OS.majorVersion < 7,\n        SUPPORT_SWIPE_TO_GO_BACK = (OS.device == \"iphone\" || OS.device == \"ipod\") && OS.majorVersion >= 7,\n        HISTORY_TRANSITION = SUPPORT_SWIPE_TO_GO_BACK ? \"none\" : null,\n        BARCOMPENSATION = OS.browser == \"mobilesafari\" ? 60 : 0,\n        STATUS_BAR_HEIGHT = 20,\n        WINDOW = $(window),\n        SCREEN = window.screen,\n        HEAD = $(\"head\"),\n\n        // mobile app events\n        INIT = \"init\",\n        proxy = $.proxy;\n\n    function osCssClass(os, options) {\n        var classes = [];\n\n        if (OS) {\n            classes.push(\"km-on-\" + OS.name);\n        }\n\n        if (os.skin) {\n            classes.push(\"km-\" + os.skin);\n        } else {\n            if (os.name == \"ios\" && os.majorVersion > 6) {\n                classes.push(\"km-ios7\");\n            } else {\n                classes.push(\"km-\" + os.name);\n            }\n        }\n        if ((os.name == \"ios\" && os.majorVersion < 7) || os.name != \"ios\") {\n            classes.push(\"km-\" + os.name + os.majorVersion);\n        }\n        classes.push(\"km-\" + os.majorVersion);\n        classes.push(\"km-m\" + (os.minorVersion ? os.minorVersion[0] : 0));\n\n        if (os.variant && ((os.skin && os.skin === os.name) || !os.skin || os.setDefaultPlatform === false)) {\n            classes.push(\"km-\" + (os.skin ? os.skin : os.name) + \"-\" + os.variant);\n        }\n\n        if (os.cordova) {\n            classes.push(\"km-cordova\");\n        }\n        if (os.appMode) {\n            classes.push(\"km-app\");\n        } else {\n            classes.push(\"km-web\");\n        }\n\n        if (options && options.statusBarStyle) {\n            classes.push(\"km-\" + options.statusBarStyle + \"-status-bar\");\n        }\n\n        return classes.join(\" \");\n    }\n\n    function wp8Background(os) {\n        return 'km-wp-' + (os.noVariantSet ?\n                            (parseInt($(\"<div style='background: Background' />\").css(\"background-color\").split(\",\")[1], 10) === 0 ? 'dark' : 'light') :\n                            os.variant + \" km-wp-\" + os.variant + \"-force\");\n    }\n\n    function isOrientationHorizontal(element) {\n        return OS.wp ? element.css(\"animation-name\") == \"-kendo-landscape\" : (Math.abs(window.orientation) / 90 == 1);\n    }\n\n    function getOrientationClass(element) {\n        return isOrientationHorizontal(element) ? HORIZONTAL : VERTICAL;\n    }\n\n    function setMinimumHeight(pane) {\n        pane.parent().addBack()\n               .css(\"min-height\", window.innerHeight);\n    }\n\n    function applyViewportHeight() {\n        $(\"meta[name=viewport]\").remove();\n            HEAD.append(viewportTemplate({\n            height: \", width=device-width\" +  // width=device-width was removed for iOS6, but this should stay for BB PhoneGap.\n                        (isOrientationHorizontal() ?\n                            \", height=\" + window.innerHeight + \"px\"  :\n                            (support.mobileOS.flatVersion >= 600 && support.mobileOS.flatVersion < 700) ?\n                                \", height=\" + window.innerWidth + \"px\" :\n                                \", height=device-height\")\n        }));\n    }\n\n    var Application = Widget.extend({\n        init: function(element, options) {\n            // global reference to current application\n            mobile.application = this;\n            $($.proxy(this, 'bootstrap', element, options));\n        },\n\n        bootstrap: function(element, options) {\n            element = $(element);\n\n            if (!element[0]) {\n                element = $(document.body);\n            }\n\n            Widget.fn.init.call(this, element, options);\n            this.element.removeAttr(\"data-\" + kendo.ns + \"role\");\n\n            this._setupPlatform();\n            this._attachMeta();\n            this._setupElementClass();\n            this._attachHideBarHandlers();\n            var paneOptions = $.extend({}, this.options);\n            delete paneOptions.name;\n\n            var that = this,\n                startHistory = function() {\n                    that.pane = new Pane(that.element, paneOptions);\n                    that.pane.navigateToInitial();\n\n                    if (that.options.updateDocumentTitle) {\n                        that._setupDocumentTitle();\n                    }\n\n                    that._startHistory();\n                    that.trigger(INIT);\n                };\n\n            if (this.options.$angular) {\n                setTimeout(startHistory);\n            } else {\n                startHistory();\n            }\n        },\n\n        options: {\n            name: \"Application\",\n            hideAddressBar: true,\n            browserHistory: true,\n            historyTransition: HISTORY_TRANSITION,\n            modelScope: window,\n            statusBarStyle: \"black\",\n            transition: \"\",\n            retina: false,\n            platform: null,\n            skin: null,\n            updateDocumentTitle: true,\n            useNativeScrolling: false\n        },\n\n        events: [\n            INIT\n        ],\n\n        navigate: function(url, transition) {\n            this.pane.navigate(url, transition);\n        },\n\n        replace: function(url, transition) {\n            this.pane.replace(url, transition);\n        },\n\n        scroller: function() {\n            return this.view().scroller;\n        },\n\n        hideLoading: function() {\n            if (this.pane) {\n                this.pane.hideLoading();\n            } else {\n                throw new Error(\"The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.\");\n            }\n        },\n\n        showLoading: function() {\n            if (this.pane) {\n                this.pane.showLoading();\n            } else {\n                throw new Error(\"The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.\");\n            }\n        },\n\n        changeLoadingMessage: function(message) {\n            if (this.pane) {\n                this.pane.changeLoadingMessage(message);\n            } else {\n                throw new Error(\"The mobile application instance is not fully instantiated. Please consider changing the message in the application init event handler.\");\n            }\n        },\n\n        view: function() {\n            return this.pane.view();\n        },\n\n        skin: function(skin) {\n            var that = this;\n\n            if (!arguments.length) {\n                return that.options.skin;\n            }\n\n            that.options.skin = skin || \"\";\n            that.element[0].className = \"km-pane\";\n            that._setupPlatform();\n            that._setupElementClass();\n\n            return that.options.skin;\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.pane.destroy();\n            if (this.options.browserHistory) {\n                this.router.destroy();\n            }\n        },\n\n        _setupPlatform: function() {\n            var that = this,\n                platform = that.options.platform,\n                skin = that.options.skin,\n                split = [],\n                os = OS || MOBILE_PLATFORMS[DEFAULT_OS];\n\n            if (platform) {\n                os.setDefaultPlatform = true;\n                if (typeof platform === \"string\") {\n                    split = platform.split(\"-\");\n                    os = $.extend({ variant: split[1] }, os, MOBILE_PLATFORMS[split[0]]);\n                } else {\n                    os = platform;\n                }\n            }\n\n            if (skin) {\n                split = skin.split(\"-\");\n                if (!OS) {\n                    os.setDefaultPlatform = false;\n                }\n                os = $.extend({}, os, { skin: split[0], variant: split[1] });\n            }\n\n            if (!os.variant) {\n                os.noVariantSet = true;\n                os.variant = \"dark\";\n            }\n\n            that.os = os;\n\n            that.osCssClass = osCssClass(that.os, that.options);\n\n            if (os.name == \"wp\") {\n                if (!that.refreshBackgroundColorProxy) {\n                    that.refreshBackgroundColorProxy = $.proxy(function () {\n                        if (that.os.variant && (that.os.skin && that.os.skin === that.os.name) || !that.os.skin) {\n                            that.element.removeClass(\"km-wp-dark km-wp-light km-wp-dark-force km-wp-light-force\").addClass(wp8Background(that.os));\n                        }\n                    }, that);\n                }\n\n                $(document).off(\"visibilitychange\", that.refreshBackgroundColorProxy);\n                $(document).off(\"resume\", that.refreshBackgroundColorProxy);\n\n                if (!os.skin) {\n                    that.element.parent().css(\"overflow\", \"hidden\");\n\n                    $(document).on(\"visibilitychange\", that.refreshBackgroundColorProxy); // Restore theme on browser focus (using the Visibility API).\n                    $(document).on(\"resume\", that.refreshBackgroundColorProxy); // PhoneGap fires resume.\n\n                    that.refreshBackgroundColorProxy();\n                }\n            }\n        },\n\n        _startHistory: function() {\n            if (this.options.browserHistory) {\n                this.router = new kendo.Router({ pushState: this.options.pushState, root: this.options.root, hashBang: this.options.hashBang });\n                this.pane.bindToRouter(this.router);\n                this.router.start();\n            } else {\n                if (!this.options.initial) {\n                    this.pane.navigate(\"\");\n                }\n            }\n        },\n\n        _resizeToScreenHeight: function() {\n            var includeStatusBar = $(\"meta[name=apple-mobile-web-app-status-bar-style]\").attr(\"content\").match(/black-translucent|hidden/),\n                element = this.element,\n                height;\n\n            if (CHROME) {\n                height = window.innerHeight;\n            } else {\n                if (isOrientationHorizontal(element)) {\n                    if (includeStatusBar) {\n                        if (INITIALLY_HORIZONTAL) {\n                            height = SCREEN.availWidth + STATUS_BAR_HEIGHT;\n                        } else {\n                            height = SCREEN.availWidth;\n                        }\n                    } else {\n                        if (INITIALLY_HORIZONTAL) {\n                            height = SCREEN.availWidth;\n                        } else {\n                            height = SCREEN.availWidth - STATUS_BAR_HEIGHT;\n                        }\n                    }\n                } else {\n                    if (includeStatusBar) {\n                        if (INITIALLY_HORIZONTAL) {\n                            height = SCREEN.availHeight;\n                        } else {\n                            height = SCREEN.availHeight + STATUS_BAR_HEIGHT;\n                        }\n                    } else {\n                        if (INITIALLY_HORIZONTAL) {\n                            height = SCREEN.availHeight - STATUS_BAR_HEIGHT;\n                        } else {\n                            height = SCREEN.availHeight;\n                        }\n                    }\n                }\n            }\n\n            element.height(height);\n        },\n\n        _setupElementClass: function() {\n            var that = this, size,\n                element = that.element;\n\n            element.parent().addClass(\"km-root km-\" + (that.os.tablet ? \"tablet\" : \"phone\"));\n            element.addClass(that.osCssClass + \" \" + getOrientationClass(element));\n            if (this.options.useNativeScrolling) {\n                element.parent().addClass(\"km-native-scrolling\");\n            }\n\n            if (CHROME) {\n                element.addClass(\"km-ios-chrome\");\n            }\n\n            if (support.wpDevicePixelRatio) {\n                element.parent().css(\"font-size\", support.wpDevicePixelRatio + \"em\");\n            }\n\n            if (this.options.retina) {\n                element.parent().addClass(\"km-retina\");\n                element.parent().css(\"font-size\", (support.devicePixelRatio * FONT_SIZE_COEF) + \"em\");\n            }\n\n            if (BERRYPHONEGAP) {\n                applyViewportHeight();\n            }\n            if (that.options.useNativeScrolling) {\n                element.parent().addClass(\"km-native-scrolling\");\n            } else if (ENABLE_CLIP) {\n                size = (screen.availWidth > screen.availHeight ? screen.availWidth : screen.availHeight) + 200;\n                $(clipTemplate({ width: size, height: size })).appendTo(HEAD);\n            }\n\n            if (BROKEN_WEBVIEW_RESIZE) {\n                that._resizeToScreenHeight();\n            }\n\n            kendo.onResize(function() {\n                element\n                    .removeClass(\"km-horizontal km-vertical\")\n                    .addClass(getOrientationClass(element));\n\n                if (that.options.useNativeScrolling) {\n                    setMinimumHeight(element);\n                }\n\n                if (BROKEN_WEBVIEW_RESIZE) {\n                    that._resizeToScreenHeight();\n                }\n\n                if (BERRYPHONEGAP) {\n                    applyViewportHeight();\n                }\n\n                kendo.resize(element);\n            });\n        },\n\n        _clearExistingMeta: function() {\n            HEAD.find(\"meta\")\n                .filter(\"[name|='apple-mobile-web-app'],[name|='msapplication-tap'],[name='viewport']\")\n                .remove();\n        },\n\n        _attachMeta: function() {\n            var options = this.options,\n                icon = options.icon, size;\n\n            this._clearExistingMeta();\n\n            if (!BERRYPHONEGAP) {\n                HEAD.prepend(viewportTemplate({ height: \"\", scale : this.options.retina ? 1 / support.devicePixelRatio : \"1.0\" }));\n            }\n\n            HEAD.prepend(systemMeta(options));\n\n            if (icon) {\n                if (typeof icon === \"string\") {\n                    icon = { \"\" : icon };\n                }\n\n                for(size in icon) {\n                    HEAD.prepend(iconMeta({ icon: icon[size], size: size }));\n                }\n            }\n\n            if (options.useNativeScrolling) {\n                setMinimumHeight(this.element);\n            }\n        },\n\n        _attachHideBarHandlers: function() {\n            var that = this,\n                hideBar = proxy(that, \"_hideBar\");\n\n            if (support.mobileOS.appMode || !that.options.hideAddressBar || !HIDEBAR || that.options.useNativeScrolling) {\n                return;\n            }\n\n            that._initialHeight = {};\n\n            WINDOW.on(\"load\", hideBar);\n\n            kendo.onResize(function() {\n                setTimeout(window.scrollTo, 0, 0, 1);\n            });\n        },\n\n        _setupDocumentTitle: function() {\n            var that = this,\n                defaultTitle = document.title;\n\n            that.pane.bind(\"viewShow\", function(e) {\n                var title = e.view.title;\n                document.title = title !== undefined ? title : defaultTitle;\n            });\n        },\n\n        _hideBar: function() {\n            var that = this,\n                element = that.element;\n\n            element.height(kendo.support.transforms.css + \"calc(100% + \" + BARCOMPENSATION + \"px)\");\n            $(window).trigger(kendo.support.resize);\n        }\n    });\n\n    kendo.mobile.Application = Application;\n    kendo.ui.plugin(Application, kendo.mobile, 'Mobile');\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.actionsheet',[ \"./kendo.mobile.popover\", \"./kendo.mobile.shim\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.actionsheet\",\n    name: \"ActionSheet\",\n    category: \"mobile\",\n    description: \"The mobile ActionSheet widget displays a set of choices related to a task the user initiates.\",\n    depends: [ \"mobile.popover\", \"mobile.shim\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        ui = kendo.mobile.ui,\n        Shim = ui.Shim,\n        Popup = ui.Popup,\n        Widget = ui.Widget,\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        COMMAND = \"command\",\n        BUTTONS = \"li>a\",\n        CONTEXT_DATA = \"actionsheetContext\",\n        WRAP = '<div class=\"km-actionsheet-wrapper\"></div>',\n        cancelTemplate = kendo.template('<li class=\"km-actionsheet-cancel\"><a href=\"\\\\#\">#:cancel#</a></li>');\n\n    var ActionSheet = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                ShimClass,\n                tablet,\n                type,\n                os = support.mobileOS;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n            type = options.type;\n            element = that.element;\n\n            if (type === \"auto\") {\n                tablet = os && os.tablet;\n            } else {\n                tablet = type === \"tablet\";\n            }\n\n            ShimClass = tablet ? Popup : Shim;\n\n            if (options.cancelTemplate) {\n                cancelTemplate = kendo.template(options.cancelTemplate);\n            }\n\n            element\n                .addClass(\"km-actionsheet\")\n                .append(cancelTemplate({cancel: that.options.cancel}))\n                .wrap(WRAP)\n                .on(\"up\", BUTTONS, \"_click\")\n                .on(\"click\", BUTTONS, kendo.preventDefault);\n\n            that.view().bind(\"destroy\", function() {\n                that.destroy();\n            });\n\n            that.wrapper = element.parent().addClass(type ? \" km-actionsheet-\" + type : \"\");\n\n            that.shim = new ShimClass(that.wrapper, $.extend({modal: os.ios && os.majorVersion < 7, className: \"km-actionsheet-root\"}, that.options.popup) );\n\n            that._closeProxy = $.proxy(that, \"_close\");\n            that._shimHideProxy = $.proxy(that, \"_shimHide\");\n            that.shim.bind(\"hide\", that._shimHideProxy);\n\n            if (tablet) {\n                kendo.onResize(that._closeProxy);\n            }\n\n            kendo.notify(that, ui);\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            COMMAND\n        ],\n\n        options: {\n            name: \"ActionSheet\",\n            cancel: \"Cancel\",\n            type: \"auto\",\n            popup: { height: \"auto\" }\n        },\n\n        open: function(target, context) {\n            var that = this;\n            that.target = $(target);\n            that.context = context;\n            that.shim.show(target);\n        },\n\n        close: function() {\n            this.context = this.target = null;\n            this.shim.hide();\n        },\n\n        openFor: function(target) {\n            var that = this,\n                context = target.data(CONTEXT_DATA);\n\n            that.open(target, context);\n            that.trigger(OPEN, { target: target, context: context });\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            kendo.unbindResize(this._closeProxy);\n            this.shim.destroy();\n        },\n\n        _click: function(e) {\n            if (e.isDefaultPrevented()) {\n                return;\n            }\n\n            var currentTarget = $(e.currentTarget);\n            var action = currentTarget.data(\"action\");\n\n            if (action) {\n                var actionData = {\n                    target: this.target,\n                    context: this.context\n                },\n                $angular = this.options.$angular;\n\n                if ($angular) {\n                    this.element.injector().get(\"$parse\")(action)($angular[0])(actionData);\n                } else {\n                    kendo.getter(action)(window)(actionData);\n                }\n            }\n\n            this.trigger(COMMAND, { target: this.target, context: this.context, currentTarget: currentTarget });\n\n            e.preventDefault();\n            this._close();\n        },\n\n        _shimHide: function(e) {\n            if (!this.trigger(CLOSE)) {\n                this.context = this.target = null;\n            } else {\n                e.preventDefault();\n            }\n        },\n\n        _close: function(e) {\n            if (!this.trigger(CLOSE)) {\n                this.close();\n            } else {\n                e.preventDefault();\n            }\n        }\n    });\n\n    ui.plugin(ActionSheet);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.button',[ \"./kendo.userevents\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.button\",\n    name: \"Button\",\n    category: \"mobile\",\n    description: \"The Button widget navigates between mobile Application views when pressed.\",\n    depends: [ \"userevents\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        Widget = ui.Widget,\n        support = kendo.support,\n        os = support.mobileOS,\n        ANDROID3UP = os.android && os.flatVersion >= 300,\n        CLICK = \"click\",\n        DISABLED = \"disabled\",\n        DISABLEDSTATE = \"km-state-disabled\";\n\n    function highlightButton(widget, event, highlight) {\n        $(event.target).closest(\".km-button,.km-detail\").toggleClass(\"km-state-active\", highlight);\n\n        if (ANDROID3UP && widget.deactivateTimeoutID) {\n            clearTimeout(widget.deactivateTimeoutID);\n            widget.deactivateTimeoutID = 0;\n        }\n    }\n\n    function createBadge(value) {\n        return $('<span class=\"km-badge\">' + value + '</span>');\n    }\n\n    var Button = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            var useTap = that.options.clickOn === \"up\";\n\n            that._wrap();\n            that._style();\n\n            if (!useTap) {\n                that.element.attr(\"data-navigate-on-press\", true);\n            }\n\n            that.options.enable = that.options.enable && !that.element.attr(DISABLED);\n            that.enable(that.options.enable);\n\n            that._userEvents = new kendo.UserEvents(that.element, {\n                allowSelection: !useTap,\n                fastTap: true,\n                press: function(e) {\n                    that._activate(e);\n                },\n                release: function(e) {\n                    highlightButton(that, e, false);\n                    if (!useTap) { e.event.stopPropagation(); }\n                }\n            });\n\n            that._userEvents.bind(useTap ? \"tap\" : \"press\", function(e) {\n                that._release(e);\n            });\n\n\n            if (ANDROID3UP) {\n                that.element.on(\"move\", function(e) { that._timeoutDeactivate(e); });\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this._userEvents.destroy();\n        },\n\n        events: [\n            CLICK\n        ],\n\n        options: {\n            name: \"Button\",\n            icon: \"\",\n            style: \"\",\n            badge: \"\",\n            clickOn: \"up\",\n            enable: true\n        },\n\n        badge: function (value) {\n            var badge = this.badgeElement = this.badgeElement || createBadge(value).appendTo(this.element);\n\n            if (value || value === 0) {\n                badge.html(value);\n                return this;\n            }\n\n            if (value === false) {\n                badge.empty().remove();\n                this.badgeElement = false;\n                return this;\n            }\n\n            return badge.html();\n        },\n\n        enable: function(enable) {\n            var element = this.element;\n\n            if(typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            this.options.enable = enable;\n\n            if(enable) {\n                element.prop(DISABLED, false);\n            } else {\n                element.attr(DISABLED, DISABLED);\n            }\n\n            element.toggleClass(DISABLEDSTATE, !enable);\n        },\n\n        _timeoutDeactivate: function(e) {\n            if (!this.deactivateTimeoutID) {\n                this.deactivateTimeoutID = setTimeout(highlightButton, 500, this, e, false);\n            }\n        },\n\n        _activate: function(e) {\n            var activeElement = document.activeElement,\n                nodeName = activeElement ? activeElement.nodeName : \"\";\n\n            if(this.options.enable) {\n                highlightButton(this, e, true);\n\n                if (nodeName == \"INPUT\" || nodeName == \"TEXTAREA\") {\n                    activeElement.blur(); // Hide device keyboard\n                }\n            }\n        },\n\n        _release: function(e) {\n            var that = this;\n\n            if (e.which > 1) {\n                return;\n            }\n\n            if(!that.options.enable) {\n                e.preventDefault();\n                return;\n            }\n\n            if (that.trigger(CLICK, {target: $(e.target), button: that.element})) {\n                e.preventDefault();\n            }\n        },\n\n        _style: function() {\n            var style = this.options.style,\n                element = this.element,\n                styles;\n\n            if (style) {\n                styles = style.split(\" \");\n                $.each(styles, function() {\n                    element.addClass(\"km-\" + this);\n                });\n            }\n        },\n\n        _wrap: function() {\n            var that = this,\n                icon = that.options.icon,\n                badge = that.options.badge,\n                iconSpan = '<span class=\"km-icon km-' + icon,\n                element = that.element.addClass(\"km-button\"),\n                span = element.children(\"span:not(.km-icon)\").addClass(\"km-text\"),\n                image = element.find(\"img\").addClass(\"km-image\");\n\n            if (!span[0] && element.html()) {\n                span = element.wrapInner('<span class=\"km-text\" />').children(\"span.km-text\");\n            }\n\n            if (!image[0] && icon) {\n                if (!span[0]) {\n                    iconSpan += \" km-notext\";\n                }\n                that.iconElement = element.prepend($(iconSpan + '\" />'));\n            }\n\n            if (badge || badge === 0) {\n                that.badgeElement = createBadge(badge).appendTo(element);\n            }\n        }\n    });\n\n    var BackButton = Button.extend({\n        options: {\n            name: \"BackButton\",\n            style: \"back\"\n        },\n\n        init: function(element, options) {\n            var that = this;\n            Button.fn.init.call(that, element, options);\n\n            if (typeof that.element.attr(\"href\") === \"undefined\") {\n                that.element.attr(\"href\", \"#:back\");\n            }\n        }\n    });\n\n    var DetailButton = Button.extend({\n        options: {\n            name: \"DetailButton\",\n            style: \"\"\n        },\n\n        init: function(element, options) {\n            Button.fn.init.call(this, element, options);\n        },\n\n        _style: function() {\n            var style = this.options.style + \" detail\",\n                element = this.element;\n\n            if (style) {\n                var styles = style.split(\" \");\n                $.each(styles, function() {\n                    element.addClass(\"km-\" + this);\n                });\n            }\n        },\n\n        _wrap: function() {\n            var that = this,\n                icon = that.options.icon,\n                iconSpan = '<span class=\"km-icon km-' + icon,\n                element = that.element,\n                span = element.children(\"span\"),\n                image = element.find(\"img\").addClass(\"km-image\");\n\n            if (!image[0] && icon) {\n                if (!span[0]) {\n                    iconSpan += \" km-notext\";\n                }\n                element.prepend($(iconSpan + '\" />'));\n            }\n        }\n\n    });\n\n    ui.plugin(Button);\n    ui.plugin(BackButton);\n    ui.plugin(DetailButton);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\r\n    define('kendo.mobile.buttongroup',[ \"./kendo.core\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"mobile.buttongroup\",\r\n    name: \"ButtonGroup\",\r\n    category: \"mobile\",\r\n    description: \"The Kendo mobile ButtonGroup widget is a linear set of grouped buttons.\",\r\n    depends: [ \"core\" ]\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        ui = kendo.mobile.ui,\r\n        Widget = ui.Widget,\r\n        ACTIVE = \"state-active\",\r\n        DISABLE = \"state-disabled\",\r\n        SELECT = \"select\",\r\n        SELECTOR = \"li:not(.km-\" + ACTIVE +\")\";\r\n\r\n    function className(name) {\r\n        return \"k-\" + name + \" km-\" + name;\r\n    }\r\n\r\n    function createBadge(value) {\r\n        return $('<span class=\"' + className(\"badge\") + '\">' + value + '</span>');\r\n    }\r\n\r\n    var ButtonGroup = Widget.extend({\r\n        init: function(element, options) {\r\n            var that = this;\r\n\r\n            Widget.fn.init.call(that, element, options);\r\n\r\n            that.element.addClass(\"km-buttongroup k-widget k-button-group\").find(\"li\").each(that._button);\r\n\r\n            that.element.on(that.options.selectOn, SELECTOR, \"_select\");\r\n\r\n            that._enable = true;\r\n            that.select(that.options.index);\r\n\r\n            if(!that.options.enable) {\r\n                that._enable = false;\r\n                that.wrapper.addClass(className(DISABLE));\r\n            }\r\n        },\r\n\r\n        events: [\r\n            SELECT\r\n        ],\r\n\r\n        options: {\r\n            name: \"ButtonGroup\",\r\n            selectOn: \"down\",\r\n            index: -1,\r\n            enable: true\r\n        },\r\n\r\n        current: function() {\r\n            return this.element.find(\".km-\" + ACTIVE);\r\n        },\r\n\r\n        select: function (li) {\r\n            var that = this,\r\n                index = -1;\r\n\r\n            if (li === undefined || li === -1 || !that._enable || $(li).is(\".km-\" + DISABLE)) {\r\n                return;\r\n            }\r\n\r\n            that.current().removeClass(className(ACTIVE));\r\n\r\n            if (typeof li === \"number\") {\r\n                index = li;\r\n                li = $(that.element[0].children[li]);\r\n            } else if (li.nodeType) {\r\n                li = $(li);\r\n                index = li.index();\r\n            }\r\n\r\n            li.addClass(className(ACTIVE));\r\n            that.selectedIndex = index;\r\n        },\r\n\r\n        badge: function(item, value) {\r\n            var buttongroup = this.element, badge;\r\n\r\n            if (!isNaN(item)) {\r\n                item = buttongroup.children().get(item);\r\n            }\r\n\r\n            item = buttongroup.find(item);\r\n            badge = $(item.children(\".km-badge\")[0] || createBadge(value).appendTo(item));\r\n\r\n            if (value || value === 0) {\r\n                badge.html(value);\r\n                return this;\r\n            }\r\n\r\n            if (value === false) {\r\n                badge.empty().remove();\r\n                return this;\r\n            }\r\n\r\n            return badge.html();\r\n        },\r\n\r\n        enable: function(enable) {\r\n            if(typeof enable == \"undefined\") {\r\n                enable = true;\r\n            }\r\n\r\n            this.wrapper.toggleClass(className(DISABLE), !enable);\r\n\r\n            this._enable = this.options.enable = enable;\r\n        },\r\n\r\n        _button: function() {\r\n            var button = $(this).addClass(className(\"button\")),\r\n                icon = kendo.attrValue(button, \"icon\"),\r\n                badge = kendo.attrValue(button, \"badge\"),\r\n                span = button.children(\"span\"),\r\n                image = button.find(\"img\").addClass(className(\"image\"));\r\n\r\n            if (!span[0]) {\r\n                span = button.wrapInner(\"<span/>\").children(\"span\");\r\n            }\r\n\r\n            span.addClass(className(\"text\"));\r\n\r\n            if (!image[0] && icon) {\r\n                button.prepend($('<span class=\"' + className(\"icon\") + ' ' + className(icon) + '\"/>'));\r\n            }\r\n\r\n            if (badge || badge === 0) {\r\n                createBadge(badge).appendTo(button);\r\n            }\r\n        },\r\n\r\n        _select: function(e) {\r\n            if (e.which > 1 || e.isDefaultPrevented() || !this._enable) {\r\n                return;\r\n            }\r\n\r\n            this.select(e.currentTarget);\r\n            this.trigger(SELECT, { index: this.selectedIndex });\r\n        }\r\n    });\r\n\r\n    ui.plugin(ButtonGroup);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\r\n    define('kendo.mobile.collapsible',[ \"./kendo.core\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"mobile.collapsible\",\r\n    name: \"Collapsible\",\r\n    category: \"mobile\",\r\n    description: \"The Kendo mobile Collapsible widget provides ability for creating collapsible blocks of content.\",\r\n    depends: [ \"core\", \"userevents\" ]\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        ui = kendo.mobile.ui,\r\n        Widget = ui.Widget,\r\n        COLLAPSIBLE = \"km-collapsible\",\r\n        HEADER = \"km-collapsible-header\",\r\n        CONTENT = \"km-collapsible-content\",\r\n        INSET = \"km-collapsibleinset\",\r\n        HEADER_WRAPPER = \"<div data-role='collapsible-header' class='\" + HEADER + \"'></div>\",\r\n        CONTENT_WRAPPER = \"<div data-role='collapsible-content' class='\" + CONTENT + \"'></div>\",\r\n\r\n        COLLAPSED = \"km-collapsed\",\r\n        EXPANDED = \"km-expanded\",\r\n        ANIMATED = \"km-animated\",\r\n\r\n        //icon position\r\n        LEFT = \"left\",\r\n\r\n        //events\r\n        EXAPND = \"expand\",\r\n        COLLAPSE = \"collapse\";\r\n\r\n    var Collapsible = Widget.extend({\r\n        init: function(element, options) {\r\n            var that = this,\r\n                container = $(element);\r\n\r\n            Widget.fn.init.call(that, container, options);\r\n\r\n            container.addClass(COLLAPSIBLE);\r\n\r\n            that._buildHeader();\r\n            that.content = container.children().not(that.header).wrapAll(CONTENT_WRAPPER).parent();\r\n\r\n            that._userEvents = new kendo.UserEvents(that.header, {\r\n                fastTap: true,\r\n                tap: function() { that.toggle(); }\r\n            });\r\n\r\n            container.addClass(that.options.collapsed ? COLLAPSED : EXPANDED);\r\n\r\n            if (that.options.inset) {\r\n                container.addClass(INSET);\r\n            }\r\n\r\n            if (that.options.animation) {\r\n                that.content.addClass(ANIMATED);\r\n                that.content.height(0);\r\n                if (that.options.collapsed) {\r\n                    that.content.hide();\r\n                }\r\n            } else if (that.options.collapsed) {\r\n                that.content.hide();\r\n            }\r\n        },\r\n\r\n        events: [\r\n            EXAPND,\r\n            COLLAPSE\r\n        ],\r\n\r\n        options: {\r\n            name: \"Collapsible\",\r\n            collapsed: true,\r\n            collapseIcon: \"arrow-n\",\r\n            expandIcon: \"arrow-s\",\r\n            iconPosition: LEFT,\r\n            animation: true,\r\n            inset: false\r\n        },\r\n\r\n        destroy: function() {\r\n            Widget.fn.destroy.call(this);\r\n            this._userEvents.destroy();\r\n        },\r\n\r\n        expand: function(instant) {\r\n            var icon = this.options.collapseIcon,\r\n                content = this.content,\r\n                ios = kendo.support.mobileOS.ios;\r\n\r\n            if (!this.trigger(EXAPND)) {\r\n                if (icon) {\r\n                    this.header.find(\".km-icon\").removeClass().addClass(\"km-icon km-\" + icon);\r\n                }\r\n                this.element.removeClass(COLLAPSED).addClass(EXPANDED);\r\n\r\n                if (this.options.animation && !instant) {\r\n                    content.off(\"transitionend\");\r\n                    content.show();\r\n                    if (ios) { content.removeClass(ANIMATED); } //required to get the height of the content on iOS\r\n                    content.height(this._getContentHeight());\r\n                    if (ios) { content.addClass(ANIMATED); }\r\n\r\n                    kendo.resize(content);\r\n                } else {\r\n                    content.show();\r\n                }\r\n            }\r\n        },\r\n\r\n        collapse: function(instant) {\r\n            var icon = this.options.expandIcon,\r\n                content = this.content;\r\n\r\n            if (!this.trigger(COLLAPSE)) {\r\n                if (icon) {\r\n                    this.header.find(\".km-icon\").removeClass().addClass(\"km-icon km-\" + icon);\r\n                }\r\n                this.element.removeClass(EXPANDED).addClass(COLLAPSED);\r\n\r\n                if (this.options.animation && !instant) {\r\n                    content.one(\"transitionend\", function() { content.hide(); });\r\n                    content.height(0);\r\n                } else {\r\n                    content.hide();\r\n                }\r\n            }\r\n        },\r\n\r\n        toggle: function(instant) {\r\n            if (this.isCollapsed()) {\r\n                this.expand(instant);\r\n            } else {\r\n                this.collapse(instant);\r\n            }\r\n        },\r\n\r\n        isCollapsed: function() {\r\n            return this.element.hasClass(COLLAPSED);\r\n        },\r\n\r\n        resize: function() {\r\n            if (!this.isCollapsed() && this.options.animation) {\r\n                this.content.height(this._getContentHeight());\r\n            }\r\n        },\r\n\r\n        _buildHeader: function() {\r\n            var header = this.element.children(\":header\").wrapAll(HEADER_WRAPPER),\r\n                iconSpan = $('<span class=\"km-icon\"/>'),\r\n                icon = this.options.collapsed ? this.options.expandIcon : this.options.collapseIcon,\r\n                iconPosition = this.options.iconPosition;\r\n\r\n            if (icon) {\r\n                header.prepend(iconSpan);\r\n                iconSpan.addClass(\"km-\" + icon);\r\n            }\r\n\r\n            this.header = header.parent();\r\n            this.header.addClass(\"km-icon-\" + iconPosition);\r\n        },\r\n\r\n        _getContentHeight: function() {\r\n            var style = this.content.attr(\"style\"),\r\n                height;\r\n\r\n            this.content.css({\r\n                position:   'absolute',\r\n                visibility: 'hidden',\r\n                height: \"auto\"\r\n            });\r\n\r\n            height = this.content.height();\r\n\r\n            this.content.attr(\"style\", style ? style : \"\");\r\n\r\n            return height;\r\n        }\r\n    });\r\n\r\n    ui.plugin(Collapsible);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\n    define('kendo.mobile.listview',[ \"./kendo.data\", \"./kendo.userevents\", \"./kendo.mobile.button\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.listview\",\n    name: \"ListView\",\n    category: \"mobile\",\n    description: \"The Kendo Mobile ListView widget is used to display flat or grouped list of items.\",\n    depends: [ \"data\", \"userevents\", \"mobile.button\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Node = window.Node,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        outerHeight = kendo._outerHeight,\n        DataSource = kendo.data.DataSource,\n        Widget = ui.DataBoundWidget,\n        ITEM_SELECTOR = \".km-list > li, > li:not(.km-group-container)\",\n        HIGHLIGHT_SELECTOR = \".km-listview-link, .km-listview-label\",\n        ICON_SELECTOR = \"[\" + kendo.attr(\"icon\") + \"]\",\n        proxy = $.proxy,\n        attrValue = kendo.attrValue,\n        GROUP_CLASS = \"km-group-title\",\n        ACTIVE_CLASS = \"km-state-active\",\n        GROUP_WRAPPER = '<div class=\"' + GROUP_CLASS + '\"><div class=\"km-text\"></div></div>',\n        GROUP_TEMPLATE = kendo.template('<li><div class=\"' + GROUP_CLASS + '\"><div class=\"km-text\">#= this.headerTemplate(data) #</div></div><ul>#= kendo.render(this.template, data.items)#</ul></li>'),\n        WRAPPER = '<div class=\"km-listview-wrapper\"></div>',\n        SEARCH_TEMPLATE = kendo.template('<form class=\"km-filter-form\"><div class=\"km-filter-wrap\"><input type=\"search\" placeholder=\"#=placeholder#\"/><a href=\"\\\\#\" class=\"km-filter-reset\" title=\"Clear\"><span class=\"km-icon km-clear\"></span><span class=\"km-text\">Clear</span></a></div></form>'),\n        NS = \".kendoMobileListView\",\n        STYLED = \"styled\",\n        DATABOUND = \"dataBound\",\n        DATABINDING = \"dataBinding\",\n        ITEM_CHANGE = \"itemChange\",\n        CLICK = \"click\",\n        CHANGE = \"change\",\n        PROGRESS = \"progress\",\n        FUNCTION = \"function\",\n\n        whitespaceRegExp = /^\\s+$/,\n        buttonRegExp = /button/;\n\n    function whitespace() {\n        return this.nodeType === Node.TEXT_NODE && this.nodeValue.match(whitespaceRegExp);\n    }\n\n    function addIcon(item, icon) {\n        if (icon && !item[0].querySelector(\".km-icon\")) {\n            item.prepend('<span class=\"km-icon km-' + icon + '\"/>');\n        }\n    }\n\n    function enhanceItem(item) {\n        addIcon(item, attrValue(item, \"icon\"));\n        addIcon(item, attrValue(item.children(ICON_SELECTOR), \"icon\"));\n    }\n\n    function enhanceLinkItem(item) {\n        var parent = item.parent(),\n            itemAndDetailButtons = item.add(parent.children(kendo.roleSelector(\"detailbutton\"))),\n            otherNodes = parent.contents().not(itemAndDetailButtons).not(whitespace);\n\n        if (otherNodes.length) {\n            return;\n        }\n\n        item.addClass(\"km-listview-link\")\n            .attr(kendo.attr(\"role\"), \"listview-link\");\n\n        addIcon(item, attrValue(parent, \"icon\"));\n        addIcon(item, attrValue(item, \"icon\"));\n    }\n\n    function enhanceCheckBoxItem(label) {\n        if (!label[0].querySelector(\"input[type=checkbox],input[type=radio]\")) {\n            return;\n        }\n\n        var item = label.parent();\n\n        if (item.contents().not(label).not(function() { return this.nodeType == 3; })[0]) {\n            return;\n        }\n\n        label.addClass(\"km-listview-label\");\n\n        label.children(\"[type=checkbox],[type=radio]\").addClass(\"km-widget km-icon km-check\");\n    }\n\n    function putAt(element, top) {\n        $(element).css('transform', 'translate3d(0px, ' + top + 'px, 0px)');\n    }\n\n    var HeaderFixer = kendo.Class.extend({\n        init: function(listView) {\n            var scroller = listView.scroller();\n\n            if (!scroller) {\n                return;\n            }\n\n            this.options = listView.options;\n            this.element = listView.element;\n            this.scroller = listView.scroller();\n            this._shouldFixHeaders();\n\n            var headerFixer = this;\n\n            var cacheHeaders = function() {\n                headerFixer._cacheHeaders();\n            };\n\n            listView.bind(\"resize\", cacheHeaders);\n\n            listView.bind(STYLED, cacheHeaders);\n            listView.bind(DATABOUND, cacheHeaders);\n\n            this._scrollHandler = function(e) {\n                headerFixer._fixHeader(e);\n            };\n            scroller.bind(\"scroll\", this._scrollHandler);\n        },\n\n        destroy: function() {\n            var that = this;\n            if (that.scroller) {\n                that.scroller.unbind(\"scroll\", that._scrollHandler);\n            }\n        },\n\n        _fixHeader: function(e) {\n            if (!this.fixedHeaders) {\n                return;\n            }\n\n            var i = 0,\n                scroller = this.scroller,\n                headers = this.headers,\n                scrollTop = e.scrollTop,\n                headerPair,\n                offset,\n                header;\n\n            do {\n                headerPair = headers[i++];\n                if (!headerPair) {\n                    header = $(\"<div />\");\n                    break;\n                }\n                offset = headerPair.offset;\n                header = headerPair.header;\n            } while (offset + 1 > scrollTop);\n\n            if (this.currentHeader != i) {\n                scroller.fixedContainer.html(header.clone());\n                this.currentHeader = i;\n            }\n        },\n\n        _shouldFixHeaders: function() {\n            this.fixedHeaders = this.options.type === \"group\" && this.options.fixedHeaders;\n        },\n\n        _cacheHeaders: function() {\n            this._shouldFixHeaders();\n\n            if (!this.fixedHeaders) {\n                return;\n            }\n\n            var headers = [], offset = this.scroller.scrollTop;\n\n            this.element.find(\".\" + GROUP_CLASS).each(function(_, header) {\n                header = $(header);\n                headers.unshift({\n                    offset: header.position().top + offset,\n                    header: header\n                });\n            });\n\n            this.headers = headers;\n            this._fixHeader({ scrollTop: offset });\n        }\n    });\n\n    var DEFAULT_PULL_PARAMETERS = function() {\n        return { page: 1 };\n    };\n\n    var RefreshHandler = kendo.Class.extend({\n        init: function(listView) {\n            var handler = this,\n                options = listView.options,\n                scroller = listView.scroller(),\n                pullParameters = options.pullParameters || DEFAULT_PULL_PARAMETERS;\n\n            this.listView = listView;\n            this.scroller = scroller;\n\n            listView.bind(\"_dataSource\", function(e) {\n                handler.setDataSource(e.dataSource);\n            });\n\n            scroller.setOptions({\n                pullToRefresh: true,\n                pull: function() {\n                    if (!handler._pulled) {\n                        handler._pulled = true;\n                        handler.dataSource.read(pullParameters.call(listView, handler._first));\n                    }\n                },\n                messages: {\n                    pullTemplate: options.messages.pullTemplate,\n                    releaseTemplate: options.messages.releaseTemplate,\n                    refreshTemplate: options.messages.refreshTemplate\n                }\n            });\n        },\n\n        setDataSource: function(dataSource) {\n            var handler = this;\n\n            this._first = dataSource.view()[0];\n            this.dataSource = dataSource;\n\n            dataSource.bind(\"change\", function() {\n                handler._change();\n            });\n\n            dataSource.bind(\"error\", function() {\n                handler._change();\n            });\n        },\n\n        _change: function() {\n            var scroller = this.scroller,\n                dataSource = this.dataSource;\n\n            if (this._pulled) {\n                scroller.pullHandled();\n            }\n\n            if (this._pulled || !this._first) {\n                var view = dataSource.view();\n\n                if (view[0]) {\n                    this._first = view[0];\n                }\n            }\n\n            this._pulled = false;\n        }\n    });\n\n    var VirtualList = kendo.Observable.extend({\n        init: function(options) {\n            var list = this;\n\n            kendo.Observable.fn.init.call(list);\n\n            list.buffer = options.buffer;\n            list.height = options.height;\n            list.item = options.item;\n            list.items = [];\n            list.footer = options.footer;\n\n            list.buffer.bind(\"reset\", function() {\n                list.refresh();\n            });\n\n        },\n\n        refresh: function() {\n            var buffer = this.buffer,\n                items = this.items,\n                endReached = false;\n\n            while(items.length) {\n                items.pop().destroy();\n            }\n\n            this.offset = buffer.offset;\n\n            var itemConstructor = this.item,\n                prevItem,\n                item;\n\n            for (var idx = 0; idx < buffer.viewSize; idx ++) {\n                if (idx === buffer.total()) {\n                    endReached = true;\n                    break;\n                }\n                item = itemConstructor(this.content(this.offset + items.length));\n                item.below(prevItem);\n                prevItem = item;\n                items.push(item);\n            }\n\n            this.itemCount = items.length;\n\n            this.trigger(\"reset\");\n\n            this._resize();\n\n            if (endReached) {\n                this.trigger(\"endReached\");\n            }\n        },\n\n        totalHeight: function() {\n            if (!this.items[0]) {\n                return 0;\n            }\n\n            var list = this,\n                items = list.items,\n                top = items[0].top,\n                bottom = items[items.length - 1].bottom,\n                averageItemHeight = (bottom - top) / list.itemCount,\n                remainingItemsCount = list.buffer.length - list.offset - list.itemCount;\n\n            return (this.footer ? this.footer.height : 0) + bottom + remainingItemsCount * averageItemHeight;\n        },\n\n        batchUpdate: function(top) {\n            var height = this.height(),\n                items = this.items,\n                item,\n                initialOffset = this.offset;\n\n            if (!items[0]) {\n                return;\n            }\n\n            if (this.lastDirection) { // scrolling up\n                while(items[items.length - 1].bottom > top + height * 2) {\n                    if (this.offset === 0) {\n                        break;\n                    }\n\n                    this.offset --;\n                    item = items.pop();\n                    item.update(this.content(this.offset));\n                    item.above(items[0]);\n                    items.unshift(item);\n                }\n            } else { // scrolling down\n                while (items[0].top < top - height) {\n                    var nextIndex = this.offset + this.itemCount; // here, it should be offset + 1 + itemCount - 1.\n\n                    if (nextIndex === this.buffer.total()) {\n                        this.trigger(\"endReached\");\n                        break;\n                    }\n\n                    if (nextIndex === this.buffer.length) {\n                        break;\n                    }\n\n                    item = items.shift();\n                    item.update(this.content(this.offset + this.itemCount));\n                    item.below(items[items.length - 1]);\n                    items.push(item);\n                    this.offset ++;\n                }\n            }\n\n            if (initialOffset !== this.offset) {\n                this._resize();\n            }\n        },\n\n        update: function(top) {\n            var list = this,\n                items = this.items,\n                item,\n                firstItem,\n                lastItem,\n                height = this.height(),\n                itemCount = this.itemCount,\n                padding = height / 2,\n                up = (this.lastTop || 0) > top,\n                topBorder = top - padding,\n                bottomBorder = top + height + padding;\n\n            if (!items[0]) {\n                return;\n            }\n\n            this.lastTop = top;\n            this.lastDirection = up;\n\n            if (up) { // scrolling up\n               if (items[0].top > topBorder &&  // needs reorder\n                   items[items.length - 1].bottom > bottomBorder + padding && // enough padding below\n                   this.offset > 0 // we are not at the top\n                  )\n               {\n                    this.offset --;\n                    item = items.pop();\n                    firstItem = items[0];\n                    item.update(this.content(this.offset));\n                    items.unshift(item);\n\n                    item.above(firstItem);\n                    list._resize();\n               }\n            } else { // scrolling down\n                if (\n                    items[items.length - 1].bottom < bottomBorder && // needs reorder\n                    items[0].top < topBorder - padding // enough padding above\n                )\n                {\n                    var nextIndex = this.offset + itemCount; // here, it should be offset + 1 + itemCount - 1.\n\n                    if (nextIndex === this.buffer.total()) {\n                        this.trigger(\"endReached\");\n                    } else if (nextIndex !== this.buffer.length) {\n                        item = items.shift();\n                        lastItem = items[items.length - 1];\n                        items.push(item);\n                        item.update(this.content(this.offset + this.itemCount));\n                        list.offset ++;\n\n                        item.below(lastItem);\n                        list._resize();\n                    }\n                }\n            }\n        },\n\n        content: function(index) {\n            return this.buffer.at(index);\n        },\n\n        destroy: function() {\n            this.unbind();\n        },\n\n        _resize: function() {\n            var items = this.items,\n                top = 0,\n                bottom = 0,\n                firstItem = items[0],\n                lastItem = items[items.length - 1];\n\n            if (firstItem) {\n                top = firstItem.top;\n                bottom = lastItem.bottom;\n            }\n\n            this.trigger(\"resize\", { top: top, bottom: bottom });\n\n            if (this.footer) {\n                this.footer.below(lastItem);\n            }\n        }\n    });\n\n    // export for testing purposes\n    kendo.mobile.ui.VirtualList = VirtualList;\n\n    var VirtualListViewItem = kendo.Class.extend({\n        init: function(listView, dataItem) {\n            var element = listView.append([dataItem], true)[0],\n                height = element.offsetHeight;\n\n            $.extend(this, {\n                top: 0,\n                element: element,\n                listView: listView,\n                height: height,\n                bottom: height\n            });\n        },\n\n        update: function(dataItem) {\n            this.element = this.listView.setDataItem(this.element, dataItem);\n        },\n\n        above: function(item) {\n            if (item) {\n                this.height = this.element.offsetHeight;\n                this.top = item.top - this.height;\n                this.bottom = item.top;\n                putAt(this.element, this.top);\n            }\n        },\n\n        below: function(item) {\n            if (item) {\n                this.height = this.element.offsetHeight;\n                this.top = item.bottom;\n                this.bottom = this.top + this.height;\n                putAt(this.element, this.top);\n            }\n        },\n\n        destroy: function() {\n            kendo.destroy(this.element);\n            $(this.element).remove();\n        }\n    });\n\n    var LOAD_ICON = '<div><span class=\"km-icon\"></span><span class=\"km-loading-left\"></span><span class=\"km-loading-right\"></span></div>';\n    var VirtualListViewLoadingIndicator = kendo.Class.extend({\n        init: function(listView) {\n            this.element = $('<li class=\"km-load-more km-scroller-refresh\" style=\"display: none\"></li>').appendTo(listView.element);\n            this._loadIcon = $(LOAD_ICON).appendTo(this.element);\n        },\n\n        enable: function() {\n            this.element.show();\n            this.height = outerHeight(this.element, true);\n        },\n\n        disable: function() {\n            this.element.hide();\n            this.height = 0;\n        },\n\n        below: function(item) {\n            if (item) {\n                this.top = item.bottom;\n                this.bottom = this.height + this.top;\n                putAt(this.element, this.top);\n            }\n        }\n    });\n\n    var VirtualListViewPressToLoadMore = VirtualListViewLoadingIndicator.extend({\n        init: function(listView, buffer) {\n\n            this._loadIcon = $(LOAD_ICON).hide();\n            this._loadButton = $('<a class=\"km-load\">' + listView.options.messages.loadMoreText + '</a>').hide();\n            this.element = $('<li class=\"km-load-more\" style=\"display: none\"></li>').append(this._loadIcon).append(this._loadButton).appendTo(listView.element);\n\n            var loadMore = this;\n\n            this._loadButton.kendoMobileButton().data(\"kendoMobileButton\").bind(\"click\", function() {\n                loadMore._hideShowButton();\n                buffer.next();\n            });\n\n            buffer.bind(\"resize\", function() {\n                loadMore._showLoadButton();\n            });\n\n            this.height = outerHeight(this.element, true);\n            this.disable();\n        },\n\n        _hideShowButton: function() {\n            this._loadButton.hide();\n            this.element.addClass(\"km-scroller-refresh\");\n            this._loadIcon.css('display', 'block');\n        },\n\n        _showLoadButton: function() {\n            this._loadButton.show();\n            this.element.removeClass(\"km-scroller-refresh\");\n            this._loadIcon.hide();\n        }\n    });\n\n    var VirtualListViewItemBinder = kendo.Class.extend({\n        init: function(listView) {\n            var binder = this;\n\n            this.chromeHeight = outerHeight(listView.wrapper.children().not(listView.element));\n            this.listView = listView;\n            this.scroller = listView.scroller();\n            this.options = listView.options;\n\n            listView.bind(\"_dataSource\", function(e) {\n                binder.setDataSource(e.dataSource, e.empty);\n            });\n\n            listView.bind(\"resize\", function() {\n                if (!binder.list.items.length) {\n                    return;\n                }\n\n                binder.scroller.reset();\n                binder.buffer.range(0);\n                binder.list.refresh();\n            });\n\n            this.scroller.makeVirtual();\n\n            this._scroll = function(e) {\n                binder.list.update(e.scrollTop);\n            };\n            this.scroller.bind('scroll', this._scroll);\n            this._scrollEnd = function(e) {\n                binder.list.batchUpdate(e.scrollTop);\n            };\n            this.scroller.bind('scrollEnd', this._scrollEnd);\n        },\n\n        destroy: function() {\n            this.list.unbind();\n            this.buffer.unbind();\n            this.scroller.unbind('scroll', this._scroll);\n            this.scroller.unbind('scrollEnd', this._scrollEnd);\n        },\n\n        setDataSource: function(dataSource, empty) {\n            var binder = this,\n                options = this.options,\n                listView = this.listView,\n                scroller = listView.scroller(),\n                pressToLoadMore = options.loadMore,\n                pageSize,\n                buffer,\n                footer;\n\n            this.dataSource = dataSource;\n\n            pageSize = dataSource.pageSize() || options.virtualViewSize;\n\n            if (!pageSize && !empty) {\n                throw new Error(\"the DataSource does not have page size configured. Page Size setting is mandatory for the mobile listview virtual scrolling to work as expected.\");\n            }\n\n            if (this.buffer) {\n                this.buffer.destroy();\n            }\n\n            buffer = new kendo.data.Buffer(dataSource, Math.floor(pageSize / 2), pressToLoadMore);\n\n            if (pressToLoadMore) {\n                footer = new VirtualListViewPressToLoadMore(listView, buffer);\n            } else {\n                footer = new VirtualListViewLoadingIndicator(listView);\n            }\n\n            if (this.list) {\n                this.list.destroy();\n            }\n\n            var list = new VirtualList({\n                buffer: buffer,\n                footer: footer,\n                item: function(dataItem) { return new VirtualListViewItem(listView, dataItem); },\n                height: function() { return scroller.height(); }\n            });\n\n            list.bind(\"resize\", function() {\n                binder.updateScrollerSize();\n                listView.updateSize();\n            });\n\n            list.bind(\"reset\", function() {\n                binder.footer.enable();\n            });\n\n            list.bind(\"endReached\", function() {\n                footer.disable();\n                binder.updateScrollerSize();\n            });\n\n            buffer.bind(\"expand\", function() {\n                list.lastDirection = false; // expand down\n                list.batchUpdate(scroller.scrollTop);\n            });\n\n            $.extend(this, {\n                buffer: buffer,\n                scroller: scroller,\n                list: list,\n                footer: footer\n            });\n        },\n\n        updateScrollerSize: function() {\n            this.scroller.virtualSize(0, this.list.totalHeight() + this.chromeHeight);\n        },\n\n        refresh: function() {\n            this.list.refresh();\n        },\n\n        reset: function() {\n            this.buffer.range(0);\n            this.list.refresh();\n        }\n    });\n\n    var ListViewItemBinder = kendo.Class.extend({\n        init: function(listView) {\n            var binder = this;\n            this.listView = listView;\n            this.options = listView.options;\n\n            var itemBinder = this;\n\n            this._refreshHandler = function(e) {\n                itemBinder.refresh(e);\n            };\n\n            this._progressHandler = function() {\n                listView.showLoading();\n            };\n\n            listView.bind(\"_dataSource\", function(e) {\n                binder.setDataSource(e.dataSource);\n            });\n        },\n\n        destroy: function() {\n            this._unbindDataSource();\n        },\n\n        reset: function() { },\n\n        refresh: function(e) {\n            var action = e && e.action,\n                dataItems = e && e.items,\n                listView = this.listView,\n                dataSource = this.dataSource,\n                prependOnRefresh = this.options.appendOnRefresh,\n                view = dataSource.view(),\n                groups = dataSource.group(),\n                groupedMode = groups && groups[0],\n                item;\n\n\n            if (action === \"itemchange\") {\n                if(!listView._hasBindingTarget()) {\n                    item = listView.findByDataItem(dataItems)[0];\n                    if (item) {\n                        listView.setDataItem(item, dataItems[0]);\n                    }\n                }\n                return;\n            }\n\n            var removedItems, addedItems, addedDataItems;\n            var adding = (action === \"add\" && !groupedMode) || (prependOnRefresh && !listView._filter);\n            var removing = action === \"remove\" && !groupedMode;\n\n            if (adding) {\n                // no need to unbind anything\n                removedItems = [];\n            } else if (removing) {\n                // unbind the items about to be removed;\n                removedItems = listView.findByDataItem(dataItems);\n            }\n\n            if (listView.trigger(DATABINDING, { action: action || \"rebind\", items: dataItems, removedItems: removedItems, index: e && e.index })) {\n                if (this._shouldShowLoading()) {\n                    listView.hideLoading();\n                }\n                return;\n            }\n\n            if (action === \"add\" && !groupedMode) {\n                var index = view.indexOf(dataItems[0]);\n                if (index > -1) {\n                    addedItems = listView.insertAt(dataItems, index);\n                    addedDataItems = dataItems;\n                }\n            } else if (action === \"remove\" && !groupedMode) {\n                addedItems = [];\n                listView.remove(dataItems);\n            } else if (groupedMode) {\n                listView.replaceGrouped(view);\n            }\n            else if (prependOnRefresh && !listView._filter) {\n                addedItems = listView.prepend(view);\n                addedDataItems = view;\n            }\n            else {\n                listView.replace(view);\n            }\n\n            if (this._shouldShowLoading()) {\n                listView.hideLoading();\n            }\n\n            listView.trigger(DATABOUND, { ns: ui, addedItems: addedItems, addedDataItems: addedDataItems });\n        },\n\n        setDataSource: function(dataSource) {\n            if (this.dataSource) {\n                this._unbindDataSource();\n            }\n\n            this.dataSource = dataSource;\n            dataSource.bind(CHANGE, this._refreshHandler);\n\n            if (this._shouldShowLoading()) {\n                this.dataSource.bind(PROGRESS, this._progressHandler);\n            }\n        },\n\n        _unbindDataSource: function() {\n            this.dataSource.unbind(CHANGE, this._refreshHandler).unbind(PROGRESS, this._progressHandler);\n        },\n\n        _shouldShowLoading: function() {\n            var options = this.options;\n            return !options.pullToRefresh && !options.loadMore && !options.endlessScroll;\n        }\n    });\n\n    var ListViewFilter = kendo.Class.extend({\n        init: function(listView) {\n            var filter = this,\n                filterable = listView.options.filterable,\n                events = \"change paste\",\n                that = this;\n\n            this.listView = listView;\n            this.options = filterable;\n\n            listView.element.before(SEARCH_TEMPLATE({ placeholder: filterable.placeholder || \"Search...\" }));\n\n            if (filterable.autoFilter !== false) {\n                events += \" keyup\";\n            }\n\n            this.element = listView.wrapper.find(\".km-search-form\");\n\n            this.searchInput = listView.wrapper.find(\"input[type=search]\")\n                .closest(\"form\").on(\"submit\" + NS, function(e) {\n                    e.preventDefault();\n                })\n                .end()\n                .on(\"focus\" + NS, function() {\n                    filter._oldFilter = filter.searchInput.val();\n                })\n                .on(events.split(\" \").join(NS + \" \") + NS, proxy(this._filterChange, this));\n\n            this.clearButton = listView.wrapper.find(\".km-filter-reset\")\n                .on(CLICK, proxy(this, \"_clearFilter\"))\n                .hide();\n\n             this._dataSourceChange = $.proxy(this._refreshInput, this);\n             listView.bind(\"_dataSource\", function(e) {\n                 e.dataSource.bind(\"change\", that._dataSourceChange);\n             });\n        },\n\n        _refreshInput: function() {\n            var appliedFilters = this.listView.dataSource.filter();\n            var searchInput = this.listView._filter.searchInput;\n\n            if (!appliedFilters || appliedFilters.filters[0].field !== this.listView.options.filterable.field)  {\n                searchInput.val(\"\");\n            } else {\n                searchInput.val(appliedFilters.filters[0].value);\n            }\n        },\n\n        _search: function(expr) {\n            this._filter = true;\n            this.clearButton[expr ? \"show\" : \"hide\"]();\n            this.listView.dataSource.filter(expr);\n        },\n\n        _filterChange: function(e) {\n            var filter = this;\n            if (e.type == \"paste\" && this.options.autoFilter !== false) {\n                setTimeout(function() {\n                    filter._applyFilter();\n                }, 1);\n            } else {\n                this._applyFilter();\n            }\n        },\n\n        _applyFilter: function() {\n            var options = this.options,\n                value = this.searchInput.val(),\n                expr = value.length ? {\n                    field: options.field,\n                    operator: options.operator || \"startswith\",\n                    ignoreCase: options.ignoreCase,\n                    value: value\n                } : null;\n\n            if (value === this._oldFilter) {\n                return;\n            }\n\n            this._oldFilter = value;\n            this._search(expr);\n        },\n\n        _clearFilter: function(e) {\n            this.searchInput.val(\"\");\n            this._search(null);\n\n            e.preventDefault();\n        }\n    });\n\n    var ListView = Widget.extend({\n        init: function(element, options) {\n            var listView = this;\n\n            Widget.fn.init.call(this, element, options);\n\n            element = this.element;\n\n            options = this.options;\n\n            // support for legacy typo in configuration options: scrollTreshold -> scrollThreshold.\n            if (options.scrollTreshold) {\n                options.scrollThreshold = options.scrollTreshold;\n            }\n\n            element\n                .on(\"down\", HIGHLIGHT_SELECTOR, \"_highlight\")\n                .on(\"move up cancel\", HIGHLIGHT_SELECTOR, \"_dim\");\n\n            this._userEvents = new kendo.UserEvents(element, {\n                fastTap: true,\n                filter: ITEM_SELECTOR,\n                allowSelection: true,\n                tap: function(e) {\n                    listView._click(e);\n                }\n            });\n\n            // HACK!!! to negate the ms touch action from the user events.\n            element.css(\"-ms-touch-action\", \"auto\");\n\n            element.wrap(WRAPPER);\n\n            this.wrapper = this.element.parent();\n\n            this._headerFixer = new HeaderFixer(this);\n\n            this._itemsCache = {};\n            this._templates();\n\n            this.virtual = options.endlessScroll || options.loadMore;\n\n            this._style();\n\n            if (this.options.$angular && (this.virtual || this.options.pullToRefresh)) {\n                setTimeout($.proxy(this, \"_start\"));\n            } else {\n                this._start();\n            }\n\n        },\n\n        _start: function() {\n            var options = this.options;\n\n            if (this.options.filterable) {\n                this._filter = new ListViewFilter(this);\n            }\n\n            if (this.virtual) {\n                this._itemBinder = new VirtualListViewItemBinder(this);\n            } else {\n                this._itemBinder = new ListViewItemBinder(this);\n            }\n\n            if (this.options.pullToRefresh) {\n                this._pullToRefreshHandler = new RefreshHandler(this);\n            }\n\n            this.setDataSource(options.dataSource);\n\n            this._enhanceItems(this.items());\n\n            kendo.notify(this, ui);\n        },\n\n        events: [\n            CLICK,\n            DATABINDING,\n            DATABOUND,\n            ITEM_CHANGE\n        ],\n\n        options: {\n            name: \"ListView\",\n            style: \"\",\n            type: \"flat\",\n            autoBind: true,\n            fixedHeaders: false,\n            template: \"#:data#\",\n            headerTemplate: '<span class=\"km-text\">#:value#</span>',\n            appendOnRefresh: false,\n            loadMore: false,\n            endlessScroll: false,\n            scrollThreshold: 30,\n            pullToRefresh: false,\n            messages: {\n                loadMoreText: \"Press to load more\",\n                pullTemplate: \"Pull to refresh\",\n                releaseTemplate: \"Release to refresh\",\n                refreshTemplate: \"Refreshing\"\n            },\n            pullOffset: 140,\n            filterable: false,\n            virtualViewSize: null\n        },\n\n        refresh: function() {\n            this._itemBinder.refresh();\n        },\n\n        reset: function() {\n            this._itemBinder.reset();\n        },\n\n        setDataSource: function(dataSource) {\n            // the listView should have a ready datasource for MVVM to function properly. But an empty datasource should not empty the element\n            var emptyDataSource = !dataSource;\n            this.dataSource = DataSource.create(dataSource);\n\n            this.trigger(\"_dataSource\", { dataSource: this.dataSource, empty: emptyDataSource });\n\n            if (this.options.autoBind && !emptyDataSource) {\n                this.items().remove();\n                this.dataSource.fetch();\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            kendo.destroy(this.element);\n            this._userEvents.destroy();\n            if (this._itemBinder) {\n                this._itemBinder.destroy();\n            }\n\n            if(this._headerFixer) {\n                this._headerFixer.destroy();\n            }\n\n            this.element.unwrap();\n            delete this.element;\n            delete this.wrapper;\n            delete this._userEvents;\n        },\n\n        items: function() {\n            if (this.options.type === \"group\") {\n                return this.element.find(\".km-list\").children();\n            } else {\n                return this.element.children().not('.km-load-more');\n            }\n        },\n\n        scroller: function() {\n            if (!this._scrollerInstance) {\n                this._scrollerInstance = this.element.closest(\".km-scroll-wrapper\").data(\"kendoMobileScroller\");\n            }\n\n            return this._scrollerInstance;\n        },\n\n        showLoading: function() {\n            var view = this.view();\n            if (view && view.loader) {\n                view.loader.show();\n            }\n        },\n\n        hideLoading: function() {\n            var view = this.view();\n            if (view && view.loader) {\n                view.loader.hide();\n            }\n        },\n\n        insertAt: function(dataItems, index, triggerChange) {\n            var listView = this;\n            return listView._renderItems(dataItems, function(items) {\n                if (index === 0) {\n                    listView.element.prepend(items);\n                }\n                else if (index === -1) {\n                    listView.element.append(items);\n                } else {\n                    listView.items().eq(index - 1).after(items);\n                }\n\n                if (triggerChange) {\n                    for (var i = 0; i < items.length; i ++) {\n                        listView.trigger(ITEM_CHANGE, { item: items.eq(i), data: dataItems[i], ns: ui });\n                    }\n                }\n            });\n        },\n\n        append: function(dataItems, triggerChange) {\n            return this.insertAt(dataItems, -1, triggerChange);\n        },\n\n        prepend: function(dataItems, triggerChange) {\n            return this.insertAt(dataItems, 0, triggerChange);\n        },\n\n        replace: function(dataItems) {\n            this.options.type = \"flat\";\n            this._angularItems(\"cleanup\");\n            kendo.destroy(this.element.children());\n            this.element.empty();\n            this._userEvents.cancel();\n            this._style();\n            return this.insertAt(dataItems, 0);\n        },\n\n        replaceGrouped: function(groups) {\n            this.options.type = \"group\";\n            this._angularItems(\"cleanup\");\n            this.element.empty();\n            var items = $(kendo.render(this.groupTemplate, groups));\n\n            this._enhanceItems(items.children(\"ul\").children(\"li\"));\n            this.element.append(items);\n            mobile.init(items);\n            this._style();\n            this._angularItems(\"compile\");\n        },\n\n        remove: function(dataItems) {\n            var items = this.findByDataItem(dataItems);\n            this.angular(\"cleanup\", function(){\n                return { elements: items };\n            });\n            kendo.destroy(items);\n            items.remove();\n        },\n\n        findByDataItem: function(dataItems) {\n            var selectors = [];\n\n            for (var idx = 0, length = dataItems.length; idx < length; idx ++) {\n                selectors[idx] = \"[data-\" + kendo.ns + \"uid=\" + dataItems[idx].uid + \"]\";\n            }\n\n            return this.element.find(selectors.join(\",\"));\n        },\n\n        // item is a DOM element, not jQuery object.\n        setDataItem: function(item, dataItem) {\n            var listView = this,\n                replaceItem = function(items) {\n                    var newItem = $(items[0]);\n                    kendo.destroy(item);\n                    listView.angular(\"cleanup\", function(){ return { elements: [ $(item) ] }; });\n                    $(item).replaceWith(newItem);\n                    listView.trigger(ITEM_CHANGE, { item: newItem, data: dataItem, ns: ui });\n                };\n\n            return this._renderItems([dataItem], replaceItem)[0];\n        },\n\n        updateSize: function() {\n            this._size = this.getSize();\n        },\n\n        _renderItems: function(dataItems, callback) {\n            var items = $(kendo.render(this.template, dataItems));\n\n            callback(items);\n\n            this.angular(\"compile\", function() {\n                return {\n                    elements: items,\n                    data: dataItems.map(function(data){\n                        return { dataItem: data };\n                    })\n                };\n            });\n\n            mobile.init(items);\n            this._enhanceItems(items);\n\n            return items;\n        },\n\n        _dim: function(e) {\n            this._toggle(e, false);\n        },\n\n        _highlight: function(e) {\n            this._toggle(e, true);\n        },\n\n        _toggle: function(e, highlight) {\n            if (e.which > 1) {\n                return;\n            }\n\n            var clicked = $(e.currentTarget),\n                item = clicked.parent(),\n                role = attrValue(clicked, \"role\") || \"\",\n                plainItem = (!role.match(buttonRegExp)),\n                prevented = e.isDefaultPrevented();\n\n            if (plainItem) {\n                item.toggleClass(ACTIVE_CLASS, highlight && !prevented);\n            }\n        },\n\n        _templates: function() {\n            var template = this.options.template,\n                headerTemplate = this.options.headerTemplate,\n                dataIDAttribute = ' data-uid=\"#=arguments[0].uid || \"\"#\"',\n                templateProxy = {},\n                groupTemplateProxy = {};\n\n            if (typeof template === FUNCTION) {\n                templateProxy.template = template;\n                template = \"#=this.template(data)#\";\n            }\n\n            this.template = proxy(kendo.template(\"<li\" + dataIDAttribute + \">\" + template + \"</li>\"), templateProxy);\n\n            groupTemplateProxy.template = this.template;\n\n            if (typeof headerTemplate === FUNCTION) {\n                groupTemplateProxy._headerTemplate = headerTemplate;\n                headerTemplate = \"#=this._headerTemplate(data)#\";\n            }\n\n            groupTemplateProxy.headerTemplate = kendo.template(headerTemplate);\n\n            this.groupTemplate = proxy(GROUP_TEMPLATE, groupTemplateProxy);\n        },\n\n        _click: function(e) {\n            if (e.event.which > 1 || e.event.isDefaultPrevented()) {\n                return;\n            }\n\n            var dataItem,\n                item = e.target,\n                target = $(e.event.target),\n                buttonElement = target.closest(kendo.roleSelector(\"button\", \"detailbutton\", \"backbutton\")),\n                button = kendo.widgetInstance(buttonElement, ui),\n                id = item.attr(kendo.attr(\"uid\"));\n\n            if (id) {\n                dataItem = this.dataSource.getByUid(id);\n            }\n\n            if (this.trigger(CLICK, {target: target, item: item, dataItem: dataItem, button: button})) {\n                e.preventDefault();\n            }\n        },\n\n        _styleGroups: function() {\n            var rootItems = this.element.children();\n\n            rootItems.children(\"ul\").addClass(\"km-list\");\n\n            rootItems.each(function() {\n                var li = $(this),\n                    groupHeader = li.contents().first();\n\n                li.addClass(\"km-group-container\");\n                if (!groupHeader.is(\"ul\") && !groupHeader.is(\"div.\" + GROUP_CLASS)) {\n                    groupHeader.wrap(GROUP_WRAPPER);\n                }\n            });\n        },\n\n        _style: function() {\n            var options = this.options,\n                grouped = options.type === \"group\",\n                element = this.element,\n                inset = options.style === \"inset\";\n\n            element.addClass(\"km-listview\")\n                .toggleClass(\"km-list\", !grouped)\n                .toggleClass(\"km-virtual-list\", this.virtual)\n                .toggleClass(\"km-listinset\", !grouped && inset)\n                .toggleClass(\"km-listgroup\", grouped && !inset)\n                .toggleClass(\"km-listgroupinset\", grouped && inset);\n\n            if (!element.parents(\".km-listview\")[0]) {\n                element.closest(\".km-content\").toggleClass(\"km-insetcontent\", inset); // iOS has white background when the list is not inset.\n            }\n\n            if (grouped) {\n                this._styleGroups();\n            }\n\n            this.trigger(STYLED);\n        },\n\n        _enhanceItems: function(items) {\n            items.each(function() {\n                var item = $(this),\n                    child,\n                    enhanced = false;\n\n                item.children().each(function() {\n                    child = $(this);\n                    if (child.is(\"a\")) {\n                        enhanceLinkItem(child);\n                        enhanced = true;\n                    } else if (child.is(\"label\")) {\n                        enhanceCheckBoxItem(child);\n                        enhanced = true;\n                    }\n                });\n\n                if (!enhanced) {\n                    enhanceItem(item);\n                }\n            });\n        }\n    });\n\n    ui.plugin(ListView);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.navbar',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.navbar\",\n    name: \"NavBar\",\n    category: \"mobile\",\n    description: \"The Kendo mobile NavBar widget is used inside a mobile View or Layout Header element to display an application navigation bar.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        Widget = ui.Widget;\n\n    function createContainer(align, element) {\n        var items = element.find(\"[\" + kendo.attr(\"align\") + \"=\" + align + \"]\");\n\n        if (items[0]) {\n            return $('<div class=\"km-' + align + 'item\" />').append(items).prependTo(element);\n        }\n    }\n\n    function toggleTitle(centerElement) {\n        var siblings = centerElement.siblings(),\n            noTitle = !!centerElement.children(\"ul\")[0],\n            showTitle = (!!siblings[0] && kendo.trim(centerElement.text()) === \"\"),\n            android = !!(kendo.mobile.application && kendo.mobile.application.element.is(\".km-android\"));\n\n        centerElement.prevAll().toggleClass(\"km-absolute\", noTitle);\n        centerElement.toggleClass(\"km-show-title\", showTitle);\n        centerElement.toggleClass(\"km-fill-title\", showTitle && !kendo.trim(centerElement.html()));\n        centerElement.toggleClass(\"km-no-title\", noTitle);\n        centerElement.toggleClass(\"km-hide-title\", android && !siblings.children().is(\":visible\"));\n    }\n\n    var NavBar = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n\n            that.container().bind(\"show\", $.proxy(this, \"refresh\"));\n\n            element.addClass(\"km-navbar\").wrapInner($('<div class=\"km-view-title km-show-title\" />'));\n            that.leftElement = createContainer(\"left\", element);\n            that.rightElement = createContainer(\"right\", element);\n            that.centerElement = element.find(\".km-view-title\");\n        },\n\n        options: {\n            name: \"NavBar\"\n        },\n\n        title: function(value) {\n            this.element.find(kendo.roleSelector(\"view-title\")).text(value);\n            toggleTitle(this.centerElement);\n        },\n\n        refresh: function(e) {\n            var view = e.view;\n            this.title(view.options.title);\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            kendo.destroy(this.element);\n        }\n    });\n\n    ui.plugin(NavBar);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.scrollview',[ \"./kendo.fx\", \"./kendo.data\", \"./kendo.draganddrop\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.scrollview\",\n    name: \"ScrollView\",\n    category: \"mobile\",\n    description: \"The Kendo Mobile ScrollView widget is used to scroll content wider than the device screen.\",\n    depends: [ \"fx\", \"data\", \"draganddrop\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        proxy = $.proxy,\n        Transition = kendo.effects.Transition,\n        Pane = kendo.ui.Pane,\n        PaneDimensions = kendo.ui.PaneDimensions,\n        Widget = ui.DataBoundWidget,\n        DataSource = kendo.data.DataSource,\n        Buffer = kendo.data.Buffer,\n        BatchBuffer = kendo.data.BatchBuffer,\n\n        // Math\n        math = Math,\n        abs  = math.abs,\n        ceil = math.ceil,\n        round = math.round,\n        max = math.max,\n        min = math.min,\n        floor = math.floor,\n\n        CHANGE = \"change\",\n        CHANGING = \"changing\",\n        REFRESH = \"refresh\",\n        CURRENT_PAGE_CLASS = \"current-page\",\n        VIRTUAL_PAGE_CLASS = \"virtual-page\",\n        FUNCTION = \"function\",\n        ITEM_CHANGE = \"itemChange\",\n        CLEANUP = \"cleanup\",\n\n        VIRTUAL_PAGE_COUNT = 3,\n        LEFT_PAGE = -1,\n        CETER_PAGE = 0,\n        RIGHT_PAGE = 1,\n\n        LEFT_SWIPE = -1,\n        NUDGE = 0,\n        RIGHT_SWIPE = 1;\n\n    function className(name) {\n        return \"k-\" + name + \" km-\" + name;\n    }\n\n    var Pager = kendo.Class.extend({\n        init: function(scrollView) {\n            var that = this,\n                element = $(\"<ol class='\" + className(\"pages\") + \"'/>\");\n\n            scrollView.element.append(element);\n\n            this._changeProxy = proxy(that, \"_change\");\n            this._refreshProxy = proxy(that, \"_refresh\");\n            scrollView.bind(CHANGE, this._changeProxy);\n            scrollView.bind(REFRESH, this._refreshProxy);\n\n            $.extend(that, { element: element, scrollView: scrollView });\n        },\n\n        items: function() {\n            return this.element.children();\n        },\n\n        _refresh: function(e) {\n            var pageHTML = \"\";\n\n            for (var idx = 0; idx < e.pageCount; idx ++) {\n                pageHTML += \"<li></li>\";\n            }\n\n            this.element.html(pageHTML);\n            this.items().eq(e.page).addClass(className(CURRENT_PAGE_CLASS));\n        },\n\n        _change: function(e) {\n            this.items()\n                .removeClass(className(CURRENT_PAGE_CLASS))\n                .eq(e.page).addClass(className(CURRENT_PAGE_CLASS));\n        },\n\n        destroy: function() {\n            this.scrollView.unbind(CHANGE, this._changeProxy);\n            this.scrollView.unbind(REFRESH, this._refreshProxy);\n            this.element.remove();\n        }\n    });\n\n    kendo.mobile.ui.ScrollViewPager = Pager;\n\n    var TRANSITION_END = \"transitionEnd\",\n        DRAG_START = \"dragStart\",\n        DRAG_END = \"dragEnd\";\n\n    var ElasticPane = kendo.Observable.extend({\n        init: function(element, options) {\n            var that = this;\n\n            kendo.Observable.fn.init.call(this);\n\n            this.element = element;\n            this.container = element.parent();\n\n            var movable,\n                transition,\n                userEvents,\n                dimensions,\n                dimension,\n                pane;\n\n            movable = new kendo.ui.Movable(that.element);\n\n            transition = new Transition({\n                axis: \"x\",\n                movable: movable,\n                onEnd: function() {\n                    that.trigger(TRANSITION_END);\n                }\n            });\n\n            userEvents = new kendo.UserEvents(element, {\n                fastTap: true,\n                start: function(e) {\n                    if (abs(e.x.velocity) * 2 >= abs(e.y.velocity)) {\n                        userEvents.capture();\n                    } else {\n                        userEvents.cancel();\n                    }\n\n                    that.trigger(DRAG_START, e);\n                    transition.cancel();\n                },\n                allowSelection: true,\n                end: function(e) {\n                    that.trigger(DRAG_END, e);\n                }\n            });\n\n            dimensions = new PaneDimensions({\n                element: that.element,\n                container: that.container\n            });\n\n            dimension = dimensions.x;\n\n            dimension.bind(CHANGE, function() {\n                that.trigger(CHANGE);\n            });\n\n            pane = new Pane({\n                dimensions: dimensions,\n                userEvents: userEvents,\n                movable: movable,\n                elastic: true\n            });\n\n            $.extend(that, {\n                duration: options && options.duration || 1,\n                movable: movable,\n                transition: transition,\n                userEvents: userEvents,\n                dimensions: dimensions,\n                dimension: dimension,\n                pane: pane\n            });\n\n            this.bind([TRANSITION_END, DRAG_START, DRAG_END, CHANGE], options);\n        },\n\n        size: function() {\n            return { width: this.dimensions.x.getSize(), height: this.dimensions.y.getSize() };\n        },\n\n        total: function() {\n            return this.dimension.getTotal();\n        },\n\n        offset: function() {\n            return -this.movable.x;\n        },\n\n        updateDimension: function() {\n            this.dimension.update(true);\n        },\n\n        refresh: function() {\n            this.dimensions.refresh();\n        },\n\n        moveTo: function(offset) {\n            this.movable.moveAxis(\"x\", -offset);\n        },\n\n        transitionTo: function(offset, ease, instant) {\n            if (instant) {\n                this.moveTo(-offset);\n            } else {\n                this.transition.moveTo({ location: offset, duration: this.duration, ease: ease });\n            }\n        }\n    });\n\n    kendo.mobile.ui.ScrollViewElasticPane = ElasticPane;\n\n    var ScrollViewContent = kendo.Observable.extend({\n        init: function(element, pane, options) {\n            var that = this;\n\n            kendo.Observable.fn.init.call(this);\n            that.element = element;\n            that.pane = pane;\n            that._getPages();\n            this.page = 0;\n            this.pageSize = options.pageSize || 1;\n            this.contentHeight = options.contentHeight;\n            this.enablePager = options.enablePager;\n            this.pagerOverlay = options.pagerOverlay;\n        },\n\n        scrollTo: function(page, instant) {\n            this.page = page;\n            this.pane.transitionTo(- page * this.pane.size().width, Transition.easeOutExpo, instant);\n        },\n\n        paneMoved: function(swipeType, bounce, callback, /*internal*/ instant) {\n            var that = this,\n                pane = that.pane,\n                width = pane.size().width * that.pageSize,\n                approx = round,\n                ease = bounce ? Transition.easeOutBack : Transition.easeOutExpo,\n                snap,\n                nextPage;\n\n            if (swipeType === LEFT_SWIPE) {\n                approx = ceil;\n            } else if (swipeType === RIGHT_SWIPE) {\n                approx = floor;\n            }\n\n            nextPage = approx(pane.offset() / width);\n\n            snap = max(that.minSnap, min(-nextPage * width, that.maxSnap));\n\n            if (nextPage != that.page) {\n                if (callback && callback({ currentPage: that.page, nextPage: nextPage })) {\n                    snap = -that.page * pane.size().width;\n                }\n            }\n\n            pane.transitionTo(snap, ease, instant);\n        },\n\n        updatePage: function() {\n            var pane = this.pane,\n                page = round(pane.offset() / pane.size().width);\n\n            if (page != this.page) {\n                this.page = page;\n                return true;\n            }\n\n            return false;\n        },\n\n        forcePageUpdate: function() {\n            return this.updatePage();\n        },\n\n        resizeTo: function(size) {\n            var pane = this.pane,\n                width = size.width;\n\n            this.pageElements.width(width);\n\n            if (this.contentHeight === \"100%\") {\n                var containerHeight = this.element.parent().height();\n\n                if (this.enablePager === true) {\n                    var pager = this.element.parent().find(\"ol.km-pages\");\n                    if (!this.pagerOverlay && pager.length) {\n                        containerHeight -= kendo._outerHeight(pager, true);\n                    }\n                }\n\n                this.element.css(\"height\", containerHeight);\n                this.pageElements.css(\"height\", containerHeight);\n            }\n\n            // re-read pane dimension after the pageElements have been resized.\n            pane.updateDimension();\n\n            if (!this._paged) {\n                this.page = floor(pane.offset() / width);\n            }\n\n            this.scrollTo(this.page, true);\n\n            this.pageCount = ceil(pane.total() / width);\n            this.minSnap = - (this.pageCount - 1) * width;\n            this.maxSnap = 0;\n        },\n\n        _getPages: function() {\n            this.pageElements = this.element.find(kendo.roleSelector(\"page\"));\n            this._paged = this.pageElements.length > 0;\n        }\n    });\n\n    kendo.mobile.ui.ScrollViewContent = ScrollViewContent;\n\n    var VirtualScrollViewContent = kendo.Observable.extend({\n        init: function(element, pane, options) {\n            var that = this;\n\n            kendo.Observable.fn.init.call(this);\n\n            that.element = element;\n            that.pane = pane;\n            that.options = options;\n            that._templates();\n            that.page = options.page || 0;\n            that.pages = [];\n            that._initPages();\n            that.resizeTo(that.pane.size());\n\n            that.pane.dimension.forceEnabled();\n        },\n\n        setDataSource: function(dataSource) {\n            this.dataSource = DataSource.create(dataSource);\n            this._buffer();\n            this._pendingPageRefresh = false;\n            this._pendingWidgetRefresh = false;\n        },\n\n        _viewShow: function() {\n            var that = this;\n            if (that._pendingWidgetRefresh) {\n                setTimeout(function() {\n                    that._resetPages();\n                }, 0);\n                that._pendingWidgetRefresh = false;\n            }\n        },\n\n        _buffer: function() {\n            var itemsPerPage = this.options.itemsPerPage;\n\n            if (this.buffer) {\n                this.buffer.destroy();\n            }\n\n            if (itemsPerPage > 1) {\n                this.buffer = new BatchBuffer(this.dataSource, itemsPerPage);\n            } else {\n                this.buffer = new Buffer(this.dataSource, itemsPerPage * 3);\n            }\n\n            this._resizeProxy = proxy(this, \"_onResize\");\n            this._resetProxy = proxy(this, \"_onReset\");\n            this._endReachedProxy = proxy(this, \"_onEndReached\");\n\n            this.buffer.bind({\n                \"resize\": this._resizeProxy,\n                \"reset\": this._resetProxy,\n                \"endreached\": this._endReachedProxy\n            });\n        },\n\n        _templates: function() {\n            var template = this.options.template,\n                emptyTemplate = this.options.emptyTemplate,\n                templateProxy = {},\n                emptyTemplateProxy = {};\n\n            if (typeof template === FUNCTION) {\n                templateProxy.template = template;\n                template = \"#=this.template(data)#\";\n            }\n\n            this.template = proxy(kendo.template(template), templateProxy);\n\n            if (typeof emptyTemplate === FUNCTION) {\n                emptyTemplateProxy.emptyTemplate = emptyTemplate;\n                emptyTemplate = \"#=this.emptyTemplate(data)#\";\n            }\n\n            this.emptyTemplate = proxy(kendo.template(emptyTemplate), emptyTemplateProxy);\n        },\n\n        _initPages: function() {\n            var pages = this.pages,\n                element = this.element,\n                page;\n\n            for (var i = 0; i < VIRTUAL_PAGE_COUNT; i++) {\n                page = new Page(element);\n                pages.push(page);\n            }\n\n            this.pane.updateDimension();\n        },\n\n        resizeTo: function(size) {\n            var pages = this.pages,\n                pane = this.pane;\n\n            for (var i = 0; i < pages.length; i++) {\n                pages[i].setWidth(size.width);\n            }\n\n            if (this.options.contentHeight === \"auto\") {\n                this.element.css(\"height\", this.pages[1].element.height());\n            }\n\n            else if (this.options.contentHeight === \"100%\") {\n                var containerHeight = this.element.parent().height();\n\n                if (this.options.enablePager === true) {\n                    var pager = this.element.parent().find(\"ol.km-pages\");\n                    if (!this.options.pagerOverlay && pager.length) {\n                        containerHeight -= kendo._outerHeight(pager, true);\n                    }\n                }\n\n                this.element.css(\"height\", containerHeight);\n                pages[0].element.css(\"height\", containerHeight);\n                pages[1].element.css(\"height\", containerHeight);\n                pages[2].element.css(\"height\", containerHeight);\n            }\n\n            pane.updateDimension();\n\n            this._repositionPages();\n\n            this.width = size.width;\n        },\n\n        scrollTo: function(page) {\n            var buffer = this.buffer,\n                dataItem;\n\n            buffer.syncDataSource();\n            dataItem = buffer.at(page);\n\n            if (!dataItem) {\n                return;\n            }\n\n            this._updatePagesContent(page);\n\n            this.page = page;\n        },\n\n        paneMoved: function(swipeType, bounce, callback, /*internal*/ instant) {\n            var that = this,\n                pane = that.pane,\n                width = pane.size().width,\n                offset = pane.offset(),\n                thresholdPassed = Math.abs(offset) >= width / 3,\n                ease = bounce ? kendo.effects.Transition.easeOutBack : kendo.effects.Transition. easeOutExpo,\n                isEndReached = that.page + 2 > that.buffer.total(),\n                nextPage,\n                delta = 0;\n\n            if (swipeType === RIGHT_SWIPE) {\n                if (that.page !== 0) {\n                    delta = -1; //backward\n                }\n            } else if (swipeType === LEFT_SWIPE && !isEndReached) {\n                delta = 1; //forward\n            } else if (offset > 0 && (thresholdPassed && !isEndReached)) {\n                delta = 1; //forward\n            } else if (offset < 0 && thresholdPassed) {\n                if (that.page !== 0) {\n                    delta = -1; //backward\n                }\n            }\n\n            nextPage = that.page;\n            if (delta) {\n                nextPage = (delta > 0) ? nextPage + 1 : nextPage - 1;\n            }\n\n            if (callback && callback({ currentPage: that.page, nextPage: nextPage })) {\n                delta = 0;\n            }\n\n            if (delta === 0) {\n                that._cancelMove(ease, instant);\n            } else if (delta === -1) {\n                that._moveBackward(instant);\n            } else if (delta === 1) {\n                that._moveForward(instant);\n            }\n        },\n\n        updatePage: function() {\n            var pages = this.pages;\n\n            if (this.pane.offset() === 0) {\n                return false;\n            }\n\n            if (this.pane.offset() > 0) {\n                pages.push(this.pages.shift());//forward\n                this.page++;\n                this.setPageContent(pages[2], this.page + 1);\n            } else {\n                pages.unshift(this.pages.pop()); //back\n                this.page--;\n                this.setPageContent(pages[0], this.page - 1);\n            }\n\n            this._repositionPages();\n\n            this._resetMovable();\n\n            return true;\n        },\n\n        forcePageUpdate: function() {\n            var offset = this.pane.offset(),\n                threshold  = this.pane.size().width * 3/4;\n\n            if (abs(offset) > threshold) {\n                return this.updatePage();\n            }\n\n            return false;\n        },\n\n        _resetMovable: function() {\n            this.pane.moveTo(0);\n        },\n\n        _moveForward: function(instant) {\n            this.pane.transitionTo(-this.width, kendo.effects.Transition.easeOutExpo, instant);\n        },\n\n        _moveBackward: function(instant) {\n            this.pane.transitionTo(this.width, kendo.effects.Transition.easeOutExpo, instant);\n        },\n\n        _cancelMove: function(ease, /*internal*/ instant) {\n            this.pane.transitionTo(0, ease, instant);\n        },\n\n        _resetPages: function() {\n            this.page = this.options.page || 0;\n\n            this._updatePagesContent(this.page);\n            this._repositionPages();\n\n            this.trigger(\"reset\");\n        },\n\n        _onResize: function() {\n            this.pageCount = ceil(this.dataSource.total() / this.options.itemsPerPage);\n\n            if (this._pendingPageRefresh) {\n                this._updatePagesContent(this.page);\n                this._pendingPageRefresh = false;\n            }\n\n            this.trigger(\"resize\");\n        },\n\n        _onReset: function() {\n            this.pageCount = ceil(this.dataSource.total() / this.options.itemsPerPage);\n            this._resetPages();\n        },\n\n        _onEndReached: function() {\n            this._pendingPageRefresh = true;\n        },\n\n        _repositionPages: function() {\n            var pages = this.pages;\n\n            pages[0].position(LEFT_PAGE);\n            pages[1].position(CETER_PAGE);\n            pages[2].position(RIGHT_PAGE);\n        },\n\n        _updatePagesContent: function(offset) {\n            var pages = this.pages,\n                currentPage = offset || 0;\n\n            this.setPageContent(pages[0], currentPage - 1);\n            this.setPageContent(pages[1], currentPage);\n            this.setPageContent(pages[2], currentPage + 1);\n        },\n\n        setPageContent: function(page, index) {\n            var buffer = this.buffer,\n                template = this.template,\n                emptyTemplate = this.emptyTemplate,\n                view = null;\n\n            if (index >= 0) {\n                view = buffer.at(index);\n                if (Array.isArray(view) && !view.length) {\n                    view = null;\n                }\n            }\n\n            this.trigger(CLEANUP, { item: page.element });\n\n            if (view !== null) {\n                page.content(template(view));\n            } else {\n                page.content(emptyTemplate({}));\n            }\n\n            kendo.mobile.init(page.element);\n            this.trigger(ITEM_CHANGE, { item: page.element, data: view, ns: kendo.mobile.ui });\n\n        }\n    });\n\n    kendo.mobile.ui.VirtualScrollViewContent = VirtualScrollViewContent;\n\n    var Page = kendo.Class.extend({\n        init: function(container) {\n            this.element = $(\"<div class='\" + className(VIRTUAL_PAGE_CLASS) + \"'></div>\");\n            this.width = container.width();\n            this.element.width(this.width);\n            container.append(this.element);\n        },\n\n        content: function(theContent) {\n            this.element.html(theContent);\n        },\n\n        position: function(position) { //position can be -1, 0, 1\n            this.element.css(\"transform\", \"translate3d(\" + this.width * position + \"px, 0, 0)\");\n        },\n\n        setWidth: function(width) {\n            this.width = width;\n            this.element.width(width);\n        }\n    });\n\n    kendo.mobile.ui.VirtualPage = Page;\n\n    var ScrollView = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n            element = that.element;\n\n            kendo.stripWhitespace(element[0]);\n\n            element\n                .wrapInner(\"<div/>\")\n                .addClass(\"k-widget \" + className(\"scrollview\"));\n\n            if (this.options.enablePager) {\n                this.pager = new Pager(this);\n\n                if (this.options.pagerOverlay) {\n                    element.addClass(className(\"scrollview-overlay\"));\n                }\n            }\n\n            that.inner = element.children().first();\n            that.page = 0;\n            that.inner.css(\"height\", options.contentHeight);\n\n            that.pane = new ElasticPane(that.inner, {\n                duration: this.options.duration,\n                transitionEnd: proxy(this, \"_transitionEnd\"),\n                dragStart: proxy(this, \"_dragStart\"),\n                dragEnd: proxy(this, \"_dragEnd\"),\n                change: proxy(this, REFRESH)\n            });\n\n            that.bind(\"resize\", function() {\n                that.pane.refresh();\n            });\n\n            that.page = options.page;\n\n            var empty = this.inner.children().length === 0;\n\n            var content = empty ? new VirtualScrollViewContent(that.inner, that.pane, options) : new ScrollViewContent(that.inner, that.pane, options);\n\n            content.page = that.page;\n\n            content.bind(\"reset\", function() {\n                this._pendingPageRefresh = false;\n                that._syncWithContent();\n                that.trigger(REFRESH, { pageCount: content.pageCount, page: content.page });\n            });\n\n            content.bind(\"resize\", function() {\n                that.trigger(REFRESH, { pageCount: content.pageCount, page: content.page });\n            });\n\n            content.bind(ITEM_CHANGE, function(e) {\n                that.trigger(ITEM_CHANGE, e);\n\n                that.angular(\"compile\", function() {\n                    return { elements: e.item, data: [ { dataItem: e.data } ] };\n                });\n            });\n\n            content.bind(CLEANUP, function(e) {\n                that.angular(\"cleanup\", function() {\n                    return { elements: e.item };\n                });\n            });\n\n            that._content = content;\n            that.setDataSource(options.dataSource);\n\n            var mobileContainer = that.container();\n\n            if (mobileContainer.nullObject) {\n                that.viewInit();\n                that.viewShow();\n            } else {\n                mobileContainer.bind(\"show\", proxy(this, \"viewShow\")).bind(\"init\", proxy(this, \"viewInit\"));\n            }\n        },\n\n        options: {\n            name: \"ScrollView\",\n            page: 0,\n            duration: 400,\n            velocityThreshold: 0.8,\n            contentHeight: \"auto\",\n            pageSize: 1,\n            itemsPerPage: 1,\n            bounceVelocityThreshold: 1.6,\n            enablePager: true,\n            pagerOverlay: false,\n            autoBind: true,\n            template: \"\",\n            emptyTemplate: \"\"\n        },\n\n        events: [\n            CHANGING,\n            CHANGE,\n            REFRESH\n        ],\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            kendo.destroy(this.element);\n        },\n\n        viewInit: function() {\n            if (this.options.autoBind) {\n                this._content.scrollTo(this._content.page, true);\n            }\n        },\n\n        viewShow: function() {\n            this.pane.refresh();\n        },\n\n        refresh: function() {\n            var content = this._content;\n\n            content.resizeTo(this.pane.size());\n            this.page = content.page;\n            this.trigger(REFRESH, { pageCount: content.pageCount, page: content.page });\n        },\n\n        content: function(html) {\n           this.element.children().first().html(html);\n           this._content._getPages();\n           this.pane.refresh();\n        },\n\n        value: function(item) {\n            var dataSource = this.dataSource;\n\n            if (item) {\n                this.scrollTo(dataSource.indexOf(item), true);\n            } else {\n                return dataSource.at(this.page);\n            }\n        },\n\n        scrollTo: function(page, instant) {\n            this._content.scrollTo(page, instant);\n            this._syncWithContent();\n        },\n\n        prev: function() {\n            var that = this,\n                prevPage = that.page - 1;\n\n            if (that._content instanceof VirtualScrollViewContent) {\n                that._content.paneMoved(RIGHT_SWIPE, undefined, function(eventData) {\n                    return that.trigger(CHANGING, eventData);\n                });\n            } else if (prevPage > -1) {\n                that.scrollTo(prevPage);\n            }\n        },\n\n        next: function() {\n            var that = this,\n                nextPage = that.page + 1;\n\n            if (that._content instanceof VirtualScrollViewContent) {\n                that._content.paneMoved(LEFT_SWIPE, undefined, function(eventData) {\n                    return that.trigger(CHANGING, eventData);\n                });\n            } else if (nextPage < that._content.pageCount) {\n                that.scrollTo(nextPage);\n            }\n        },\n\n        setDataSource: function(dataSource) {\n            if (!(this._content instanceof VirtualScrollViewContent)) {\n                return;\n            }\n            // the scrollview should have a ready datasource for MVVM to function properly. But an empty datasource should not empty the element\n            var emptyDataSource = !dataSource;\n            this.dataSource = DataSource.create(dataSource);\n\n            this._content.setDataSource(this.dataSource);\n\n            if (this.options.autoBind && !emptyDataSource) {\n                // this.items().remove();\n                this.dataSource.fetch();\n            }\n        },\n\n        items: function() {\n            return this.element.find(\".km-\" + VIRTUAL_PAGE_CLASS);\n        },\n\n        _syncWithContent: function() {\n            var pages = this._content.pages,\n                buffer = this._content.buffer,\n                data,\n                element;\n\n            this.page = this._content.page;\n\n            data = buffer ? buffer.at(this.page) : undefined;\n            if (!(data instanceof Array)) {\n                data = [data];\n            }\n            element = pages ? pages[1].element : undefined;\n\n            this.trigger(CHANGE, { page: this.page, element: element, data: data });\n        },\n\n        _dragStart: function() {\n            if (this._content.forcePageUpdate()) {\n                this._syncWithContent();\n            }\n        },\n\n        _dragEnd: function(e) {\n            var that = this,\n                velocity = e.x.velocity,\n                velocityThreshold = this.options.velocityThreshold,\n                swipeType = NUDGE,\n                bounce = abs(velocity) > this.options.bounceVelocityThreshold;\n\n            if (velocity > velocityThreshold) {\n                swipeType = RIGHT_SWIPE;\n            } else if (velocity < -velocityThreshold) {\n                swipeType = LEFT_SWIPE;\n            }\n\n            this._content.paneMoved(swipeType, bounce, function(eventData) {\n                return that.trigger(CHANGING, eventData);\n            });\n        },\n\n        _transitionEnd: function() {\n            if (this._content.updatePage()) {\n                this._syncWithContent();\n            }\n        }\n    });\n\n    ui.plugin(ScrollView);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n/* jshint multistr: true */\n(function(f, define){\n    define('kendo.mobile.switch',[ \"./kendo.fx\", \"./kendo.userevents\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.switch\",\n    name: \"Switch\",\n    category: \"mobile\",\n    description: \"The mobile Switch widget is used to display two exclusive choices.\",\n    depends: [ \"fx\", \"userevents\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        outerWidth = kendo._outerWidth,\n        Widget = ui.Widget,\n        support = kendo.support,\n        CHANGE = \"change\",\n        SWITCHON = \"switch-on\",\n        SWITCHOFF = \"switch-off\",\n        MARGINLEFT = \"margin-left\",\n        ACTIVE_STATE = \"state-active\",\n        DISABLED_STATE = \"state-disabled\",\n        DISABLED = \"disabled\",\n        RESOLVEDPREFIX = support.transitions.css === undefined ? \"\" : support.transitions.css,\n        TRANSFORMSTYLE = RESOLVEDPREFIX + \"transform\",\n        proxy = $.proxy;\n\n    function className(name) {\n        return \"km-\" + name;\n    }\n\n    function limitValue(value, minLimit, maxLimit) {\n        return Math.max(minLimit, Math.min(maxLimit, value));\n    }\n\n    var SWITCH_MARKUP = '<span class=\"' + className(\"switch\") + ' ' + className(\"widget\") + '\">\\\n        <span class=\"' + className(\"switch-wrapper\") + '\">\\\n            <span class=\"' + className(\"switch-background\") + '\"></span>\\\n        </span> \\\n        <span class=\"' + className(\"switch-container\") + '\">\\\n            <span class=\"' + className(\"switch-handle\") + '\"> \\\n                <span class=\"' + className(\"switch-label-on\") + '\">{0}</span> \\\n                <span class=\"' + className(\"switch-label-off\") + '\">{1}</span> \\\n            </span> \\\n        </span>\\\n    </span>';\n\n    var Switch = Widget.extend({\n        init: function(element, options) {\n            var that = this, checked;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n\n            that.wrapper = $(kendo.format(SWITCH_MARKUP, options.onLabel, options.offLabel));\n            that.handle = that.wrapper.find(\".km-switch-handle\");\n            that.background = that.wrapper.find(\".km-switch-background\");\n            that.wrapper.insertBefore(that.element).prepend(that.element);\n\n            that._drag();\n\n            that.origin = parseInt(that.background.css(MARGINLEFT), 10);\n\n            that.constrain = 0;\n            that.snapPoint = 0;\n\n            element = that.element[0];\n            element.type = \"checkbox\";\n            that._animateBackground = true;\n\n            checked = that.options.checked;\n\n            if (checked === null) {\n                checked = element.checked;\n            }\n\n            that.check(checked);\n\n            that.options.enable = that.options.enable && !that.element.attr(DISABLED);\n            that.enable(that.options.enable);\n\n            that.refresh();\n            kendo.notify(that, kendo.mobile.ui);\n        },\n\n        refresh: function() {\n            var that = this,\n                handleWidth = outerWidth(that.handle, true);\n\n            that.width = that.wrapper.width();\n\n            that.constrain  = that.width - handleWidth;\n            that.snapPoint = that.constrain / 2;\n\n            if (typeof that.origin != \"number\") {\n                that.origin = parseInt(that.background.css(MARGINLEFT), 10);\n            }\n\n            that.background.data(\"origin\", that.origin);\n\n            that.check(that.element[0].checked);\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        options: {\n            name: \"Switch\",\n            onLabel: \"on\",\n            offLabel: \"off\",\n            checked: null,\n            enable: true\n        },\n\n        check: function(check) {\n            var that = this,\n                element = that.element[0];\n\n            if (check === undefined) {\n                return element.checked;\n            }\n\n            that._position(check ? that.constrain : 0);\n            element.checked = check;\n            that.wrapper\n                .toggleClass(className(SWITCHON), check)\n                .toggleClass(className(SWITCHOFF), !check);\n        },\n\n        // alias for check, NG support\n        value: function() {\n            return this.check.apply(this, arguments);\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.userEvents.destroy();\n        },\n\n        toggle: function() {\n            var that = this;\n\n            that.check(!that.element[0].checked);\n        },\n\n        enable: function(enable) {\n            var element = this.element,\n                wrapper = this.wrapper;\n\n            if(typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            this.options.enable = enable;\n\n            if(enable) {\n                element.prop(DISABLED, false);\n            } else {\n                element.attr(DISABLED, DISABLED);\n            }\n\n            wrapper.toggleClass(className(DISABLED_STATE), !enable);\n        },\n\n        _resize: function() {\n            this.refresh();\n        },\n\n        _move: function(e) {\n            var that = this;\n            e.preventDefault();\n            that._position(limitValue(that.position + e.x.delta, 0, that.width - outerWidth(that.handle, true)));\n        },\n\n        _position: function(position) {\n            var that = this;\n\n            that.position = position;\n            that.handle.css(TRANSFORMSTYLE, \"translatex(\" + position + \"px)\");\n\n            if (that._animateBackground) {\n                that.background.css(MARGINLEFT, that.origin + position);\n            }\n        },\n\n        _start: function() {\n            if(!this.options.enable) {\n                this.userEvents.cancel();\n            } else {\n                this.userEvents.capture();\n                this.handle.addClass(className(ACTIVE_STATE));\n            }\n        },\n\n        _stop: function() {\n            var that = this;\n\n            that.handle.removeClass(className(ACTIVE_STATE));\n            that._toggle(that.position > that.snapPoint);\n        },\n\n        _toggle: function (checked) {\n            var that = this,\n                handle = that.handle,\n                element = that.element[0],\n                value = element.checked,\n                duration = kendo.mobile.application && kendo.mobile.application.os.wp ? 100 : 200,\n                distance;\n\n            that.wrapper\n                .toggleClass(className(SWITCHON), checked)\n                .toggleClass(className(SWITCHOFF), !checked);\n\n            that.position = distance = checked * that.constrain;\n\n            if (that._animateBackground) {\n                that.background\n                    .kendoStop(true, true)\n                    .kendoAnimate({ effects: \"slideMargin\", offset: distance, reset: true, reverse: !checked, axis: \"left\", duration: duration });\n            }\n\n            handle\n                .kendoStop(true, true)\n                .kendoAnimate({\n                    effects: \"slideTo\",\n                    duration: duration,\n                    offset: distance + \"px,0\",\n                    reset: true,\n                    complete: function () {\n                        if (value !== checked) {\n                            element.checked = checked;\n                            that.trigger(CHANGE, { checked: checked });\n                        }\n                    }\n                });\n        },\n\n        _drag: function() {\n            var that = this;\n\n            that.userEvents = new kendo.UserEvents(that.wrapper, {\n                fastTap: true,\n                tap: function() {\n                    if(that.options.enable) {\n                        that._toggle(!that.element[0].checked);\n                    }\n                },\n                start: proxy(that._start, that),\n                move: proxy(that._move, that),\n                end: proxy(that._stop, that)\n            });\n        }\n    });\n\n    ui.plugin(Switch);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\r\n    define('kendo.mobile.tabstrip',[ \"./kendo.core\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"mobile.tabstrip\",\r\n    name: \"TabStrip\",\r\n    category: \"mobile\",\r\n    description: \"The mobile TabStrip widget is used inside a mobile view or layout footer element to display an application-wide group of navigation buttons.\",\r\n    depends: [ \"core\" ]\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        ui = kendo.mobile.ui,\r\n        Widget = ui.Widget,\r\n        ACTIVE_STATE_CLASS = \"km-state-active\",\r\n        SELECT = \"select\";\r\n\r\n    function createBadge(value) {\r\n        return $('<span class=\"km-badge\">' + value + '</span>');\r\n    }\r\n\r\n    var TabStrip = Widget.extend({\r\n        init: function(element, options) {\r\n            var that = this;\r\n\r\n            Widget.fn.init.call(that, element, options);\r\n            that.container().bind(\"show\", $.proxy(this, \"refresh\"));\r\n\r\n            that.element\r\n               .addClass(\"km-tabstrip\")\r\n               .find(\"a\").each(that._buildButton)\r\n               .eq(that.options.selectedIndex).addClass(ACTIVE_STATE_CLASS);\r\n\r\n            that.element.on(\"down\", \"a\", \"_release\");\r\n        },\r\n\r\n        events: [\r\n            SELECT\r\n        ],\r\n\r\n        switchTo: function(url) {\r\n            var tabs = this.element.find('a'),\r\n                tab,\r\n                path,\r\n                idx = 0,\r\n                length = tabs.length;\r\n\r\n            if(isNaN(url)) {\r\n                for (; idx < length; idx ++) {\r\n                    tab = tabs[idx];\r\n                    path = tab.href.replace(/(\\#.+)(\\?.+)$/, \"$1\"); // remove the fragment query string - http://www.foo.com?foo#bar**?baz=qux**\r\n\r\n                    if (path.indexOf(url, path.length - url.length) !== -1) {\r\n                        this._setActiveItem($(tab));\r\n                        return true;\r\n                    }\r\n                }\r\n            } else {\r\n                this._setActiveItem(tabs.eq(url));\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        switchByFullUrl: function(url) {\r\n            var tab;\r\n\r\n            tab = this.element.find(\"a[href$='\" + url + \"']\");\r\n            this._setActiveItem(tab);\r\n        },\r\n\r\n        clear: function() {\r\n            this.currentItem().removeClass(ACTIVE_STATE_CLASS);\r\n        },\r\n\r\n        currentItem: function() {\r\n            return this.element.children(\".\" + ACTIVE_STATE_CLASS);\r\n        },\r\n\r\n        badge: function(item, value) {\r\n            var tabstrip = this.element, badge;\r\n\r\n            if (!isNaN(item)) {\r\n                item = tabstrip.children().get(item);\r\n            }\r\n\r\n            item = tabstrip.find(item);\r\n            badge = $(item.find(\".km-badge\")[0] || createBadge(value).insertAfter(item.children(\".km-icon\")));\r\n\r\n            if (value || value === 0) {\r\n                badge.html(value);\r\n                return this;\r\n            }\r\n\r\n            if (value === false) {\r\n                badge.empty().remove();\r\n                return this;\r\n            }\r\n\r\n            return badge.html();\r\n        },\r\n\r\n        _release: function(e) {\r\n            if (e.which > 1) {\r\n                return;\r\n            }\r\n\r\n            var that = this,\r\n                item = $(e.currentTarget);\r\n\r\n            if (item[0] === that.currentItem()[0]) {\r\n                return;\r\n            }\r\n\r\n            if (that.trigger(SELECT, {item: item})) {\r\n                e.preventDefault();\r\n            } else {\r\n                that._setActiveItem(item);\r\n            }\r\n        },\r\n\r\n        _setActiveItem: function(item) {\r\n            if (!item[0]) {\r\n                return;\r\n            }\r\n            this.clear();\r\n            item.addClass(ACTIVE_STATE_CLASS);\r\n        },\r\n\r\n        _buildButton: function() {\r\n            var button = $(this),\r\n                icon = kendo.attrValue(button, \"icon\"),\r\n                badge = kendo.attrValue(button, \"badge\"),\r\n                image = button.find(\"img\"),\r\n                iconSpan = $('<span class=\"km-icon\"/>');\r\n\r\n            button\r\n                .addClass(\"km-button\")\r\n                .attr(kendo.attr(\"role\"), \"tab\")\r\n                    .contents().not(image)\r\n                    .wrapAll('<span class=\"km-text\"/>');\r\n\r\n            if (image[0]) {\r\n                image.addClass(\"km-image\").prependTo(button);\r\n            } else {\r\n                button.prepend(iconSpan);\r\n                if (icon) {\r\n                    iconSpan.addClass(\"km-\" + icon);\r\n                    if (badge || badge === 0) {\r\n                        createBadge(badge).insertAfter(iconSpan);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        refresh: function(e) {\r\n            var url = e.view.id;\r\n\r\n            if (url && !this.switchTo(e.view.id)) {\r\n                this.switchTo(url);\r\n            }\r\n        },\r\n\r\n        options: {\r\n            name: \"TabStrip\",\r\n            selectedIndex: 0,\r\n            enable: true\r\n        }\r\n    });\r\n\r\n    ui.plugin(TabStrip);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\n    define('kendo.angular',[ \"./kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"angular\",\n    name: \"AngularJS Directives\",\n    category: \"framework\",\n    description: \"Adds Kendo UI for AngularJS directives\",\n    depends: [ \"core\" ],\n    defer: true\n};\n\n(function ($, angular, undefined) {\n    \"use strict\";\n\n    // Angular2 exposes a global angular object, but it does not have an injector...\n    if (!angular || !angular.injector) {\n        return;\n    }\n\n    /*jshint eqnull:true,loopfunc:true,-W052,-W028  */\n\n    var module = angular.module('kendo.directives', []),\n        $injector = angular.injector(['ng']),\n        $parse = $injector.get('$parse'),\n        $timeout = $injector.get('$timeout'),\n        $defaultCompile,\n        $log = $injector.get('$log');\n\n    function withoutTimeout(f) {\n        var save = $timeout;\n        try {\n            $timeout = function(f){ return f(); };\n            return f();\n        } finally {\n            $timeout = save;\n        }\n    }\n\n    var OPTIONS_NOW;\n\n    var createDataSource = (function() {\n        var types = {\n            TreeList    : 'TreeListDataSource',\n            TreeView    : 'HierarchicalDataSource',\n            Scheduler   : 'SchedulerDataSource',\n            PivotGrid   : 'PivotDataSource',\n            PivotConfigurator   : 'PivotDataSource',\n            PanelBar    : 'HierarchicalDataSource',\n            Menu        : \"$PLAIN\",\n            ContextMenu : \"$PLAIN\"\n        };\n        var toDataSource = function(dataSource, type) {\n            if (type == '$PLAIN') {\n                return dataSource;\n            }\n            return kendo.data[type].create(dataSource);\n        };\n        return function(scope, element, role, source) {\n            var type = types[role] || 'DataSource';\n            var current = scope.$eval(source);\n            var ds = toDataSource(current, type);\n\n            scope.$watch(source, function(mew) {\n                var widget = kendoWidgetInstance(element);\n\n                if (widget && typeof widget.setDataSource == \"function\") {\n                    if (mew !== current && mew !== widget.dataSource) {\n                        var ds = toDataSource(mew, type);\n                        widget.setDataSource(ds);\n                        current = mew;\n                    }\n                }\n            });\n            return ds;\n        };\n    }());\n\n    var ignoredAttributes = {\n        kDataSource : true,\n        kOptions    : true,\n        kRebind     : true,\n        kNgModel    : true,\n        kNgDelay    : true\n    };\n\n    var ignoredOwnProperties = {\n        // XXX: other names to ignore here?\n        name    : true,\n        title   : true,\n        style   : true\n    };\n\n    function createWidget(scope, element, attrs, widget, origAttr, controllers) {\n        /* jshint latedef: false */\n        if (!(element instanceof jQuery)) {\n            throw new Error(\"The Kendo UI directives require jQuery to be available before AngularJS. Please include jquery before angular in the document.\");\n        }\n\n        var kNgDelay = attrs.kNgDelay,\n            delayValue = scope.$eval(kNgDelay);\n\n        controllers = controllers || [];\n\n        var ngModel = controllers[0],\n            ngForm = controllers[1];\n\n        var ctor = $(element)[widget];\n\n        if (!ctor) {\n            window.console.error(\"Could not find: \" + widget);\n            return null;\n        }\n\n        var parsed = parseOptions(scope, element, attrs, widget, ctor);\n\n        var options = parsed.options;\n\n        if (parsed.unresolved.length) {\n            var promises = [];\n\n            for (var i = 0, len = parsed.unresolved.length; i < len; i++) {\n\n                var unresolved = parsed.unresolved[i];\n\n                var promise = $.Deferred(function(d) {\n                    var unwatch = scope.$watch(unresolved.path, function(newValue) {\n                        if (newValue !== undefined) {\n                            unwatch();\n                            d.resolve();\n                        }\n                    });\n                }).promise();\n\n                promises.push(promise);\n            }\n\n            $.when.apply(null, promises).then(createIt);\n\n            return;\n        }\n\n        if (kNgDelay && !delayValue) {\n            var root = scope.$root || scope;\n\n            var register = function() {\n                var unregister = scope.$watch(kNgDelay, function(newValue) {\n                        if (newValue !== undefined) {\n                        unregister();\n                        // remove subsequent delays, to make ng-rebind work\n                        element.removeAttr(attrs.$attr.kNgDelay);\n                        kNgDelay = null;\n                        $timeout(createIt); // XXX: won't work without `timeout` ;-\\\n                    }\n                });\n            };\n\n            // WARNING: the watchers should be registered in the digest cycle.\n            // the fork here is for the timeout/non-timeout initiated widgets.\n            if (/^\\$(digest|apply)$/.test(root.$$phase)) {\n                register();\n            } else {\n                scope.$apply(register);\n            }\n\n            return;\n        } else {\n            return createIt();\n        }\n\n        function createIt() {\n            var originalElement;\n\n            if (attrs.kRebind) {\n                originalElement = $($(element)[0].cloneNode(true));\n            }\n\n            // re-parse the options here.\n            options = parseOptions(scope, element, attrs, widget, ctor).options;\n\n            if (element.is(\"select\")) {\n                (function(options){\n                    if (options.length > 0) {\n                        var first = $(options[0]);\n                        if (!/\\S/.test(first.text()) && /^\\?/.test(first.val())) {\n                            first.remove();\n                        }\n\n                        for (var i = 0; i < options.length; i++) {\n                            $(options[i]).off(\"$destroy\");\n                        }\n                    }\n                }(element[0].options));\n            }\n\n            var object = ctor.call(element, OPTIONS_NOW = options).data(widget);\n\n            exposeWidget(object, scope, attrs, widget, origAttr);\n\n            scope.$emit(\"kendoWidgetCreated\", object);\n\n            var destroyRegister = destroyWidgetOnScopeDestroy(scope, object);\n\n            if (attrs.kRebind) {\n                setupRebind(object, scope, element, originalElement, attrs.kRebind, destroyRegister, attrs);\n            }\n\n            if (attrs.kNgDisabled) {\n                var kNgDisabled = attrs.kNgDisabled;\n                var isDisabled = scope.$eval(kNgDisabled);\n                if (isDisabled) {\n                    object.enable(!isDisabled);\n                }\n                bindToKNgDisabled(object, scope, element, kNgDisabled);\n            }\n\n            if (attrs.kNgReadonly) {\n                var kNgReadonly = attrs.kNgReadonly;\n                var isReadonly = scope.$eval(kNgReadonly);\n                if (isReadonly) {\n                    object.readonly(isReadonly);\n                }\n                bindToKNgReadonly(object, scope, element, kNgReadonly);\n            }\n\n            // kNgModel is used for the \"logical\" value\n            if (attrs.kNgModel) {\n                bindToKNgModel(object, scope, attrs.kNgModel);\n            }\n\n            // 2 way binding: ngModel <-> widget.value()\n            if (ngModel) {\n                bindToNgModel(object, scope, element, ngModel, ngForm);\n            }\n\n            if (object) {\n                propagateClassToWidgetWrapper(object, element);\n            }\n\n            return object;\n        }\n    }\n\n\n    function parseOptions(scope, element, attrs, widget, ctor) {\n        var role = widget.replace(/^kendo/, '');\n        var unresolved = [];\n        var optionsPath = attrs.kOptions || attrs.options;\n        var optionsValue = scope.$eval(optionsPath);\n\n        if (optionsPath && optionsValue === undefined) {\n            unresolved.push({ option: \"options\", path: optionsPath });\n        }\n\n        var options = angular.extend({}, attrs.defaultOptions, optionsValue);\n\n        function addOption(name, value) {\n            var scopeValue = angular.copy(scope.$eval(value));\n            if (scopeValue === undefined) {\n                unresolved.push({ option: name, path: value });\n            } else {\n                options[name] = scopeValue;\n            }\n        }\n\n\n        var widgetOptions = ctor.widget.prototype.options;\n        var widgetEvents = ctor.widget.prototype.events;\n\n\n        $.each(attrs, function(name, value) {\n            if (name === \"source\" || name === \"kDataSource\" || name === \"kScopeField\" || name === \"scopeField\") {\n                return;\n            }\n\n            var dataName = \"data\" + name.charAt(0).toUpperCase() + name.slice(1);\n\n            if (name.indexOf(\"on\") === 0) { // let's search for such event.\n                var eventKey = name.replace(/^on./, function(prefix) {\n                    return prefix.charAt(2).toLowerCase();\n                });\n\n                if (widgetEvents.indexOf(eventKey) > -1) {\n                    options[eventKey] = value;\n                }\n            } // don't elsif here - there are on* options\n\n            if (widgetOptions.hasOwnProperty(dataName)) {\n                addOption(dataName, value);\n            } else if (widgetOptions.hasOwnProperty(name) && !ignoredOwnProperties[name]) {\n                addOption(name, value);\n            } else if (!ignoredAttributes[name]) {\n                var match = name.match(/^k(On)?([A-Z].*)/);\n                if (match) {\n                    var optionName = match[2].charAt(0).toLowerCase() + match[2].slice(1);\n                    if (match[1] && name != \"kOnLabel\" // XXX: k-on-label can be used on MobileSwitch :-\\\n                    ) {\n                        options[optionName] = value;\n                    } else {\n                        if (name == \"kOnLabel\") {\n                            optionName = \"onLabel\"; // XXX: that's awful.\n                        }\n                        addOption(optionName, value);\n                    }\n                }\n            }\n        });\n\n        // parse the datasource attribute\n        var dataSource = attrs.kDataSource || attrs.source;\n\n        if (dataSource) {\n            options.dataSource = createDataSource(scope, element, role, dataSource);\n        }\n\n        // deepExtend in kendo.core (used in Editor) will fail with stack\n        // overflow if we don't put it in an array :-\\\n        options.$angular = [ scope ];\n\n        return {\n            options: options,\n            unresolved: unresolved\n        };\n    }\n\n    function bindToKNgDisabled(widget, scope, element, kNgDisabled) {\n        if ((kendo.ui.PanelBar && widget instanceof kendo.ui.PanelBar) || (kendo.ui.Menu && widget instanceof kendo.ui.Menu)) {\n            $log.warn(\"k-ng-disabled specified on a widget that does not have the enable() method: \" + (widget.options.name));\n            return;\n        }\n        scope.$watch(kNgDisabled, function(newValue, oldValue) {\n            if (newValue != oldValue) {\n                widget.enable(!newValue);\n            }\n        });\n    }\n\n    function bindToKNgReadonly(widget, scope, element, kNgReadonly) {\n        if (typeof widget.readonly != \"function\") {\n            $log.warn(\"k-ng-readonly specified on a widget that does not have the readonly() method: \" + (widget.options.name));\n            return;\n        }\n        scope.$watch(kNgReadonly, function(newValue, oldValue) {\n            if (newValue != oldValue) {\n                widget.readonly(newValue);\n            }\n        });\n    }\n\n    function exposeWidget(widget, scope, attrs, kendoWidget, origAttr) {\n        if (attrs[origAttr]) {\n            var set = $parse(attrs[origAttr]).assign;\n            if (set) {\n                // set the value of the expression to the kendo widget object to expose its api\n                set(scope, widget);\n            } else {\n                throw new Error(origAttr + ' attribute used but expression in it is not assignable: ' + attrs[kendoWidget]);\n            }\n        }\n    }\n\n    function formValue(element) {\n        if (/checkbox|radio/i.test(element.attr(\"type\"))) {\n            return element.prop(\"checked\");\n        }\n        return element.val();\n    }\n\n    var formRegExp = /^(input|select|textarea)$/i;\n\n    function isForm(element) {\n        return formRegExp.test(element[0].tagName);\n    }\n\n    function bindToNgModel(widget, scope, element, ngModel, ngForm) {\n        if (!widget.value) {\n            return;\n        }\n\n        var value;\n        // Some widgets trigger \"change\" on the input field\n        // and this would result in two events sent (#135)\n        var haveChangeOnElement = false;\n\n        if (isForm(element)) {\n            value = function() {\n                return formValue(element);\n            };\n        } else {\n            value = function() {\n                return widget.value();\n            };\n        }\n\n        // Angular will invoke $render when the view needs to be updated with the view value.\n        var viewRender = function() {\n            // Update the widget with the view value.\n\n            // delaying with setTimout for cases where the datasource is set thereafter.\n            // https://github.com/kendo-labs/angular-kendo/issues/304\n            var val = ngModel.$viewValue;\n            if (val === undefined) {\n                val = ngModel.$modelValue;\n            }\n\n            if (val === undefined) {\n                val = null;\n            }\n\n            haveChangeOnElement = true;\n            setTimeout(function(){\n                haveChangeOnElement = false;\n                if (widget) { // might have been destroyed in between. :-(\n                    var kNgModel = scope[widget.element.attr(\"k-ng-model\")];\n\n                    if (kNgModel) {\n                        val = kNgModel;\n                    }\n\n                    if (widget.options.autoBind === false && !widget.listView.bound()) {\n                        if (val) {\n                            widget.value(val);\n                        }\n                    } else {\n                        widget.value(val);\n                    }\n                }\n            }, 0);\n        };\n\n        ngModel.$render = viewRender;\n        setTimeout(function() {\n            if (ngModel.$render !== viewRender) {\n                ngModel.$render = viewRender;\n                ngModel.$render();\n            }\n        });\n\n        if (isForm(element)) {\n            element.on(\"change\", function() {\n                haveChangeOnElement = true;\n            });\n        }\n\n        var onChange = function(pristine) {\n            return function() {\n                var formPristine;\n                if (haveChangeOnElement && !element.is(\"select\")) {\n                    return;\n                }\n                if (pristine && ngForm) {\n                    formPristine = ngForm.$pristine;\n                }\n                ngModel.$setViewValue(value());\n                if (pristine) {\n                    ngModel.$setPristine();\n                    if (formPristine) {\n                        ngForm.$setPristine();\n                    }\n                }\n                digest(scope);\n            };\n        };\n\n        widget.first(\"change\", onChange(false));\n        widget.first(\"spin\", onChange(false));\n\n        if (!(kendo.ui.AutoComplete && widget instanceof kendo.ui.AutoComplete)) {\n            widget.first(\"dataBound\", onChange(true));\n        }\n\n        var currentVal = value();\n\n        // if the model value is undefined, then we set the widget value to match ( == null/undefined )\n        // In telerik/kendo-ui-core#1027 we discovered that after the timeout the $viewValue arives as NaN in some weird, default form.\n        // Hence the check below.\n        if (!isNaN(ngModel.$viewValue) && currentVal != ngModel.$viewValue) {\n            if (!ngModel.$isEmpty(ngModel.$viewValue)) {\n                widget.value(ngModel.$viewValue);\n            } else if (currentVal != null && currentVal !== \"\" && currentVal != ngModel.$viewValue) {\n                ngModel.$setViewValue(currentVal);\n            }\n        }\n\n        ngModel.$setPristine();\n    }\n\n    function bindToKNgModel(widget, scope, kNgModel) {\n        if(kendo.ui.DateRangePicker && widget instanceof kendo.ui.DateRangePicker){\n            var rangePickerModels = kNgModel.split(\",\");\n            var rangePickerStartModel = rangePickerModels[0].trim();\n            var rangePickerEndModel;\n\n            bindToKNgModel(widget._startDateInput, scope, rangePickerStartModel);\n            if (rangePickerModels[1]) {\n                rangePickerEndModel = rangePickerModels[1].trim();\n                bindToKNgModel(widget._endDateInput, scope, rangePickerEndModel);\n                widget.range({start:scope[rangePickerStartModel], end:scope[rangePickerEndModel] });\n            } else {\n                widget.range({start:scope[rangePickerStartModel], end: null });\n            }\n\n            return;\n        }\n\n        if (typeof widget.value != \"function\") {\n            $log.warn(\"k-ng-model specified on a widget that does not have the value() method: \" + (widget.options.name));\n            return;\n        }\n\n        var form  = $(widget.element).parents(\"ng-form, form\").first();\n        var ngForm = kendo.getter(form.attr(\"name\"), true)(scope);\n        var getter = $parse(kNgModel);\n        var setter = getter.assign;\n        var updating = false;\n\n        var valueIsCollection = kendo.ui.MultiSelect && widget instanceof kendo.ui.MultiSelect ||\n                                kendo.ui.RangeSlider && widget instanceof kendo.ui.RangeSlider;\n\n        var length = function(value) {\n            //length is irrelevant when value is not collection\n            return value && valueIsCollection ? value.length : 0;\n        };\n\n        var currentValueLength = length(getter(scope));\n\n        widget.$angular_setLogicValue(getter(scope));\n\n        // keep in sync\n        var watchHandler = function(newValue, oldValue) {\n            if (newValue === undefined) {\n                // because widget's value() method usually checks if the new value is undefined,\n                // in which case it returns the current value rather than clearing the field.\n                // https://github.com/telerik/kendo-ui-core/issues/299\n                newValue = null;\n            }\n\n            //compare values by reference if a collection\n            if (updating || (newValue == oldValue && length(newValue) == currentValueLength)) {\n                return;\n            }\n\n            currentValueLength = length(newValue);\n            widget.$angular_setLogicValue(newValue);\n        };\n\n        if (valueIsCollection) {\n            scope.$watchCollection(kNgModel, watchHandler);\n        } else {\n            scope.$watch(kNgModel, watchHandler);\n        }\n\n        var changeHandler = function() {\n            updating = true;\n\n            if (ngForm && ngForm.$pristine) {\n                ngForm.$setDirty();\n            }\n\n            digest(scope, function(){\n                setter(scope, widget.$angular_getLogicValue());\n                currentValueLength = length(getter(scope));\n            });\n\n            updating = false;\n        };\n\n        widget.first(\"change\", changeHandler);\n        widget.first(\"spin\", changeHandler);\n    }\n\n    function destroyWidgetOnScopeDestroy(scope, widget) {\n        var deregister = scope.$on(\"$destroy\", function() {\n            deregister();\n            if (widget) {\n                kendo.destroy(widget.element);\n                widget = null;\n            }\n        });\n\n        return deregister;\n    }\n\n    // mutation observers - propagate the original\n    // element's class to the widget wrapper.\n    function propagateClassToWidgetWrapper(widget, element) {\n        if (!(window.MutationObserver && widget.wrapper)) {\n            return;\n        }\n\n        var prevClassList = [].slice.call($(element)[0].classList);\n\n        var mo = new MutationObserver(function(changes){\n            suspend();    // make sure we don't trigger a loop\n            if (!widget) {\n                return;\n            }\n\n            changes.forEach(function(chg){\n                var w = $(widget.wrapper)[0];\n                switch (chg.attributeName) {\n\n                    case \"class\":\n                        // sync classes to the wrapper element\n                        var currClassList = [].slice.call(chg.target.classList);\n                        currClassList.forEach(function(cls){\n                            if (prevClassList.indexOf(cls) < 0) {\n                                w.classList.add(cls);\n                                if (kendo.ui.ComboBox && widget instanceof kendo.ui.ComboBox) { // https://github.com/kendo-labs/angular-kendo/issues/356\n                                    widget.input[0].classList.add(cls);\n                                }\n                            }\n                        });\n                        prevClassList.forEach(function(cls){\n                            if (currClassList.indexOf(cls) < 0) {\n                                w.classList.remove(cls);\n                                if (kendo.ui.ComboBox && widget instanceof kendo.ui.ComboBox) { // https://github.com/kendo-labs/angular-kendo/issues/356\n                                    widget.input[0].classList.remove(cls);\n                                }\n                            }\n                        });\n                        prevClassList = currClassList;\n                        break;\n\n                    case \"disabled\":\n                        if (typeof widget.enable == \"function\" && !widget.element.attr(\"readonly\")) {\n                            widget.enable(!$(chg.target).attr(\"disabled\"));\n                        }\n                        break;\n\n                    case \"readonly\":\n                        if (typeof widget.readonly == \"function\" && !widget.element.attr(\"disabled\")) {\n                            widget.readonly(!!$(chg.target).attr(\"readonly\"));\n                        }\n                        break;\n                }\n            });\n\n            resume();\n        });\n\n        function suspend() {\n            mo.disconnect();\n        }\n\n        function resume() {\n            mo.observe($(element)[0], { attributes: true });\n        }\n\n        resume();\n        widget.first(\"destroy\", suspend);\n    }\n\n    function setupRebind(widget, scope, element, originalElement, rebindAttr, destroyRegister, attrs) {\n        // watch for changes on the expression passed in the k-rebind attribute\n        var unregister = scope.$watch(rebindAttr, function(newValue, oldValue) {\n            if (!widget._muteRebind && newValue !== oldValue) {\n                unregister(); // this watcher will be re-added if we compile again!\n\n                if (attrs._cleanUp) {\n                    attrs._cleanUp();\n                }\n\n                var templateOptions = WIDGET_TEMPLATE_OPTIONS[widget.options.name];\n\n                if (templateOptions) {\n                    templateOptions.forEach(function(name) {\n                        var templateContents = scope.$eval(attrs[\"k\" + name]);\n\n                        if (templateContents) {\n                            originalElement.append($(templateContents).attr(kendo.toHyphens(\"k\" + name), \"\"));\n                        }\n                    });\n                }\n\n                var _wrapper = $(widget.wrapper)[0];\n                var _element = $(widget.element)[0];\n                var isUpload = widget.options.name === \"Upload\";\n\n                if (isUpload) {\n                    element = $(_element);\n                }\n\n                var compile = element.injector().get(\"$compile\");\n                widget._destroy();\n\n                if (destroyRegister) {\n                    destroyRegister();\n                }\n\n                widget = null;\n\n                if (_element) {\n                    if (_wrapper) {\n                        _wrapper.parentNode.replaceChild(_element, _wrapper);\n                    }\n                    $(element).replaceWith(originalElement);\n                }\n\n                compile(originalElement)(scope);\n            }\n        }, true); // watch for object equality. Use native or simple values.\n        digest(scope);\n    }\n\n    function bind(f, obj) {\n        return function(a, b) {\n            return f.call(obj, a, b);\n        };\n    }\n\n    function setTemplate(key, value) {\n        this[key] = kendo.stringify(value); // jshint ignore:line\n    }\n\n    module.factory('directiveFactory', [ '$compile', function(compile) {\n        var kendoRenderedTimeout;\n        var RENDERED = false;\n\n        // caching $compile for the dirty hack upstairs. This is awful, but we happen to have elements outside of the bootstrapped root :(.\n        $defaultCompile = compile;\n\n        var create = function(role, origAttr) {\n            return {\n                // Parse the directive for attributes and classes\n                restrict: \"AC\",\n                require: [ \"?ngModel\", \"^?form\" ],\n                scope: false,\n\n                controller: [ '$scope', '$attrs', '$element', function($scope, $attrs) {\n                    this.template = bind(setTemplate, $attrs);\n                    $attrs._cleanUp = bind(function(){\n                        this.template = null;\n                        $attrs._cleanUp = null;\n                    }, this);\n                }],\n\n                link: function(scope, element, attrs, controllers) {\n                    var $element = $(element);\n\n                    // we must remove data-kendo-widget-name attribute because\n                    // it breaks kendo.widgetInstance; can generate all kinds\n                    // of funny issues like\n                    //\n                    //   https://github.com/kendo-labs/angular-kendo/issues/167\n                    //\n                    // but we still keep the attribute without the\n                    // `data-` prefix, so k-rebind would work.\n                    var roleattr = role.replace(/([A-Z])/g, \"-$1\");\n\n                    $element.attr(roleattr, $element.attr(\"data-\" + roleattr));\n                    $element[0].removeAttribute(\"data-\" + roleattr);\n\n                    var widget = createWidget(scope, element, attrs, role, origAttr, controllers);\n\n                    if (!widget) {\n                        return;\n                    }\n\n                    if (kendoRenderedTimeout) {\n                        clearTimeout(kendoRenderedTimeout);\n                    }\n\n                    kendoRenderedTimeout = setTimeout(function() {\n                        scope.$emit(\"kendoRendered\");\n                        if (!RENDERED) {\n                            RENDERED = true;\n                            $(\"form\").each(function(){\n                                var form = $(this).controller(\"form\");\n                                if (form) {\n                                    form.$setPristine();\n                                }\n                            });\n                        }\n                    });\n                }\n            };\n        };\n\n        return {\n            create: create\n        };\n    }]);\n\n    var TAGNAMES = {\n        Editor         : \"textarea\",\n        NumericTextBox : \"input\",\n        DatePicker     : \"input\",\n        DateTimePicker : \"input\",\n        TimePicker     : \"input\",\n        AutoComplete   : \"input\",\n        ColorPicker    : \"input\",\n        MaskedTextBox  : \"input\",\n        MultiSelect    : \"input\",\n        Upload         : \"input\",\n        Validator      : \"form\",\n        Button         : \"button\",\n        MobileButton        : \"a\",\n        MobileBackButton    : \"a\",\n        MobileDetailButton  : \"a\",\n        ListView       : \"ul\",\n        MobileListView: \"ul\",\n        ScrollView       : \"div\",\n        PanelBar       : \"ul\",\n        TreeView       : \"ul\",\n        Menu           : \"ul\",\n        ContextMenu    : \"ul\",\n        ActionSheet    : \"ul\",\n        Switch    : \"input\"\n    };\n\n    var SKIP_SHORTCUTS = [\n        'MobileView',\n        'MobileDrawer',\n        'MobileLayout',\n        'MobileSplitView',\n        'MobilePane',\n        'MobileModalView'\n    ];\n\n    var MANUAL_DIRECTIVES = [\n        'MobileApplication',\n        'MobileView',\n        'MobileModalView',\n        'MobileLayout',\n        'MobileActionSheet',\n        'MobileDrawer',\n        'MobileSplitView',\n        'MobilePane',\n        'MobileScrollView',\n        'MobilePopOver'\n    ];\n\n    angular.forEach(['MobileNavBar', 'MobileButton', 'MobileBackButton', 'MobileDetailButton', 'MobileTabStrip', 'MobileScrollView', 'MobileScroller'], function(widget) {\n        MANUAL_DIRECTIVES.push(widget);\n        widget = \"kendo\" + widget;\n        module.directive(widget, function() {\n            return {\n                restrict: \"A\",\n                link: function(scope, element, attrs) {\n                    createWidget(scope, element, attrs, widget, widget);\n                }\n            };\n        });\n    });\n\n    function createDirectives(klass, isMobile) {\n        function make(directiveName, widgetName) {\n            module.directive(directiveName, [\n                \"directiveFactory\",\n                function(directiveFactory) {\n                    return directiveFactory.create(widgetName, directiveName);\n                }\n            ]);\n        }\n\n        var name = isMobile ? \"Mobile\" : \"\";\n        name += klass.fn.options.name;\n\n        var className = name;\n        var shortcut = \"kendo\" + name.charAt(0) + name.substr(1).toLowerCase();\n        name = \"kendo\" + name;\n\n        // <kendo-numerictextbox>-type directives\n        var dashed = name.replace(/([A-Z])/g, \"-$1\");\n\n        if (SKIP_SHORTCUTS.indexOf(name.replace(\"kendo\", \"\")) == -1) {\n            var names = name === shortcut ? [ name ] : [ name, shortcut ];\n            angular.forEach(names, function(directiveName) {\n                module.directive(directiveName, function(){\n                    return {\n                        restrict : \"E\",\n                        replace  : true,\n                        template : function(element, attributes) {\n                            var tag = TAGNAMES[className] || \"div\";\n                            var scopeField = attributes.kScopeField || attributes.scopeField;\n\n                            return \"<\" + tag + \" \" + dashed + (scopeField ? ('=\"' + scopeField + '\"') : \"\") + \">\" + element.html() + \"</\" + tag + \">\";\n                        }\n                    };\n                });\n            });\n        }\n\n        if (MANUAL_DIRECTIVES.indexOf(name.replace(\"kendo\", \"\")) > -1) {\n            return;\n        }\n\n        // here name should be like kendoMobileListView so kendo-mobile-list-view works,\n        // and shortcut like kendoMobilelistview, for kendo-mobilelistview\n\n        make(name, name);\n        if (shortcut != name) {\n            make(shortcut, name);\n        }\n\n    }\n\n    /* -----[ utils ]----- */\n\n    function kendoWidgetInstance(el) {\n        el = $(el);\n        return kendo.widgetInstance(el, kendo.ui) ||\n            kendo.widgetInstance(el, kendo.mobile.ui) ||\n            kendo.widgetInstance(el, kendo.dataviz.ui);\n    }\n\n    function digest(scope, func) {\n        var root = scope.$root || scope;\n        var isDigesting = /^\\$(digest|apply)$/.test(root.$$phase);\n        if (func) {\n            if (isDigesting) {\n                func();\n            } else {\n                root.$apply(func);\n            }\n        } else if (!isDigesting) {\n            root.$digest();\n        }\n    }\n\n    function destroyScope(scope, el) {\n        scope.$destroy();\n        if (el) {\n            // prevent leaks. https://github.com/kendo-labs/angular-kendo/issues/237\n            $(el)\n                .removeData(\"$scope\")\n                .removeData(\"$$kendoScope\")\n                .removeData(\"$isolateScope\")\n                .removeData(\"$isolateScopeNoTemplate\")\n                .removeClass(\"ng-scope\");\n        }\n    }\n\n    var encode = kendo.htmlEncode;\n    var open = /{{/g;\n    var close = /}}/g;\n    var encOpen = '{&#8203;{';\n    var encClose = '}&#8203;}';\n\n    kendo.htmlEncode = function(str) {\n        return encode(str)\n            .replace(open, encOpen)\n            .replace(close, encClose);\n    };\n\n    var pendingPatches = [];\n\n    // defadvice will patch a class' method with another function.  That\n    // function will be called in a context containing `next` (to call\n    // the next method) and `object` (a reference to the original\n    // object).\n    function defadvice(klass, methodName, func) {\n        if (Array.isArray(klass)) {\n            return angular.forEach(klass, function(klass){\n                defadvice(klass, methodName, func);\n            });\n        }\n        if (typeof klass == \"string\") {\n            var a = klass.split(\".\");\n            var x = kendo;\n            while (x && a.length > 0) {\n                x = x[a.shift()];\n            }\n            if (!x) {\n                pendingPatches.push([ klass, methodName, func ]);\n                return false;\n            }\n            klass = x.prototype;\n        }\n        var origMethod = klass[methodName];\n        klass[methodName] = function() {\n            var self = this, args = arguments;\n            return func.apply({\n                self: self,\n                next: function() {\n                    return origMethod.apply(self, arguments.length > 0 ? arguments : args);\n                }\n            }, args);\n        };\n        return true;\n    }\n\n    kendo.onWidgetRegistered(function(entry){\n        pendingPatches = $.grep(pendingPatches, function(args){\n            return !defadvice.apply(null, args);\n        });\n        createDirectives(entry.widget, entry.prefix == \"Mobile\");\n    });\n\n    /* -----[ Customize widgets for Angular ]----- */\n\n    defadvice([ \"ui.Widget\", \"mobile.ui.Widget\" ], \"angular\", function(cmd, arg){\n        var self = this.self;\n        if (cmd == \"init\") {\n            // `arg` here should be the widget options.\n            // the Chart doesn't send the options to Widget::init in constructor\n            // hence the OPTIONS_NOW hack (initialized in createWidget).\n            if (!arg && OPTIONS_NOW) {\n                arg = OPTIONS_NOW;\n            }\n            OPTIONS_NOW = null;\n            if (arg && arg.$angular) {\n                self.$angular_scope = arg.$angular[0];\n                self.$angular_init(self.element, arg);\n            }\n            return;\n        }\n\n        var scope = self.$angular_scope;\n\n        if (scope) {\n            withoutTimeout(function(){\n                var x = arg(), elements = x.elements, data = x.data;\n                if (elements.length > 0) {\n                    switch (cmd) {\n\n                      case \"cleanup\":\n                        angular.forEach(elements, function(el){\n                            var itemScope = $(el).data(\"$$kendoScope\");\n\n                            if (itemScope && itemScope !== scope && itemScope.$$kendoScope) {\n                                destroyScope(itemScope, el);\n                            }\n                        });\n                        break;\n\n                      case \"compile\":\n                        var injector = self.element.injector();\n                        var compile = injector ? injector.get(\"$compile\") : $defaultCompile;\n\n                        angular.forEach(elements, function(el, i){\n                            var itemScope;\n                            if (x.scopeFrom) {\n                                itemScope = x.scopeFrom;\n                            } else {\n                                var vars = data && data[i];\n                                if (vars !== undefined) {\n                                    itemScope = $.extend(scope.$new(), vars);\n                                    itemScope.$$kendoScope = true;\n                                } else {\n                                    itemScope = scope;\n                                }\n                            }\n\n                            $(el).data(\"$$kendoScope\", itemScope);\n                            compile(el)(itemScope);\n                        });\n                        digest(scope);\n                        break;\n                    }\n                }\n            });\n        }\n    });\n\n    defadvice(\"ui.Widget\", \"$angular_getLogicValue\", function(){\n        return this.self.value();\n    });\n\n    defadvice(\"ui.Widget\", \"$angular_setLogicValue\", function(val){\n        this.self.value(val);\n    });\n\n    defadvice(\"ui.Select\", \"$angular_getLogicValue\", function(){\n        var item = this.self.dataItem(),\n            valueField = this.self.options.dataValueField;\n\n        if (item) {\n            if (this.self.options.valuePrimitive) {\n                if (!!valueField) {\n                    return item[valueField];\n                } else {\n                    return item;\n                }\n            } else {\n                return item.toJSON();\n            }\n        } else {\n            return null;\n        }\n    });\n\n    defadvice(\"ui.Select\", \"$angular_setLogicValue\", function(val){\n        var self = this.self;\n        var options = self.options;\n        var valueField = options.dataValueField;\n        var text = options.text || \"\";\n\n        if (val === undefined) {\n            val = \"\";\n        }\n\n        if (valueField && !options.valuePrimitive && val) {\n            text = val[options.dataTextField] || \"\";\n            val = val[valueField || options.dataTextField];\n        }\n\n        if (self.options.autoBind === false && !self.listView.bound()) {\n            if (!text && val && options.valuePrimitive) {\n                self.value(val);\n            } else {\n                self._preselect(val, text);\n            }\n        } else {\n            self.value(val);\n        }\n    });\n\n    defadvice(\"ui.MultiSelect\", \"$angular_getLogicValue\", function() {\n        var value = this.self.dataItems().slice(0);\n        var valueField = this.self.options.dataValueField;\n\n        if (valueField && this.self.options.valuePrimitive) {\n            value = $.map(value, function(item) {\n                return item[valueField];\n            });\n        }\n\n        return value;\n    });\n\n    defadvice(\"ui.MultiSelect\", \"$angular_setLogicValue\", function(val){\n        if (val == null) {\n            val = [];\n        }\n\n        var self = this.self;\n        var options = self.options;\n        var valueField = options.dataValueField;\n        var data = val;\n\n        if (valueField && !options.valuePrimitive) {\n            val = $.map(val, function(item) {\n                return item[valueField];\n            });\n        }\n\n        if (options.autoBind === false && !options.valuePrimitive && !self.listView.bound()) {\n            self._preselect(data, val);\n        } else {\n            self.value(val);\n        }\n    });\n\n    /* AutoComplete's getter and setter are removed!\n       By design, AutoComplete should be bound only to primitive string\n       value and data items are bound only to serve the list of suggestions.\n\n       Binding multiple data items is supported by the MultiSelect widget.\n    */\n\n    // All event handlers that are strings are compiled the Angular way.\n    defadvice(\"ui.Widget\", \"$angular_init\", function(element, options) {\n        var self = this.self;\n        if (options && !Array.isArray(options)) {\n            var scope = self.$angular_scope;\n            for (var i = self.events.length; --i >= 0;) {\n                var event = self.events[i];\n                var handler = options[event];\n                if (handler && typeof handler == \"string\") {\n                    options[event] = self.$angular_makeEventHandler(event, scope, handler);\n                }\n            }\n        }\n    });\n\n    // most handers will only contain a kendoEvent in the scope.\n    defadvice(\"ui.Widget\", \"$angular_makeEventHandler\", function(event, scope, handler){\n        handler = $parse(handler);\n        return function(e) {\n            digest(scope, function() {\n                handler(scope, { kendoEvent: e });\n            });\n        };\n    });\n\n    // for the Grid and ListView we add `data` and `selected` too.\n    defadvice([ \"ui.Grid\", \"ui.ListView\", \"ui.TreeView\", \"ui.PanelBar\" ], \"$angular_makeEventHandler\", function(event, scope, handler){\n        if (event != \"change\") {\n            return this.next();\n        }\n        handler = $parse(handler);\n        return function(ev) {\n            var widget = ev.sender;\n            var options = widget.options;\n            var cell, multiple, locals = { kendoEvent: ev }, elems, items, columns, colIdx;\n\n            if (angular.isString(options.selectable)) {\n                cell = options.selectable.indexOf('cell') !== -1;\n                multiple = options.selectable.indexOf('multiple') !== -1;\n            }\n            if (widget._checkBoxSelection) {\n                multiple = true;\n            }\n\n            elems = locals.selected = this.select();\n            items = locals.data = [];\n            columns = locals.columns = [];\n            for (var i = 0; i < elems.length; i++) {\n                var item = cell ? elems[i].parentNode : elems[i];\n                var dataItem = widget.dataItem(item);\n                if (cell) {\n                    if (angular.element.inArray(dataItem, items) < 0) {\n                        items.push(dataItem);\n                    }\n                    colIdx = angular.element(elems[i]).index();\n                    if (angular.element.inArray(colIdx, columns) < 0 ) {\n                        columns.push(colIdx);\n                    }\n                } else {\n                    items.push(dataItem);\n                }\n            }\n\n            if (!multiple) {\n                locals.dataItem = locals.data = items[0];\n                locals.angularDataItem = kendo.proxyModelSetters(locals.dataItem);\n                locals.selected = elems[0];\n            }\n\n            digest(scope, function() {\n                handler(scope, locals);\n            });\n        };\n    });\n\n    // If no `template` is supplied for Grid columns, provide an Angular\n    // template.  The reason is that in this way AngularJS will take\n    // care to update the view as the data in scope changes.\n    defadvice(\"ui.Grid\", \"$angular_init\", function(element, options){\n        this.next();\n        if (options.columns) {\n            var settings = $.extend({}, kendo.Template, options.templateSettings);\n            angular.forEach(options.columns, function(col){\n                if (col.field && !col.template && !col.format && !col.values && (col.encoded === undefined || col.encoded)) {\n                    col.template = \"<span ng-bind='\" +\n                        kendo.expr(col.field, \"dataItem\") + \"'>#: \" +\n                        kendo.expr(col.field, settings.paramName) + \"#</span>\";\n                }\n            });\n        }\n    });\n\n    {\n        // mobile/ButtonGroup does not have a \"value\" method, but looks\n        // like it would be useful.  We provide it here.\n\n        defadvice(\"mobile.ui.ButtonGroup\", \"value\", function(mew){\n            var self = this.self;\n            if (mew != null) {\n                self.select(self.element.children(\"li.km-button\").eq(mew));\n                self.trigger(\"change\");\n                self.trigger(\"select\", { index: self.selectedIndex });\n            }\n            return self.selectedIndex;\n        });\n\n        defadvice(\"mobile.ui.ButtonGroup\", \"_select\", function(){\n            this.next();\n            this.self.trigger(\"change\");\n        });\n    }\n\n    // mobile directives\n    module\n    .directive('kendoMobileApplication', function() {\n        return {\n            terminal: true,\n            link: function(scope, element, attrs) {\n                createWidget(scope, element, attrs, 'kendoMobileApplication', 'kendoMobileApplication');\n            }\n        };\n    }).directive('kendoMobileView', function() {\n        return {\n            scope: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    attrs._instance = createWidget(scope, element, attrs, 'kendoMobileView', 'kendoMobileView');\n                },\n\n                post: function(scope, element, attrs) {\n                    attrs._instance._layout();\n                    attrs._instance._scroller();\n                }\n            }\n        };\n    }).directive('kendoMobileDrawer', function() {\n        return {\n            scope: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    attrs._instance = createWidget(scope, element, attrs, 'kendoMobileDrawer', 'kendoMobileDrawer');\n                },\n\n                post: function(scope, element, attrs) {\n                    attrs._instance._layout();\n                    attrs._instance._scroller();\n                }\n            }\n        };\n    }).directive('kendoMobileModalView', function() {\n        return {\n            scope: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    attrs._instance = createWidget(scope, element, attrs, 'kendoMobileModalView', 'kendoMobileModalView');\n                },\n\n                post: function(scope, element, attrs) {\n                    attrs._instance._layout();\n                    attrs._instance._scroller();\n                }\n            }\n        };\n    }).directive('kendoMobileSplitView', function() {\n        return {\n            terminal: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    attrs._instance = createWidget(scope, element, attrs, 'kendoMobileSplitView', 'kendoMobileSplitView');\n                },\n\n                post: function(scope, element, attrs) {\n                    attrs._instance._layout();\n                }\n            }\n        };\n    }).directive('kendoMobilePane', function() {\n        return {\n            terminal: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    createWidget(scope, element, attrs, 'kendoMobilePane', 'kendoMobilePane');\n                }\n            }\n        };\n    }).directive('kendoMobileLayout', function() {\n        return {\n            link: {\n                pre: function (scope, element, attrs) {\n                    createWidget(scope, element, attrs, 'kendoMobileLayout', 'kendoMobileLayout');\n                }\n            }\n        };\n    }).directive('kendoMobileActionSheet', function() {\n        return {\n            restrict: \"A\",\n            link: function(scope, element, attrs) {\n                element.find(\"a[k-action]\").each(function() {\n                    $(this).attr(\"data-\" + kendo.ns + \"action\", $(this).attr(\"k-action\"));\n                });\n\n                createWidget(scope, element, attrs, 'kendoMobileActionSheet', 'kendoMobileActionSheet');\n            }\n        };\n    }).directive('kendoMobilePopOver', function() {\n        return {\n            terminal: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    createWidget(scope, element, attrs, 'kendoMobilePopOver', 'kendoMobilePopOver');\n                }\n            }\n        };\n    }).directive('kendoViewTitle', function(){\n        return {\n            restrict : \"E\",\n            replace  : true,\n            template : function(element) {\n                return \"<span data-\" + kendo.ns + \"role='view-title'>\" + element.html() + \"</span>\";\n            }\n        };\n    }).directive('kendoMobileHeader', function() {\n            return {\n                restrict: \"E\",\n                link: function(scope, element) {\n                    element.addClass(\"km-header\").attr(\"data-role\", \"header\");\n                }\n            };\n    }).directive('kendoMobileFooter', function() {\n            return {\n                restrict: 'E',\n                link: function(scope, element) {\n                    element.addClass(\"km-footer\").attr(\"data-role\", \"footer\");\n                }\n            };\n    }).directive('kendoMobileScrollViewPage', function(){\n        return {\n            restrict : \"E\",\n            replace  : true,\n            template : function(element) {\n                return \"<div data-\" + kendo.ns + \"role='page'>\" + element.html() + \"</div>\";\n            }\n        };\n    });\n\n    angular.forEach(['align', 'icon', 'rel', 'transition', 'actionsheetContext'], function(attr) {\n          var kAttr = \"k\" + attr.slice(0, 1).toUpperCase() + attr.slice(1);\n\n          module.directive(kAttr, function() {\n              return {\n                  restrict: 'A',\n                  priority: 2,\n                  link: function(scope, element, attrs) {\n                      element.attr(kendo.attr(kendo.toHyphens(attr)), scope.$eval(attrs[kAttr]));\n                  }\n              };\n          });\n    });\n\n    var WIDGET_TEMPLATE_OPTIONS = {\n        \"TreeMap\": [ \"Template\" ],\n        \"MobileListView\": [ \"HeaderTemplate\", \"Template\" ],\n        \"MobileScrollView\": [ \"EmptyTemplate\", \"Template\" ],\n        \"Grid\": [ \"AltRowTemplate\", \"DetailTemplate\", \"RowTemplate\" ],\n        \"ListView\": [ \"EditTemplate\", \"Template\", \"AltTemplate\" ],\n        \"Pager\": [ \"SelectTemplate\", \"LinkTemplate\" ],\n        \"PivotGrid\": [ \"ColumnHeaderTemplate\", \"DataCellTemplate\", \"RowHeaderTemplate\" ],\n        \"Scheduler\": [\"AllDayEventTemplate\", \"DateHeaderTemplate\", \"EventTemplate\", \"MajorTimeHeaderTemplate\", \"MinorTimeHeaderTemplate\"],\n        \"ScrollView\": [ \"Template\" ],\n        \"PanelBar\": [ \"Template\" ],\n        \"TreeView\": [ \"Template\" ],\n        \"Validator\": [ \"ErrorTemplate\" ]\n    };\n\n    (function() {\n        var templateDirectives = {};\n        angular.forEach(WIDGET_TEMPLATE_OPTIONS, function(templates, widget) {\n            angular.forEach(templates, function(template) {\n                if (!templateDirectives[template]) {\n                    templateDirectives[template] = [ ];\n                }\n                templateDirectives[template].push(\"?^^kendo\" + widget);\n            });\n        });\n\n        angular.forEach(templateDirectives, function(parents, directive) {\n            var templateName = \"k\" + directive;\n            var attrName = kendo.toHyphens(templateName);\n\n            module.directive(templateName, function() {\n                return {\n                    restrict: \"A\",\n                    require: parents,\n                    terminal: true,\n                    compile: function($element, $attrs) {\n                        if ($attrs[templateName] !== \"\") {\n                            return;\n                        }\n\n                        $element.removeAttr(attrName);\n                        var template = $element[0].outerHTML;\n\n                        return function(scope, element, attrs, controllers) {\n                            var controller;\n\n                            while(!controller && controllers.length) {\n                                controller = controllers.shift();\n                            }\n\n                            if (!controller) {\n                                $log.warn(attrName + \" without a matching parent widget found. It can be one of the following: \" + parents.join(\", \"));\n                            } else {\n                                controller.template(templateName, template);\n                                element.remove();\n                            }\n                        };\n                    }\n                };\n            });\n        });\n\n    })();\n\n\n})(window.kendo.jQuery, window.angular);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.ui.core',[\n        \"./kendo.core\",\n        \"./kendo.router\",\n        \"./kendo.touch\",\n        \"./kendo.view\",\n        \"./kendo.floatinglabel\",\n        \"./kendo.fx\",\n        \"./kendo.data.odata\",\n        \"./kendo.data.xml\",\n        \"./kendo.data\",\n        \"./kendo.data.signalr\",\n        \"./kendo.binder\",\n        \"./kendo.validator\",\n        \"./kendo.userevents\",\n        \"./kendo.draganddrop\",\n        \"./kendo.mobile.scroller\",\n        \"./kendo.resizable\",\n        \"./kendo.sortable\",\n        \"./kendo.selectable\",\n        \"./kendo.badge\",\n        \"./kendo.button\",\n        \"./kendo.bottomnavigation\",\n        \"./kendo.pager\",\n        \"./kendo.popup\",\n        \"./kendo.notification\",\n        \"./kendo.tooltip\",\n        \"./kendo.toolbar\",\n        \"./kendo.list\",\n        \"./kendo.calendar\",\n        \"./kendo.dateinput\",\n        \"./kendo.datepicker\",\n        \"./kendo.autocomplete\",\n        \"./kendo.dropdownlist\",\n        \"./kendo.combobox\",\n        \"./kendo.multiselect\",\n        \"./kendo.colorpicker\",\n        \"./kendo.listview\",\n        \"./kendo.listbox\",\n        \"./kendo.loader\",\n        \"./kendo.textbox\",\n        \"./kendo.textarea\",\n        \"./kendo.numerictextbox\",\n        \"./kendo.maskedtextbox\",\n        \"./kendo.menu\",\n        \"./kendo.editable\",\n        \"./kendo.panelbar\",\n        \"./kendo.progressbar\",\n        \"./kendo.responsivepanel\",\n        \"./kendo.tabstrip\",\n        \"./kendo.timepicker\",\n        \"./kendo.datetimepicker\",\n        \"./kendo.slider\",\n        \"./kendo.splitter\",\n        \"./kendo.dialog\",\n        \"./kendo.window\",\n        \"./kendo.virtuallist\",\n        \"./kendo.mobile.popover\",\n        \"./kendo.mobile.loader\",\n        \"./kendo.mobile.scroller\",\n        \"./kendo.mobile.shim\",\n        \"./kendo.mobile.view\",\n        \"./kendo.mobile.modalview\",\n        \"./kendo.mobile.drawer\",\n        \"./kendo.mobile.splitview\",\n        \"./kendo.mobile.pane\",\n        \"./kendo.mobile.application\",\n        \"./kendo.mobile.actionsheet\",\n        \"./kendo.mobile.button\",\n        \"./kendo.mobile.buttongroup\",\n        \"./kendo.mobile.collapsible\",\n        \"./kendo.mobile.listview\",\n        \"./kendo.mobile.navbar\",\n        \"./kendo.mobile.scrollview\",\n        \"./kendo.mobile.switch\",\n        \"./kendo.mobile.tabstrip\",\n        \"./kendo.angular\"\n    ], f);\n})(function(){\n    \"bundle all\";\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n"],"names":["define","__meta__","id","name","category","description","$","jQuery","window","undefined","kendo","cultures","extend","each","isArray","Array","proxy","noop","math","Math","Template","JSON","support","percentRegExp","formatRegExp","boxShadowRegExp","numberRegExp","FUNCTION","STRING","NUMBER","OBJECT","NULL","BOOLEAN","UNDEFINED","PREFIX","getterCache","setterCache","slice","cssPropertiesNames","noDepricateExtend","src","copyIsArray","copy","options","clone","target","arguments","i","length","deep","this","isPlainObject","Class","version","replace","proto","base","member","that","subclass","init","apply","fn","prototype","constructor","Object","_initOptions","deepExtend","isFunction","preventDefault","_defaultPrevented","isDefaultPrevented","Observable","_events","bind","eventName","handlers","one","idx","eventNames","original","handler","handlersIsFunction","events","unbind","push","first","unshift","trigger","e","sender","call","splice","compilePart","part","stringPart","split","join","charAt","rest","substring","argumentNameRegExp","encodeRegExp","escapedCurlyRegExp","curlyRegExp","escapedSharpRegExp","sharpRegExp","zeros","pad","number","digits","end","paramName","useWithBlock","render","template","data","html","compile","settings","argumentName","match","functionBody","parts","Function","_slotCount","floor","Error","format","escapable","gap","indent","meta","\b","\t","\n","\f","\r","\"","\\","rep","toString","Date","toJSON","isFinite","valueOf","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","String","Number","Boolean","quote","string","lastIndex","test","a","c","charCodeAt","str","key","holder","k","v","mind","partial","value","type","hasOwnProperty","stringify","replacer","space","","dateFormatRegExp","standardFormatRegExp","literalRegExp","commaRegExp","EMPTY","POINT","COMMA","SHARP","ZERO","PLACEHOLDER","EN","objectToString","findCulture","culture","numberFormat","getCulture","current","formatDate","date","calendar","calendars","standard","days","months","patterns","minutes","result","sign","getDate","namesAbbr","getDay","names","getMonth","getFullYear","getHours","getMinutes","getSeconds","getMilliseconds","AM","PM","getTimezoneOffset","abs","formatNumber","decimal","precision","decimals","pattern","literals","symbol","isCurrency","isPercent","customPrecision","formatAndPrecision","negative","integer","fraction","integerLength","fractionLength","replacement","ch","hasGroup","hasNegativeFormat","decimalIndex","sharpIndex","zeroIndex","hasZero","hasSharp","percentIndex","currencyIndex","startZeroIndex","start","toLocaleString","exec","toLowerCase","currency","percent","exp","toExponential","round","groupInteger","indexOf","quoteChar","literal","lastIndexOf","rounded","max",",",".","groupSize","abbr","namesShort","d","D","F","g","G","m","M","s","t","T","u","y","Y","/",":","firstDay","twoDigitYearMax","cultureName","groupSizes","shift","newGroupSize","reverse","toFixed","min","fmt","nonBreakingSpaceRegExp","values","index","placeholderFormat","parseInt","_extractFormat","_activeElement","document","activeElement","documentElement","_round","_outerWidth","element","includeMargin","outerWidth","_outerHeight","outerHeight","spaceRegExp","exponentRegExp","shortTimeZoneRegExp","longTimeZoneRegExp","dateRegExp","offsetRegExp","FORMATS_SEQUENCE","STANDARD_FORMATS","2","3","4","outOfRange","designatorPredicate","designator","mapDesignators","designators","map","adjustDST","hours","setHours","lowerArray","array","lowerLocalInfo","localInfo","newLocalInfo","property","parseExact","strict","lookAhead","getNumber","size","rg","RegExp","substr","valueIdx","getIndexByName","lower","nameLength","matchLength","matchIdx","subValue","checkLiteral","year","month","day","seconds","milliseconds","defaultYear","count","pmHour","UTC","matches","amDesignators","pmDesignators","hoursOffset","minutesOffset","hasTime","_lowerDays","_lowerMonths","parseFloat","isNaN","setFullYear","parseMicrosoftFormatOffset","offset","getDefaultFormats","cultureFormats","formatIdx","formats","concat","internalParseDate","tzoffset","timezone","convert","getShadows","shadow","css","transitions","radius","blur","left","right","bottom","wrap","autosize","percentage","parent","windowOuterWidth","removeClass","hasClass","width","style","height","percentWidth","percentHeight","forceWidth","is","addClass","boxSizing","mozBoxSizing","webkitBoxSizing","wrapResize","wrapper","wrapperStyle","display","position","destination","deepExtendOne","source","ObservableArray","LazyObservableArray","DataSource","HierarchicalDataSource","propValue","propType","propInit","destProp","ArrayBuffer","getTime","testRx","agent","rxs","dflt","rx","toHyphens","toCamelCase","strMatch","g1","toUpperCase","getComputedStyles","properties","styles","computedStyle","defaultView","getComputedStyle","getPropertyValue","currentStyle","isScrollable","className","overflow","scrollLeft","webkit","browser","mozila","mozilla","browserVersion","el","isRtl","safari","scrollWidth","clientWidth","parseDate","parseExactDate","percentSymbol","_scrollbar","scrollbar","refresh","div","createElement","cssText","innerHTML","body","appendChild","offsetWidth","removeChild","closest","table","tbodyInnerHtml","touch","docStyle","transforms","elementProto","HTMLElement","hasHW3D","WebKitCSSMatrix","cssFlexbox","prefix","hasTransitions","lowPrefix","event","devicePixelRatio","screenWidth","screen","availWidth","innerWidth","screenHeight","availHeight","innerHeight","detectOS","ua","os","minorVersion","notAndroidPhone","agentRxs","wp","fire","android","iphone","ipad","meego","webos","blackberry","playbook","windows","tizen","sailfish","ffos","osRxs","ios","flat","formFactorRxs","tablet","browserRxs","omini","omobile","firefox","mobilesafari","ie","chrome","navigator","device","majorVersion","flatVersion","cordova","PhoneGap","appMode","standalone","location","protocol","mobileOS","userAgent","wpDevicePixelRatio","hasNativeScrolling","delayedClick","attr","mouseAndTouchPresent","detectBrowser","chromiumEdgeMatch","edge","opera","msie","documentMode","chromiumEdge","detectClipboardAccess","commands","queryCommandSupported","cut","paste","clipboard","zoomLevel","ie11WidthCorrection","docEl","scrollHeight","clientHeight","top","cssClass","docElement","eventCapture","addEventListener","input","placeholder","propertyChangeEvent","types","setAttribute","cssFloat","stableSort","threshold","sorted","field","sort","b","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","selector","nodeList","querySelectorAll","parentNode","matchMedia","pushState","history","hashChange","customElements","mobileChrome","crios","obj","getOffset","positioned","pointers","msPointers","pageYOffset","pageXOffset","MSPointerEvent","PointerEvent","kineticScrollNeeded","directions","down","up","in","out","parseEffects","effects","fx","Element","prepareAnimationOptions","duration","complete","teardown","hide","completeCallback","animate","instance","queue","promise","toggleClass","classes","add","enabled","dequeue","disable","promiseShim","enable","animatedPromise","kendoStop","clearQueue","gotoEnd","stop","kendoAnimate","kendoAddClass","kendoRemoveClass","kendoToggleClass","toggle","ampRegExp","ltRegExp","quoteRegExp","aposRegExp","gtRegExp","htmlEncode","unescape","decodeURIComponent","error","_","m1","m2","fromCharCode","eventTarget","touches","originalEvent","changedTouches","elementFromPoint","clientX","clientY","callback","on","mousedown","mouseup","mousemove","mousecancel","click","resize","wrapExpression","members","localUrlRe","Widget","widgets","_widgetRegisteredCallbacks","ui","mobile","dataviz","drawing","spreadsheet","messages","keys","INSERT","DELETE","BACKSPACE","TAB","ENTER","ESC","LEFT","UP","RIGHT","DOWN","END","HOME","SPACEBAR","PAGEUP","PAGEDOWN","F2","F10","F12","NUMPAD_PLUS","NUMPAD_MINUS","NUMPAD_DOT","ns","isLocalUrl","url","expr","expression","safe","getter","setter","accessor","get","set","guid","random","chars","roleSelector","role","directiveSelector","directives","selectors","triggeredByInput","tagName","onWidgetRegistered","len","logToConsole","message","console","suppressLog","log","angular","dataSource","props","componentTypes","componentType","defaults","_hasBindingTarget","kendoBindingTarget","_tabindex","TABINDEX","tabindex","removeAttr","setOptions","_clearCssClasses","_setEvents","_applyCssClasses","force","getSize","currentSize","_size","_resize","dimensions","setSize","destroy","removeData","_destroy","_muteAngularRebind","_muteRebind","protoOptions","__proto__","prop","validFill","widgetName","cssProperties","propertyDictionary","_altname","getValidClass","widget","propName","fillMode","fill","newOptions","currentOptions","themeColor","DataBoundWidget","dataItems","flatView","_angularItems","cmd","elements","items","dataItem","templateRegExp","domElement","offsetHeight","notify","jsonRegExp","jsonFormatRegExp","dashRegExp","parseOption","option","getAttribute","parseOptions","containmentComparer","contains","resizableWidget","inArray","initWidget","roles","fullPath","widgetKeyRegExp","nodeType","widgetKey","isEmptyObject","rolesFromNamespaces","namespaces","find","addBack","filter","widgetsArray","makeArray","widgetInstance","progress","container","mask","leftRight","webkitCorrection","containerScrollLeft","scrollTop","opacity","loading","prependTo","remove","plugin","register","widgetEntry","args","method","ContainerNullObject","nullObject","MobileWidget","autoApplyNS","kendoDestroy","view","viewElement","viewHasNativeScrolling","useNativeScrolling","eq","focusable","isTabIndexNotNaN","nodeName","disabled","href","visible","pseudos","parents","appLevelNativeScrolling","application","themes","views","touchScroller","useNative","Scroller","kendoMobileScroller","suites","elementData","editorToolbar","onResize","setTimeout","unbindResize","off","attrValue","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","kendoFocusable","MOUSE_EVENTS","EXCLUDE_BUST_CLICK_SELECTOR","MouseEventNormalizer","setupMouseMute","mouseTrap","bustClick","captureMouse","stopPropagation","muteMouse","clearTimeout","mouseTrapTimeoutID","unMuteMouse","eventMap","move","cancel","MSPointerEnter","MSPointerLeave","orig","fix","special","delegateType","bindType","handle","ret","related","relatedTarget","handleObj","origType","getEventMap","eventRegEx","applyEventMap","keyDownHandler","kendoKeydown","preventKendoKeydown","kendoJQuery","context","rootjQuery","animationFrame","pop","search","touchstart","touchend","keyDownCallBack","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","Sun","Mon","Tue","Wed","Thu","Fri","Sat","ruleToDate","rule","targetDay","ourDay","time","cache","getUTCDay","setUTCDate","findRule","utcTime","rules","zone","grep","from","to","findZone","zones","zoneRules","until","zoneAndRule","info","fromOffset","toOffset","tempToOffset","diff","fromLocalOffset","toLocalOffset","toLocalDate","MS_PER_MINUTE","MS_PER_DAY","setDayOfWeek","dir","setDate","dayOfWeek","firstDayOfMonth","lastDayOfMonth","last","timeOffset","firstDayOfYear","lastDayOfYear","moveDateToWeekStart","weekStartDay","addDays","calcWeekInYear","firstWeekInYear","newDate","diffInMS","weekInYear","prevWeekDate","nextWeekDate","weekNumber","toUtcTime","toInvariantTime","isInTimeRange","msMin","msMax","msValue","isInDateRange","setTime","ignoreDST","difference","today","isToday","staticDate","addYear","currentDate","nextDay","previousDay","MS_PER_HOUR","nextYear","previousYear","stripWhitespace","createNodeIterator","iterator","NodeFilter","SHOW_TEXT","node","FILTER_ACCEPT","FILTER_REJECT","nextNode","referenceNode","textContent","trim","childNodes","child","nodeValue","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","animationQueue","themeColorValues","queueAnimation","runNextAnimation","parseQueryStringParams","queryString","params","paramParts","elementUnderCursor","x","client","wheelDeltaY","jQueryEvent","deltaY","delta","wheelDelta","detail","axis","VERTICAL_AXIS","throttle","delay","timeout","lastExecTime","throttled","elapsed","caret","rangeElement","isPosition","selectionStart","focus","setSelectionRange","selectionEnd","selection","createTextRange","collapse","moveStart","moveEnd","select","rangeDuplicated","duplicate","moveToBookmark","createRange","getBookmark","setEndPoint","text","compileMobileDirective","scope","injector","invoke","$compile","$$phase","$digest","antiForgeryTokens","tokens","csrf_token","csrf_param","cycleForm","form","firstElement","lastElement","keyCode","shiftKey","focusElement","scrollTopPositions","scrollableParents","parentsUntil","setActive","focusNextElement","focussable","nextElement","getWidgetFocusableElement","nextFocusable","addAttribute","attribute","removeAttribute","toggleAttribute","matchesMedia","mediaQuery","media","_bootstrapToMedia","bootstrapMedia","xs","sm","md","lg","xl","fileGroupMap","audio","video","image","txt","presentation","programming","pdf","config","zip","disc-image","getFileGroup","extension","withPrefix","fileTypeMap","groups","extensions","getFileSizeMessage","sizes","pow","selectorFromClasses","fillValues","shapeValues","sizeValues","roundedValues","positionModeValues","resizeValues","overflowValues","postToProxy","dataURI","fileName","proxyURL","proxyTarget","action","contentType","base64","appendTo","submit","defaultValues","registerPrefix","dict","registerValues","j","newValues","currentValue","registerCssClass","shorthand","registerCssClasses","arr","widgetProperties","widgetValues","validValue","fillModeValues","propertyToCssClassMap","getValidCssClass","whenAll","resolveValues","remaining","deferred","Deferred","failed","rejectContexts","rejectValues","resolveContexts","updateFunc","contexts","notifyWith","done","fail","resolveWith","fileSaver","downloadAttribute","saveAsBlob","blob","atob","Uint8Array","Blob","buffer","msSaveBlob","saveAsDataURI","URL","createObjectURL","download","createEvent","initMouseEvent","dispatchEvent","revokeObjectURL","saveAs","save","forceProxy","proxyModelSetters","observable","forEach","defineProperty","dirty","getSeriesColors","seriesColorsTemplate","series","colors","item","isElement","HTMLDocument","setDefaults","path","curr","class2type","_i","amd","a1","a2","a3","depends","hidden","CHANGE","BACK","SAME","CHECK_URL_INTERVAL","BROKEN_BACK_NAV","hashStrip","absoluteURL","pathPrefix","regEx","host","hashDelimiter","bang","locationHash","stripRoot","root","HistoryAdapter","back","forward","replaceLocation","PushStateAdapter","navigate","title","replaceState","normalize","pathname","change","normalizeCurrent","fixedUrl","hash","hashBang","fixHash","fixBang","HashAdapter","_id","_interval","setInterval","clearInterval","History","_started","adapter","createAdapter","historyLength","locations","silent","_navigate","backCalled","decode","_checkUrl","newLength","navigatingInExisting","prev","backButtonPressed","INIT","ROUTE_MISSING","optionalParam","namedParam","splatParam","escapeRegExp","namedParamReplace","optional","routeToRegExp","route","ignoreCase","stripUrl","Route","_callback","queryStringParams","_back","worksWith","Router","routes","_urlChangedProxy","_sameProxy","_backProxy","sameProxy","_same","backProxy","urlChangedProxy","_urlChanged","same","initEventObject","now","OS","invalidZeroEvents","DEFAULT_MIN_HOLD","CLICK_DELAY","DEFAULT_THRESHOLD","PRESS","HOLD","SELECT","START","MOVE","CANCEL","TAP","DOUBLETAP","RELEASE","GESTURESTART","GESTURECHANGE","GESTUREEND","GESTURETAP","THRESHOLD","api","mouse","pointer","ENABLE_GLOBAL_SURFACE","touchDelta","touch1","touch2","x1","y1","x2","y2","dx","dy","center","distance","sqrt","getTouches","currentTarget","identifier","pointerId","TouchAxis","_updateLocationData","startLocation","velocity","timeStamp","timeDelta","initialDelta","Touch","userEvents","touchInfo","useClickAsTap","initialTouch","pressEvent","_clicks","supportDoubleTap","_moved","_finished","press","_holdTimeout","minHold","_trigger","_tap","_clickTimeout","_hold","preventMove","_shouldNotMove","_withinIgnoreThreshold","UserEvents","_start","dispose","endTime","activeTouches","skip","isMoved","startTime","xDelta","yDelta","withEachUpEvent","downEvents","_maxTouches","multiTouch","allowSelection","captureUpIfMoved","fastTap","eventNS","surface","global","ownerDocument","pressed","defaultAction","touchAction","preventDragEvent","surfaceElement","preventIfMovingProxy","preventIfMoving","_isMoved","_destroyed","removeEventListener","_disposeAll","capture","_isMultiTouch","_apiCall","_maxTouchesReached","_select","which","_move","_eachTouch","_end","_click","pageX","pageY","methodName","matchingTouch","defaultThreshold","MAX_DOUBLE_TAP_DISTANCE","eventProxy","_triggerTouch","gestureEventProxy","hold","tap","gesturestart","gesturechange","gestureend","enableSwipe","minXDelta","maxYDelta","maxDuration","doubleTapTimeout","lastTap","_dragstart","_swipestart","_swipemove","direction","NEWLINE","DOUBLELINE","odataFilters","neq","gt","gte","lt","lte","doesnotcontain","endswith","startswith","isnull","isnotnull","isnullorempty","isnotnullorempty","isempty","isnotempty","odataFiltersVersionFour","mappers","pageSize","page","useVersionFour","toOdataFilter","$filter","orderby","order","$orderby","$skip","take","$top","defaultDataType","read","dataType","useOdataFour","logic","operator","filters","stripMetadata","hex16","createBoundary","createDelimeter","boundary","close","createCommand","transport","httpVerb","command","transportUrl","commandPrefix","getOperationHeader","changeset","changeId","header","getOperationContent","content","getOperations","collection","skipContent","requestBody","processCollection","colection","getBoundary","createBatchRequest","colections","batch","batchURL","headers","Content-Type","updated","destroyed","created","parseBatchResponse","responseText","responseMarkers","markerIndex","collections","changeBody","status","code","marker","jsonModel","models","passed","parse","schemas","odata","results","total","transports","jsonp","update","create","parameterMap","$inlinecount","$format","odata-v4","$count","ajax","success","response","responses","XmlDataReader","model","errors","serialize","modelBase","Model","fields","idField","xpathToMember","evaluate","modelInstance","record","_parse","xmlParse","xml","parseDOM","parsedNode","attributes","attributeCount","firstChild","nextSibling","intermediateResult","tree","parseXML","raw","readers","features","ASCENDING","CREATE","READ","UPDATE","DESTROY","SYNC","GET","ERROR","REQUESTSTART","PROGRESS","REQUESTEND","crud","identity","o","objectKeys","ObservableObject","wrapAll","at","serializeFunctions","json","object","omitChangeEvent","howMany","children","thisArg","reduce","reduceRight","every","some","empty","Symbol","_parent","eventHandler","_notifyChange","ownKeys","ignoreObjectKeys","filteredObjectKeys","getOwnPropertyNames","getPrototypeOf","_handlers","uid","shouldSerialize","f","_set","composite","paths","isSetPrevented","isObservableArray","isDataSource","equal","xtype","ytype","parsers","boolean","default","getFieldByName","fieldName","_initializers","dirtyFields","_defaultId","editable","accept","isNew","Comparer","originalName","functionFields","nullable","defaultValue","compare","localeCompare","combine","comparers","StableComparer","asc","valueA","valueB","__position","desc","operators","textOp","impl","ignore","accentFoldingFiltering","toLocaleLowerCase","op","getMatchRegexp","esc","doesnotstartwith","n","doesnotendwith","doesnotmatch","Query","normalizeSort","descriptor","descriptors","sortFields","sorts","sortObject","filterExpr","expressions","and","or","fieldFunctions","operatorFunctions","operatorMap","==","equals","isequalto","equalto","!=","ne","notequals","isnotequalto","notequalto","notequal","<","islessthan","lessthan","less","<=","le","islessthanorequalto","lessthanequal",">","isgreaterthan","greaterthan","greater",">=","isgreaterthanorequalto","greaterthanequal","ge","notsubstringof","normalizeOperator","normalizeFilter","compareDescriptor","f1","f2","normalizeDescriptor","fieldComparer","compareFilters","expr1","expr2","filters1","filters2","normalizeAggregate","normalizeGroup","skipItemSorting","aggregates","normalizeGroupWithoutCompare","anyGroupDescriptorHasCompare","groupDescriptors","groupValueComparer","calculateAggregate","accumulator","state","aggr","functionName","aggregate","functions","toArray","range","inPlace","orderBy","orderByDescending","comparer","compiled","predicate","group","allData","groupPaging","groupAllData","hasSubgroups","itemCount","subgroupCount","groupBy","_sortForGrouping","groupValue","_sortGroups","sum","isNumber","average","isDate","val","process","customGroupSort","query","groupDescriptorsWithoutCompare","normalizedSort","groupDescriptorsWithoutSort","filterCallback","flatGroups","groupDescriptor","LocalTransport","RemoteTransport","Cache","setup","parameters","operation","_store","clear","serializeRecords","getters","originalFieldNames","fieldNames","setters","convertRecords","convertGroup","wrapDataAccess","originalFunction","converter","wrapDataAccessBase","store","inmemory","DataReader","schema","dataFunction","_dataAccessFunction","groupsFunction","serializeFunction","serializeGetters","fromName","_wrapDataAccessBase","fillLastGroup","originalGroup","newGroup","currOriginal","currentNew","mergeGroups","dest","indexFunction","groupsLength","indexFn","groupIndex","itemIndex","flattenGroups","wrapGroupItems","eachGroupItems","func","replaceInRanges","ranges","replaceInRange","replaceWithObservable","serverGrouping","viewIndex","removeModel","indexOfPristineModel","indexOfModel","fieldNameFromModel","convertFilterDescriptorsField","convertDescriptorsField","_map","_prefetch","_data","_pristineData","_ranges","_view","_pristineTotal","_pageSize","_page","_sort","_sortFields","_filter","_group","_aggregate","_total","_groupPaging","_groupsState","_shouldDetachObservableParents","Transport","pushCreate","_pushCreate","pushUpdate","_pushUpdate","pushDestroy","_pushDestroy","offlineStorage","_storage","getItem","localStorage","setItem","reader","_detachObservableParents","_observe","_online","serverSorting","serverPaging","serverFiltering","serverAggregates","inPlaceSort","online","sync","resolve","offlineData","_isServerGrouped","_isServerGroupPaged","_isGroupPaged","_push","_readData","_flatData","useRanges","getByUid","_getByUid","_storeData","_addRange","_process","_observeView","insert","_createNewModel","_wrapInEmptyGroup","_insertModelInRange","pushInsert","rangeSpan","_getCurrentRangeSpan","pushed","autoSync","pristine","pristineData","_updatePristineForModel","_removeItems","removePristine","shouldRemovePristine","found","_eachItem","_removePristineForModel","pushMove","_moveItems","moved","hasGroups","_removeModelFromRanges","promises","_sendSubmit","_send","when","then","_accept","_syncEnd","_change","cancelChanges","_cancelModel","_changesCanceled","_markOfflineUpdatesAsDirty","__state__","hasChanges","serverGroup","_handleCustomErrors","_executeOnPristineForModel","_eachPristineItem","_pristineForModel","_modelCanceled","_submit","reject","_promise","converted","_params","_queueRequest","isPrevented","_dequeueRequest","_readAggregates","replaceSubset","_serverGroupsTotal","_aggregateResult","itemIds","_skip","endless","_changeHandler","updatePristine","timestamp","_timeStamp","outerStart","outerEnd","_sortRanges","_groupsFlat","_appendToGroupsFlat","_updateOuterRangesLength","_getGroupByUid","xhr","errorThrown","_requestInProgress","_pending","_shouldWrap","arrayType","_updateTotalForAction","_calculateAggregates","_take","currentRangeStart","_clearEmptyGroups","_queryProcess","dataToAggregate","_setView","_setFilterTotal","_mergeState","_currentRangeStart","remote","moreItemsCount","_hasExpandedSubGroups","_findGroupedRange","itemsLength","groupCount","itemsToSkip","taken","_fetchGroupItems","_fetchingGroupItems","skipped","includeParents","excludeHeader","currentItems","_expandedSubGroupItemsCount","includeCurrentItems","subGroup","endSpecified","temp","groupItemsSkip","firstItem","lastItem","groupItemCount","expandedSubGroupItemsCount","getGroupItems","notFetched","subgroups","_composeItemsFilter","findSubgroups","_timeout","_groupItemsSuccessHandler","totalField","totalCount","_updateRangePristineData","countAdded","_currentRequestTimeStamp","_skipRequestsInProgress","indexOfCurrentGroup","rangesLength","currentGroup","dataLength","indexes","currIdx","_containsSubGroup","_cloneGroup","subgroup","currentSubGroup","filterTotal","setDefaultValue","fetch","_query","next","totalPages","_pageableQueryOptions","getGroupsFlat","groupsTotal","includeExpanded","_calculateGroupsTotal","itemsField","ignoreState","_groupsTotal","countGroupRange","_emptyAggregates","ceil","inRange","_findRange","lastRange","firstItemUid","enableRequestsInProgress","pageSkip","_processRangeData","_originalPageSkip","_originalSize","_adjustPageSkip","_groupRangeExists","_rangeExists","prefetch","skipIdx","takeIdx","startIndex","endIndex","rangeData","rangeEnd","processed","flatData","groupMapOptions","prevRangeEnd","isGroupPaged","startField","endField","currentDataLength","_mergeGroups","_getRangesMismatch","mismatch","prevGroup","eventData","_omitPrefetch","paging","sorting","filtering","_prefetchSuccessHandler","_multiplePrefetch","prevRange","_getPrevRange","_getNextRange","availableItemsCount","_removeModelFromRange","_updateRangesLength","mismatchFound","mismatchLength","lengthDifference","rangeLength","inferSelect","firstField","secondField","optgroup","label","specified","inferTable","tbody","tBodies","rows","fieldIndex","fieldCount","cells","cell","transportOptions","Node","hasChildren","childrenField","childrenOptions","hasChildrenObject","_childrenOptions","_initChildren","_loaded","_updateChildrenField","append","loaded","level","_childrenLoaded","load","_matchFilter","dataMethod","_attachBubbleHandlers","_hierarchicalFilter","_markHierarchicalQuery","_updateHierarchicalFilter","_find","inferList","list","textField","urlField","spriteCssClassField","imageUrlField","textChild","_dataSource","Buffer","viewSize","disablePrefetch","_prefetching","_reset","_syncWithDataSource","setViewSize","_recalculate","itemPresent","dataOffset","prefetchThreshold","midPageThreshold","nextMidRange","nextPageThreshold","nextFullRange","pullBackThreshold","previousMidRange","previousFullRange","_goToRange","nextRange","syncDataSource","prefetchOffset","expanding","_expanding","_syncPending","_firstItemUid","BatchBuffer","batchSize","batchBuffer","endreached","prefetching","prefetched","reset","binders","VALUE","SOURCE","EVENTS","CHECKED","CSS","deleteExpando","Binding","dependencies","_access","_parents","dependency","currentSource","EventBinding","TemplateBinding","Binder","bindings","binding","TypedBinder","parsedValue","_parseValue","dataSourceBinding","bindingName","_dataBinding","dataBinding","_dataBound","dataBound","_itemChange","itemChange","bindElement","_ns","removedItems","unbindElementTree","all","addedItems","hds","addedDataItems","multiselect","dropdowntree","Select","MultiSelect","DropDownTree","treeview","retrievePrimitiveValues","dataValueField","readonly","dataFormat","invisible","valueUpdate","_initChange","autoBind","valueField","cloneNode","reference","insertBefore","unbindElementChildren","checked","selectedIndex","selected","valuePrimitive","valueIndex","sourceValue","optionIndex","optionValue","check","_range","floatingLabel","_valueIsObservableObject","_valueIsObservableArray","_source","dataTextField","isObservableObject","valueLength","sourceItem","cascadeFrom","listView","bound","_preselect","oldValues","selectedNode","nonPrimitiveValues","_isMultipleSelection","_getAllChecked","old","removeIndex","newValue","arraySplice","selectedValue","gantt","_isBound","scheduler","grid","badge","addLength","oldLength","shifted","shiftedLength","BindingTarget","toDestroy","hasValue","hasSource","hasEvents","hasChecked","hasCss","widgetBinding","WidgetBindingTarget","specificBinders","applyBinding","binder","bindingTargetForRole","keyValueRegExp","whiteSpaceRegExp","parseBindings","token","colonIndex","createBindings","childrenCopy","unbindElement","dom","destroyWidget","bindingTarget","destroyWidgets","namespace","observableHierarchy","recursiveRead","scaleProperties","scale","scalex","scaley","scale3d","translateProperties","translate","translatex","translatey","translate3d","hasZoom","zoom","matrix3dRegExp","cssParamsRegExp","translateXRegExp","oldEffectsRegExp","singleEffectRegExp","unitRegExp","transformProps","transform2d","transform2units","rotate","skew","cssPrefix","BLANK","PX","NONE","AUTO","WIDTH","HEIGHT","HIDDEN","ORIGIN","ABORT_ID","OVERFLOW","TRANSLATE","POSITION","COMPLETE_CALLBACK","TRANSITION","TRANSFORM","BACKFACE","PERSPECTIVE","DEFAULT_PERSPECTIVE","TRANSFORM_PERSPECTIVE","transition","vertical","modifier","horizontal","stopQueue","animationProperty","transformValue","step","elem","curProxy","cur","parseInteger","parseCSS","acc","propertyName","strip3DTransforms","normalizeCSS","transformation","cssValues","lowerKey","isTransformed","exclusive","ease","mirror","redirectedEffect","resolved","$1","$2","effect","effectBody","oldKeys","timeoutID","stopTransitionCalled","stopTransition","speeds","merge","uniqueSort","unique","taskKeys","retainPosition","transform","computed","atan2","EffectSet","restore","run","jdx","childrenLength","setReverse","addRestoreProperties","prepare","effectName","restoreCallback","Effect","effectClass","effectSet","parsedEffects","capitalize","useTransition","show","multiple","single","isFixed","originalPosition","dX","dY","marginLeft","marginTop","_direction","_additionalEffects","_reverse","play","additional","_duration","compositeRun","_complete","shouldHide","word","createEffect","definition","opt1","opt2","opt3","theDirection","FOUR_DIRECTIONS","IN_OUT","createToggleEffect","defaultStart","defaultEnd","startValue","_startValue","endValue","_endValue","_shouldHide","startDataValue","startDataValueIsSet","divisor","tmp","previous","previousDivisor","slideIn","origin","margin","setLength","realLength","TRANSFER_START_STATE","CLIPS","outerBox","box","innerBox","currentScale","fillScale","transformOrigin","ROTATIONS","clipInHalf","_container","rotation","zIndex","_clipInHalf","clip","face","_face","temporary","reverseDirection","faceClone","backClone","staticPage","turningPage","transformStyle","RESTORE_OVERFLOW","IGNORE_TRANSITION_EVENT_SELECTOR","Animation","_before","_after","transitionClass","_previous","_transitionClass","beforeTransition","afterTransition","_both","_element","_containerClass","containerClass","completeProxy","isAbsolute","both","originalOverflow","_tickProxy","_tick","tick","onEnd","onCancel","Transition","timePassed","startDate","moveTo","movable","initial","_easeProxy","moveAxis","easeOutExpo","easeOutBack","inner","outer","fitScale","SCRIPT","TRANSITION_START","TRANSITION_END","SHOW","HIDE","ATTACH","DETACH","sizzleErrorRegExp","bodyRegExp","LOAD_START","LOAD_COMPLETE","SHOW_START","SAME_VIEW_REQUESTED","VIEW_SHOW","VIEW_TYPE_DETERMINED","AFTER","classNames","stretchedView","footer","View","renderOnInit","_createElement","wrapInSections","_renderSections","_wrap","_evalTemplate","evalTemplate","_useWithBlock","_fragments","detachOnHide","detachOnDestroy","notInitialized","_eachFragment","ViewClone","triggerBeforeShow","triggerBeforeHide","showStart","showEnd","hideEnd","detach","purge","fragments","getElementById","contents","replaceWith","_wrapper","_createContent","_createHeader","_createFooter","contentSelector","ccontentElements","contentElement","Layout","containers","_createContainer","showIn","ViewContainer","Fragment","attach","transitionRegExp","parseTransition","running","after","locationID","previousEntry","theTransition","transitionData","ViewEngine","sandbox","_hideViews","rootView","layouts","viewContainer","showView","remoteViewURLPrefix","_findViewElement","reload","_createView","urlPath","wrapInner","_locate","$angular","_findViewElementById","_createSpaView","_createMobileView","defaultTransition","loader","getLayout","getLayoutProxy","modelScope","viewOptions","NS","FLOATINGLABELCONTAINER","FOCUSED","STATEDISABLED","NOCLICKCLASS","STATEREADONLY","FloatingLabel","_editable","useReadOnlyClass","isJQueryPromise","isNativePromise","catch","signalr","hub","callbacks","_crud","server","INVALIDMSG","invalidMsgRegExp","INVALIDINPUT","VALIDINPUT","VALIDATIONSUMMARY","INVALIDLABEL","MESSAGEBOX","INPUTINNER","INPUTWRAPPER","ARIAINVALID","ARIADESCRIBEDBY","emailRegExp","urlRegExp","INPUTSELECTOR","CHECKBOXSELECTOR","NUMBERINPUTSELECTOR","BLUR","NAME","FORM","NOVALIDATE","VALIDATE","VALIDATE_INPUT","patternMatcher","matcher","hasAttribute","validator","allowSubmit","validateOnInit","resolveRules","resolvers","ruleResolvers","numberOfDecimalDigits","parseHtml","parseHTML","searchForMessageContainer","isLabelFor","SUMMARYTEMPLATE","Validator","validateAttributeSelector","_errorTemplate","errorTemplate","_summaryTemplate","validationSummary","_inputSelector","_checkboxSelector","_errors","_attachEvents","_isValidated","_validateOnInit","validate","required","email","dateCompare","captcha","noNameCheckbox","namedCheckbox","checkbox","radio","raise","isValidated","isValid","getCaptchaId","_validating","_checkElement","warn","validateOnBlur","_allowSubmit","stopImmediatePropagation","validateInput","inputs","invalid","showValidationSummary","valid","_checkValidity","lbl","_findMessageContainer","messageText","_extractMessage","messageLabel","wasValid","isInputInner","inputWrapper","lblId","_decorateMessageContainer","parentElement","prevElement","insertAfter","inputWrap","_inputWrapper","inputLabel","_inputLabel","errorId","_associateMessageContainer","hideMessages","_disassociateMessageContainers","labels","hideValidationSummary","locators","messageLocators","getElementsByTagName","locate","decorate","ruleKey","customMessage","nonDefaultMessage","_getInputNames","_errorsByName","inputNames","_renderSummary","_summaryClick","link","summary","errorsList","$window","draggables","dropTargets","dropAreas","lastDropTarget","KEYUP","DRAGSTART","DRAG","DRAGEND","DRAGCANCEL","HINTDESTROYED","DRAGENTER","DRAGLEAVE","DROP","numericCssPropery","within","containerBoundaries","minX","minY","maxX","maxY","checkTarget","targets","areas","theTarget","theFilter","targetLen","areaLen","targetElement","TapCapture","_press","_release","attachEvent","captureNext","cancelCapture","PaneDimension","forcedEnabled","measure","scrollSize","makeVirtual","virtual","_virtualMin","_virtualMax","virtualSize","outOfBounds","forceEnabled","getTotal","rescale","scaledTotal","minScale","centerOffset","PaneDimensions","forcedMinScale","maxScale","newScale","centerCoordinates","PaneAxis","dimension","dragMove","resistance","translateAxis","Pane","elastic","gesture","previousGesture","previousCenter","scaleDelta","coordinates","offsetX","offsetY","scaleWith","TRANSFORM_STYLE","Movable","webkitTransformOrigin","_saveCoordinates","by","scaleTo","newCoordinates","destroyDroppable","groupName","droppables","DropTarget","draggable","dropTarget","_over","_out","_drop","dropped","DropTargetArea","destroyGroup","_cache","Draggable","_activated","_drag","_cancel","_afterEndHandler","_afterEnd","_captureEscape","cursorOffset","holdToDrag","autoScroll","cancelHold","_updateHint","boundaries","hintOffset","hint","_shouldIgnoreTarget","ignoreSelector","currentTargetOffset","scopeTarget","scopeFrom","cursorElement","_elementUnderCursor","_cursorElement","_scrollableParent","findScrollableParent","_lastEvent","_processMovement","autoScrollVelocity","scrollableViewPort","_scrollCompenstation","_scrollVelocity","_scrollInterval","_withDropTarget","_autoScroll","compensation","yIsScrollable","xIsScrollable","isRootNode","scrollableRoot","yInBounds","xInBounds","initialTarget","mouseX","mouseY","rect","AUTO_SCROLL_AREA","utils","SNAPBACK_DURATION","SCROLLBAR_OPACITY","FRICTION","VELOCITY_MULTIPLIER","MAX_VELOCITY","OUT_OF_BOUNDS_FRICTION","ANIMATED_SCROLLER_PRECISION","RELEASECLASS","REFRESHCLASS","PULL","RESIZE","SCROLL","MOUSE_WHEEL_ID","ZoomSnapBack","tapCapture","DragInertia","freeze","_moveTo","paneAxis","_snapBack","velocityMultiplier","friction","snapBack","AnimatedScroller","_updateCoordinates","setCoordinates","setCallback","ScrollBar","controlsId","elementSize","scrollMovable","alwaysVisible","paneSize","sizeRatio","_ariaValue","visibility","_native","prepend","scrollElement","fixedContainer","avoidScrolling","velocityX","velocityY","horizontalSwipe","originatedFromFixedContainer","verticalSwipe","pane","zoomSnapBack","animatedScroller","scrollTo","mousewheelScrolling","pulled","_initAxis","_wheelEnd","_wheel","_wheelY","pullToRefresh","_initPullToRefresh","_wheelScroll","ctrlKey","_wheelTimeout","pullOffset","visibleScrollHints","pullTemplate","releaseTemplate","refreshTemplate","contentResized","_scale","zoomOut","animatedScrollTo","pullHandled","refreshHint","hintContainer","yinertia","xinertia","_paneChange","_dragEnd","elementId","scrollBar","advanced","HORIZONTAL","VERTICAL","RESIZEEND","Resizable","orientation","_positionMouse","_position","_sizingDom","draggableElement","drag","dragcancel","dragstart","dragend","_stop","_max","hintSize","_initialElementPosition","_min","_initialMousePosition","_maxPosition","_minPosition","maxPosition","minPosition","currentPosition","invalidClass","resizing","targetPosition","BEFORE_MOVE","ACTION_SORT","ACTION_REMOVE","ACTION_RECEIVE","DEFAULT_FILTER","MISSING_INDEX","containsOrEqualTo","defaultHint","defaultPlaceholder","Sortable","_createDraggable","connectWith","cursor","moveOnDragEnter","_dragcancel","_dragend","draggedElement","_placeholder","draggableEvent","before","_setCursor","_resetCursor","_findTarget","targetCenter","offsetDelta","axisDelta","sibling","getSibling","_movementByAxis","_getElementCenter","appendToBottom","_movePlaceholder","appendAfterHidden","_isFloating","draggedIndex","placeholderIndex","connectedList","connectedListEventData","oldIndex","newIndex","getKendoSortable","_findElementUnderCursor","has","sortable","_isEmpty","_isLastHidden","_searchConnectedTargets","connected","sortableInstance","_isCursorAfterLast","lastItemOffset","cursorPosition","_originalCursorType","_cursorStylesheet","isFloating","isTable","isHorizontalFlex","_items","not","ARIASELECTED","SELECTED","ACTIVE","SELECTABLE","UNSELECT","UNSELECTING","supportEventDelegation","Selectable","_marquee","_lastActive","inputSelectors","ignoreOverlapped","addIdToRanges","_isElement","metaKey","selectedClass","whichCode","buttonCode","button","_allowSelection","selectRange","_firstSelectee","_unselect","_notify","_downTarget","currentElement","useAllItems","_selectElement","_invalidateSelectables","rangeSelectedAttr","_currentlyActive","toSelect","collision","_collidesWithActiveElement","marqueeRect","activeElements","elemRect","getBoundingClientRect","activeElementRect","tempRect","overlaps","selectElement","selectedRanges","rangeId","mapLocation","selectedSingleItems","preventNotify","aria","resetTouchEvents","continuousItems","elementPosition","firstRect","secondRect","selectable","selectableMode","mode","asLowerString","iconTemplate","svgIconTemplate","Badge","_content","_appearance","cutoutBorder","icon","Infinity","align","small","medium","large","shape","_classNames","_text","_template","_themeColor","_shape","_sizes","_fill","_cutoutBorder","_align","_visible","_updateClassNames","keepClassNames","sizeAbbr","iconTemplateFunction","_icon","color","HTMLBase","stylingOptions","_addClasses","outerHTML","KBUTTON","KBUTTONICON","KBUTTONTEXT","renderButton","HTMLButton","iconElement","_textElement","iconClass","spriteCssClass","imageUrl","span","img","isEmpty","newSpan","createTextNode","replaceChild","classList","CLICK","MOUSEDOWN","MOUSEUP","MOUSEOUT","DISABLED","DISABLEDSTATE","FOCUSEDSTATE","SELECTEDSTATE","BUTTON_DEFAULTS","Button","_badge","_focus","_blur","_keydown","_removeActive","_addActive","_isNativeButton","err","badgeOptions","badgeEelement","K_POS","DOT","isString","bottomNavigationStyles","navIcon","itemFlow","border","templates","anchor","BottomNavigation","_updateCssClasses","_bindEvents","positionMode","cachedTabIndex","_itemFlow","orientationStyles","_toggleClassGroup","_renderItem","itemTemplate","isLink","elm","aria-disabled","encoded","clickProxy","keydownProxy","ev","_triggerSelect","_isItem","selectedItem","itemById","showText","textItems","FIRST","LAST","PREV","NEXT","SIZE","FOCUSABLE","KEYDOWN","MAX_VALUE","numeric","navigatable","selectOption","wrapClassName","Pager","sizeClassName","_createDataSource","linkTemplate","selectTemplate","currentPageTemplate","numericSelectItemTemplate","_refreshHandler","downEvent","previousNext","_numericWrap","_numericSelect","navigatalbe","pageButtonLabel","of","pageSizes","pageItems","allPages","itemsPerPage","DropDownList","pageSizeDropDownLabel","kendoDropDownList","_refreshClick","_numericSelectChange","_resizeHandler","_getWidthSizeClass","_navigatable","ARIATemplate","numericItemTemplate","buttonCount","responsive","morePages","setDataSource","reminder","selectHtml","collapsedTotal","_collapsedTotal","hasAll","selectAll","_restoreFocus","_excludeChildrenFromTab","_updateAria","_focusSelected","_focusMore","_restoreTabIndexes","_ariaTemplate","_keyDown","allFocusable","handled","focusedIndex","OPEN","CLOSE","DEACTIVATE","ACTIVATE","CENTER","TOP","BOTTOM","ABSOLUTE","BODY","LOCATION","VISIBLE","EFFECTS","ACTIVEBORDER","ACTIVEBORDERREGEXP","ACTIVECHILDREN","DOCUMENT_ELEMENT","WINDOW","Popup","parentPopup","collisions","_hovered","scrollArea","animation","open","_animationClose","_mousedownProxy","_mousedown","_resizeProxy","toggleTarget","toggleEvent","viewport","copyAnchorStyles","modal","adjustSize","omitOriginOffsets","_hideDirClass","_closing","_toggleResize","fixed","flipped","_openAnimation","_showDirClass","_location","dirClass","skipEffects","openEffects","closeEffects","popup","_resizeTimeout","_scrollableParents","_fit","viewPortSize","output","_flip","anchorSize","boxSize","isWindow","origins","positions","siblingContainer","parentZIndex","viewportOffset","viewportWidth","viewportHeight","siblings","pos","offsetParent","anchorParent","offsets","flipPos","elementHeight","wrapperHeight","verticalOrigin","horizontalOrigin","verticalPosition","horizontalPosition","anchorOffset","appendToOffset","anchorWidth","anchorHeight","tabKeyTrapNS","focusableNodesSelector","TabKeyTrap","trap","_keepInTrap","removeTrap","shouldTrap","_focusableElements","sortedElements","_sortFocusableElements","_nextFocusable","tabIndex","attrName","contentWindow","_haveSelectionRange","elementType","KNOTIFICATION","KICLOSE","KHIDING","INFO","SUCCESS","WARNING","WRAPPER","TEMPLATE","SAFE_TEMPLATE","Notification","_compileTemplates","_guid","_isRtl","_compileStacking","stacking","pinned","hideOnClick","allowHideAfter","autoHideAfter","kendoTemplate","_compiled","templateId","_defaultCompiled","_safeCompiled","_getCompiled","defaultCompiled","paddings","paddingTop","paddingRight","paddingBottom","paddingLeft","horizontalAlignment","_popupOrigin","_popupPosition","_popupPaddings","_attachPopupEvents","attachDelay","closeIcon","attachClick","_hidePopup","_showPopup","openPopup","_triggerHide","deactivate","_togglePin","pin","win","_attachStaticEvents","_hideStatic","_showStatic","insertionMethod","initializedNotifications","getNotifications","contentId","defaultArgs","typeIcon","closeButton","data-role","warning","openedNotifications","guidElements","DOCUMENT","ARIAIDSUFFIX","DESCRIBEDBY","CONTENTLOAD","KCONTENTFRAME","IFRAMETEMPLATE","POSITIONS","REVERSE","DIRCLASSES","DIMENSIONS","DEFAULTCONTENT","restoreTitle","restoreTitleAttributeForElement","saveTitleAttributeForElement","saveTitleAttributes","TooltipBase","_isShownOnMouseEnter","_showOn","showOn","showAfter","hideAfter","callout","_saveTitle","_show","_isShownOnClick","_isShownOnFocus","_positionCallout","elementOffset","offsetAmount","_offset","arrow","arrowWidth","isTopLeft","isFlipped","marginRule","_addDescribedBy","ariaId","describedBy","_removeDescribedBy","tooltipId","currentDescribedBy","arrayAttr","finalArray","finalDescribedbyAttr","_openPopup","Tooltip","_documentKeyDownHandler","_documentKeyDown","_mouseenter","autoHide","_mouseleave","_appendContent","contentOptions","showIframe","iframe","_ajaxRequest","contentLoading","_initPopup","activate","_closeButtonClick","_closePopup","TOOLBAR","OVERFLOW_BUTTON","TOGGLE_BUTTON","BUTTON_GROUP","SPLIT_BUTTON","SPLIT_BUTTON_ARROW","LIST_CONTAINER","ICON_BUTTON","KSEPARATOR","SPACER_CLASS","POPUP","RESIZABLE_TOOLBAR","STATE_ACTIVE","STATE_DISABLED","STATE_HIDDEN","GROUP_START","GROUP_END","MENU_LINK","OVERFLOW_GROUP","OVERFLOW_HIDDEN","OVERFLOW_ANCHOR","OVERFLOW_CONTAINER","OVERFLOW_WRAPPER","FIRST_TOOLBAR_VISIBLE","LAST_TOOLBAR_VISIBLE","BUTTON_ROUNDED_MD","MENU_GROUP","ARIA_DISABLED","ARIA_PRESSED","TOGGLE","FOCUS","FOCUSIN","SPACER","BOTH","PRIMARY","HREF","ROLE","BUTTON","SEPARATOR","OVERFLOW_OPEN","OVERFLOW_CLOSE","OVERFLOW_NEVER","OVERFLOW_AUTO","OVERFLOW_ALWAYS","OPTION_LIST_SUFFIX","KENDO_UID_ATTR","POPUP_ITEM_TEMPLATE","MENU_LINK_SPAN","MENU_LINK_A","NOTHING","ID","components","toolbar","overflowAnchor","overflowContainer","Item","registerComponent","addOverflowAttr","addUidAttr","addIdAttr","addOverflowIdAttr","class","overflowHidden","isEnabled","twin","splitContainerId","resizable","useButtonTag","primary","togglable","addToGroup","clickHandler","toggleHandler","showIcon","propagate","getParentGroup","isChild","ToolBarButton","OverflowButton","ButtonGroup","createButtons","buttonConstructor","buttons","ToolBarButtonGroup","buttonGroup","OverflowButtonGroup","ToolBarMenuButton","ToolBarSplitButton","mainButton","arrowButton","popupElement","createMenuButtons","createPopup","main","splitButton","kendoPopup","li","altKey","findFocusableSibling","menuButtons","rootUid","actionSheetWrap","adjustPopupWidth","preventClick","computedWidth","fontFamily","min-width","OverflowSplitButton","ToolBarSeparator","separator","OverflowSeparator","ToolBarSpacer","TemplateItem","OverflowTemplateItem","toggleActive","candidate","Group","ToolBar","_groups","isMobile","_renderOverflow","overflowUserEvents","_toggleOverflow","_shrink","_buttonClick","release","_toggleOverflowAnchor","component","tool","itemClasses","overflowTemplate","overflowTool","_getItem","toolbarItem","overflowItem","isResizable","buttonGroupInstance","getSelectedFromGroup","horizontalDirection","isComplexTool","hasVisibleChildren","paddingEnd","splitContainer","isSplitButtonArrow","urlTarget","_toggle","lastHasFocus","firstHasFocus","isOnlyOverflowAnchor","lastItemNotOverflowAnchor","isFirstTool","prevFocusable","_getPrevFocusable","_preventNextFocus","isOverflowAnchor","_getNextElement","directionNumber","searchIndex","focusableItem","elementToFocus","prevElements","prevAll","containerWidth","_stretch","_markVisibles","_childrenWidth","childrenWidth","commandElement","visibleCommands","_hideItem","hiddenCommands","_showItem","itemOuterWidth","overflowItems","toolbarItems","visibleOverflowItems","visibleToolbarItems","percentageUnitsRegex","HOVER","KSELECTED","LOADING","LIST","TABLE","DATA_TABLE","TABLE_MD","LIST_UL","TABLE_LIST","FIXED_GROUP_HEADER","GROUP_LABEL","ITEMSELECTOR","LABELIDPART","CASCADE","MOUSELEAVE","MOUSEENTER","DATA_BINDING","DATA_BOUND","SELECTED_ITEM_CHANGE","FOCUSOUT","HIDDENCLASS","TEXT","isIE","quotRegExp","alternativeNames","ComboBox","MultiColumnComboBox","UL_EL","LIST_EL","NO_DATA_EL","LIST_FOOTER_EL","TABLE_FOOTER_EL","LIST_SUFFIX","LISTBOX_SUFFIX","ARIA_LABELLEDBY","ARIA_LABEL","ARIA_ACTIVEDESCENDANT","ARIA_AUTOCOMPLETE","ARIA_CONTROLS","ARIA_LIVE","ARIA_EXPANDED","ARIA_HIDDEN","ARIA_BUSY","ARIA_MULTISELECTABLE","ARIA_SELECTED","GROUP_ROW_SEL","List","_isSelect","_listSize","ul","aria-hidden","columns","_columnsHeader","_header","_noData","_footer","_accessors","_initValue","footerTemplate","headerTemplate","noDataTemplate","noData","_renderFooter","_renderNoData","_focused","_angularElement","columnsHeader","colGroup","row","currentColumn","columnsHeaderTemplate","currentWidth","currentWidthInt","widthStyle","footerEl","_listOptions","changeEventOption","_listChange","listBoundHandler","_listBound","focusedElm","inputId","labelElm","labelledBy","_generateLabelId","_activateItem","_deactivateItem","groupTemplate","fixedGroupTemplate","ariaLabel","ariaLabelledBy","listSize","_initList","listOptions","selectedItemChange","StaticList","VirtualList","_setListValue","_updateSelectionState","_listMousedown","filterInput","_isFilterEnabled","_hideClear","_clear","_showClear","_clearValue","_clearText","_accessor","_customOption","enforceMinLength","highlightFirst","_clearFilter","_filterSource","isMultiColumnFiltering","filterFields","resetPageSettings","removed","removeFiltersForField","_clearFilterExpressions","newExpression","_pushFilterExpression","isValidFilterExpr","_cascading","setDSFilter","dataSourceState","filtersToRemove","_toggleNoData","_toggleHeader","groupHeader","_allowOpening","_old","_ignoreCase","widgetOptions","fromFilter","_buildExpression","_open","_clearButton","clearTitle","clearButton","_inputValue","_typingTimeout","minLength","_state","_emptySearch","_searchByWord","_unbindDataSource","_form","_resetHandler","selectedDataItems","_value","_aria","autocomplete","suggest","aria-owns","aria-controls","_ariaLabel","inputElm","labelId","_userTriggered","_isValueChanged","unifyType","_valueBeforeCascade","_oldIndex","isFiltered","_typing","typing","_enable","_dataValue","_offsetHeight","_height","isMccb","offsetTop","popups","_openHandler","_adjustListWidth","borderLeftWidth","borderRightWidth","autoWidth","minWidth","whiteSpace","_closeHandler","_focusItem","noFocusedItem","scrollToIndex","_calculateGroupPadding","padding","_calculatePopupHeight","_calculateColumnsHeaderPadding","_refreshScroll","enableYScroll","overflowX","overflowY","_resizePopup","_popup","_toggleHover","preventFocus","touchEnabled","MSPointers","_prevent","_triggerCascade","_cascadeTriggered","_cascadedValue","userTriggered","_triggerChange","_requestStartHandler","_requestEndHandler","_errorHandler","requireValueMapper","valueMapper","_initial","_initialIndex","_current","_parentWidget","_cascadeSelect","_cascadeValue","_accessorInput","_accessorSelect","getSelectedOption","_custom","_syncValueAndText","custom","_hideBusy","_busy","_arrowIcon","_showBusy","_request","_requestEnd","_firstItem","focusFirst","_lastItem","focusLast","_nextItem","focusNext","_prevItem","focusPrev","_getNormalizedDataItem","isIndex","hasOptionLabel","optionLabel","getElementIndex","dataItemByIndex","_getNormalizedSelectCandidate","normalizedCandidate","isVirtual","moveIndex","selectCandidate","_fetch","_get","activeFilter","shouldTrigger","_focusElement","focusout","scrollWith","_fetchData","hasItems","_options","htmlElement","dataText","dataValue","formId","_cascade","cascade","_cascadeHandlerProxy","_cascadeHandler","_cascadeFilterRequests","_selectedValue","_toggleCascadeOnFocus","valueBeforeCascade","_clearSelection","_cascadeChange","filterValue","cascadeFromParentField","cascadeFromField","currentHandler","STATIC_LIST_NS","_touchHandlers","thead","_optionID","_selectedIndices","_dataItems","_values","_getter","_templates","_onScroll","_scrollId","_renderHeader","_fixedHeader","startY","endY","tapPosition","_touchTriggered","_triggerClick","_render","scroll","itemOffsetTop","itemOffsetHeight","contentScrollTop","contentOffsetHeight","bottomDistance","_getValues","_valueGetter","hasCandidate","focusIndex","skipUpdate","_skipUpdate","indices","singleSelection","selectedIndices","uiSelectedIndices","added","filtered","_deselectFiltered","_deselect","_valueComparer","removeAt","setValue","_valueDeferred","_valueIndices","_valueExpr","normalized","_valueType","_dataItemPosition","valueExpr","removedIndices","templateText","_normalizeIndices","newIndices","_firstVisibleItem","itemHeight","lastChild","previousSibling","isGrouped","visibleItem","notFirstItem","hasColumns","altRow","isLastGroupedItem","_renderColumns","dataContext","_selected","_lastDSFilter","skipUpdateOnBind","isItemChange","mapChangedItems","changed","unchanged","_bound","itemsToMatch","selectedLength","extractFormat","transitionOrigin","cellTemplate","emptyCellTemplate","otherMonthCellTemplate","weekNumberTemplate","KEYDOWN_NS","MIN","SLIDE","MONTH","CENTURY","NAVIGATE","OTHERMONTH","OUTOFRANGE","TODAY","CELLSELECTOR","CELLSELECTORVALID","WEEKCOLUMNSELECTOR","FOCUS_WITH_NS","MOUSEENTER_WITH_NS","PREVARROW","NEXTARROW","DATE","decade","century","HEADERSELECTOR","CLASSIC_HEADER_TEMPLATE","MODERN_HEADER_TEMPLATE","Calendar","disableDates","getDisabledExpr","_selectable","_viewWrapper","hasFooter","_today","mousetoggle","toDateObject","_focusView","focusOnNav","_setCurrent","_selectDates","_index","restrictValue","_addClassProxy","_active","_cell","todayString","toDateString","getToday","_cellByDate","_removeClassProxy","selectDates","dates","depth","weekColumnHeader","classic","linksSelector","contentClasses","modern","_destroySelectable","_title","_table","_bindTable","_option","navigateToPast","navigateToFuture","navigateUp","navigateDown","isEqualDate","_oldTable","future","currentView","viewWrapper","_changeView","otherMonth","isWeekColumnVisible","addClassToViewContainer","_animate","_visualizeSelectedDatesInView","_selectCell","validSelectedDates","datesUnique","_validateValue","createDate","isInRange","selectedDates","selectableOptions","_onSelect","_onRelatedTarget","eventArgs","_toggleSelection","_cellsBySelector","_addSelectedCellsToArray","_rangeSelection","currentCell","toDateCell","fromDate","toDate","daysDifference","daysBetweenTwoDates","addDaysToArray","currentDateIndex","_dateInView","firstDateInView","lastDateInView","_isNavigatable","cellIndex","isDisabled","prevent","_keyboardToggleSelection","focusedDate","_nextNavigatable","_keyboardRangeSelection","navigatableDate","active","_horizontal","viewWidth","float","margin-left","unwrap","_vertical","_selectedCell","actionAttr","_todayClick","firstDayCurrentMonth","isBigger","isEqualMonth","isTodayDisabled","todayClass","_todayClass","ariaTemplate","valueType","firstVisibleDay","calendarInfo","tzOffsetBefore","resultDATE","tzOffsetDiff","getCalendarInfo","navigateUrl","showHeader","hasUrl","currentCalendar","firstDayIdx","shiftArray","shortNames","perRow","build","linkClass","dateString","weekNumberBuild","date1","date2","month1","year1","month2","year2","setMonth","minYear","maxYear","modular","cellsPerRow","otherMonthTemplate","multiplier","endDate","fromDateUTC","endDateUTC","numberOfDays","dateObject","isEqualDatePart","value1","value2","createDisabledExpr","convertDatesArray","disabledDates","searchExpression","oldValue","viewsEnum","INPUT_EVENT_NAME","STATEINVALID","READONLY","knownSymbols","DateInput","wrapperClass","skipWrapping","_validationIcon","weekday","hour","minute","second","dayperiod","_unbindInput","_bindInput","_updateElementValue","_formElement","_dateTime","getDateObject","customDateTime","_oldValue","stringAndFromat","toPair","_oldText","_format","_paste","_input","_mouseUp","_scroll","blinkInvalid","approximateStringMatching","navigationOnly","parsePart","_selectSegment","difSym","newEvent","_blinkInvalidState","_addInvalidState","_invalidStateTimeout","_removeInvalidState","_selectNearestSegment","returnValue","initialValue","interval","modifyPart","keycode","begin","initDate","initFormat","initCulture","initMessages","typedMonthPart","typedDayPeriodPart","placeholders","returnsFormat","mins","formatResult","generateMatcher","retFormat","setExisting","getValue","newMonth","setMinutes","setSeconds","currentChar","lastDateOfMonth","newHours","monthNames","newYear","newMinutes","newSeconds","sampleFormat","oldText","oldFormat","newText","oldTextSeparator","deletedSymbol","DIV","SPAN","HOVEREVENTS","MAX","ARIA_READONLY","parseFormats","DateView","omitPopup","dateDiv","_dateViewID","DatePicker","_calendar","_setOptions","popupHovered","selectIsClicked","disabledDate","_initialOptions","dateView","_updateARIA","aria-expanded","aria-haspopup","_createDateInput","_update","dateInput","_dateIcon","_dateInput","eventType","dateChanged","valueUpdated","textFormatted","isSameType","formattedValue","optionsValue","LIST_CONTENT","TABLE_CONTENT","HEADER","LIST_ITEM","TABLE_ITEM","HEIGHTCONTAINER","GROUPITEM","LISTBOUND","ITEMCHANGE","VIRTUAL_LIST_NS","lastFrom","isPrimitive","getItemCount","listScreens","getDefaultItemHeight","mockList","lineHeight","bufferSizes","opposite","listValidator","downThreshold","upThreshold","lastScrollTop","scrollCallback","syncList","reorder","webkitTransform","map2","arr1","arr2","reshift","placeholderTemplate","renderColumns","isActivePromise","_fetching","_selectedDataItems","_selectedIndexes","_rangesList","_promisesList","_renderItems","_triggerListBound","oppositeBuffer","mapValueTo","itemClass","_selectProxy","_clean","_deferValueSet","mute","_selectingValue","_highlightSelectedItems","_getElementByDataItem","_mute","_createList","_removeSelectedDataItem","valueGetter","_forcePrefetch","shouldClear","_prefetchByValue","_checkValuesOrder","_removedAddedIndexes","dataView","_dataView","forSelection","mapValueToIndex","mapValueToDataItem","_getIndecies","deferredRange","defs","low","high","pages","existingRange","isEmptyList","_activeDeferred","_getSkip","_findDataItem","_getRange","triggerEvent","_getElementByIndex","_focusedIndex","_getElementLocation","_screenHeight","heightContainer","initialIndices","prefetchStarted","isAlreadySelected","_selectDeferred","_deselectCurrentValues","_listCreated","_lastScrollTop","hasData","setScreenHeight","yPosition","yDownPostion","screenEnd","_generateItems","minHeight","_saveInitialRanges","_buildValueGetter","_setHeight","getList","_listItems","_whenChanged","_reorderList","currentHeight","padHeight","lastRequestedRange","lastRangeStart","rangeStart","_getterDeferred","firstItemIndex","_indexConstraint","flatGroup","groupLength","currentVisibleGroup","firstVisibleDataItemIndex","firstVisibleDataItem","firstVisibleGroup","fixedGroupText","_itemMapper","listType","currentIndex","_currentGroup","_getDataItemsCollection","_listIndex","theValidator","theNew","currentOffset","list2","range2","_bufferSizes","buffers","elementIndex","selectedIndexes","removedindexesCounter","_deselectSingleItem","oldSkip","_clickHandler","placeholderSupported","AUTOCOMPLETEVALUE","indexOfWordAtCaret","caretIdx","wordAtCaret","replaceWordAtCaret","defaultSeparator","words","AutoComplete","_loader","_keypress","_search","_prev","_resetFocusItemHandler","_resetFocusItem","_toggleCloseVisibility","_progressHandler","_separator","_unifySeparators","_last","wordIndex","isActive","_touchScroller","_muted","_selectValue","_defaultSeparator","itemSelected","_loading","DOMelement","nsFocusEvent","CLICKEVENTS","STATE_FILTER","STATE_ACCEPT","MSG_INVALID_OPTION_LABEL","_focusHandler","_focusInputHandler","_focusInput","_optionLabel","_inputTemplate","_word","_span","_mobile","_filterHeader","_attachFocusHandlers","_attachAriaActiveDescendant","_textAccessor","_optionLabelText","valueTemplate","optionLabelTemplate","filterTitle","_arrow","_resizeFilterInput","_focusFilter","originalPrevent","isInputActive","_optionLabelDataItem","loweredText","_valueSetter","_assignInstance","_buildOptions","optionLabelValue","initialIndex","_presetValue","_filterPaste","_focusinHandler","_focusoutHandler","isIFrame","self","_wrapperMousedown","_wrapperClick","dropDownWrapper","isPopupVisible","_getElementDataItem","_matchText","_shuffleData","splitIndex","optionDataItem","_selectNext","isInLoop","sameCharsOnly","oldFocusedItem","normalizeIndex","character","charCode","_popupOpen","compareElement","jQueryCandidate","_resetOptionLabel","focusedItem","additionalClass","keepState","filterTemplate","aria-label","aria-autocomplete","SELECTOR","arrowBtn","accesskey","unselectable","optionLabelText","getElements","assign","STATE_REBIND","newLineRegEx","NON_PRINTABLE_KEYS","_attachFocusEvents","_setText","syncValueAndText","_pasteTimeout","hasText","isCustom","_inputFocus","_inputFocusout","_arrowClick","isClearButton","_inputPaste","reinitialized","_scrollToFocusedItem","_updateSelection","hasInitialIndex","_updateItemFocus","isFirstPage","_setDomInputValue","currentCaret","caretStart","preventShow","accessKey","maxLength","isFkey","isNonPrintableKey","renderChip","HTMLChip","iconAttr","removable","removableAttr","removeIcon","renderChipList","HTMLChipList","A","CHIP","ACCEPT","FILTER","REBIND","DESELECT","FOCUSEDCLASS","SELECTEDCLASS","HOVERCLASS","_optionsMap","_customOptions","_tagList","_textContainer","_arrowButton","_tagID","tagList","_initialOpen","_ariaSetLive","_tagTemplate","tagMode","autoClose","singleTag","deleteTag","downArrow","maxSelectedItems","tagTemplate","persistTagList","currentTag","_currentTag","aria-live","aria-multiselectable","_selectedItemChange","_initialValues","optionsMap","tagTextTemplate","notInput","removeButton","cancelable","_removeTag","tag","customIndex","listViewChildren","listViewChild","_close","_updateTagListHTML","_tagListClick","_clearSingleTagValue","tags","_retrieveData","_activeItem","listViewFilter","listViewFilterValue","inputValue","clearFilters","_normalizeValues","_setOption","isEmptyArray","_getActiveItem","_getSelectedIndices","activeItemIdx","_multipleSelection","_selectRange","activeIndex","_showBusyHandler","skipCaret","caretPos","selectedItems","_buildSelectedItems","_selectedItemIndex","_angularTagItems","updatePersistTagList","removedItem","addedItem","_maxTotal","maxTotal","currentTotal","isSelected","indicesToSelect","selectIndices","hasDataSource","isMultiple","defaultTemplate","arrowTitle","computedStyles","namedColors","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","matchNamedColor","colorNames","regexp","BaseColor","toHSV","toRGB","toHex","toBytes","toCss","toCssRgba","rgb","toDisplay","parseColor","other","NaN","c1","c2","r","Bytes","RGB","ref","h","HSV","toHSL","l","HSL","hex","alpha","p","q","hue2rgb","alphaFromHex","DARK_TRESHOLD","Color","this$1","resolvedColor","resolveColor","formatRegex","re","processor","channels","normalizeByte","padDigit","brightness","percBrightness","isDark","fromBytes","fromRGB","fromHSV","fromHSL","MOUSE_DOWN","TRACK_MOUSE_DOWN","MOUSE_UP","TRACK_MOUSE_UP","MOVE_SELECTION","KEY_DOWN","MOUSE_OVER","DRAG_HANDLE","TRACK_SELECTOR","TICK_SELECTOR","STATE_SELECTED","STATE_FOCUSED","ARIA_VALUETEXT","ARIA_VALUENOW","SliderBase","_isHorizontal","_sizeFn","_outerSize","tooltip","smallStep","_createHtml","_trackDiv","_maxSelection","_sliderItemsInit","rtlDirectionSign","_keyMap","37","40","39","38","35","36","33","largeStep","34","tickPlacement","_distance","_refresh","sizeBetweenTicks","pixelWidths","_calculateItemsWidth","removeFraction","createSliderItems","_setItemsTitle","_calculateSteps","_setItemsLargeTick","titleNumber","valueWithoutFraction","itemsCount","trackDivSize","preciseItemsCount","pixelStep","itemWidth","_roundWidths","pixelWidthsArray","balance","_addAdditionalSize","additionalSize","_pixelSteps","_getValueFromPosition","mousePosition","draggableArea","halfStep","startPoint","_getFormattedValue","tooltipTemplate","_getDraggableArea","endPoint","formatValue","createWrapper","showButtons","createButton","createTrack","_firstHandleDrag","_activeHandle","_lastHandleDrag","_activeHandleDrag","_updateTooltip","_focusWithMouse","_setTooltipTimeout","_removeTooltip","_tooltipTimeout","_clearTooltipTimeout","tooltipDiv","_formResetHandler","isHorizontal","orientationCssClass","cssClasses","tickPlacementCssClass","buttonCssClass","dragHandleCount","firstDragHandleTitle","leftDragHandleTitle","dragHandleTitle","elementValue","minElementValue","maxElementValue","rightDragHandleTitle","stepValue","calculatePrecision","power","parseAttr","defined","Slider","dragHandle","_selection","Selection","Drag","_refreshAriaAttr","increaseButtonTitle","decreaseButtonTitle","newVal","_nextValueByIndex","_valueIndex","_setValueInRange","mouseDownHandler","timer","_clearTimer","_tooltipDiv","RangeSlider","moveSelection","selectionValue","selectionDiv","rtlCorrection","owner","_activeDragHandle","_setZIndex","oldVal","_createTooltip","wnd","calloutCssClass","tooltipInnerDiv","_scrollOffset","moveTooltip","slideParams","constrainValue","noAnimation","fadeOut","dragHandles","sdhOffset","viewPortEnd","maxOverflow","firstInput","secondInput","selectionStartValue","selectionEndValue","dragSelectionStart","dragSelectionEnd","activeHandleDrag","selectionStartIndex","selectionEndIndex","makeSelection","selectionPosition","INPUT","LABELCLASSES","TextBox","_label","_floatingLabelContainer","_focusin","_focusout","floating","labelText","DOMElement","SPIN","TOUCHEND","SYMBOL","CLASS_ICON","INTEGER_REGEXP","NumericTextBox","isStep","inputType","_arrows","_validation","selectValue","factor","restrictDecimals","spinners","selectOnFocus","upArrowText","downArrowText","_toggleText","_upArrowEventHandler","_downArrowEventHandler","_spin","_upArrow","_downArrow","_keyup","_inputHandler","_arrowsWrap","aria-valuemin","aria-valuemax","adjusted","_adjust","arrows","_spinning","buttonHtml","_focusing","groupRegExp","extractRegExp","caretPosition","_getFactorValue","_culture","_numPadDot","_step","_cachedCaret","decimalSeparator","minInvalid","_isPasted","_numericRegex","fractionRule","_floatRegExp","originalValue","rounder","truncate","isNotNull","ColorSelector","_tabIndex","_ariaId","_standalone","_updateUI","_onEnable","nohooks","_selectOnHide","colorpicker","AA_CONTRAST","AAA_CONTRAST","STEP_COUNT","getContrast","luminance1","luminance2","brightest","darkest","getContrastFromTwoRGBAs","getLuminance","getRGBFromRGBA","foregroundColor","backgroundColor","r1","fitIntoBounds","b1","r2","g2","b2","contender","isPresent","renderSvgCurveLine","gradientRectMetrics","hsva","findValue","contrast","saturation","mid","currentHsva","currentContrast","getColorFromHSV","reversedComparer","getPaths","stepCount","reversed","points","bezierCommandCalc","bezierCommand","controlPoint","line","svgPath","reducer","point","controlPointCalc","cps","cpe","lineCalc","smooth","angle","PI","cos","sin","pointA","pointB","lengthX","lengthY","hue","contrastToolUtils","KEYS","BACKGROUNDCOLOR","WHITE","BLACK","ColorInput","_viewModel","switchMode","keydown","_color","_preventChangeEvent","currentFormat","_tryParseColor","textbox","ColorGradient","previewInput","_hueElements","_colorgradientInputs","_contrastTool","_sliders","_hsvArea","_colorInput","contrastTool","contrastRatio","pass","toggleFormat","_hueSlider","_opacitySlider","_hsvRect","hueSlider","opacitySlider","hueChange","_getHSV","kendoSlider","slide","opacityChange","hsvRect","hsvHandle","rw","rh","_svChange","_hsvEvents","_hsvHandle","setBackgroundColor","_updateColorContrast","dontChangeInput","_updateHsv","_resetHsv","_resetColorContrast","contrastOptions","contrastRatioTemplate","labelTemplate","ratio","limit","_updateContrastSvg","svgClassName","metrics","newSvg","handlePosition","_selectedColor","_colorAsText","ITEMSELECTEDCLASS","ITEMSFOCUSEDCLASS","SIMPLEPALETTE","WEBPALETTE","CLICK_NS","BLUR_NS","relative","ColorPalette","palette","_selectedID","tileSize","ex","MESSAGES","NO_COLOR","PREVIEW_MASK","VIEWS","gradient","FlatColorPicker","autoupdate","_previousColor","_viewsContainer","_setViewSize","_clearColor","viewButton","preview","noColor","clearColor","_updatePreviousColor","selectedColor","hsvColor","_cachedHue","dontChangeView","previewWidth","previewHeight","previewColumns","setProperty","buttonOptions","ColorPicker","_buttonHtml","_selector","closeOnSelect","toolIcon","_getPopup","selOptions","_noColorIcon","_isInputTypeColor","dontChangeSelector","selectorType","selectorWrapper","clickedOutside","MouseEvent","ToggleInputBase","_initSettings","RENDER_INPUT","inputMethod","renderCheckBox","HTMLCheckBox","renderRadioButton","HTMLRadioButton","HTMLInput","labelPosition","inputClass","labelEl","labelClass","wrapperHtml","CheckBox","nameSpecialCharRegExp","ERRORTEMPLATE","EQUAL_SET","specialRules","fieldType","convertToValueBinding","bindAttr","isAntiForgeryToken","Editable","antiForgeryTokenName","createAttributes","validation","ruleName","DATATYPE","BINDING","stringRule","attributeName","addIdAttribute","convertItems","getEditorTag","checkboxes","kendoEditors","editors","mobileEditors","addValidationRules","modelField","renderHiddenForMvcCheckbox","addHidden","shouldRenderHidden","_isMobile","_validateProxy","_validate","kendoNumericTextBox","kendoDatePicker","kendoTextBox","kendoCheckBox","kendoEditor","editor","editorOptions","tagElement","clearContainer","skipFocus","isObject","isValuesEditor","isHidden","isCustomEditor","isKendoEditor","preventChangeTrigger","_validationEventInProgress","bindAttribute","bindingRegex","validatable","modelFields","KENDO_KEYDOWN","DATABOUND","DATABINDING","EMPTY_STRING","FOCUSSELECTOR","KEDITITEM","PAGER_CLASS","ITEM_CLASS","ARIA_SETSIZE","ARIA_POSINSET","ARIA_ROLE","EDIT","REMOVE","SAVE","TOUCHSTART","ListView","_itemId","_layout","_setContentHeight","_pageable","_crudHandlers","_scrollable","pageable","altTemplate","editTemplate","contentTemplate","bordered","borders","layout","flex","scrollable","_item","_bindScrollable","_progress","_error","elementClassNames","contentClassNames","contentPadding","cols","rowHeight","gutter","endlessAppend","_endlessFetchInProgress","_skipRerenderItemsCount","_destroyEditable","_focusNext","pagerWrap","pager","pagerId","multi","overflow-y","-webkit-overflow-scrolling","originalPageSize","_endlessPageSize","_scrollTo","UseJQueryoffset","scrollDirectionFunc","elementDimension","containerScrollAmount","containerDimension","clickCallback","canHandle","isTextBox","editItem","focusAgain","edit","clearSelection","_modelFromElement","_closeEditable","kendoEditable","mousedownNs","touchstartNs","clickNs","kendoAttr","DASH","SPACE","HASH","KENDO_LISTBOX","DISABLED_STATE_CLASS","SELECTED_STATE_CLASS","ENABLED_ITEM_SELECTOR","ENABLED_ITEMS_SELECTOR","TOOLBAR_CLASS","TOOL_SELECTOR","FOCUSED_CLASS","DRAG_CLUE_CLASS","DROP_HINT_CLASS","LIST_CLASS","LIST_SELECTOR","ADD","REORDER","MOVE_UP","MOVE_DOWN","TRANSFER_TO","TRANSFER_FROM","TRANSFER_ALL_TO","TRANSFER_ALL_FROM","DRAGGEDCLASS","UNIQUE_ID","COMMAND","MOVE_UP_OFFSET","MOVE_DOWN_OFFSET","TOOLBAR_POSITION_CLASS_NAMES","getSortedDomIndices","isUndefined","ListBox","_list","_createToolbar","_createNavigatable","_listTabIndex","_getList","_destroyToolbar","_target","_draggable","dropSources","tools","moveUp","moveDown","transferTo","transferFrom","transferAllTo","transferAllFrom","_unbindDataChange","_addItem","_bindDataChange","_bindDataSource","_syncElement","itemContent","_setItemId","_addItemAt","_insertElementAt","_getTabIndex","oldTarget","activeEl","isContained","isInputElement","_getNavigatableItem","nextAll","_scrollIntoView","shouldPreventDefault","_shiftSelecting","_executeCommand","elementNode","listBox","_searchConnectedListBox","connectedListBox","originalElement","closestContainer","getKendoListBox","draggableOptions","draggedItem","_updateToolbar","_updateAllToolbars","dataItemAtIndex","itemAtIndex","listItem","_removeElement","listItems","_getItems","_removeItem","uniqueIdAttr","enabledItems","_enableItem","_dataChangeHandler","_innerWrapper","_setItemIds","viewLength","toolbarOptions","toolbarInsertion","toolbarElement","commandName","CommandFactory","execute","_updateToolStates","listBoxElements","elementsLength","_commands","commandType","ListBoxCommand","getItems","canExecute","RemoveItemsCommand","MoveItemsCommand","moveItems","indecesInDom","movedItems","itemComparer","moveAction","movedItem","item1","item2","indexItem1","indexItem2","MoveUpItemsCommand","domIndices","MoveDownItemsCommand","TransferItemsCommand","sourceListBox","getSourceListBox","destinationListBox","getDestinationListBox","updatedSelection","getUpdatedSelection","updateSelection","itemFilter","lastEnabledItem","containsLastItem","itemToSelect","TransferItemsToCommand","TransferItemsFromCommand","TransferAllItemsToCommand","TransferAllItemsFromCommand","_initTemplates","_createTools","_attachEventHandlers","_detachEventHandlers","toolsLength","toolsMessages","toolList","_createToolList","defaultTools","_onToolClick","_executeToolCommand","_updateToolState","toolName","toolElement","loaderClasses","canvas","segment","loaderTypes","pulsing","segments","infinite-spinner","converging-spinner","Loader","typeData","_type","TEXTAREACONTAINER","TextArea","_applyAttributes","PASTE","stringDiffStart","str1","str2","MaskedTextBox","_rules","_tokenize","_emptyMask","_togglePrompt","_timeoutId","_maskLength","clearPromptChar","unmaskOnPost","promptChar","0","9","#","L","?","&","C","_submitHandler","unmasked","_unmask","emptyMask","_mask","_unmaskedValue","_trackChange","_legacyIEInputHandler","__changing","inputChange","backward","lengthDiff","__dropping","contentStart","endContent","_trimStartPromptChars","_findCaretPosBackwards","__backward","__pasting","chrIdx","chr","tokenIdx","tokensLength","maskChars","DELAY","SCROLLSPEED","excludedNodesRegExp","IMG","MENU","LINK","LINK_SELECTOR","ICON_SELECTOR","TIMER","IMAGE","ZINDEX","POINTERDOWN","allPointers","MOUSEWHEEL","SCROLLWIDTH","SCROLLHEIGHT","OFFSETWIDTH","OFFSETHEIGHT","POPUP_ID_ATTR","POPUP_OPENER_ATTR","KENDOPOPUP","HOVERSTATE","menuSelector","groupSelector","animationContainerSelector","popupSelector","allItemsSelector","disabledSelector","itemSelector","availableItemsSelector","linkSelector","exclusionSelector","templateSelector","scrollButtonSelector","touchPointerTypes","imageAttr","rendering","wrapperCssClass","firstLevel","itemCssAttributes","imageCssAttributes","imgAttributes","contentCssAttributes","contentAttr","defaultClasses","textClass","arrowClass","groupAttributes","expanded","groupCssClass","getEffectDirection","parseDirection","updateItemClasses","omitWrap","updateArrow","updateFirstLast","arrowCssClass","getArrowCssClass","updateHasAriaPopup","parentLi","getParentLiItems","storeItemSelectEventHandler","selectHandler","getItemSelectEventHandler","setItemData","popupOpenerSelector","popupGroupSelector","getChildPopups","currentPopup","overflowWrapper","childPopupOpener","opener","popupId","popupParentItem","itemPopup","overflowMenuParents","getParents","mousewheelDelta","parentsScroll","scrollDirection","isPointerTouch","pointerType","isTouch","removeSpacesBetweenItems","Menu","_updateClasses","_animations","nextItemZIndex","_initOverflow","_attachMenuEventsHandlers","openOnClick","clicked","closeOnClick","hoverDelay","popupCollision","_initData","_overflowWrapper","_checkActiveProxy","_checkActiveElement","_preventClose","_removeHoverItem","_mouseleavePopup","_mouseenterPopup","_documentClickHandler","_documentClick","_detachMenuEventsHandlers","backwardBtn","forwardBtn","_openedPopups","_scrollWrapper","scrollButton","_initScrolling","initialWidth","initialCssWidth","_setOverflowWrapperWidth","_toggleScrollButtons","_popupsWrapper","wrapperCssWidth","wrapperWidth","menuWidth","_reinitOverflow","overflowChanged","_destroyOverflow","popupWrapper","popupParentLi","isNumeric","mouseWheelDistance","backwardDouble","forwardDouble","scrolling","touchEvents","scrollValue","finish","mouseenterHandler","mousedownHandler","scrollSpeed","_closeChildPopups","currentScroll","_toggleDisabled","attemptGetItem","referenceItem","inserted","_insert","_childPopupElement","plain","groupData","renderGroup","renderItem","parentItems","_openAfterLoad","visiblePopups","closePopup","overflowPopup","_triggerEvent","windowHeight","setScrolling","maxHeight","nextZindex","parentHorizontal","_configurePopupOverflow","_initPopupScrolling","popupOpener","_wrapPopupElement","groupId","skipMouseEvents","_initPopupScrollButtons","scrollButtons","_closeParentPopups","_keyTriggered","_setPopupHeight","_initialHeight","popupOuterHeight","popupOffsetTop","bottomScrollbar","canFit","dontClearClose","hasChildPopupsHovered","isPopupMouseLeaved","_isRootItem","_forceClose","isEnter","_closurePrevented","hoverItem","_hoverItem","_findRootParent","hasFocus","oldHoverItem","_oldHoverItem","nonContentGroupsSelector","_itemHasChildren","pointerTouch","isParentClosing","delegateTarget","rootMenuItems","subMenuItems","toElement","_closePopups","rootPopup","groupParent","innerPopup","_innerPopup","openHandle","formNode","itemElement","childGroup","childGroupVisible","targetHref","sampleHref","isLocalLink","isTargetLink","shouldCloseTheRootItem","_lastClickedElement","childPopupId","_parentsUntil","enterKey","itemSelectEventData","_getEventData","isSelectItemDefaultPrevented","isSelectDefaultPrevented","_moveHover","belongsToVertical","_itemBelongsToVertival","_itemDown","_itemUp","_itemEsc","_moveHoverToRoot","menuIsVertical","nextItem","_scrollToItem","_itemRight","parentItem","_itemLeft","scrollDir","currentScrollOffset","itemSize","itemOffset","ulSize","scrollButtonSize","itemPosition","findByUid","wrapperElement","itemsToUpdate","updateProxy","_updateItem","removeProxy","_appendItems","_fieldAccessor","fieldBindings","fieldAccessor","itemWrapper","sprite","menu","renderContent","dataContentField","renderItems","ContextMenu","_marker","_wire","_initialWidth","alignToAnchor","_showProxy","_closeProxy","_configurePopupScrolling","_setPopupWidth","windowWidth","popupOuterWidth","popupOffsetLeft","maxWidth","_closeTimeoutProxy","_showHandler","_eventOrigin","_targetChild","sameTarget","containment","normalClick","_preventProxy","_triggerProxy","LINKSELECTOR","ITEM","GROUP","VISIBLEGROUP","EXPAND","CONTENT","COLLAPSE","ACTIVECLASS","GROUPS","CONTENTS","DISABLEDCLASS","SELECTEDSELECTOR","HIGHLIGHTCLASS","ACTIVEITEMSELECTOR","clickableItems","disabledItems","selectableItems","SINGLE","itemIcon","contentUrl","textAttributes","ariaHidden","contentAttributes","updateLevel","updateItemHtml","toggleButton","PanelBar","_retryRequest","_first","expand","_angularCompile","requestFailed","retry","loadOnDemand","expandMode","_angularCompileElements","_angularCleanup","useAnimation","animBackup","_animating","_addGroupElement","_collapseAllExpanded","_toggleItem","showProgress","loadingText","_refreshRoot","rootItemsHtml","_refreshChildren","_toggleGroup","uidAttr","_updateItems","tempItem","_hasChildItems","retryHtml","_expanded","itemsHtml","nodeWrapper","panelBar","currentNode","skipChange","_updateSelected","focused","isReferenceItem","_updateItemsClasses","panels","panelsParent","_updateItemClasses","contentUrls","wrapElement","isAnchor","isVisible","notVisible","animationSettings","hasCollapseAnimation","_animationCallback","stopExpand","statusIcon","loadingIconTimeout","DEFAULTMIN","DEFAULTMAX","DEFAULTVALUE","DEFAULTCHUNKCOUNT","KPROGRESSBAR","KPROGRESSBARREVERSE","KPROGRESSBARINDETERMINATE","KPROGRESSBARCOMPLETE","KPROGRESSWRAPPER","KPROGRESSSTATUS","LABEL_POSITION_END","KCOMPLETEDCHUNK","PROGRESSTYPE","PERCENT","CHUNK","COMPLETE","HUNDREDPERCENT","DEFAULTANIMATIONDURATION","PRECISION","progressStatus","announceElement","ProgressBar","_progressProperty","_fields","_validateType","ariaRole","_progressAnimation","_updateProgress","chunkCount","showStatus","announce","_calculatePercentage","_isStarted","progressWrapper","currentType","_addChunkProgressWrapper","validated","_roundValue","_updateChunks","_onProgressUpdateAlways","_updateProgressWrapper","percentagesPerChunk","percentageParsed","completedChunksCount","completedChunks","animationDuration","_animation","animationCssOptions","_addRegularProgressWrapper","_onProgressAnimateStart","_onProgressAnimate","_onProgressAnimateComplete","always","progressInPercent","progressStatusWrapSize","progressWrapperSize","progressValue","chunkSize","_normalizeChunkSize","lastChunk","_calculateChunkSize","chunkContainer","_onePercent","ACTIVATE_EVENTS","ResponsivePanel","_toggleHandler","_toggleButtonClick","_registerBreakpoint","_mediaQuery","_registerStyle","breakpoint","head","styleSheet","prevented","CONTENTURL","ACTIVESTATE","TABONTOP","NAVIGATABLEITEMS","KEYBOARDNAVIGATABLEITEMS","HOVERABLEITEMS","DEFAULTDISTANCE","updateTabClasses","tabs","tabGroup","scrollButtonHtml","buttonClass","TabStrip","_contentUrls","_tabPosition","_processContentUrls","_initialActivate","dataEncodedField","dataImageUrlField","dataUrlField","dataSpriteCssClass","dataContentUrlField","tabPosition","collapsible","_keyDownProxy","activateTab","hasCloseAnimation","neighbours","oldTab","isAnimationEnabled","contentAnimators","inRequest","abort","_scrollableModeActive","_scrollTabsToItem","visibleContents","contentHolder","tabsHeight","isAjaxContent","showContentElement","showContent","ajaxRequest","oldMinHeight","ajaxSettings","halfWidth","fakeProgress","endState","oldProgressAnimation","ajaxOptions","request","progressUpload","upload","evt","noProgress","XMLHttpRequest","lengthComputable","stopProgress","statusText","tab","_create","tabWrapper","_updateContentElements","contentElements","scrollContainer","deactivateTab","_scrollPrevButton","_scrollNextButton","referenceTab","referenceContent","fromIndex","newTabsCreated","_moveUrlItem","_removeUrlItem","_endItem","_appendUrlItem","_itemClick","oldFocusedTab","_elementId","wrapperId","tabStripID","endItem","wr","rtl","wrapperOffsetWidth","tabGroupScrollWidth","scrollPrevButton","scrollNextButton","_scrollableAllowed","_nowScrollingTabs","mouseDown","mouseUp","isRtlScrollDirection","_scrollTabsByDelta","tabGroupWidth","scrLeft","activeItem","activeTab","isInitialUpdate","tabId","currentContent","tabStrip","LI","LITERAL","HOUR","ZONE","WEEKDAY","QUARTER","DATE_FIELD_MAP","Q","E","H","K","X","z","Z","NAME_TYPES","standAlone","quarter","era","MODERN_RENDERING_TEMPLATE","NEW_RENDERING_FOOTER","HIGHLIGHTCONTAINER","TimeView","_dates","timeView","_timeViewID","_heightHandler","dst","midnight","noon","lastTimeOption","_createScrollList","_createClassicRenderingList","templateOptions","mainSize","buttonSize","_nowClickHandler","_cancelClickHandler","_setClickHandler","_mouseOverHandler","_scrollerKeyDownHandler","lists","getItemHeight","_focusList","_scrollTop","listParent","_updateTitle","applyValue","is12hourFormat","includes","indexAttr","hoursList","minutessList","secondsList","designatorList","_internalScroll","_scrollListToPosition","dataBind","_html","mergeDateAndTime","msLastTime","msInterval","useValueToRender","msStart","_createListContent","splitDateFormat","getDatesInRange","_showAllHiddenItems","_updateListBottomOffset","listHeight","bottomOffset","_updateHoursRange","minHours","_minHours","maxHours","_maxHours","useMax","useMin","selectedDesignator","_findSelectedValue","_validateMin","_validateMax","_updateMinutesRange","minutesList","minMinutes","_minMinutes","maxMinutes","_maxMinutes","selectedHour","_updateSecondsRange","minSeconds","_minSeconds","maxSeconds","selectedMinutes","_updateDesignatorRange","_updateRanges","specifiedRange","_currentlySelected","validateDate","_maxSeconds","addTranslate","topOffset","-ms-transform","_itemClickHandler","_listScrollHandler","_scrollingTimeout","_updateCurrentlySelected","selectedSeconds","firstOccurence","maxSet","_literalTemplate","_itemTemplate","shouldPad","hour12","scrollIntoViewIfNeeded","innerText","_distinctSelection","selectionIndex","timeDiv","TimePicker","_specifiedRange","millisecond","datePattern","addLiteral","lastPart","isHour12","dateNameType","formatLength","nameType","startsWith","searchString","subStr","specifier","patternLength","centerIfNeeded","makeRange","coverRange","makePoint","absolute","pt","offsetLeft","extent","clientLeft","clientTop","ARIA_OWNS","dateViewParams","timeViewParams","SINGLE_POPUP_TEMPLATE","DateTimePicker","singlePopup","_views","_icons","_midnight","_calculateMidnight","timeFormat","dateButtonText","timeButtonText","_timeIcon","dateIcon","timeIcon","_switchToTimeView","_switchToDateView","secondView","timeViewOptions","minDateEqual","maxDateEqual","rebind","isDateViewVisible","_applyDateValue","_toggleIcons","_applyTimeValue","_timeSelected","adjustedDate","icons","_groupChangeClick","pxUnitsRegex","LAYOUTCHANGE","PANE","KPANE","PANECLASS","ARIA_VALUEMIN","ARIA_VALUEMAX","ARIA_ORIENTATION","isPercentageSize","isPixelSize","isFluid","calculateSize","panePropertyAccessor","triggersResize","paneConfig","splitter","Splitter","_dimension","_keys","decrease","increase","_resizeStep","_initPanes","PaneResizing","triggerHandler","_addOverlays","_panes","_removeOverlays","_togglePane","_detachEvents","panes","navigationKeys","isResizing","_triggerAction","panesConfig","_initPane","arrowType","_updateSplitBar","splitbar","previousPane","nextPane","previousPaneEl","catIconIf","iconType","condition","prevCollapsible","prevCollapsed","collapsed","nextCollapsible","nextCollapsed","previousPaneId","_updateSplitBars","_removeSplitBars","_resetAriaValueNow","splitBars","panesSizes","valueNow","joinDimension","splitBarsCount","sizingProperty","totalSize","sizedPanesWidth","sizedPanesCount","freeSizedPanes","collapsedSize","freeSizePanesCount","freeSizePaneWidth","alternateSizingProperty","positioningProperty","sizingDomProperty","lastNonCollapsedPane","_addPane","paneElement","referencePane","verticalDefaults","mousePositioningProperty","horizontalDefaults","_resizable","_createHint","resizeend","previousPaneConfig","nextPaneConfig","prevBoundary","nextBoundary","toPx","prevMinSize","prevMaxSize","nextMinSize","nextMaxSize","ghostPosition","previousPaneNewSize","nextPaneNewSize","fluidPanesCount","KDIALOG","KWINDOW","KICONCLOSE","KCONTENTCLASS","KCONTENTSELECTOR","KSCROLL","KTITLELESS","KDIALOGTITLE","KDIALOGTITLEBAR","KBUTTONGROUP","KALERT","KCONFIRM","KPROMPT","KTEXTBOX","KOVERLAY","INITOPEN","TOUCHMOVE","DATADOCOVERFLOWRULE","DATAHTMLTAPYRULE","okText","promptInput","overlaySelector","constrain","buttonKeyTrigger","DialogBase","_init","_centerCallback","_center","wrapperTemplate","_createDialog","_defaultFocus","_dimensions","_tabKeyTrap","_triggerOpen","sizeClass","actions","_createActionbar","_closable","_enableDocumentScrolling","_overlay","_setElementMaxHeight","_setElementHeight","elementMaxHeight","_uiHeight","_applyScrollClassName","hasScroll","actionbar","actionbarHeight","titlebar","titlebarHeight","overlay","_waiAriaOverlay","_removeWaiAriaOverlay","preventScroll","_stopDocumentScrolling","_overlayedNodes","jthis","hiddenValue","_closeClick","_closeKeyHandler","closable","titleId","titlebarActions","closeAction","isStretchedLayout","buttonLayout","_addButtons","actionClick","_actionClick","actionKeyHandler","_actionKeyHandler","_mergeTextWithOptions","closeBtn","actionButtons","_runActionBtn","preventClose","toFront","_triggerInitOpen","_focusDialog","showOptions","_animationOptions","otherModalsVisible","_modals","Fade","overlayFx","fadeIn","_openAnimationEnd","basicAnimation","_initOpenTriggered","originalZIndex","windowObject","zIndexNew","systemTriggered","_stopCenterOnResize","hideOptions","_removeOverlay","_closeAnimationEnd","_centerOnResize","documentWindow","newLeft","newTop","_trackResize","modals","hideOverlay","_object","$body","_storeOverflowRule","$html","_touchStart","passive","_touchMove","$target","upScroll","preventYScroll","_restoreOverflowRule","$element","_isOverflowStored","overflowRule","lastModal","zStack","encodedHtml","Dialog","PopupBox","alertWrapper","_ensureContentId","_ariaDescribedBy","_initFocus","_chooseEntryFocus","Alert","kendoAlert","alert","Confirm","kendoConfirm","confirmDialog","confirm","Prompt","_createPrompt","promptContainer","promptInputContainer","kendoPrompt","promptDialog","prompt","MODAL_NS","KWINDOWTITLE","KWINDOWTITLEBAR","KWINDOWCONTENT","KDIALOGCONTENT","KWINDOWRESIZEHANDLES","KHOVERSTATE","KFOCUSEDSTATE","MAXIMIZEDSTATE","INLINE_FLEX","CURSOR","REFRESH","MINIMIZE","MAXIMIZE","RESIZESTART","RESTORE","KENDOKEYDOWN","MINIMIZE_MAXIMIZE","KPIN","KUNPIN","PIN_UNPIN","TITLEBAR_BUTTONS","REFRESHICON","WINDOWEVENTSHANDLED","zero","toInt","normalizedValue","executableScript","getPosition","parentOverflowX","parentOverflowY","Window","windowContent","windowFrame","globalWindow","suppressActions","_createWindow","minTop","minLeft","maxTop","maxLeft","_buttonEnter","_buttonLeave","_windowActionHandler","_keydownContent","windowInstance","aria-labelledby","_onDocumentResize","contentBoxSizing","lrBorderWidth","tbBorderWidth","_isPinned","_updateBoundaries","containmentTop","containmentLeft","toggleMaximization","resizeHandle","WindowResizing","dragging","WindowDragging","_actions","windowSpecificCommands","doc","cachedOptions","_containerScrollTop","_containerScrollLeft","fade","autoFocus","isMaximized","isMinimized","newWidth","newHeight","w","unpin","maximize","minimize","_actionForIcon","k-i-close","k-i-window-maximize","k-i-window-minimize","k-i-window-restore","k-i-refresh","k-i-pin","k-i-unpin","windowElements","_scrollIsAppended","titleBar","titleElement","containmentContext","_activate","suppressAnimation","defaultPrevented","_deactivate","_actionable","_shouldFocus","avoidFocus","currentWindow","openAnimation","windowTop","restoreOptions","shouldRestrictTop","_sizingAction","actionId","initOptions","contentFrame","_triggerRefresh","_ajaxComplete","_loadingIconTimeout","_ajaxError","_ajaxSuccess","_showLoading","contentHtml","iframeSrcAttributes","_preventDragging","addOverlay","removeOverlay","elementPadding","initialPosition","resizeDirection","initialSize","containerOffset","hasMargin","wrapperPosition","relativeElMarginLeft","relativeElMarginTop","_relativeElMarginLeft","_relativeElMarginTop","leftRtlOffset","scrollOffset","windowBottom","windowRight","newWindowTop","initialWindowPosition","initialPointerPosition","startPosition","_finishDrag","UI_OVERLAY","BEFORE_SHOW","AFTER_SHOW","BEFORE_HIDE","initPopOvers","popovers","preventScrollIfNotInput","_scroller","_model","stretch","scroller","initWidgets","$destroy","inited","_invokeNgController","_padIfNativeScrolling","isAndroid","skin","isAndroidForced","hasPlatformIndependentSkin","topContainer","bottomContainer","scrollerContent","idAttrValue","controller","$apply","_callController","$scope","platform","previousView","errorMessage","rootNeeded","_setupLayouts","showClosure","serverNavigation","_loadView","modalViews","_getLayout","_xhr","_xhrComplete","CAPTURE_EVENTS","captureEvents","_attachCapture","changeMessage","transitionDone","EXTERNAL","DUMMY_HREF","SKIP_TRANSITION_ON_BACK_BUTTON","WIDGET_RELS","historyCallback","viewEngine","_historyNavigate","_historyReplace","closeActiveDialogs","viewShow","loadStart","loadComplete","sameViewRequested","viewTypeDetermined","_setPortraitWidth","_setupAppLinks","dialogs","navigateToInitial","portraitWidth","bindToRouter","router","attrUrl","hideLoading","showLoading","changeLoadingMessage","linkRoles","pressedButtonSelector","buttonSelectors","_mouseup","_appLinkClick","rel","delayedTouchEnd","openFor","paneContainer","ARROW","OVERLAY","DIRECTION_CLASSES","DIRECTIONS","ANIMATION","containerPopup","popupOptions","PopOver","initialOpen","SHIM","Shim","app","osname","ioswp","bb","shim","_hide","BEFORE_OPEN","WRAP","ModalView","_shim","AXIS","SWIPE_TO_OPEN","AFTER_HIDE","NULL_VIEW","Drawer","drawer","_viewShow","_attachTransition","swipeToOpen","leftPositioned","swipeToOpenViews","_moveViewTo","visibleOnCurrentView","_currentViewIncludedIn","_setAsCurrent","canMoveLeft","canMoveRight","leftSwipe","newPosition","limitedPosition","pastHalf","velocityThreshold","shouldShow","EXPANED_PANE_SHIM","SplitView","_style","_paramsHistory","expandedPaneShim","_shimUserEvents","collapsePanes","expandPanes","DEFAULT_OS","BERRYPHONEGAP","FONT_SIZE_COEF","CHROME","BROKEN_WEBVIEW_RESIZE","INITIALLY_HORIZONTAL","MOBILE_PLATFORMS","ios7","viewportTemplate","usedWithBlock","systemMeta","clipTemplate","ENABLE_CLIP","iconMeta","HIDEBAR","SUPPORT_SWIPE_TO_GO_BACK","HISTORY_TRANSITION","BARCOMPENSATION","STATUS_BAR_HEIGHT","SCREEN","HEAD","osCssClass","variant","setDefaultPlatform","statusBarStyle","wp8Background","noVariantSet","isOrientationHorizontal","getOrientationClass","setMinimumHeight","applyViewportHeight","Application","bootstrap","_setupPlatform","_attachMeta","_setupElementClass","_attachHideBarHandlers","paneOptions","startHistory","updateDocumentTitle","_setupDocumentTitle","_startHistory","hideAddressBar","browserHistory","historyTransition","retina","refreshBackgroundColorProxy","_resizeToScreenHeight","includeStatusBar","_clearExistingMeta","hideBar","defaultTitle","_hideBar","BUTTONS","CONTEXT_DATA","cancelTemplate","ActionSheet","ShimClass","_shimHideProxy","actionData","_shimHide","ANDROID3UP","highlightButton","highlight","deactivateTimeoutID","createBadge","useTap","clickOn","_userEvents","_timeoutDeactivate","badgeElement","iconSpan","BackButton","DetailButton","DISABLE","_button","selectOn","buttongroup","COLLAPSIBLE","INSET","HEADER_WRAPPER","CONTENT_WRAPPER","COLLAPSED","EXPANDED","ANIMATED","EXAPND","Collapsible","_buildHeader","inset","collapseIcon","expandIcon","iconPosition","instant","_getContentHeight","isCollapsed","ITEM_SELECTOR","HIGHLIGHT_SELECTOR","GROUP_CLASS","ACTIVE_CLASS","GROUP_WRAPPER","GROUP_TEMPLATE","SEARCH_TEMPLATE","STYLED","ITEM_CHANGE","whitespaceRegExp","buttonRegExp","whitespace","TEXT_NODE","addIcon","querySelector","enhanceItem","enhanceLinkItem","itemAndDetailButtons","otherNodes","enhanceCheckBoxItem","putAt","HeaderFixer","_shouldFixHeaders","headerFixer","cacheHeaders","_cacheHeaders","_scrollHandler","_fixHeader","fixedHeaders","headerPair","currentHeader","DEFAULT_PULL_PARAMETERS","RefreshHandler","pullParameters","pull","_pulled","endReached","itemConstructor","prevItem","below","totalHeight","averageItemHeight","remainingItemsCount","batchUpdate","initialOffset","lastDirection","above","nextIndex","lastTop","topBorder","bottomBorder","VirtualListViewItem","setDataItem","LOAD_ICON","VirtualListViewLoadingIndicator","_loadIcon","VirtualListViewPressToLoadMore","_loadButton","loadMoreText","loadMore","kendoMobileButton","_hideShowButton","_showLoadButton","VirtualListViewItemBinder","chromeHeight","_scrollEnd","pressToLoadMore","virtualViewSize","updateScrollerSize","updateSize","ListViewItemBinder","itemBinder","prependOnRefresh","appendOnRefresh","groupedMode","findByDataItem","adding","removing","_shouldShowLoading","insertAt","replaceGrouped","endlessScroll","ListViewFilter","filterable","autoFilter","searchInput","_oldFilter","_filterChange","_dataSourceChange","_refreshInput","appliedFilters","_applyFilter","scrollTreshold","scrollThreshold","_headerFixer","_itemsCache","_itemBinder","_pullToRefreshHandler","_enhanceItems","emptyDataSource","_scrollerInstance","triggerChange","replaceItem","newItem","_dim","_highlight","plainItem","dataIDAttribute","templateProxy","groupTemplateProxy","_headerTemplate","buttonElement","_styleGroups","rootItems","grouped","enhanced","createContainer","toggleTitle","centerElement","noTitle","showTitle","NavBar","leftElement","rightElement","CHANGING","CURRENT_PAGE_CLASS","VIRTUAL_PAGE_CLASS","CLEANUP","VIRTUAL_PAGE_COUNT","LEFT_PAGE","CETER_PAGE","RIGHT_PAGE","LEFT_SWIPE","NUDGE","RIGHT_SWIPE","scrollView","_changeProxy","_refreshProxy","pageHTML","pageCount","ScrollViewPager","DRAG_START","DRAG_END","ElasticPane","updateDimension","transitionTo","ScrollViewContent","ScrollViewElasticPane","_getPages","contentHeight","enablePager","pagerOverlay","paneMoved","swipeType","bounce","approx","snap","nextPage","minSnap","maxSnap","currentPage","updatePage","forcePageUpdate","resizeTo","pageElements","containerHeight","_paged","VirtualScrollViewContent","_initPages","_buffer","_pendingPageRefresh","_pendingWidgetRefresh","_resetPages","_resetProxy","_endReachedProxy","emptyTemplate","emptyTemplateProxy","Page","setWidth","_repositionPages","_updatePagesContent","thresholdPassed","isEndReached","_cancelMove","_moveBackward","_moveForward","setPageContent","_resetMovable","_onResize","_onReset","_onEndReached","theContent","ScrollView","VirtualPage","transitionEnd","dragStart","dragEnd","_syncWithContent","mobileContainer","viewInit","bounceVelocityThreshold","prevPage","_dragStart","_transitionEnd","SWITCHON","SWITCHOFF","MARGINLEFT","ACTIVE_STATE","DISABLED_STATE","RESOLVEDPREFIX","TRANSFORMSTYLE","limitValue","minLimit","maxLimit","SWITCH_MARKUP","Switch","onLabel","offLabel","background","snapPoint","_animateBackground","handleWidth","ACTIVE_STATE_CLASS","_buildButton","switchTo","_setActiveItem","switchByFullUrl","currentItem","tabstrip","defer","module","$injector","$parse","$timeout","$defaultCompile","$log","withoutTimeout","OPTIONS_NOW","createDataSource","TreeList","TreeView","Scheduler","PivotGrid","PivotConfigurator","toDataSource","$eval","ds","$watch","mew","kendoWidgetInstance","ignoredAttributes","kDataSource","kOptions","kRebind","kNgModel","kNgDelay","ignoredOwnProperties","createWidget","attrs","origAttr","controllers","delayValue","ngModel","ngForm","ctor","parsed","unresolved","unwatch","createIt","$root","unregister","$attr","exposeWidget","$emit","destroyRegister","destroyWidgetOnScopeDestroy","setupRebind","kNgDisabled","bindToKNgDisabled","kNgReadonly","isReadonly","bindToKNgReadonly","bindToKNgModel","bindToNgModel","propagateClassToWidgetWrapper","optionsPath","defaultOptions","addOption","scopeValue","widgetEvents","dataName","eventKey","optionName","kendoWidget","formValue","formRegExp","isForm","haveChangeOnElement","viewRender","$viewValue","$modelValue","$render","onChange","formPristine","$pristine","$setViewValue","$setPristine","digest","currentVal","$isEmpty","DateRangePicker","rangePickerModels","rangePickerStartModel","rangePickerEndModel","_startDateInput","_endDateInput","updating","valueIsCollection","currentValueLength","$angular_setLogicValue","watchHandler","$watchCollection","changeHandler","$setDirty","$angular_getLogicValue","deregister","$on","MutationObserver","prevClassList","mo","changes","suspend","chg","currClassList","cls","resume","disconnect","observe","rebindAttr","_cleanUp","WIDGET_TEMPLATE_OPTIONS","templateContents","isUpload","setTemplate","factory","kendoRenderedTimeout","RENDERED","restrict","require","$attrs","roleattr","TAGNAMES","Editor","Upload","MobileButton","MobileBackButton","MobileDetailButton","MobileListView","SKIP_SHORTCUTS","MANUAL_DIRECTIVES","directive","createDirectives","klass","make","directiveName","directiveFactory","shortcut","dashed","scopeField","kScopeField","isDigesting","destroyScope","encode","encOpen","encClose","pendingPatches","defadvice","origMethod","entry","arg","$angular_scope","$angular_init","itemScope","$$kendoScope","vars","$new","$angular_makeEventHandler","kendoEvent","locals","elems","colIdx","_checkBoxSelection","angularDataItem","templateSettings","col","terminal","pre","_instance","post","kAttr","priority","TreeMap","MobileScrollView","Grid","templateDirectives","templateName"],"mappings":"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,EAAYl6N,OAC7Bo9M,EAAa8c,EAAYprN,QAG7B,IAAKsuM,EACDqb,EAAK71I,KAAK0pB,EAAW,4EAA8Ev6E,EAAQ9uB,KAAK,WAC7G,CACHm6M,EAAWj5M,SAASg/N,EAAch/N,GAClC6L,EAAQwgB,kBAvCpC,GA54CJ,CA87CGhzB,OAAOE,MAAMH,OAAQC,OAAOotB,SAExBptB,OAAOE,QA78Cd,CA+8CoB,mBAAVV,QAAwBA,OAAOksC,IAAMlsC,OAAS,SAASmsC,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAapsC,QACTA,OAAO,gBAAgB,CACnB,eACA,iBACA,gBACA,eACA,wBACA,aACA,qBACA,mBACA,eACA,uBACA,iBACA,oBACA,qBACA,sBACA,0BACA,oBACA,mBACA,qBACA,gBACA,iBACA,2BACA,gBACA,gBACA,uBACA,kBACA,kBACA,eACA,mBACA,oBACA,qBACA,uBACA,uBACA,mBACA,sBACA,sBACA,mBACA,kBACA,iBACA,kBACA,mBACA,yBACA,wBACA,eACA,mBACA,mBACA,sBACA,0BACA,mBACA,qBACA,yBACA,iBACA,mBACA,iBACA,iBACA,sBACA,yBACA,wBACA,0BACA,sBACA,sBACA,2BACA,wBACA,2BACA,sBACA,6BACA,6BACA,wBACA,6BACA,6BACA,0BACA,wBACA,4BACA,wBACA,0BACA,mBAEL,wBAEC,OAAOQ,OAAOE,QAhFlB,CAiFoB,mBAAVV,QAAwBA,OAAOksC,IAAMlsC,OAAS,SAASmsC,EAAIC,EAAIC,IAAMA,GAAMD"}